-- MySQL dump 10.13  Distrib 5.6.37, for Linux (x86_64)
--
-- Host: localhost    Database: hanzhihongcn
-- ------------------------------------------------------
-- Server version	5.6.37

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `admin`
--

DROP TABLE IF EXISTS `admin`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `admin` (
  `autoid` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `username` varchar(16) DEFAULT NULL,
  `passwd` varchar(50) DEFAULT NULL,
  `lastlogin` datetime DEFAULT NULL,
  `remark` longtext,
  `ip` varchar(20) DEFAULT NULL,
  PRIMARY KEY (`autoid`)
) ENGINE=InnoDB AUTO_INCREMENT=10 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `admin`
--

LOCK TABLES `admin` WRITE;
/*!40000 ALTER TABLE `admin` DISABLE KEYS */;
INSERT INTO `admin` VALUES (1,'hzhsohn','be62cfa3d739abb61bc0','2017-09-21 22:46:40','yeah。。。','27.44.26.5'),(9,'ydm','6e70935368a1efb10e37','2017-04-06 09:48:19','梅儿','111.148.3.21');
/*!40000 ALTER TABLE `admin` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `tbnote`
--

DROP TABLE IF EXISTS `tbnote`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `tbnote` (
  `autoid` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `ip` varchar(50) NOT NULL,
  `typetwo_id` int(11) NOT NULL,
  `title` varchar(255) NOT NULL,
  `content` text NOT NULL,
  `time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `uptime` datetime NOT NULL,
  PRIMARY KEY (`autoid`)
) ENGINE=InnoDB AUTO_INCREMENT=864 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `tbnote`
--

LOCK TABLES `tbnote` WRITE;
/*!40000 ALTER TABLE `tbnote` DISABLE KEYS */;
INSERT INTO `tbnote` VALUES (27,'192.168.3.1',1,'webview网页显示','<pre class=\"brush:cpp;toolbar:false\">void&nbsp;StoreDlg::DoDataExchange(CDataExchange*&nbsp;pDX)\r\n{\r\n&nbsp;CDialogEx::DoDataExchange(pDX);\r\n&nbsp;\r\n&nbsp;//CWebView&nbsp;_web;\r\n&nbsp;CRect&nbsp;rc;\r\n&nbsp;this-&gt;GetClientRect(&amp;rc);\r\n&nbsp;_web.Create(NULL,NULL,WS_CHILD|WS_VISIBLE,CRect(0,0,rc.Width(),rc.Height()),this,7000,NULL);\r\n&nbsp;_web.Navigate2(_T(&quot;http://www.hanzhihong.cn&quot;));\r\n}</pre><p style=\"padding: 0px; line-height: 24px; font-family: verdana, sans-serif; font-size: 14px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;</p><p style=\"padding: 0px; line-height: 24px; font-family: verdana, sans-serif; font-size: 14px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"color: rgb(255, 0, 0);\"><strong>/////////////////////////////////////////////////////////////////////////////</strong></span></p><p style=\"padding: 0px; line-height: 24px; font-family: verdana, sans-serif; font-size: 14px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"color: rgb(255, 0, 0);\"><strong>//WebView.h</strong></span></p><pre class=\"brush:cpp;toolbar:false\">#pragma&nbsp;once\r\n#ifdef&nbsp;_WIN32_WCE\r\n#error&nbsp;&quot;Windows&nbsp;CE&nbsp;不支持&nbsp;CHtmlView。&quot;\r\n#endif\r\n//&nbsp;CBrowser&nbsp;Html&nbsp;视图\r\n#include&nbsp;&lt;afxhtml.h&gt;\r\nclass&nbsp;CWebView&nbsp;:&nbsp;public&nbsp;CHtmlView\r\n{\r\n&nbsp;DECLARE_DYNCREATE(CWebView)\r\npublic:\r\n&nbsp;CWebView();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;动态创建所使用的受保护的构造函数\r\n&nbsp;virtual&nbsp;~CWebView();\r\npublic:\r\n#ifdef&nbsp;_DEBUG\r\n&nbsp;virtual&nbsp;void&nbsp;AssertValid()&nbsp;const;\r\n&nbsp;virtual&nbsp;void&nbsp;Dump(CDumpContext&amp;&nbsp;dc)&nbsp;const;\r\n#endif\r\nprotected:\r\n&nbsp;virtual&nbsp;void&nbsp;DoDataExchange(CDataExchange*&nbsp;pDX);&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;DDX/DDV&nbsp;支持\r\n&nbsp;DECLARE_MESSAGE_MAP()\r\n};</pre><p style=\"padding: 0px; line-height: 24px; font-family: verdana, sans-serif; font-size: 14px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;</p><p style=\"padding: 0px; line-height: 24px; font-family: verdana, sans-serif; font-size: 14px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;</p><p style=\"padding: 0px; line-height: 24px; font-family: verdana, sans-serif; font-size: 14px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"color: rgb(255, 0, 0);\"><strong>/////////////////////////////////////////////////////////////////////////////</strong></span></p><p style=\"padding: 0px; line-height: 24px; font-family: verdana, sans-serif; font-size: 14px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"color: rgb(255, 0, 0);\"><strong>//WebView.cpp</strong></span></p><pre class=\"brush:cpp;toolbar:false\">#include&nbsp;&quot;stdafx.h&quot;\r\n#include&nbsp;&quot;WebView.h&quot;\r\nIMPLEMENT_DYNCREATE(CWebView,&nbsp;CHtmlView)\r\nCWebView::CWebView()\r\n{\r\n}\r\nCWebView::~CWebView()\r\n{\r\n}\r\nvoid&nbsp;CWebView::DoDataExchange(CDataExchange*&nbsp;pDX)\r\n{\r\n&nbsp;CHtmlView::DoDataExchange(pDX);\r\n}\r\nBEGIN_MESSAGE_MAP(CWebView,&nbsp;CHtmlView)\r\nEND_MESSAGE_MAP()\r\n\r\n//&nbsp;CBrowser&nbsp;诊断\r\n#ifdef&nbsp;_DEBUG\r\nvoid&nbsp;CWebView::AssertValid()&nbsp;const\r\n{\r\n&nbsp;CHtmlView::AssertValid();\r\n}\r\nvoid&nbsp;CWebView::Dump(CDumpContext&amp;&nbsp;dc)&nbsp;const\r\n{\r\n&nbsp;CHtmlView::Dump(dc);\r\n}\r\n#endif&nbsp;//_DEBUG\r\n//&nbsp;CBrowser&nbsp;消息处理程序</pre><p><br/></p>','2013-12-05 01:58:04','2016-05-10 00:17:41'),(34,'113.78.12.30',1,'CListCtrl删除选中行','<p style=&quot;padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);&quot;>////////////////////////////////</p><p style=&quot;padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);&quot;>根据索引号删除</p><p style=&quot;padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);&quot;>_lstLog.DeleteString(0);</p><p style=&quot;padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);&quot;> </p><p style=&quot;padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);&quot;> </p><p style=&quot;padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);&quot;>////////////////////////////////</p><p style=&quot;padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);&quot;>CListCtrl选中行有两种属性情况，如果设置了Single Selection为TRUE，则只能单选，否则为多选(默认)。</p><p style=&quot;padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);&quot;>方法一：int CListCtrl::GetSelectionMark();返回值：返回选中索引号，否则返回-1说明：这个函数可以处理单行的情况，但是有一个缺点，它会保留你上次选中的项,所以当你单击空白的地方时,还会返回上次选中的项。因此在使用快捷键实现删除操作时需要注意这个情况，一般可以配合UINT GetItemState(int nItem,UINT nMask) const;来判断。单行：int nItem = m_listCtrl.GetSelectionMark();m_listCtrl.DeleteItem(nItem);</p><p style=&quot;padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);&quot;> </p><p style=&quot;padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);&quot;> </p><p style=&quot;padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);&quot;> </p><p style=&quot;padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);&quot;>方法二：说明：这个可以处理单行和多行(连续)的情况POSITION pos = m_listCtrl.GetFirstSelectedItemPosition();if (pos == NULL){  TRACE(_T(&quot;No items were selected!/n&quot;));}else{  while (pos)  {     int nItem = m_listCtrl.GetNextSelectedItem(pos);     m_listCtrl.DeleteItem(nItem);     // you could do your own processing on nItem here   }}</p><p style=&quot;padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);&quot;> </p><p style=&quot;padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);&quot;> </p><p style=&quot;padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);&quot;>方法三：说明：可以处理单行和多行的情况，个人一般用这种方法while(m_listCtrl.GetNextItem(-1,LVNI_ALL | LVNI_SELECTED) != -1){    int nItem = m_listCtrl.GetNextItem(-1,LVNI_ALL | LVNI_SELECTED);    m_listCtrl.DeleteItem(nItem);}</p><p style=&quot;padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);&quot;> </p><p style=&quot;padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);&quot;> </p><p style=&quot;padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);&quot;> </p><p style=&quot;padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);&quot;>方法四：说明：可以处理单行和多行的情况for(int i = 0; i<m_listCtrl.GetItemCount(); i++){    if(m_listCtrl.GetItemState(i, LVNI_ALL | LVNI_SELECTED) == LVIS_SELECTED)    m_listCtrl.DeleteItem(i);}</p><p></p>','2013-12-05 02:00:33','2013-12-05 10:00:33'),(35,'59.36.87.130',1,'CComboBox获取显示第几行数据','<p style=\"&quot;padding:\" margin-top:=\"\" margin-bottom:=\"\" font-family:=\"\" font-size:=\"\" line-height:=\"\" white-space:=\"\" background-color:=\"\">标准方式</p><p style=\"&quot;padding:\" margin-top:=\"\" margin-bottom:=\"\" font-family:=\"\" font-size:=\"\" line-height:=\"\" white-space:=\"\" background-color:=\"\">cbPort.SetCurSel(0);</p><p style=\"&quot;padding:\" margin-top:=\"\" margin-bottom:=\"\" font-family:=\"\" font-size:=\"\" line-height:=\"\" white-space:=\"\" background-color:=\"\"><br/></p><p style=\"&quot;padding:\" margin-top:=\"\" margin-bottom:=\"\" font-family:=\"\" font-size:=\"\" line-height:=\"\" white-space:=\"\" background-color:=\"\"><br/></p><p style=\"&quot;padding:\" margin-top:=\"\" margin-bottom:=\"\" font-family:=\"\" font-size:=\"\" line-height:=\"\" white-space:=\"\" background-color:=\"\">文本附值</p><p style=\"&quot;padding:\" margin-top:=\"\" margin-bottom:=\"\" font-family:=\"\" font-size:=\"\" line-height:=\"\" white-space:=\"\" background-color:=\"\">CString str;</p><p style=\"&quot;padding:\" margin-top:=\"\" margin-bottom:=\"\" font-family:=\"\" font-size:=\"\" line-height:=\"\" white-space:=\"\" background-color:=\"\">cbPort.GetLBText(0,str);</p><p style=\"&quot;padding:\" margin-top:=\"\" margin-bottom:=\"\" font-family:=\"\" font-size:=\"\" line-height:=\"\" white-space:=\"\" background-color:=\"\">cbPort.SetWindowText(str);</p><p><br/></p>','2013-12-05 02:04:03','2014-03-24 11:24:59'),(36,'183.63.215.55',1,'定时器使用','<p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">//方法一</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">ON_WM_TIMER() //事件</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">void CSerialDebugDlg::OnTimer(UINT nIDEvent){&nbsp;</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">TRACE(_T(&quot;timer=%d&quot;),nIDEvent);&nbsp;</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">CWnd::OnTimer(nIDEvent);</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">}</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">#define TIMER1 &nbsp;1</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">SetTimer(TIMER1,1000,NULL);//打开定时器1&nbsp;</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">KillTimer(TIMER1); &nbsp; &nbsp; &nbsp; &nbsp;//关闭定时器1。</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">////////////////////////////////////////////////////////////////////////////////////</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">//方法二</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">void CALLBACK TimerProc(HWND hwnd,UINT uMsg,UINT idEvent,DWORD dwTime )</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">{ CSerialDebugDlg * pCWnd; pCWnd=(CSerialDebugDlg*)CWnd::FromHandle(hwnd); pCWnd-&gt;g_TxtRecv.SetWindowText(_T(&quot;sdfsfsdf&quot;)); TRACE(&quot;Timer is running!&quot;);//定时器时间到，强出一对话框，表明定时器已经运行。</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">}</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">#define TIMER1 &nbsp;1 SetTimer(TIMER1,1000,(TIMERPROC)TimerProc);//用回调函数处理，此时对话框的消息处理函数不再处理。 KillTimer(TIMER1); &nbsp; &nbsp; &nbsp; &nbsp;//关闭定时器1。</p><p><br/></p>','2013-12-05 02:04:30','2013-12-20 17:33:23'),(37,'192.168.2.200',1,'新建,移动,关闭MFC窗体','<pre class=\"brush:cpp;toolbar:false\">直接打开弹出窗体,总在最前,不能操作其它窗体\r\nCCloudkonDebugDlg&nbsp;dlg;\r\ndlg.DoModal();\r\n\r\n\r\n//移动窗体函数\r\nCRect&nbsp;CSerialDebugDlg::MoveFrm(int&nbsp;top,int&nbsp;left,CRect&nbsp;winRect)\r\n{&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;winRect.right=left+(winRect.right-winRect.left);\r\n&nbsp;&nbsp;&nbsp;&nbsp;winRect.bottom=top+(winRect.bottom-winRect.top);\r\n&nbsp;&nbsp;&nbsp;&nbsp;winRect.left=left;\r\n&nbsp;&nbsp;&nbsp;&nbsp;winRect.top=top;\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;winRect;\r\n}</pre><pre class=\"brush:cpp;toolbar:false\">//新建窗体\r\nvoid&nbsp;CSerialDebugDlg::OnBnClickedButton5()\r\n{&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CRect&nbsp;rx;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CCloudkonDebugDlg*&nbsp;frm=new&nbsp;CCloudkonDebugDlg;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;frm-&gt;Create(IDD_DIALOG1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;frm-&gt;GetWindowRect(&amp;rx);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;rx=MoveFrm(100,100,rx);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;frm-&gt;MoveWindow(&amp;rx);\r\n&nbsp;&nbsp;&nbsp;&nbsp;frm-&gt;ShowWindow(1);\r\n}</pre><p style=\"&quot;padding:\" margin-top:=\"\" margin-bottom:=\"\" font-family:=\"\" font-size:=\"\" line-height:=\"\" white-space:=\"\" background-color:=\"\"><br/></p><p style=\"&quot;padding:\" margin-top:=\"\" margin-bottom:=\"\" font-family:=\"\" font-size:=\"\" line-height:=\"\" white-space:=\"\" background-color:=\"\">//关闭已打开的窗体//////////////////////</p><pre class=\"brush:cpp;toolbar:false\">CCloudkonDebugDlg::~CCloudkonDebugDlg()\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;TRACE(&quot;dealloc&nbsp;CCloudkonDebugDlg[#ue_pole#n]&quot;);\r\n}\r\nvoid&nbsp;CCloudkonDebugDlg::OnBnClickedCancel()\r\n{&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//关闭新建窗体&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CDialogEx::OnCancel();\r\n&nbsp;&nbsp;&nbsp;&nbsp;CDialogEx::DestroyWindow();&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;delete&nbsp;this;\r\n}</pre>','2013-12-05 02:04:58','2016-05-10 12:48:32'),(38,'113.78.12.30',1,'CWnd与HWND的区别与转换','<p style=&quot;padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);&quot;>一、区别HWND是句柄，CWnd是<a target=&quot;_blank&quot; style=&quot;text-decoration: underline; color: rgb(7, 87, 140); cursor: pointer; outline: none;&quot;></a>MFC<a target=&quot;_blank&quot; style=&quot;text-decoration: underline; color: rgb(7, 87, 140); cursor: pointer; outline: none;&quot;></a>窗体类,CWnd中包含HWND句柄成员对象是m_hWnd.HWND是Windows系统中对所有窗口的一种标识，即窗口句柄。这是一个SDK概念。   CWnd是MFC类库中所有窗口类的基类。微软在MFC中将所有窗口的通用操作都封装到了这个类中，如：ShowWindow等等，同时它也封装了窗口句柄即m_hWnd成员。</p><p><br style=&quot;font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/></p><p style=&quot;padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);&quot;>二、如何得到窗口对象指针CWnd * pCWnd1,在窗体里，直接用 this->，//this就是本窗体的窗口对象指针2,主窗体的类对象指针：AfxGetApp()->m_pMainWnd->,  //AfxGetApp()->m_pMainWnd就是主窗体的窗口对象指针3,pCWnd=GetDlgItem(ID_EDIT_NAME);//GetDlgItem 函数可以得到某个<a target=&quot;_blank&quot; style=&quot;text-decoration: underline; color: rgb(7, 87, 140); cursor: pointer; outline: none;&quot;></a>控件的窗口对象指针</p><p><br style=&quot;font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/></p><p style=&quot;padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);&quot;>三、如何得到窗口句柄 HWND Handle1,Handle=this->m_hWnd2,GetDlgItem(ID_EDIT_NAME);3，Handle=::GetDlgItem(this,IDC_STATIC_MODE); //得到本窗体内某个控件的句柄</p><p><br style=&quot;font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);&quot;/></p><p style=&quot;padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);&quot;>四、转换CWnd * pCWnd;HWND Handle;pCWnd=CWnd::FromHandle(Handle);Handle=this->GetSafeHwnd();</p><p></p>','2013-12-05 02:05:44','2013-12-05 10:05:44'),(39,'113.78.12.30',1,'CreateWindow创建控件','<p style=&quot;padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);&quot;>HWND hwnd=CreateWindow(_T(&quot;edit&quot;),_T(&quot;bt&quot;),WS_CHILD|WS_VISIBLE ,50,50,100,50,hWnd,NULL,NULL,NULL);</p><p style=&quot;padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);&quot;> </p><p style=&quot;padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);&quot;> </p><p style=&quot;padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);&quot;>edit 是文本框</p><p style=&quot;padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);&quot;>button 按钮</p><p></p>','2013-12-05 02:06:12','2013-12-05 10:06:12'),(44,'183.63.215.55',1,'去掉CHtmlView的Body边框','<p>&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0 Transitional//EN&quot;&gt; 这句很很重要</p><p>&lt;body scroll=no style=&quot;margin:0px;&nbsp;&nbsp;padding:10px;&nbsp;border:0px;&nbsp;overflow:hidden; &quot;&gt;</p><p></p>','2013-12-05 03:40:50','2013-12-05 11:40:50'),(46,'183.63.215.55',1,'RGB 绘制 到窗体上','<p>HDC liv_createMemBuf(HDC hdc, int width, int height, int bits, void** lpbuf, HBITMAP* bmp, HBITMAP* temp)<br/>{<br/>&nbsp; HDC mem_dc;<br/>&nbsp; BITMAPINFO bmp_info;<br/>&nbsp; void* buf = 0;</p><p>&nbsp; //Creating compatible DC and a bitmap to render the image<br/>&nbsp; bmp_info.bmiHeader.biSize&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = sizeof(BITMAPINFOHEADER);<br/>&nbsp; bmp_info.bmiHeader.biWidth&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = width;<br/>&nbsp; bmp_info.bmiHeader.biHeight&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = height;<br/>&nbsp; bmp_info.bmiHeader.biPlanes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = 1;<br/>&nbsp; bmp_info.bmiHeader.biBitCount&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = bits;<br/>&nbsp; bmp_info.bmiHeader.biCompression&nbsp;&nbsp;&nbsp; = BI_RGB;<br/>&nbsp; bmp_info.bmiHeader.biSizeImage&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = 0;<br/>&nbsp; bmp_info.bmiHeader.biXPelsPerMeter&nbsp; = 0;<br/>&nbsp; bmp_info.bmiHeader.biYPelsPerMeter&nbsp; = 0;<br/>&nbsp; bmp_info.bmiHeader.biClrUsed&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = 0;<br/>&nbsp; bmp_info.bmiHeader.biClrImportant&nbsp;&nbsp; = 0;<br/>&nbsp; mem_dc = CreateCompatibleDC(hdc);</p><p>&nbsp; *bmp = CreateDIBSection( mem_dc, &amp;bmp_info, DIB_RGB_COLORS, lpbuf, 0, 0 );<br/>&nbsp; *temp = (HBITMAP)SelectObject(mem_dc, *bmp);</p><p>&nbsp; return mem_dc;<br/>}</p><p>BOOL CaaDlg::OnInitDialog()<br/>{<br/>&nbsp;CDialog::OnInitDialog();</p><p>&nbsp;...</p><p>&nbsp;// TODO: 在此添加额外的初始化代码</p><p><br/>&nbsp;HBITMAP hbmp, tbmp;<br/>&nbsp;mdc = liv_createMemBuf( ::GetDC(m_hWnd), 256, 200, 32, &amp;pbuf, &amp;hbmp, &amp;tbmp );</p><p>&nbsp;// 绘制<br/>&nbsp;unsigned long *p = (unsigned long *) pbuf;<br/>&nbsp;for( int y=0; y&lt;200; y++ ){<br/>&nbsp; for( int x=0; x&lt;256; x++ ){<br/>&nbsp;&nbsp; p[ y*256+x ] = RGB( x, x, x);<br/>&nbsp; }<br/>&nbsp;}<br/>&nbsp;</p><p>&nbsp;return TRUE;&nbsp; // 除非将焦点设置到控件，否则返回 TRUE<br/>}</p><p><br/>void CaaDlg::OnPaint()<br/>{<br/>&nbsp;CPaintDC dc(this); // 用于绘制的设备上下文</p><p>...<br/>&nbsp;else<br/>&nbsp;{<br/>&nbsp; CDialog::OnPaint();</p><p>&nbsp; BitBlt( dc.m_hDC, 0, 0, 256, 200, mdc, 0, 0, SRCCOPY);<br/>&nbsp;}<br/>}</p><p></p>','2013-12-05 03:47:33','2013-12-05 11:47:33'),(47,'183.63.215.55',1,'窗体全局事件例如OnKeyDown','<p>BOOL CcarDlg::PreTranslateMessage(MSG* pMsg)&nbsp;&nbsp;&nbsp;&nbsp; <br/>{&nbsp;&nbsp; <br/>&nbsp; //&nbsp;&nbsp; TODO:&nbsp;&nbsp; Add&nbsp;&nbsp; your&nbsp;&nbsp; specialized&nbsp;&nbsp; code&nbsp;&nbsp; here&nbsp;&nbsp; and/or&nbsp;&nbsp; call&nbsp;&nbsp; the&nbsp;&nbsp; base&nbsp;&nbsp; class&nbsp;&nbsp; <br/>&nbsp;if(pMsg-&gt;message==WM_KEYDOWN)&nbsp;&nbsp; <br/>&nbsp;{</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OnFrmKeyDown(pMsg-&gt;wParam);<br/>&nbsp;&nbsp;}<br/>&nbsp;return CDialog::PreTranslateMessage(pMsg); <br/>}</p><p>&nbsp;</p><p>void OnFrmKeyDown(WPARAM nChar);</p><p></p>','2013-12-05 03:49:33','2013-12-05 11:49:33'),(48,'183.63.215.55',1,'提示选择框','<p>if(MessageBox(_T(&quot;是否退出?&quot;),_T(&quot;退出&quot;),MB_ICONQUESTION|MB_YESNO) == IDYES)&nbsp;&nbsp; <br/>&nbsp;{<br/>&nbsp;&nbsp;OnCancel();<br/>&nbsp;}&nbsp; <br/>&nbsp;else<br/>&nbsp;&nbsp;return;</p>','2013-12-05 03:49:56','2013-12-05 11:49:56'),(49,'183.63.215.55',1,'设滚动条为最下面','<p>&nbsp;//设滚动条为最下面<br/>&nbsp;int iMinPos = 0;&nbsp;&nbsp; <br/>&nbsp;int iMaxPos = 0;&nbsp;&nbsp; <br/>&nbsp;g_listMsg-&gt;GetScrollRange(SB_VERT, &amp;iMinPos, &amp;iMaxPos);<br/>&nbsp;g_listMsg-&gt;SetScrollPos(SB_VERT, iMaxPos, TRUE);</p><p>&nbsp;</p><p>最好的方法<br/>g_listMsg-&gt;PostMessage(WM_VSCROLL, SB_BOTTOM, 0); <br/></p><p></p>','2013-12-05 03:50:20','2013-12-05 11:50:20'),(50,'183.63.215.55',1,'VC对话框.cpp','<p>//打开文件</p><p>#include&nbsp;&nbsp; &lt;afxdlgs.h&gt;</p><p>&nbsp; CFileDialog dlg(TRUE,&quot;.exe&quot;,NULL,OFN_HIDEREADONLY | OFN_OVERWRITEPROMPT,&quot;执行文件(*.exe)|*.exe||&quot;);</p><p>//默认路径&nbsp; dlg.m_ofn.lpstrInitialDir=g_dirPath;<br/>&nbsp; if(dlg.DoModal()==IDOK)&nbsp;&nbsp; <br/>&nbsp;&nbsp;&nbsp;&nbsp; { <br/>&nbsp;&nbsp; CString FilePath = dlg.GetPathName();<br/>&nbsp;&nbsp; GetDlgItem(IDC_GAME_PATH)-&gt;SetWindowTextA(FilePath);<br/>&nbsp; }</p><p>&nbsp;</p><p>//打开<br/>CFileDialog&nbsp;&nbsp; dlg(&nbsp;&nbsp; FALSE,NULL,&nbsp;&nbsp;&nbsp;&nbsp; <br/>&nbsp; OFN_HIDEREADONLY&nbsp;&nbsp; |&nbsp;&nbsp; OFN_OVERWRITEPROMPT,&nbsp;&nbsp;&nbsp;&nbsp; <br/>&nbsp;&nbsp;&nbsp; &quot;JPEG(*.JPG,*.JPE),BMP(*.BMP,*.RLE),TIFF(*.TIF)|*.BMP;*.RLE;*.JPG;JPE;*.TIF;*.TIFF|BMP(*.BMP,*.RLE)|*.BMP;*.RLE|JPEG(*.JPG,*.JPE)|*.JPG;JPE|TIFF(*.TIF)|*.TIF;*.TIFF|*.*|&quot;,&nbsp;&nbsp;&nbsp;&nbsp; NULL&nbsp;&nbsp; );&nbsp;&nbsp; <br/>//&nbsp; 保&nbsp;&nbsp; 存&nbsp;&nbsp; ：&nbsp;&nbsp;&nbsp;&nbsp; <br/>&nbsp; CFileDialog&nbsp;&nbsp; dlg(TRUE,NULL,&nbsp;&nbsp;&nbsp;&nbsp; <br/>&nbsp; OFN_HIDEREADONLY&nbsp;&nbsp; |&nbsp;&nbsp; OFN_OVERWRITEPROMPT,&nbsp;&nbsp;&nbsp;&nbsp; <br/>&nbsp;&nbsp;&nbsp; &quot;JPEG(*.JPG,*.JPE),BMP(*.BMP,*.RLE),TIFF(*.TIF)|*.BMP;*.RLE;*.JPG;JPE;*.TIF;*.TIFF|BMP(*.BMP,*.RLE)|*.BMP;*.RLE|JPEG(*.JPG,*.JPE)|*.JPG;JPE|TIFF(*.TIF)|*.TIF;*.TIFF|*.*|&quot;,&nbsp;&nbsp;&nbsp;&nbsp; NULL&nbsp;&nbsp; );&nbsp;</p><p><br/>//选择目录</p><p>//头文件#include &lt;shlobj.h&gt;&nbsp;&nbsp; <br/>BROWSEINFO brinfo;char buf[255],buf2[255];<br/>&nbsp;brinfo.hwndOwner = this-&gt;m_hWnd;<br/>&nbsp;brinfo.pidlRoot = NULL;<br/>&nbsp;brinfo.pszDisplayName = buf; <br/>&nbsp;brinfo.lpszTitle = _T(&quot;请选择要更新的目录&quot;);<br/>&nbsp;brinfo.ulFlags = BIF_RETURNONLYFSDIRS | BIF_STATUSTEXT;<br/>&nbsp;brinfo.lpfn = NULL;<br/>&nbsp;brinfo.lParam = NULL;</p><p>&nbsp;LPCITEMIDLIST pidl = SHBrowseForFolder(&amp;brinfo);</p><p>&nbsp;if( pidl == NULL )<br/>&nbsp;return;</p><p>&nbsp;SHGetPathFromIDList( pidl, buf2 );<br/>&nbsp;SetDlgItemText(IDC_EDIT1, buf2);</p><p>&nbsp;///////////////////////////////默认路径</p><p>BROWSEINFO&nbsp;&nbsp; bi;&nbsp;&nbsp; <br/>ZeroMemory&nbsp;&nbsp; (&amp;bi,&nbsp;&nbsp; sizeof&nbsp;&nbsp; (bi));&nbsp;&nbsp; <br/>bi.lpfn&nbsp;&nbsp; =&nbsp;&nbsp; BrowseCallbackProc;&nbsp;&nbsp; <br/>BrowseCallbackProc是一个回调函数，其实现如下：<br/>char *m_lpszInitialPath=&quot;C:\\\\windows&quot;;<br/>int CALLBACK BrowseCallbackProc(HWND hwnd, UINT uMsg, LPARAM /*lParam*/,LPARAM lpData)&nbsp;&nbsp; <br/>{</p><p>&nbsp; if (uMsg == BFFM_INITIALIZED)&nbsp;&nbsp; <br/>&nbsp;&nbsp; if (m_lpszInitialPath != NULL)&nbsp;&nbsp;&nbsp;&nbsp; //m_lpszInitialPath&nbsp;&nbsp; 就是初始path&nbsp;&nbsp; <br/>&nbsp; SendMessage(hwnd, BFFM_SETSELECTION, (WPARAM)TRUE,(LPARAM)m_lpszInitialPath);&nbsp;&nbsp; <br/>&nbsp; return&nbsp;&nbsp; 0;&nbsp;&nbsp; <br/>} <br/></p><p></p>','2013-12-05 03:52:51','2013-12-05 11:52:51'),(51,'183.63.215.55',1,'windows托盘图标','<p>#define ID_NC 999;</p><p>#define WM_NC 32189;</p><p>void&nbsp;&nbsp; CMyDlg::OnMini()&nbsp;&nbsp;</p><p>&nbsp; {&nbsp;&nbsp;</p><p><br/>&nbsp;NOTIFYICONDATA&nbsp;&nbsp; nc;&nbsp;&nbsp; <br/>&nbsp;nc.cbSize=sizeof(NOTIFYICONDATA);<br/>&nbsp;nc.hIcon=LoadIcon(NULL,IDI_APPLICATION);&nbsp;&nbsp; <br/>&nbsp;nc.hWnd=g_hwConsole;&nbsp;&nbsp; <br/>&nbsp;_tcscpy(nc.szTip,ICON_TOOLTIP);&nbsp;&nbsp;</p><p>&nbsp;nc.uFlags=NIF_ICON | NIF_MESSAGE | NIF_TIP;&nbsp;&nbsp; <br/>&nbsp;nc.uID=ID_NC;<br/>&nbsp;nc.uCallbackMessage=NULL;&nbsp;</p><p>&nbsp;/*气球提示 BEGIN*/<br/>&nbsp;nc.uFlags|=NIF_INFO;<br/>&nbsp;_tcscpy(nc.szInfoTitle,ICON_TITLE);<br/>&nbsp;_tcscpy(nc.szInfo,ICON_TIP_INFO);<br/>&nbsp;nc.uTimeout=5000;<br/>&nbsp;nc.dwInfoFlags = NIIF_INFO;<br/>&nbsp;/*气球提示 END*/</p><p>&nbsp;Shell_NotifyIcon(NIM_ADD,&amp;nc);&nbsp;&nbsp; <br/>&nbsp;ShowWindow(false);&nbsp;&nbsp; <br/>&nbsp;::SetWindowPos(GetSafeHwnd(),HWND_NOTOPMOST,0,0,0,0,SWP_NOMOVE|SWP_NOSIZE| WS_EX_TOPMOST);</p><p>&nbsp; }&nbsp;&nbsp;</p><p>&nbsp;&nbsp;&nbsp;</p><p>&nbsp; void CMyDlg::OnSysCommand(UINT nID, LPARAM lParam)&nbsp;&nbsp;</p><p>&nbsp; {&nbsp;&nbsp;</p><p><br/>&nbsp; CDialog::OnSysCommand(nID,&nbsp;&nbsp; lParam);&nbsp;&nbsp;</p><p>&nbsp;&nbsp;&nbsp;</p><p>&nbsp; if(nID==SC_MINIMIZE)&nbsp;&nbsp;&nbsp;&nbsp; //鼠标点击了最小化&nbsp;&nbsp;</p><p>&nbsp; {&nbsp;&nbsp;</p><p>&nbsp;&nbsp;&nbsp;&nbsp; OnMini();</p><p>&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;</p><p>&nbsp; }&nbsp;&nbsp;</p><p>&nbsp;&nbsp;&nbsp;</p><p>//========================处理NC事件</p><p>BEGIN_MESSAGE_MAP(CMyDlg,&nbsp;&nbsp; CDialog)&nbsp;&nbsp;</p><p>&nbsp; //{{AFX_MSG_MAP(CKeySoundDlg)&nbsp;&nbsp;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ....&nbsp;&nbsp;</p><p>&nbsp; //}}AFX_MSG_MAP&nbsp;&nbsp;</p><p>&nbsp; ON_MESSAGE(WM_NC,&amp;OnNc)&nbsp;&nbsp;&nbsp;&nbsp; //还要添加鼠标事件&nbsp;&nbsp;</p><p>&nbsp; END_MESSAGE_MAP()</p><p>&nbsp;</p><p><br/>//===========================</p><p>void&nbsp;&nbsp; CMyDlg::OnNc(WPARAM wParam,LPARAM lParam)&nbsp;&nbsp;</p><p>{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p>&nbsp;if(lParam==WM_LBUTTONDOWN)&nbsp;&nbsp;</p><p>{&nbsp;&nbsp;</p><p>ShowWindow(SW_SHOWNORMAL);&nbsp;&nbsp;</p><p>NOTIFYICONDATA nc;&nbsp;&nbsp;</p><p>nc.cbSize=sizeof(NOTIFYICONDATA);&nbsp;&nbsp;</p><p>nc.hWnd=m_hWnd;&nbsp;&nbsp;</p><p>nc.uCallbackMessage=WM_NC;&nbsp;&nbsp;</p><p>nc.uFlags=NIF_ICON|NIF_MESSAGE|NIF_TIP;&nbsp;&nbsp;</p><p>nc.uID=ID_NC;&nbsp;&nbsp;</p><p>Shell_NotifyIcon(NIM_DELETE,&amp;nc);&nbsp;&nbsp;</p><p>::SetWindowPos(GetSafeHwnd(),HWND_NOTOPMOST,0,0,0,0,SWP_NOMOVE|SWP_NOSIZE);&nbsp;&nbsp;</p><p>}</p><p>}<br/></p><p></p>','2013-12-05 03:53:35','2013-12-05 11:53:35'),(52,'183.63.215.55',1,'怎样在RICHEDIT中插入图片','<p style=\"text-indent: 2em;\">void __fastcall InsertBmpToRich(TRichEdit *re, WideString wstrBmpFile)</p><p style=\"text-indent: 2em;\">{</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; IRichEditOle *RichOle;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; SendMessage(re-&gt;Handle, EM_GETOLEINTERFACE, 0, int(&amp;RichOle));</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; ILockBytes *FLockBytes;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; CreateILockBytesOnHGlobal(0,1,&amp;FLockBytes);</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; IStorage *FStorage;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; StgCreateDocfileOnILockBytes(FLockBytes,STGM_SHARE_EXCLUSIVE |</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; STGM_CREATE | STGM_READWRITE,0,&amp;FStorage);</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; TFormatEtc FormatEtc;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; FormatEtc.cfFormat=0;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; FormatEtc.ptd=NULL;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; FormatEtc.dwAspect=DVASPECT_CONTENT;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; FormatEtc.lindex=-1;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; FormatEtc.tymed=TYMED_NULL;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; IOleObject *FOle;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; OleCreateFromFile(GUID_NULL, wstrBmpFile, ::IID_IOleObject,</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0, &amp;FormatEtc, NULL, FStorage, (void**)&amp;FOle);</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; OleSetContainedObject(FOle, true);</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; REOBJECT ReObject;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; ZeroMemory(&amp;ReObject, sizeof(REOBJECT));</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; ReObject.cbStruct=sizeof(REOBJECT);</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; CLSID xt;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; FOle-&gt;GetUserClassID(&amp;xt);</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; ReObject.clsid=xt;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; ReObject.cp=REO_CP_SELECTION;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; ReObject.dvaspect=DVASPECT_CONTENT;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; ReObject.dwFlags=REO_STATIC | REO_BELOWBASELINE;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; ReObject.dwUser=0;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; ReObject.poleobj=FOle;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; IOleClientSite&nbsp; *FClientSite;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; RichOle-&gt;GetClientSite(&amp;FClientSite);</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; ReObject.polesite=FClientSite;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; ReObject.pstg=FStorage;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; ReObject.sizel.cx=0;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; ReObject.sizel.cy=0;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; RichOle-&gt;InsertObject(&amp;ReObject);</p><p style=\"text-indent: 2em;\">}</p><p style=\"text-indent: 2em;\">&nbsp;</p><p style=\"text-indent: 2em;\">//调用方法:</p><p style=\"text-indent: 2em;\">InsertBmpToRich(RichEdit1, WideString(&quot;D:\\\\source\\\\Linux_Image\\\\header-projects.png&quot;));</p><p style=\"text-indent: 2em;\">&nbsp;</p><p style=\"text-indent: 2em;\">//或者用RichView</p><p></p>','2013-12-05 03:54:05','2013-12-05 11:54:05'),(53,'183.63.215.55',1,'远程注入启动器','<p>头文件 #include&lt;shlwapi.h &gt;</p><p>&nbsp;</p><pre class=\"brush:cpp;toolbar:false\">void&nbsp;Cwin_magr_clientDlg::OnBnClickedButton2()\r\n{\r\n&nbsp;UpdateData(TRUE);\r\n&nbsp;&nbsp;STARTUPINFO&nbsp;stinfo;&nbsp;//启动窗口的信息&nbsp;\r\n&nbsp;&nbsp;PROCESS_INFORMATION&nbsp;procinfo;&nbsp;//进程的信息&nbsp;\r\n&nbsp;\r\n&nbsp;&nbsp;CString&nbsp;strPath=_T(&quot;./hk_cat.exe&quot;);\r\n&nbsp;&nbsp;CString&nbsp;strCmd=_T(&quot;&lt;参数&gt;&quot;);\r\n&nbsp;&nbsp;CString&nbsp;strDLL=_T(&quot;Direct3D-Hook.dll&quot;);\r\n&nbsp;&nbsp;GetStartupInfo(&amp;stinfo);\r\n&nbsp;&nbsp;stinfo.lpReserved=NULL;\r\n&nbsp;&nbsp;stinfo.lpDesktop=NULL;\r\n&nbsp;&nbsp;stinfo.lpTitle=NULL;\r\n&nbsp;&nbsp;stinfo.dwX=0;\r\n&nbsp;&nbsp;stinfo.dwY=0;\r\n&nbsp;&nbsp;stinfo.dwXSize=200;\r\n&nbsp;&nbsp;stinfo.dwYSize=300;\r\n&nbsp;&nbsp;stinfo.dwXCountChars=500;\r\n&nbsp;&nbsp;stinfo.dwYCountChars=500;\r\n&nbsp;&nbsp;stinfo.dwFlags=STARTF_USESHOWWINDOW|STARTF_RUNFULLSCREEN;\r\n&nbsp;&nbsp;stinfo.wShowWindow=SW_SHOW;\r\n&nbsp;&nbsp;//&nbsp;说&nbsp;明&nbsp;进&nbsp;程&nbsp;将&nbsp;以&nbsp;隐&nbsp;藏&nbsp;的&nbsp;方&nbsp;式&nbsp;在&nbsp;后&nbsp;台&nbsp;执&nbsp;行\r\n&nbsp;&nbsp;stinfo.cbReserved2=0;\r\n&nbsp;&nbsp;stinfo.lpReserved2=NULL;\r\n&nbsp;&nbsp;stinfo.hStdInput=stdin;\r\n&nbsp;&nbsp;stinfo.hStdOutput=stdout;\r\n&nbsp;&nbsp;stinfo.hStdError=stderr;\r\n&nbsp;&nbsp;TCHAR&nbsp;szCurDir[MAX_PATH];\r\n&nbsp;&nbsp;memset(szCurDir,&nbsp;0,&nbsp;sizeof(szCurDir));\r\n&nbsp;&nbsp;_tcscpy(szCurDir,&nbsp;strPath.GetBuffer());\r\n&nbsp;&nbsp;PathRemoveFileSpec(szCurDir);\r\n&nbsp;&nbsp;CString&nbsp;&nbsp;strCommandLIne;\r\n&nbsp;&nbsp;strCommandLIne&nbsp;=&nbsp;strPath+_T(&quot;&nbsp;&quot;)+&nbsp;strCmd;\r\n&nbsp;&nbsp;CreateProcess(NULL,strCommandLIne.GetBuffer(),NULL,NULL,FALSE,CREATE_SUSPENDED&nbsp;|&nbsp;CREATE_DEFAULT_ERROR_MODE,NULL,szCurDir,&nbsp;&amp;stinfo,&amp;procinfo);\r\n&nbsp;//开始载入DLL，就从这里开始&nbsp;\r\n&nbsp;&nbsp;PTHREAD_START_ROUTINE&nbsp;pfnRemote&nbsp;=(PTHREAD_START_ROUTINE)\r\n&nbsp;&nbsp;&nbsp;GetProcAddress(GetModuleHandle(_T(&quot;Kernel32&quot;)),&nbsp;&quot;LoadLibraryA&quot;);\r\n&nbsp;&nbsp;if(pfnRemote&nbsp;==NULL){\r\n&nbsp;&nbsp;&nbsp;AfxMessageBox(_T(&quot;得到函数LoadLibraryA地址失败&quot;));&nbsp;\r\n&nbsp;&nbsp;&nbsp;return&nbsp;;\r\n&nbsp;&nbsp;}\r\n&nbsp;&nbsp;TCHAR&nbsp;szHookApiDllPath[MAX_PATH];\r\n&nbsp;&nbsp;GetModuleFileName(NULL,&nbsp;szHookApiDllPath,MAX_PATH);\r\n&nbsp;&nbsp;PathRemoveFileSpec(szHookApiDllPath);\r\n&nbsp;&nbsp;//这里要写入注入的DLL\r\n&nbsp;&nbsp;PathAppend(szHookApiDllPath,&nbsp;strDLL.GetBuffer());\r\n&nbsp;\r\n&nbsp;&nbsp;int&nbsp;nMemSize&nbsp;=_tcslen(szHookApiDllPath)+1;\r\n&nbsp;&nbsp;void&nbsp;*pRemoteMem&nbsp;=VirtualAllocEx(procinfo.hProcess,&nbsp;NULL,&nbsp;nMemSize,&nbsp;MEM_COMMIT,&nbsp;PAGE_READWRITE);\r\n&nbsp;&nbsp;if(pRemoteMem&nbsp;==NULL)&nbsp;\r\n&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;AfxMessageBox(_T(&quot;分配内存失败&quot;));&nbsp;\r\n&nbsp;&nbsp;&nbsp;CloseHandle(procinfo.hProcess);\r\n&nbsp;&nbsp;&nbsp;return&nbsp;;\r\n&nbsp;&nbsp;}\r\n&nbsp;&nbsp;int&nbsp;ret&nbsp;=WriteProcessMemory(procinfo.hProcess,&nbsp;pRemoteMem,&nbsp;szHookApiDllPath,&nbsp;nMemSize,NULL);\r\n&nbsp;&nbsp;if(ret&nbsp;==STATUS_ACCESS_VIOLATION&nbsp;||&nbsp;ret&nbsp;==false)\r\n&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;//if(hThread)&nbsp;ResumeThread(hThread);\r\n&nbsp;&nbsp;&nbsp;AfxMessageBox(_T(&quot;写内存失败&quot;));&nbsp;\r\n&nbsp;&nbsp;&nbsp;VirtualFreeEx(procinfo.hProcess,&nbsp;pRemoteMem,&nbsp;0,&nbsp;MEM_RELEASE);\r\n&nbsp;&nbsp;&nbsp;return&nbsp;;\r\n&nbsp;&nbsp;}\r\n&nbsp;&nbsp;//if(hThread)&nbsp;ResumeThread(hThread);\r\n&nbsp;&nbsp;//启动程序&nbsp;\r\n&nbsp;&nbsp;DWORD&nbsp;dwThreadId&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;HANDLE&nbsp;hThread&nbsp;=CreateRemoteThread(procinfo.hProcess,&nbsp;NULL,&nbsp;0,&nbsp;\r\n&nbsp;&nbsp;&nbsp;pfnRemote,&nbsp;pRemoteMem,&nbsp;0,&nbsp;&amp;dwThreadId);\r\n&nbsp;&nbsp;if(hThread&nbsp;==NULL)\r\n&nbsp;&nbsp;{&nbsp;\r\n&nbsp;&nbsp;&nbsp;AfxMessageBox(_T(&quot;启动远程线程失败&quot;));&nbsp;\r\n&nbsp;&nbsp;&nbsp;VirtualFreeEx(procinfo.hProcess,&nbsp;pRemoteMem,&nbsp;0,&nbsp;MEM_RELEASE);\r\n&nbsp;&nbsp;&nbsp;return&nbsp;;\r\n&nbsp;&nbsp;}\r\n&nbsp;&nbsp;WaitForSingleObject(hThread,&nbsp;INFINITE);\r\n&nbsp;&nbsp;VirtualFreeEx(procinfo.hProcess,&nbsp;pRemoteMem,&nbsp;0,&nbsp;MEM_RELEASE);\r\n&nbsp;&nbsp;//Sleep(3000);\r\n&nbsp;&nbsp;::ResumeThread(procinfo.hThread);\r\n&nbsp;&nbsp;CloseHandle(hThread);\r\n&nbsp;&nbsp;UpdateData(FALSE);\r\n}</pre><p>///////////////////////////////////////////////////////////////////////////////</p><p>//远程注入内获得句柄</p><p>//BOOL WINAPI DllMain( HINSTANCE hInstance, DWORD dwReason, LPVOID lpReserved )<br/>//{<br/>// // DLL Entry Point <br/>// switch (dwReason)<br/>// {<br/>// case DLL_PROCESS_ATTACH:<br/>//&nbsp; //MessageBox(0,&quot;Dx8&quot;,0,0);<br/>//&nbsp; Test_DirectX8(CreateNullWindow());<br/>//&nbsp; break;<br/>// case DLL_PROCESS_DETACH:<br/>//&nbsp; //LOG::CloseLog();<br/>//&nbsp; break;<br/>// }<br/>// return true;&nbsp;&nbsp;&nbsp; // ok<br/>//}</p><p>#define GRAPHX_MY_WND_CLS_NAME _T(&quot;MyWndClassName&quot;)</p><p>static LRESULT CALLBACK MyWindowWndProc(HWND hWnd,UINT msg,WPARAM wParam,LPARAM lParam)<br/>{<br/>&nbsp;return DefWindowProc(hWnd,msg,wParam,lParam);<br/>}</p><p><br/>HWND CreateNullWindow()<br/>{<br/>&nbsp;// Register the window class<br/>&nbsp;WNDCLASSEX wc = { sizeof(WNDCLASSEX), CS_CLASSDC, MyWindowWndProc, 0L, 0L, <br/>&nbsp; GetModuleHandle(_T(&quot;War3Hook.dll&quot;)), NULL, NULL, NULL, NULL,<br/>&nbsp; GRAPHX_MY_WND_CLS_NAME, NULL };</p><p>&nbsp;RegisterClassEx( &amp;wc );</p><p>&nbsp;// Create the application&#39;s window<br/>&nbsp;HWND hWnd = CreateWindowEx(0L, GRAPHX_MY_WND_CLS_NAME, &quot;War3CrackGraphxHookWnd&quot;, <br/>&nbsp; WS_OVERLAPPEDWINDOW, 100, 100, 300, 300,<br/>&nbsp; NULL, NULL, wc.hInstance, NULL ); <br/>&nbsp;return hWnd;<br/>}<br/></p><p>&nbsp;</p>','2013-12-05 03:54:44','2014-05-05 17:27:02'),(54,'183.63.215.55',1,'MFC 最大化不盖过任务栏','<p>void CMainFrame::OnGetMinMaxInfo(MINMAXINFO* lpMMI)<br/>{<br/>&nbsp;// TODO: Add your message handler code here and/or call default<br/>&nbsp;CRect rectWorkAreaDesktop(0,0,0,0);<br/>&nbsp;SystemParametersInfo(SPI_GETWORKAREA, 0 , &amp;rectWorkAreaDesktop, 0);</p><p>&nbsp;lpMMI-&gt;ptMaxPosition = rectWorkAreaDesktop.TopLeft(); <br/>&nbsp;lpMMI-&gt;ptMaxSize=CPoint(rectWorkAreaDesktop.Width(), rectWorkAreaDesktop.Height());<br/>&nbsp;CFrameWnd::OnGetMinMaxInfo(lpMMI);<br/>} <br/></p><p></p>','2013-12-05 03:55:20','2013-12-05 11:55:20'),(55,'192.168.2.200',1,'改变窗体背景的颜色','<p style=\"text-indent: 2em;\">可以通过处理WM_ERASEBKGND消息来改变CView、CFrameWnd或CWnd对象的背景色。 &nbsp;</p><p style=\"text-indent: 2em;\">&nbsp; 请看如下的程序段： &nbsp; &nbsp;</p><pre class=\"brush:cpp;toolbar:false\">BOOL&nbsp;CMainDlgMenuEdit::OnEraseBkgnd(CDC*&nbsp;pDC)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;设置所要求背景色的刷子\r\n&nbsp;&nbsp;&nbsp;&nbsp;CBrush&nbsp;&nbsp;&nbsp;backBrush(RGB(255,&nbsp;&nbsp;&nbsp;128,&nbsp;&nbsp;&nbsp;128));&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;保存旧刷子&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CBrush*&nbsp;&nbsp;&nbsp;pOldBrush&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;&nbsp;pDC-&gt;SelectObject(&amp;backBrush);&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CRect&nbsp;&nbsp;&nbsp;rect;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;pDC-&gt;GetClipBox(&amp;rect);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;擦除所需的区域&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;pDC-&gt;PatBlt(rect.left,&nbsp;&nbsp;&nbsp;rect.top,&nbsp;&nbsp;&nbsp;rect.Width(),&nbsp;&nbsp;&nbsp;rect.Height(),&nbsp;&nbsp;&nbsp;PATCOPY);&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;pDC-&gt;SelectObject(pOldBrush);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&nbsp;&nbsp;TRUE;&nbsp;&nbsp;&nbsp;&nbsp;\r\n\r\n}</pre><p style=\"text-indent: 2em;\"><br/></p>','2013-12-05 03:57:03','2016-05-08 23:59:37'),(56,'183.63.215.55',1,'加载外部位图','<p>&nbsp;//加载外部位图<br/>&nbsp;HBITMAP hBitmap;<br/>&nbsp;BITMAP bm;<br/>&nbsp;if(hBitmap=(HBITMAP)LoadImage(AfxGetInstanceHandle(),bgFilePath,IMAGE_BITMAP,0,0,LR_CREATEDIBSECTION|LR_LOADFROMFILE))<br/>&nbsp;{<br/>&nbsp; GetObject(m_hBitmap,sizeof(bm),&amp;bm);//获取图像大小<br/>&nbsp; return true;<br/>&nbsp;}<br/></p>','2013-12-05 03:57:39','2013-12-05 11:57:39'),(57,'183.63.215.55',1,'CListCtrl 背景图片','<p>CListCtrl*list=(CListCtrl*)GetDlgItem(IDC_INFO_LIST);</p><p style=\"text-indent: 2em;\">&nbsp;list-&gt;InsertColumn(0,&quot;文件名&quot;);</p><p style=\"text-indent: 2em;\">&nbsp;list-&gt;InsertColumn(1,&quot;大小&quot;);</p><p style=\"text-indent: 2em;\">&nbsp;list-&gt;SetExtendedStyle( LVS_EX_FULLROWSELECT|LVS_EX_GRIDLINES|LVS_EX_FLATSB|LVS_EX_HEADERDRAGDROP );</p><p style=\"text-indent: 2em;\">&nbsp;LVBKIMAGE bki;</p><p style=\"text-indent: 2em;\">&nbsp;if (list-&gt;GetBkImage(&amp;bki) &amp;&amp; (bki.ulFlags ==LVBKIF_SOURCE_NONE))</p><p style=\"text-indent: 2em;\">&nbsp;{</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;CoInitialize(NULL);</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;//CBitmap cbit;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;//cbit.LoadBitmapA(IDB_LISTBACK);</p><p style=\"text-indent: 2em;\">&nbsp; //list-&gt;SetBkImage((HBITMAP)cbit);</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;list-&gt;SetBkImage(&quot;<a href=\"http://b25.photo.store.qq.com/http_imgload.cgi?/rurl4_b=6cdb87e2cd7fe29ccb77523a00d2cfe3b5054f6fd5a18fd7388011bfe1addc8e84a866bceaca42dd47f56b9a7c4ba11ff645f3ca77184c21d14edc71db50c676a75849f7103889444ba759958a7fce6ba033fe17&amp;a=12&amp;b=25\" target=\"_blank\">http://b25.photo.store.qq.com/http_imgload.cgi?/rurl4_b=6cdb87e2cd7fe29ccb77523a00d2cfe3b5054f6fd5a18fd7388011bfe1addc8e84a866bceaca42dd47f56b9a7c4ba11ff645f3ca77184c21d14edc71db50c676a75849f7103889444ba759958a7fce6ba033fe17&amp;a=12&amp;b=25</a>&quot;);</p><p style=\"text-indent: 2em;\">&nbsp;}</p><p></p>','2013-12-05 03:57:59','2013-12-05 11:57:59'),(58,'183.63.215.55',1,'CListCtrl获取当前所选中行的index','<p>//m_List是要处理的对象&nbsp;&nbsp; <br/>&nbsp; POSITION&nbsp;&nbsp; pos&nbsp;&nbsp; =&nbsp;&nbsp; m_List.GetFirstSelectedItemPosition();&nbsp;&nbsp; <br/>&nbsp; if&nbsp;&nbsp; (pos&nbsp;&nbsp; !=&nbsp;&nbsp; NULL)&nbsp;&nbsp; <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp; <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; while&nbsp;&nbsp; (pos)&nbsp;&nbsp; <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp; <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int&nbsp;&nbsp; nItem&nbsp;&nbsp; =&nbsp;&nbsp; m_List.GetNextSelectedItem(pos);&nbsp;&nbsp; <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ......&nbsp;&nbsp;&nbsp;&nbsp; //处理&nbsp;&nbsp; <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp; <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } <br/>&nbsp;</p><p>=======================================================</p><p>&nbsp;USHORT n=gfileList-&gt;GetItemCount();<br/>&nbsp;for(int i=0; i&lt;n; i++)<br/>&nbsp;{<br/>&nbsp; if( gfileList-&gt;GetItemState(i, LVIS_SELECTED) == LVIS_SELECTED )<br/>&nbsp; {<br/>&nbsp;&nbsp; //..处理</p><p>&nbsp; }<br/>&nbsp;}<br/></p><p></p>','2013-12-05 03:59:12','2013-12-05 11:59:12'),(59,'183.63.215.55',1,'MFC制作右键弹出菜单','<p style=\"text-indent: 2em;\">一、在资源编辑器中建立一个菜单资源&nbsp;&nbsp;&nbsp;&nbsp;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; 新建一个菜单资源，比如把菜单的ID号为IDC_POPMENU。此菜单有一项两层，即有一个可弹出的菜单项，而此菜单项的弹出内容即为将要建立的弹出式菜单的内容。至于每一个菜单项的消息映射，与一般的菜单相同。&nbsp;&nbsp;&nbsp;&nbsp;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp;</p><p style=\"text-indent: 2em;\">二、使用CMenu类对象&nbsp;&nbsp;&nbsp;&nbsp;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; CMenu类的成员函数较多，但建立弹出式菜单只需用到其中几个成员函数。</p><p style=\"text-indent: 2em;\">1、LoadMenu函数&nbsp;&nbsp;&nbsp;&nbsp;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; 功能：从应用程序的可执行文件中加载菜单资源&nbsp;&nbsp;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; 原型：BOOL LoadMenu(UINT nIDResource);&nbsp;&nbsp;&nbsp;&nbsp;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; 其中nIDResource是菜单资源的ID号，这里用的是刚建立的IDC_POPMENU。&nbsp;&nbsp;&nbsp;&nbsp;</p><p style=\"text-indent: 2em;\">2、GetSubMenu函数&nbsp;&nbsp;&nbsp;&nbsp;</p><p style=\"text-indent: 2em;\">　 功能：此函数用于得到子菜单的指针。&nbsp;&nbsp;</p><p style=\"text-indent: 2em;\">　 原型：CMenu* GetSubMenu(int nPos)const;&nbsp;&nbsp;&nbsp;&nbsp;</p><p style=\"text-indent: 2em;\">　 nPos为层数，0为第一层子菜单……以此类推。&nbsp;&nbsp;&nbsp;&nbsp;</p><p style=\"text-indent: 2em;\">　 由于我们需要的是“可弹出项”的第一层子菜单，因此用GetSubMenu(0)来得到第一层子菜单的类指针。&nbsp;&nbsp;&nbsp;&nbsp;</p><p style=\"text-indent: 2em;\">3、TrackPopupMenu函数</p><p style=\"text-indent: 2em;\">　 功能：在指定位置显示弹出菜单，并跟踪所选择的项&nbsp;&nbsp;</p><p style=\"text-indent: 2em;\">　 原型：BOOL&nbsp;&nbsp; TrackPopupMenu(UINT nFlags,int x,int y,CWnd* pWnd,LPCRECT lpRect=NULL);&nbsp;&nbsp;&nbsp;&nbsp;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; 其中：&nbsp;&nbsp;&nbsp;&nbsp;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; nFlags为屏幕坐标属性和鼠标坐标属性&nbsp;&nbsp;&nbsp;&nbsp;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; 屏幕坐标属性：&nbsp;&nbsp;&nbsp;&nbsp;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; TPM_CENTERALIGN&nbsp;&nbsp; 横向将菜单以x居中&nbsp;&nbsp;&nbsp;&nbsp;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; TPM_LEFTALIGN&nbsp;&nbsp; 横向将菜单以x左对齐&nbsp;&nbsp;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; TPM_RIGHTALIGN&nbsp;&nbsp; 横向将菜单以x右对齐&nbsp;&nbsp;&nbsp;&nbsp;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; 鼠标按键属性（只在响应WM_CONTEXTMENU消息时有效）：&nbsp;&nbsp;&nbsp;&nbsp;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; TPM_LEFTBUTTON&nbsp;&nbsp; 连续按?&nbsp;&nbsp; 右键不会连续弹出菜单，鼠标右键不可用于选定菜单项&nbsp;&nbsp;&nbsp;&nbsp;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; TPM_RIGHTBUTTON&nbsp;&nbsp; 连续按鼠标右键会连续弹出菜单，鼠标右键可用于选定菜单项&nbsp;&nbsp;&nbsp;&nbsp;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; x，y均为屏幕坐标&nbsp;&nbsp;&nbsp;&nbsp;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; lpRect&nbsp;&nbsp; 菜单所占的区域。如果为NULL，当用户在菜单以外的区域按鼠标键时，菜单会消失&nbsp;&nbsp;&nbsp;&nbsp;</p><p style=\"text-indent: 2em;\">三、具体实现方法&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p style=\"text-indent: 2em;\">　　用ClassWizard中的“Add Windows Message Handler”功能添加对NM_RCLICKT消息的响应函数，函数中代码如下，注释很详细，在vc6+win2000环境下调试成功：&nbsp;&nbsp;&nbsp;&nbsp;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp;</p><p style=\"text-indent: 2em;\">void CMyView::OnRclick(NMHDR* pNMHDR,LRESULT* pResult)</p><p style=\"text-indent: 2em;\">{&nbsp;&nbsp;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; CMenu menu,*pSubMenu;//定义下面要用到的cmenu对象&nbsp;&nbsp;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; menu.LoadMenu(IDC_POPMENU);//装载自定义的右键菜单&nbsp;&nbsp;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; pSubMenu=menu.GetSubMenu(0);//获取第一个弹出菜单，所以第一个菜单必须有子菜单&nbsp;&nbsp;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; CPoint oPoint;//定义一个用于确定光标位置的位置&nbsp;&nbsp;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; GetCursorPos(&amp;oPoint);//获取当前光标的位置，以便使得菜单可以跟随光标&nbsp;&nbsp;</p><p style=\"text-indent: 2em;\">&nbsp;&nbsp;&nbsp; pSubMenu-&gt;TrackPopupMenu(TPM_LEFTALIGN,oPoint.x,oPoint.y,this);&nbsp;&nbsp; //在指定位置显示弹出菜单</p><p style=\"text-indent: 2em;\">}</p><p></p>','2013-12-05 03:59:45','2013-12-05 11:59:45'),(60,'183.63.215.55',1,'获得当前文本框句柄','<p>HWND hwndForegroud=GetForegroundWindow(); <br/>DWORD dwCurrentThreadId=::GetCurrentThreadId(); <br/>DWORD dwWindowThreadId=::GetWindowThreadProcessId(hwndForegroud,NULL); <br/>AttachThreadInput(dwCurrentThreadId , dwWindowThreadId,TRUE); <br/>HWND hWnd=::GetFocus();</p>','2013-12-05 04:01:44','2013-12-05 12:01:44'),(61,'183.63.215.55',1,'位图处理','<p>//参数说明：<br/>//hDIB -位图句柄<br/>//pPal -位图调色板<br/>//xDest -显示位图的左上角x坐标<br/>//yDest -显示位图的左上角y坐标<br/>void DrawSemiTransparentBitmap(CDC *pDC, int nXDest, int nYDest, HGLOBAL hDIB,CPalette *pPal)<br/>BITMAPINFO &amp;bmInfo = *(LPBITMAPINFO)hDIB ;<br/>int nColors = bmInfo.bmiHeader.biClrUsed ? bmInfo.bmiHeader.biClrUsed :<br/>1 &lt;&lt; bmInfo.bmiHeader.biBitCount;<br/>int nWidth = bmInfo.bmiHeader.biWidth;<br/>int nHeight = bmInfo.bmiHeader.biHeight;</p><p>LPVOID lpDIBBits = (LPVOID)(bmInfo.bmiColors + nColors);<br/>CDC memDC;<br/>memDC.CreateCompatibleDC( pDC );<br/>CBitmap bmp;<br/>bmp.CreateCompatibleBitmap( pDC, nWidth, nHeight );<br/>CBitmap *pOldBitmap = memDC.SelectObject( &amp;bmp );<br/>if( pDC-&gt;GetDeviceCaps(RASTERCAPS) &amp; RC_PALETTE&amp;&amp;nColors&lt;256)<br/>CPalette *pOldMemPalette = memDC.SelectPalette(pPal, FALSE);<br/>memDC.RealizePalette();<br/>::SetDIBitsToDevice(memDC.m_hDC, 0, 0, nWidth, nHeight, 0, 0, 0, nHeight, lpDIBBits, (LPBITMAPINFO)hDIB, DIB_RGB_COLORS);</p><p>CDC maskDC;<br/>CBitmap mbm;<br/>maskDC.CreateCompatibleDC(pDC);<br/>mbm.CreateCompatibleBitmap(pDC, nWidth, nHeight);<br/>maskDC.SelectObject(&amp;mbm);<br/>maskDC.FillSolidRect(CRect(0, 0, nWidth, nHeight), RGB(0x7F, 0x7F, 0x7F));<br/>pDC-&gt;BitBlt(nXDest, nYDest, nWidth, nHeight, &amp;maskDC, 0, 0, SRCAND);<br/>pDC-&gt;BitBlt(nXDest, nYDest, nWidth, nHeight, &amp;memDC, 0, 0, SRCPAINT);<br/>memDC.SelectObject(pOldBitmap);<br/>}　</p><p>如何画透明位图</p><p><br/>　　画透明位图通常的方法是使用遮罩。所谓遮罩就是一张黑白双色的位图，他和<br/>要透明的位图是对应的，遮罩描述了位图中需要透明的部分，透明的部分是黑色的，<br/>而不透明的是白色的，白色的部分就是透明的部分。<br/>假设图A是要画的透明位图，图B是遮罩，图A上是一个大写字母A,字母是红色的，背<br/>景是黑色的，图B背景是白色的，上面有一个黑色的字母A和图A的形状是一样的。<br/>比如我们要在一张蓝天白云的背景上透明地画图A，就是只把红色的字母A画上去。我</p><p>们可以先将图B和背景进行与操作，再把图B和背景进行或操作就可以了。<br/>用VC++ MFC实现的代码如下：<br/>void CDemoDlg::OnPaint()<br/>CPaintDC dc(this);<br/>Cbitmap BmpBack,BmpA,BmpB,*pOldBack,*pOldA,*pOldB;<br/>BmpBack.LoadBitmap(IDB_BACKGROUND); // 载入背景图<br/>BmpA.LoadBitmap(IDB_BITMAPA); //载入图A<br/>BmpB.LoadBitmap(IDB_BITMAPB); //载入图B<br/>CDC dcBack,dcA,dcB; //声明三个内存DC用于画图<br/>dcBack.CreateCompatibleDC(&amp;dc);<br/>dcA.CreateCompatibleDC(&amp;dc);<br/>dcB.CreateCompatibleDC(&amp;dc); //把这三个内存DC创建成和PaintDC兼容的DC</p><p>pOldBack=dcBack.SelectObject(&amp;BmpBack);<br/>pOldA=dcA.SelectObject(&amp;BmpA);<br/>pOldB=dcB.SelectObject(&amp;BmpB); //把三个位图选入相应的DC<br/>dc.BitBlt(0,0,100,100,&amp;dcBack,0,0,SRCCOPY); //画背景<br/>dc.BitBlt(0,0,48,48,&amp;dcB,0,0,SRCAND); //用与的方式画遮罩图B<br/>dc.BitBlt(0,0,48,48,&amp;dcA,0,0,SRCPAINT); //用或的方式画遮图A<br/>dcBack.SelectObject(pOldBack);<br/>dcBack.SelectObject(pOldA);<br/>dcBack.SelectObject(pOldB); //从内存DC中删除位图<br/>你会看到红色的字母A透明地画在背景上了。</p><p>用遮罩的方法必须事先做好遮罩，遮罩和位图大小一样等于多消耗一倍的资源，<br/>比较浪费。还有一种画透明位图的方法，基本原理是一样的，只是不用事先做好<br/>遮罩，根据需要动态生成遮罩，但是要求需要透明的位图必须指定一种透明色，<br/>凡是这个透明色的地方则画成透明的。<br/>用VC++ MFC实现的代码如下：<br/>/*<br/>这是一个用来画透明位图的函数<br/>CDC *pDC 需要画位图的CDC指针<br/>UINT IDImage 位图资源ID<br/>Crect &amp;rect 指定位图在pDC中的位置<br/>COLORREF rgbMask 位图的透明色</p><p>*/<br/>void DrawTransparentBitmap(CDC *pDC, UINT IDImage,Crect &amp;rect, COLORREF rgbMask)<br/>CDC ImageDC,MaskDC;<br/>Cbitmap Image,*pOldImage;<br/>Cbitmap maskBitmap,*pOldMaskDCBitmap ;<br/>Image.LoadBitmap(IDImage);<br/>ImageDC.CreateCompatibleDC(pDC);<br/>pOldImage=ImageDC.SelectObject(&amp;Image);<br/>MaskDC.CreateCompatibleDC(pDC);<br/>maskBitmap.CreateBitmap( rect.Width(), rect.Height(), 1, 1, NULL );<br/>pOldMaskDCBitmap = MaskDC.SelectObject( &amp;maskBitmap );<br/>ImageDC.SetBkColor(rgbMask);<br/>MaskDC.BitBlt( 0, 0, rect.Width(), rect.Height(), &amp;ImageDC, 0, 0, SRCCOPY );</p><p>ImageDC.SetBkColor(RGB(0,0,0));<br/>ImageDC.SetTextColor(RGB(255,255,255));<br/>ImageDC.BitBlt(0, 0, rect.Width(), rect.Height(), &amp;MaskDC, 0, 0, SRCAND);<br/>pDC-&gt;BitBlt(rect.left,rect.top,rect.Width(), rect.Height(), &amp;MaskDC, 0, 0, SRCAND);<br/>pDC-&gt;BitBlt(rect.left,rect.top,rect.Width(), rect.Height(), &amp;ImageDC, 0, 0,SRCPAINT);<br/>MaskDC.SelectObject(pOldMaskDCBitmap);<br/>ImageDC.SelectObject(pOldImage);<br/>void CDemoDlg::OnPaint()<br/>CPaintDC dc(this);<br/>Cbitmap BmpBack,*pOldBack,;<br/>BmpBack.LoadBitmap(IDB_BACKGROUND);</p><p>CDC dcBack;<br/>dcBack.CreateCompatibleDC(&amp;dc);<br/>pOldBack=dcBack.SelectObject(&amp;BmpBack);<br/>dc.BitBlt(0,0,100,100,&amp;dcBack,0,0,SRCCOPY);<br/>DrawTransparentBitmap(&amp;dc,IDB_BITMAPA,Crect(0,0,48,48),RGB(192,192,0));</p><p>dcBack.SelectObject(pOldBack);<br/></p><p></p>','2013-12-05 04:02:07','2013-12-05 12:02:07'),(62,'14.221.230.122',1,'载入图片列表CImageList信息','<p>//载入图片列表信息追张添加<br/>&nbsp;CImageList m_ImageList;<br/>&nbsp;CBitmap m_map[3];&nbsp; <br/>&nbsp;m_ImageList.Create(30,12,ILC_COLORDDB|ILC_MASK,1,3); <br/>&nbsp;m_map[0].LoadBitmap(IDB_FREE);<br/>&nbsp;m_ImageList.Add(&amp;m_map[0],RGB(255,255,255));</p><p>&nbsp;m_map[1].LoadBitmap(IDB_AWAY);<br/>&nbsp;m_ImageList.Add(&amp;m_map[1],RGB(255,255,255));</p><p>&nbsp;m_map[2].LoadBitmap(IDB_PLAY);<br/>&nbsp;m_ImageList.Add(&amp;m_map[2],RGB(255,255,255)); <br/>&nbsp;g_listc-&gt;SetImageList(&amp;m_ImageList,LVSIL_SMALL);<br/>&nbsp;m_ImageList.Detach();<br/></p><p>&nbsp;//一张切分多张</p><p>m_FileViewImages.DeleteImageList();</p><p>&nbsp;UINT uiBmpId = IDB_FILE_VIEW_24 ;//要分割的位图ID</p><p>&nbsp;CBitmap bmp;<br/>&nbsp;if (!bmp.LoadBitmap(uiBmpId))<br/>&nbsp;{<br/>&nbsp;&nbsp;TRACE(_T(&quot;无法加载位图: %x\\n&quot;), uiBmpId);<br/>&nbsp;&nbsp;ASSERT(FALSE);<br/>&nbsp;&nbsp;return;<br/>&nbsp;}</p><p>&nbsp;BITMAP bmpObj;<br/>&nbsp;bmp.GetBitmap(&amp;bmpObj);</p><p>&nbsp;UINT nFlags = ILC_MASK;</p><p>&nbsp;nFlags |= (theApp.m_bHiColorIcons) ? ILC_COLOR24 : ILC_COLOR4;</p><p>&nbsp;m_FileViewImages.Create(16, bmpObj.bmHeight, nFlags, 0, 0);<br/>&nbsp;m_FileViewImages.Add(&amp;bmp, RGB(255, 0, 255));<br/></p>','2013-12-05 04:02:34','2013-12-31 11:28:42'),(63,'116.18.4.143',31,'文件版本管理工具','<p>SVN</p><p><a href=\"http://www.visualsvn.com/\" target=\"_blank\" style=\"color: rgb(7, 87, 140); line-height: 24px; cursor: pointer; outline: none; font-family: verdana, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\">http://www.visualsvn.com/</a></p><p><br/></p><p><br/></p><p>GIT</p><p>http://code.google.com/p/tortoisegit/downloads/list</p>','2013-12-05 06:31:17','2013-12-25 16:55:29'),(64,'14.29.94.226',31,'设U盘为启动盘','<p style=\"padding: 0px; line-height: 24px; font-family: verdana, sans-serif; font-size: 14px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\">开始-&gt;运行-&gt;cmd，依次执行以下命令：<br/>diskpart<br/>select disk 1 （disk 0 为第一硬盘，disk 1 为第二硬盘，依次类推，如果电脑只有一<br/>个硬盘和一个u 盘，则这里输入是select disk 1，可以通过“计算机管理—&gt;磁盘管理”<br/>查询u 盘是第几个）</p><p style=\"padding: 0px; line-height: 24px; font-family: verdana, sans-serif; font-size: 14px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\">clean<br/>create partition primary<br/>select partition 1<br/>active<br/>format fs=fat32 quick（这一步本人是格式化成fat32 格式，理论上讲ntfs 也行，未作试验）<br/>assign<br/>exit</p><p style=\"padding: 0px; line-height: 24px; font-family: verdana, sans-serif; font-size: 14px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;</p><p style=\"padding: 0px; line-height: 24px; font-family: verdana, sans-serif; font-size: 14px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\">把系统的安装文件复制到U盘</p><p><br/></p>','2013-12-05 06:31:36','2014-10-27 00:45:19'),(65,'14.222.31.2',31,'截获API','<p>截获API是个很有用的东西，比如你想分析一下别人的程序是怎样工作的。这里我介绍一下一种我自己试验通过的方法。&nbsp;</p><p>首先，我们必须设法把自己的代码放到目标程序的进程空间里去。Windows Hook可以帮我们实现这一点。SetWindowsHookEx的声明如下：&nbsp;</p><p>HHOOK SetWindowsHookEx(&nbsp;</p><p>int idHook, // hook type&nbsp;</p><p>HOOKPROC lpfn, // hook procedure&nbsp;</p><p>HINSTANCE hMod, // handle to application instance&nbsp;</p><p>DWORD dwThreadId // thread identifier&nbsp;</p><p>);&nbsp;</p><p>具体的参数含义可以翻阅msdn，没有msdn可谓寸步难行。&nbsp;</p><p>这里Hook本身的功能并不重要，我们使用它的目的仅仅只是为了能够让Windows把我们的代码植入别的进程里去。hook Type我们任选一种即可，只要保证是目标程序肯定会调用到就行，这里我用的是WH_CALLWNDPROC。lpfn和hMod分别指向我们的钩子代码及其所在的dll，dwThreadId设为0，表示对所有系统内的线程都挂上这样一个hook，这样我们才能把代码放到别的进程里去。</p><p>之后，我们的代码就已经进入了系统内的所有进程空间了。必须注意的是，我们只需要截获我们所关心的目标程序的调用，因此还必须区分一下进程号。我们自己的钩子函数中，第一次运行将进行最重要的API重定向的工作。也就是通过将所需要截获的API的开头几个字节改为一个跳转指令，使其跳转到我们的API中来。这是最关键的部分。这里我想截三个调用，ws2_32.dll中的send和recv、user32.dll中的GetMessageA。</p><p>DWORD dwCurrentPID = 0;&nbsp;</p><p>HHOOK hOldHook = NULL;&nbsp;</p><p>DWORD pSend = 0;&nbsp;</p><p>DWORD pRecv = 0;&nbsp;</p><p>GETMESSAGE pGetMessage = NULL;</p><p>BYTE btNewBytes[8] = { 0x0B8, 0x0, 0x0, 0x40, 0x0, 0x0FF, 0x0E0, 0 };&nbsp;</p><p>DWORD dwOldBytes[3][2];</p><p>HANDLE hDebug = INVALID_HANDLE_value;</p><p>LRESULT CALLBACK CallWndProc( int nCode, WPARAM wParam, LPARAM lParam )&nbsp;</p><p>{&nbsp;</p><p>DWORD dwSize;&nbsp;</p><p>DWORD dwPIDWatched;&nbsp;</p><p>HMODULE hLib;</p><p>if( dwCurrentPID == 0 )&nbsp;</p><p>{&nbsp;</p><p>dwCurrentPID = GetCurrentProcessId();&nbsp;</p><p>HWND hwndMainHook;&nbsp;</p><p>hwndMainHook = ::FindWindow( 0, &quot;MainHook&quot; );&nbsp;</p><p>dwPIDWatched = ::SendMessage( hwndMainHook, (WM_USER+100), 0, 0 );&nbsp;</p><p>hOldHook = (HHOOK)::SendMessage( hwndMainHook, (WM_USER+101), 0, 0 );</p><p>if( dwCurrentPID == dwPIDWatched )&nbsp;</p><p>{&nbsp;</p><p>hLib = LoadLibrary( &quot;ws2_32.dll&quot; );&nbsp;</p><p>pSend = (DWORD)GetProcAddress( hLib, &quot;send&quot; );&nbsp;</p><p>pRecv = (DWORD)GetProcAddress( hLib, &quot;recv&quot; );</p><p>::ReadProcessMemory( INVALID_HANDLE_value, (void *)pSend, (void *)dwOldBytes[0], sizeof(DWORD)*2, &amp;dwSize );&nbsp;</p><p>*(DWORD *)( btNewBytes + 1 ) = (DWORD)new_send;&nbsp;</p><p>::WriteProcessMemory( INVALID_HANDLE_value, (void *)pSend, (void *)btNewBytes, sizeof(DWORD)*2, &amp;dwSize );</p><p>&nbsp;</p><p>::ReadProcessMemory( INVALID_HANDLE_value, (void *)pRecv, (void *)dwOldBytes[1], sizeof(DWORD)*2, &amp;dwSize );&nbsp;</p><p>*(DWORD *)( btNewBytes + 1 ) = (DWORD)new_recv;&nbsp;</p><p>::WriteProcessMemory( INVALID_HANDLE_value, (void *)pRecv, (void *)btNewBytes, sizeof(DWORD)*2, &amp;dwSize );</p><p>hLib = LoadLibrary( &quot;user32.dll&quot; );&nbsp;</p><p>pGetMessage = (GETMESSAGE)GetProcAddress( hLib, &quot;GetMessageA&quot; );&nbsp;</p><p>::ReadProcessMemory( INVALID_HANDLE_value, (void *)pGetMessage, (void *)dwOldBytes[2], sizeof(DWORD)*2, &amp;dwSize );&nbsp;</p><p>*(DWORD *)( btNewBytes + 1 ) = (DWORD)new_GetMessage;&nbsp;</p><p>::WriteProcessMemory( INVALID_HANDLE_value, (void *)pGetMessage, (void *)btNewBytes, sizeof(DWORD)*2, &amp;dwSize );</p><p>hDebug = ::CreateFile( &quot;C:\\\\Trace.log&quot;, GENERIC_WRITE, 0, 0, CREATE_ALWAYS, FILE_ATTRIBUTE_NORMAL, 0 );&nbsp;</p><p>}&nbsp;</p><p>}</p><p>if( hOldHook != NULL )&nbsp;</p><p>{&nbsp;</p><p>return CallNextHookEx( hOldHook, nCode, wParam, lParam );&nbsp;</p><p>}</p><p>return 0;&nbsp;</p><p>}</p><p>上面的钩子函数，只有第一次运行时有用，就是把三个函数的首8字节修改一下（实际上只需要7个）。btNewBytes中的指令实际就是&nbsp;</p><p>mov eax, 0x400000&nbsp;</p><p>jmp eax&nbsp;</p><p>这里的0x400000就是新的函数的地址，比如new_recv/new_send/new_GetMessage，此时，偷梁换柱已经完成。再看看我们的函数中都干了些什么。以GetMessageA为例：</p><p>BOOL _stdcall new_GetMessage( LPMSG lpMsg, HWND hWnd, UINT wMsgFilterMin, UINT wMsgFilterMax )&nbsp;</p><p>{&nbsp;</p><p>DWORD dwSize;&nbsp;</p><p>char szTemp[256];&nbsp;</p><p>BOOL r = false;</p><p>//Watch here before it&#39;s executed.&nbsp;</p><p>sprintf( szTemp, &quot;Before GetMessage : HWND 0x%8.8X, msgMin 0x%8.8X, msgMax 0x%8.8x \\r\\n&quot;, hWnd, wMsgFilterMin, wMsgFilterMax );&nbsp;</p><p>::WriteFile( hDebug, szTemp, strlen(szTemp), &amp;dwSize, 0 );&nbsp;</p><p>//Watch over</p><p>// restore it at first&nbsp;</p><p>::WriteProcessMemory( INVALID_HANDLE_value, (void *)pGetMessage, (void *)dwOldBytes[2], sizeof(DWORD)*2, &amp;dwSize );</p><p>// execute it&nbsp;</p><p>r = pGetMessage( lpMsg, hWnd, wMsgFilterMin, wMsgFilterMax );</p><p>// hook it again&nbsp;</p><p>*(DWORD *)( btNewBytes + 1 ) = (DWORD)new_GetMessage;&nbsp;</p><p>::WriteProcessMemory( INVALID_HANDLE_value, (void *)pGetMessage, (void *)btNewBytes, sizeof(DWORD)*2, &amp;dwSize );</p><p>//Watch here after it&#39;s executed&nbsp;</p><p>sprintf( szTemp, &quot;Result of GetMessage is %d.\\r\\n&quot;, r );&nbsp;</p><p>::WriteFile( hDebug, szTemp, strlen( szTemp ), &amp;dwSize, 0 );&nbsp;</p><p>if( r )&nbsp;</p><p>{&nbsp;</p><p>sprintf( szTemp, &quot;Msg : HWND 0x%8.8X, MSG 0x%8.8x, wParam 0x%8.8X, lParam 0x%8.8X\\r\\nTime 0x%8.8X, X %d, Y %d\\r\\n&quot;,&nbsp;</p><p>lpMsg-&gt;hwnd, lpMsg-&gt;message,&nbsp;</p><p>lpMsg-&gt;wParam, lpMsg-&gt;lParam, lpMsg-&gt;time,&nbsp;</p><p>lpMsg-&gt;pt.x, lpMsg-&gt;pt.y );&nbsp;</p><p>::WriteFile( hDebug, szTemp, strlen( szTemp ), &amp;dwSize, 0 );&nbsp;</p><p>}&nbsp;</p><p>strcpy( szTemp, &quot;\\r\\n&quot; );&nbsp;</p><p>::WriteFile( hDebug, szTemp, strlen( szTemp ), &amp;dwSize, 0 );</p><p>//Watch over</p><p>return r;&nbsp;</p><p>}</p><p>先将截获下来的参数，写入到一个log文件中，以便分析。然后恢复原先保留下来的GetMessageA的首8字节，然后执行真正的GetMessageA调用，完毕后再将执行结果也写入log文件，然后将GetMessageA的执行结果返回给调用者。&nbsp;</p><p>整个截获的过程就是这样。你可以把其中的写log部分改成你自己想要的操作。这里有个不足的地方是，截获动作是不能够并发进行的，如果目标进程是多线程的，就会有问题。解决办法是，可以在每次new_GetMessage中加入一个CriticalSection的锁和解锁，以使调用变为串行进行，但这个我没有试验过。&nbsp;</p><p><br/></p>','2013-12-05 06:32:13','2013-12-05 14:32:13'),(66,'14.222.31.2',20,'播放声音','<p><span style=\"font-family: verdana, sans-serif; font-size: 14px; line-height: 24px;  background-color: rgb(255, 255, 255);\">CreateObject(&quot;SAPI.SpVoice&quot;).Speak &quot;I love YOU&quot;</span></p>','2013-12-05 06:33:10','2013-12-05 14:33:10'),(67,'27.44.200.112',77,'sqlite3命令行使用','<h3 style=\"padding: 0px 0px 0px 10px; margin: 0px 10px 0px 0px; font-size: medium; display: inline; font-family: verdana, sans-serif; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255); color: green; border-left-style: solid; border-left-color: rgb(220, 220, 233); border-left-width: 2px; border-bottom-width: 0.1em; border-bottom-style: solid; border-bottom-color: rgb(220, 220, 233);\">创建数据库</h3><pre style=\"padding: 0.5em; margin: 0px 1em; overflow: auto; word-wrap: break-word; word-break: break-all; font-size: 14px; line-height: 24px; background-color: rgb(255, 255, 255); border: 0.1em solid rgb(220, 220, 233); font-family: monospace, sans-serif; max-height: 3in;\">sqlite3&nbsp;test.db&nbsp;&nbsp;#&nbsp;当前目录下如果有&nbsp;test.db&nbsp;，那么就读取这个文件，否则创建。\r\nsqlite&gt;&nbsp;create&nbsp;table&nbsp;mytable(name&nbsp;varchar&nbsp;(40),&nbsp;age&nbsp;smallint);\r\nsqlite&gt;&nbsp;insert&nbsp;into&nbsp;mytable&nbsp;values&nbsp;(&#39;Jian&nbsp;Lee&#39;,23);\r\nsqlite&gt;&nbsp;select&nbsp;*&nbsp;from&nbsp;mytable;</pre><h4 style=\"padding: 0px 0px 0px 10px; margin: 0px; font-size: medium; font-family: verdana, sans-serif; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(156, 76, 23);\">导出数据库（输出 SQL 指令）</h4><pre style=\"padding: 0.5em; margin: 0px 1em; overflow: auto; word-wrap: break-word; word-break: break-all; font-size: 14px; line-height: 24px; background-color: rgb(255, 255, 255); border: 0.1em solid rgb(220, 220, 233); font-family: monospace, sans-serif; max-height: 3in;\"><span style=\"font-size:2px\">root@~/# sqlite3 test.db &quot;.dump&quot; &nbsp;&gt; test.sql\r\nroot@~/# cat test.sql</span><span style=\"font-size:3px\"><br/></span></pre><h4 style=\"padding: 0px 0px 0px 10px; margin: 0px; font-size: medium; font-family: verdana, sans-serif; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(156, 76, 23);\">导入数据库（用上面倒出的 SQL 语句）</h4><pre style=\"padding: 0.5em; margin: 0px 1em; overflow: auto; word-wrap: break-word; word-break: break-all; font-size: 14px; line-height: 24px; background-color: rgb(255, 255, 255); border: 0.1em solid rgb(220, 220, 233); font-family: monospace, sans-serif; max-height: 3in;\">root@~/#&nbsp;sqlite3&nbsp;重建数据库.db&nbsp;&lt;&nbsp;test.sql\r\nroot@~/#&nbsp;sqlite3&nbsp;重建数据库.db&nbsp;&quot;select&nbsp;*&nbsp;from&nbsp;数据库;&quot;</pre><h4 style=\"padding: 0px 0px 0px 10px; margin: 0px; font-size: medium; font-family: verdana, sans-serif; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(156, 76, 23);\">查询数据库结构<span style=\"color: rgb(111, 122, 159);\">列出所有数据表 (.tables)</span></h4><p><span style=\"font-family: verdana, sans-serif; line-height: 24px;  background-color: rgb(255, 255, 255); font-size: medium;\"></span></p><pre style=\"padding: 0.5em; margin: 0px 1em; overflow: auto; word-wrap: break-word; word-break: break-all; border: 0.1em solid rgb(220, 220, 233); font-family: monospace, sans-serif; max-height: 3in;\">sqlite&gt;&nbsp;.tables</pre><p></p><h4 style=\"padding: 0px 0px 0px 10px; margin: 0px; font-size: medium; font-family: verdana, sans-serif; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255); color: rgb(156, 76, 23);\">输出 HTML 表格</h4><p><span style=\"font-family: verdana, sans-serif; line-height: 24px;  background-color: rgb(255, 255, 255); font-size: medium;\"></span></p><pre style=\"padding: 0.5em; margin: 0px 1em; overflow: auto; word-wrap: break-word; word-break: break-all; border: 0.1em solid rgb(220, 220, 233); font-family: monospace, sans-serif; max-height: 3in;\">root@~/#&nbsp;sqlite3&nbsp;-html&nbsp;test.db&nbsp;&quot;select&nbsp;*&nbsp;from&nbsp;数据库;&quot;</pre><p></p><p><br/></p>','2013-12-05 06:33:39','2017-09-19 07:27:10'),(70,'14.222.31.2',21,'mysql数据库双向同步','<p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">主从关系的同步<br/>master端 192.168.5.10<br/>&nbsp;&nbsp;&nbsp; slave端&nbsp; 192.168.5.4<br/>&nbsp;<br/>修改master端的/etc/my.cnf文件<br/>[mysqld]:<br/>log-bin<br/>server-id = 1</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">进入mysql</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">创建一个要同步的数据库abc<br/>&nbsp;create database abc;</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">创建一个用来同步的用户,指定只能在192.168.5.4登录<br/>grant file on *.* to&nbsp;<a href=\"mailto:bak@&#39;192.168.5.4\" target=\"_blank\" style=\"color: rgb(7, 87, 140); cursor: pointer; outline: none;\">bak@&#39;192.168.5.4</a>&nbsp;identified by &#39;123456&#39;;&nbsp;<br/>grant all privileges on backup.* to&nbsp;<a href=\"mailto:bak@xn--192-qo0a.168.5.xn--4-jhn\" target=\"_blank\" style=\"color: rgb(7, 87, 140); cursor: pointer; outline: none;\">bak@’192.168.5.4’</a>&nbsp;identified by ‘123456’;<br/>flush privileges;</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">重启mysql</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">修改slave端的/etc/my.cnf文件<br/>[mysqld]:<br/>server_id = 2<br/>log-bin = mysql-bin<br/>master-host = 192.168.5.10<br/>master-user = bak<br/>master-password = &#39;123456&#39; (如果为空也要打上两个单引号)<br/>master-port = 3306 (根据具体设置的端口号填)<br/>master-connect-retry = 10 连接重试次数<br/>replicate-do-db = abc 要接收的数据库名，如果有多个数据库，每个数据库一行<br/>replicate-ignore-db= mysql&nbsp;&nbsp; 设置不要接收的数据库，每个数据库一行&nbsp;&nbsp; （一般这条可以不写）</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">重启mysql<br/>slave start;</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">配置成功后会在mysql目录下生成master.info,如果要更改slave设置,要先将master.info删除,才会起作用。<br/>然后进入mysql用show slave status 或show master status 查看同步情况</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">3、 双向同步</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;master端的设置<br/>[mysqld]:&nbsp;<br/>log-bin<br/>server-id = 1<br/>sql-bin-update-same 同步模式 ，在mysql5以上的版本都不需要这句，否则会启动不了</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">mysql服务<br/>binlog-do-db= abc&nbsp;&nbsp;&nbsp; 设置同步数据库，如果有多个数据库，每个数据库一行<br/>&nbsp;binlog-ignore-db = mysql 设置不要同步的数据库，如有多个数据库，每个数据库一行<br/>master-host=192.168.5.4<br/>master-user=bak<br/>master-password=&#39;123456&#39;<br/>master-port=3306<br/>master-connect-retry=10<br/>replicate-do-db=abc&nbsp;&nbsp; 设置要接收的数据库，如有多个数据库，每个数据库一行<br/>replicate-ignore-db= mysql&nbsp;&nbsp; 设置不要接收的数据库，每个数据库一行&nbsp;&nbsp; （一般这条可以不写）<br/>log-slave-updates&nbsp;&nbsp;&nbsp; 在mysql5以上的版本都不需要这句</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">进入mysql<br/>创建一个数据库abc<br/>create database abc;<br/>创建一个用来同步的用户,指定只能在192.168.5.4登录<br/>grant file on *.* to&nbsp;<a href=\"mailto:bak@&#39;192.168.5.4\" target=\"_blank\" style=\"color: rgb(7, 87, 140); cursor: pointer; outline: none;\">bak@&#39;192.168.5.4</a>&nbsp;identified by &#39;123456&#39;;<br/>重启mysql服务<br/>slave start;<br/>&nbsp;<br/>slave设置<br/>log-bin<br/>server-id = 2<br/>binlog-do-db= abc&nbsp;&nbsp;&nbsp; 设置同步数据库，如果有多个数据库，每个数据库一行<br/>binlog-ignore-db = mysql 设置不要同步的数据库，如有多个数据库，每个数据库一行<br/>sql-bin-update-same&nbsp;&nbsp; 同步模式 ，在mysql5以上的版本都不需要这句，否则会启动不了mysql服务&nbsp;<br/>master-host=192.168.5.10<br/>master-user= bak<br/>master-password=&#39;123456&#39;<br/>master-port=3306<br/>master-connect-retry=10<br/>replicate-do-db=abc&nbsp;&nbsp; 设置要接收的数据库，如有多个数据库，每个数据库一行<br/>replicate-ignore-db= mysql&nbsp;&nbsp; 设置不要接收的数据库，每个数据库一行&nbsp;&nbsp; （一般这条可以不写）<br/>log-slave-updates&nbsp;&nbsp; 在mysql5以上的版本都不需要这句</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">进入mysql<br/>&nbsp;创建一个数据库abc<br/>create database abc;</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">创建一个用来同步的用户,指定只能在192.168.5.10登录<br/>grant file on *.* to&nbsp;<a href=\"mailto:bak@&#39;192.168.5.10\" target=\"_blank\" style=\"color: rgb(7, 87, 140); cursor: pointer; outline: none;\">bak@&#39;192.168.5.10</a>&nbsp;identified by &#39;123456&#39;;<br/>重启mysql服务<br/>&nbsp;slave start;<br/>&nbsp;<br/>注意，如果有一端修改了数据后，另一端接收不到，手工执行命令load data from master;就可以了<br/>&nbsp;<br/>如果因为误删了二进制日志文件导致无法同步，则执行<br/>reset slave;<br/>stop slave;<br/>start slave;</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">三、可能遇到的问题<br/>&nbsp;&nbsp;&nbsp; 1、my.ini是WINDOWS系统下的mysql配置文件，而在linux系统下该文件会命名为my.cnf。此文件修改后mysql必须重启才能生效。在用PDM方式安装mysql的时候，在系统的默认位置/etc/my,cnf会找不到my.cnf文件，此时mysql则会去读mysql/support-files/my-medium.cnf这个位置的文件来进行初始化设置，因此可以直接把后一个文件拷到前面的默认位置。</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp; 2、配置完后，可以用“mysql –u root -p”命令进行sql环境，用“show master status”及”show slave status”命令查看主用和备用进程的运行情况，可以发现问题。同时可以用”show variables”来查看系统设置的变量。Slave进程有两个线程非常重要，分别是“Slave_IO_Running和&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Slave_SQL_Running”。必须都启动。</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp; 3、如果配置完了但没有同步，可以查/var/lib/mysql/localhost.localdomain.err下的这个错误日志。日志以主机名命名，不同的机器可能不一样，不同的安装路径也会导致前面的路径不同。在此日志里会详细提示发生的错误，根据错误在网上查询或者分析配置，基本上就能解决大部分问题了。</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp; 4、如果修改了主服务器的配置，记得删除从服务器上的master.info文件。否则从服务器使用的还是老配置，可能会导致错误。这是因为从服务器会直接把master.info文件中的内容去替代my.cnf中的配置。</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp; 5、单向同步的时候，有可能报“[ERROR] Slave: Error &#39;Duplicate entry &#39;589&#39; for key 1&#39; on query. Default database: plication_master&#39;. Query: &#39;insert into as_card_type values (&#39;589&#39;,&#39;sdddddsd&#39;,25,&#39;dfsdfd&#39;)&#39;, Error_code: 1062”错，这时到数据库里去把该条数据删除即可。因为导致报此错的原因是数据库内已有此条数据，而二进制文件又要求再插入一条此数据。发生此错误后一般会终止slave进程。</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp; 6、错误“[ERROR] Failed to open the relay log &#39;./localhost-relay-bin.000609&#39; (relay_log_pos 288)”，此错误的解决方法为：</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　-&gt; stop mysql on the slave server<br/>　-&gt; find the directory that contains the relay logs (usually /var/lib/mysql)<br/>　-&gt; delete all relay logs called hostname-relay-bin.XXX, hostname-relay-bin.index and relay-log.info<br/>　-&gt; restart mysql</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　我觉得发生此错误的原因是读本地二进制日志出问题，那么就把本地日志删除，强制去读主机的日志信息。　</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; 7、有时候数据库同步自己会停下来，原因是发生了错误。那么用下面的语句可以避免这个问题。</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　#出现错误后忽略，如果不加这个，出现任何错误，同步进程会终止<br/>　slave-skip-errors=all</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　8、有人说此选项重要，我觉得此选项不过是让从机日志记载了所有的操作，将来便于恢复或者回滚。我觉得可以不用。</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　log-slave-updates //当Slave从Master数据库读取日志时将跟新写入日志中&nbsp;<br/>　log-bin 用于启动数据库的跟新日记，当针对启动这个选项的数据库本身进行数据跟新时更新操作将被记录。log-slave-updates 告诉Slave在二进制记录中记录从主数据库同步到的更新数据。如果只启动log-bin 而没有启动log-slave-updates则Slave只记录针对自己数据库操作的更新。</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; 9、今天又碰到一个错误：前段时间还同步的很正常的系统今天四台全部失效，重启后报<span style=\"color:#ff0000\">“Warning: World-writable config file &#39;/etc/my.cnf &#39; is ignored ”。</span>我估计是我以前把my.cnf文件权限全设成了666，所以系统认为危险，跳过去没有读，于是我用chmod 660重设了一下，果然没有再报此错，一切正常了。</p><p><br/></p>','2013-12-05 06:35:55','2013-12-05 14:35:55'),(72,'59.39.219.115',21,'mysql timestamp默认时间','<p style=\"padding: 0px; line-height: 24px; font-family: verdana, sans-serif; font-size: 14px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\">SQL用 now()</p><p style=\"padding: 0px; line-height: 24px; font-family: verdana, sans-serif; font-size: 14px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;</p><p style=\"padding: 0px; line-height: 24px; font-family: verdana, sans-serif; font-size: 14px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\">数据填 CURRENT_TIMESTAMP</p><p><br/></p>','2013-12-05 06:36:28','2014-03-08 09:25:59'),(73,'14.222.31.2',24,'带宽转Q值','<p>值的转换公式 Q = 1/(2*sinh(0.34657359*((val*0.01)+0.05)));val 的范围是：0－－295 &nbsp;</p><p>//带宽用数值0~295表示，代表宽度值0.05oct~3.00oct，这个带宽范围对应的Q值见下表:</p><p>static const float EQ_Q_TABLE_295[] ={</p><p>&nbsp; &nbsp; 28.852,24.043,20.608,18.031,16.027,14.424,</p><p>&nbsp; &nbsp; 13.112,12.019,11.094,10.301,9.614,9.012,8.482,8.010,7.588,7.208,6.864,6.551,</p><p>&nbsp; &nbsp; 6.266,6.004,5.764,5.541,5.336,5.144,4.966,4.800,4.645,4.499,4.362,4.233,4.112,</p><p>&nbsp; &nbsp; 3.997,3.889,3.786,3.688,3.595,3.507,3.423,3.343,3.266,3.193,3.123,3.056,2.992,</p><p>&nbsp; &nbsp; 2.930,2.871,2.814,2.759,2.707,2.656,2.607,2.560,2.515,2.471,2.428,2.387,2.348,</p><p>&nbsp; &nbsp; 2.309,2.272,2.236,2.201,2.167,2.134,2.102,2.071,2.041,2.012,1.983,1.955,1.928,</p><p>&nbsp; &nbsp; 1.902,1.877,1.852,1.827,1.804,1.780,1.758,1.736,1.714,1.693,1.673,1.653,1.633,</p><p>&nbsp; &nbsp; 1.614,1.596,1.577,1.559,1.542,1.525,1.508,1.492,1.475,1.460,1.444,1.429,1.414,</p><p>&nbsp; &nbsp; 1.400,1.385,1.371,1.358,1.344,1.331,1.318,1.305,1.293,1.280,1.268,1.256,1.245,</p><p>&nbsp; &nbsp; 1.233,1.222,1.211,1.200,1.189,1.179,1.168,1.158,1.148,1.138,1.128,1.119,1.109,</p><p>&nbsp; &nbsp; 1.100,1.091,1.082,1.073,1.064,1.056,1.047,1.039,1.031,1.023,1.015,1.007,0.999,</p><p>&nbsp; &nbsp; 0.991,0.984,0.976,0.969,0.961,0.954,0.947,0.940,0.933,0.927,0.920,0.913,0.907,</p><p>&nbsp; &nbsp; 0.900,0.894,0.887,0.881,0.875,0.869,0.863,0.857,0.851,0.845,0.840,0.834,0.828,</p><p>&nbsp; &nbsp; 0.823,0.817,0.812,0.807,0.801,0.796,0.791,0.786,0.781,0.776,0.771,0.766,0.761,</p><p>&nbsp; &nbsp; 0.757,0.752,0.747,0.742,0.738,0.733,0.729,0.724,0.720,0.716,0.711,0.707,0.703,</p><p>&nbsp; &nbsp; 0.699,0.695,0.690,0.686,0.682,0.678,0.674,0.671,0.667,0.663,0.659,0.655,0.652,</p><p>&nbsp; &nbsp; 0.648,0.644,0.641,0.637,0.633,0.630,0.626,0.623,0.620,0.616,0.613,0.609,0.606,</p><p>&nbsp; &nbsp; 0.603,0.600,0.596,0.593,0.590,0.587,0.584,0.581,0.577,0.574,0.571,0.568,0.565,</p><p>&nbsp; &nbsp; 0.563,0.560,0.557,0.554,0.551,0.548,0.545,0.543,0.540,0.537,0.534,0.532,0.529,</p><p>&nbsp; &nbsp; 0.526,0.524,0.521,0.518,0.516,0.513,0.511,0.508,0.506,0.503,0.501,0.498,0.496,</p><p>&nbsp; &nbsp; 0.493,0.491,0.489,0.486,0.484,0.482,0.479,0.477,0.475,0.473,0.470,0.468,0.466,</p><p>&nbsp; &nbsp; 0.464,0.461,0.459,0.457,0.455,0.453,0.451,0.449,0.447,0.445,0.442,0.440,0.438,</p><p>&nbsp; &nbsp; 0.436,0.434,0.432,0.430,0.428,0.427,0.425,0.423,0.421,0.419,0.417,0.415,0.413,</p><p>&nbsp; &nbsp; 0.411,0.410,0.408,0.406,0.404};</p><p>//将Q值分成295段的转换</p><p>static float zhAudioQToOct295(float f)</p><p>{</p><p>&nbsp; &nbsp; int i;</p><p>&nbsp; &nbsp; float tmp;</p><p>&nbsp; &nbsp; if (f&lt;0.404) {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; return 0;</p><p>&nbsp; &nbsp; }</p><p>&nbsp; &nbsp; if (f&gt;28.852) {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; return 0;</p><p>&nbsp; &nbsp; }</p><p>&nbsp; &nbsp;&nbsp;</p><p>&nbsp; &nbsp; for (i=0; i&lt;=295; i++) {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; tmp=EQ_Q_TABLE_295[i];</p><p>&nbsp; &nbsp; &nbsp; &nbsp; if (f&gt;=tmp) {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return i;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; }</p><p>&nbsp; &nbsp; }</p><p>&nbsp; &nbsp; return 0;</p><p>}</p><p>//将Q值分成295段的转换</p><p>static float zhAudioOctToQ295(int n)</p><p>{</p><p>&nbsp; &nbsp; return EQ_Q_TABLE_295[n];</p><p>}</p><p><br/></p>','2013-12-05 07:46:38','2013-12-05 15:46:38'),(74,'192.168.3.1',28,'蓝白屏LCD12864液晶','<p><span style=\"font-family: verdana, sans-serif; font-size: 14px; line-height: 24px;  background-color: rgb(255, 255, 255);\">黑白屏夜光--------------LCD12864</span></p>','2013-12-05 07:47:47','2015-08-08 13:27:18'),(75,'14.222.31.2',29,'57步进','<p><span style=\"font-family: verdana, sans-serif; line-height: 24px;  background-color: rgb(255, 255, 255); font-size: 12px;\">一般国内的步进电机都是四线，日本的步进电机是六线，其实日本电机多出来的白线和黑线是高速接口线，也就是说如果在需要高速运行，低负载的情况下就可以接通着两根线。而需要大力矩时就把白改接红，黑改接黄。日本设备可能在内部就有数控切换不需要手工换线。国内步进电机生产商屏蔽了此项功能，而且对外宣传6线是老的接法，4线的更好，其实是为了降低成本。</span></p><p><span style=\"color:#444444;font-family:Tahoma, Helvetica, SimSun, sans-serif\"><span style=\"font-size: 12px;\">红 &nbsp; &nbsp; &nbsp;白 &nbsp; &nbsp; &nbsp; 绿</span></span></p><p><span style=\"font-size: 12px;\">|_____|_____|</span></p><p><span style=\"font-size: 12px;\"><br/></span></p><p><span style=\"font-size: 12px;\">|---------|---------|<br/>黄 &nbsp; &nbsp; &nbsp;黑 &nbsp; &nbsp; &nbsp; 蓝</span></p><p><span style=\"font-size: 12px;\"><br/></span></p><p><span style=\"font-size: 12px;\"><br/></span></p><p><span style=\"color:#444444;font-family:Tahoma, Helvetica, SimSun, sans-serif\"><span style=\"font-size: 12px;\">红 &nbsp; &nbsp; &nbsp;绿</span></span></p><p><span style=\"font-size: 12px;\">|_____|</span></p><p><span style=\"font-size: 12px;\"><br/></span></p><p><span style=\"font-size: 12px;\">|---------|</span></p><p><span style=\"font-size: 12px;\">黄 &nbsp; &nbsp; &nbsp; 蓝</span></p><p><br/></p>','2013-12-05 07:48:23','2013-12-05 15:48:23'),(76,'14.222.31.2',28,'控制步进电机','<p><span style=\"font-weight: bold; font-family: verdana, sans-serif; font-size: small; line-height: 24px;  background-color: rgb(255, 255, 255);\">L298N</span><span style=\"font-family: verdana, sans-serif; font-size: small; line-height: 24px;  background-color: rgb(255, 255, 255);\">,</span><span style=\"font-weight: bold; font-family: verdana, sans-serif; font-size: small; line-height: 24px;  background-color: rgb(255, 255, 255);\">L298P &nbsp; &nbsp;-----控制电流正反,用来控制步进电机</span></p>','2013-12-05 07:49:21','2013-12-05 15:49:21'),(77,'14.217.210.129',28,'LDO模块低压差线性稳压器','<p><span style=\"font-family: verdana, sans-serif; font-size: small; line-height: 24px;  background-color: rgb(255, 255, 255);\"></span></p><p style=\"white-space: normal;\"><span style=\"font-family: verdana, sans-serif; font-size: small; line-height: 24px; background-color: rgb(255, 255, 255);\">AMS1117</span></p><p style=\"white-space: normal;\"><span style=\"font-family: verdana, sans-serif; font-size: small; line-height: 24px; background-color: rgb(255, 255, 255);\"></span></p><p style=\"white-space: normal;\"><span style=\"font-family: verdana, sans-serif; font-size: small; line-height: 24px; background-color: rgb(255, 255, 255);\">http://item.taobao.com/item.htm?spm=a1z10.3.w4-6568458531.25.Sd4B1z&amp;id=14026330454</span></p><p><span style=\"font-family: verdana, sans-serif; font-size: small; line-height: 24px;  background-color: rgb(255, 255, 255);\"><br/></span><br/></p><p><span style=\"font-family: verdana, sans-serif; font-size: small; line-height: 24px;  background-color: rgb(255, 255, 255);\">-------------------------------------------------</span></p><p><span style=\"font-family: verdana, sans-serif; font-size: small; line-height: 24px;  background-color: rgb(255, 255, 255);\">1117,62410,6206a30,a33 &nbsp; &nbsp;---------LDO模块低压差线性稳压器,6206a30和a33是5v转3.3v,6206a30常用</span></p>','2013-12-05 07:49:47','2014-07-06 07:41:41'),(79,'14.222.31.2',28,'usb转TTL','<p><span style=\"font-family: verdana, sans-serif; font-size: small; line-height: 24px;  background-color: rgb(255, 255, 255);\">PL2303,CP210x &nbsp; -------usb转TTL</span></p>','2013-12-05 07:50:45','2013-12-05 15:50:45'),(80,'192.168.2.200',28,'WIFI芯片','<p>///////////////////////////////////////////////////////////////////////<br/></p><h3 class=\"tb-main-title\" data-title=\"MT7681串口WIFI模块 UART转WIFI无线模块智能控制MTK7681 HLK-M35\" style=\"margin: 0px; padding: 0px; font-size: 16px; min-height: 21px; line-height: 21px; color: rgb(60, 60, 60); font-family: tahoma, arial, &#39;Hiragino Sans GB&#39;, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">MT7681串口WIFI模块 UART转WIFI无线模块智能控制MTK7681 HLK-M35</h3><p><a href=\"http://item.taobao.com/item.htm?spm=a230r.1.14.46.0DahFz&amp;id=42218128679&amp;ns=1&amp;abbucket=17#detail&amp;qq-pf-to=pcqq.c2c\" _src=\"http://item.taobao.com/item.htm?spm=a230r.1.14.46.0DahFz&amp;id=42218128679&amp;ns=1&amp;abbucket=17#detail&amp;qq-pf-to=pcqq.c2c\">http://item.taobao.com/item.htm?spm=a230r.1.14.46.0DahFz&amp;id=42218128679&amp;ns=1&amp;abbucket=17#detail&amp;qq-pf-to=pcqq.c2c</a> </p><p><br/></p><p>应用电路</p><p><img src=\"/my/notes/js/ue/php/upload_img/20160130/14541589471016.jpg\" title=\"TB2EFkfcFXXXXb_XpXXXXXXXXXX-64659442.jpg\"/></p><p>//////////////////////////////////////////////////////////////////////////////</p><p><strong>ESP8266串口WIFI 价格20元</strong></p><p><strong><br/></strong><a href=\"http://item.taobao.com/item.htm?id=40328222213&amp;ali_refid=a3_420434_1006:1104375501:N:wifi+%BF%AA%B7%A2:1384d5c5a0375d15ef7dfb8ac9d77318&amp;ali_trackid=1_1384d5c5a0375d15ef7dfb8ac9d77318&amp;spm=a230r.1.0.0.Ex2aRc\" _src=\"http://item.taobao.com/item.htm?id=40328222213&amp;ali_refid=a3_420434_1006:1104375501:N:wifi+%BF%AA%B7%A2:1384d5c5a0375d15ef7dfb8ac9d77318&amp;ali_trackid=1_1384d5c5a0375d15ef7dfb8ac9d77318&amp;spm=a230r.1.0.0.Ex2aRc\">http://item.taobao.com/item.htm?id=40328222213&amp;ali_refid=a3_420434_1006:1104375501:N:wifi+%BF%AA%B7%A2:1384d5c5a0375d15ef7dfb8ac9d77318&amp;ali_trackid=1_1384d5c5a0375d15ef7dfb8ac9d77318&amp;spm=a230r.1.0.0.Ex2aRc</a></p><p><br/></p><p><br/></p>','2013-12-05 07:51:02','2016-01-30 21:02:59'),(81,'59.39.152.232',28,'以太网控制芯片','<p><span style=\"line-height: 24px; font-family: verdana, sans-serif; font-size: 14px; background-color: rgb(255, 255, 255);\">DM9000AEP&nbsp; ----------以太网控制芯片</span></p><p><span style=\"line-height: 24px; font-family: verdana, sans-serif; font-size: 14px; background-color: rgb(255, 255, 255);\">Enc28j60<span style=\"font-family: Verdana;\">----------</span> SPI数据接口,需要驱动,体积小,价格8元左右</span></p>','2013-12-05 07:51:18','2014-03-13 13:32:45'),(82,'192.168.2.200',26,'使用外部时钟','<p>----------------------------------------------------------</p><pre class=\"brush:cpp;toolbar:false\">void&nbsp;CLK_init(void)&nbsp;&nbsp;//内部时钟\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;CLK_ECKR&nbsp;|=0x0;&nbsp;//不启用外部时钟&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CLK_CKDIVR&nbsp;=&nbsp;0x08;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;时钟8M\r\n&nbsp;&nbsp;&nbsp;&nbsp;while(0&nbsp;==&nbsp;CLK_SWCR&nbsp;&amp;&nbsp;0x8);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CLK_CSSR=0x01;//时钟安全系统寄存器&nbsp;&nbsp;\r\n}</pre><p style=\"padding: 0px; line-height: 24px; font-family: verdana, sans-serif; font-size: 14px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p><font face=\"verdana, sans-serif\"><span style=\"font-size: 14px; line-height: 24px; background-color: rgb(255, 255, 255);\">-----------------------------------------------------------------------------</span></font></p><pre class=\"brush:cpp;toolbar:false\">void&nbsp;CLK_Init(void)&nbsp;&nbsp;&nbsp;&nbsp;//外部时钟\r\n{\r\n&nbsp;&nbsp;CLK_ECKR|=0x1;//开启外部时钟\r\n&nbsp;&nbsp;while(!(CLK_ECKR&amp;0x2));//等待外部时钟rdy\r\n&nbsp;&nbsp;CLK_CKDIVR&amp;=0xF8;//CPU无分频\r\n&nbsp;&nbsp;CLK_SWR=0xB4;//选择外部时钟\r\n&nbsp;&nbsp;while(!(CLK_SWCR&amp;0x8));//这里要等\r\n&nbsp;&nbsp;CLK_SWCR|=0x2;//使能外部时钟\r\n&nbsp;&nbsp;CLK_CSSR=0x01;//时钟安全系统寄存器&nbsp;&nbsp;&nbsp;&nbsp;\r\n}</pre><p><span style=\"font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; background-color: rgb(255, 255, 255);\"></span><br/></p>','2013-12-05 07:55:17','2016-02-22 00:13:06'),(83,'192.168.2.200',26,'GPIO输入输出','<p style=\"padding: 0px; line-height: 24px; font-family: verdana, sans-serif; font-size: 14px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\">#include &lt;iostm8s103f3.h&gt;</p><p style=\"padding: 0px; line-height: 24px; font-family: verdana, sans-serif; font-size: 14px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\">void GPIO_init(void)<br/>{<br/>&nbsp; /*<br/>&nbsp; 输入模式&nbsp; DDR位 CR1位 CR2位 配置模式&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 上拉电阻<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 悬浮输入&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OFF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 上拉输入&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ON<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp; 中断悬浮输入&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OFF<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp; 中断上拉输入&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ON<br/>&nbsp; 输出模式&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 开漏输出&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OFF<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 推挽输出&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ON<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; X&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp; 输出(最快速度10MHZ)&nbsp; OFF<br/>&nbsp; */&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp; //引脚口为Px0~Px7,一共8个<br/>&nbsp; // 使能PC3上拉中断输入<br/>&nbsp; PC_DDR_bit.DDR3=0;<br/>&nbsp; PC_CR1_bit.C13=1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp; PC_CR2_bit.C23=1;<br/>&nbsp;&nbsp;<br/>&nbsp; //第一种,直接寄存器操作输出<br/>&nbsp; PA_DDR_bit.DDR3 = 1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 配置PA端口的方向寄存器PD3输出<br/>&nbsp; PA_CR1_bit.C13= 1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 设置PA3为推挽输出<br/>&nbsp; PA_CR2_bit.C23=0;<br/>&nbsp; /*第二种,0000 1000,为第四个引脚,就是0x08<br/>&nbsp; 加入<br/>&nbsp; PA_DDR |= 0x08;&nbsp;<br/>&nbsp; PA_CR1 |= 0x08;<br/>&nbsp; PA_CR2 &amp;= ~0x08;<br/>&nbsp;&nbsp;<br/>&nbsp; 移除<br/>&nbsp; PA_DDR &amp;= ~0x08;<br/>&nbsp; PA_CR1 &amp;= ~0x08;<br/>&nbsp; PA_CR2 &amp;= ~0x08;<br/>&nbsp; */<br/>}<br/>void EXTI_init(void)<br/>{<br/>&nbsp; EXTI_CR1_bit.PCIS =1;<br/>&nbsp;&nbsp;<br/>}</p><p style=\"padding: 0px; line-height: 24px; font-family: verdana, sans-serif; font-size: 14px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\">#pragma vector=5<br/>__interrupt void EXTI_PORTA_IRQHandler(void)<br/>{}<br/>#pragma vector=6<br/>__interrupt void EXTI_PORTB_IRQHandler(void)<br/>{}<br/>#pragma vector=7<br/>__interrupt void EXTI_PORTC_IRQHandler(void)<br/>{}<br/>#pragma vector=8<br/>__interrupt void EXTI_PORTD_IRQHandler(void)<br/>{}<br/>#pragma vector=9<br/>__interrupt void EXTI_PORTE_IRQHandler(void)<br/>{}<br/>//TLI拥有芯片最高级别中断<br/>#pragma vector=0x02<br/>__interrupt void EXTI_PD7_TLI(void)<br/>{}</p><p style=\"padding: 0px; line-height: 24px; font-family: verdana, sans-serif; font-size: 14px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\">void main( void )<br/>{<br/>&nbsp; asm(&quot;sim&quot;);&nbsp; // 关全局中断<br/>&nbsp; CLK_CKDIVR = 0x08;&nbsp;<br/>&nbsp; GPIO_init();<br/>&nbsp; EXTI_init();<br/>&nbsp; asm(&quot;rim&quot;);&nbsp; // 开全局中断<br/>&nbsp; while(1)<br/>&nbsp; {<br/>&nbsp;&nbsp;&nbsp; if(!PC_IDR_bit.IDR3)<br/>&nbsp;&nbsp;&nbsp; { PA_ODR_ODR3=1; }<br/>&nbsp;&nbsp;&nbsp; else<br/>&nbsp;&nbsp;&nbsp; { PA_ODR_ODR3=0; }<br/>&nbsp; }<br/>}</p><p><br/></p>','2013-12-05 07:55:40','2016-04-28 08:04:03'),(85,'14.222.31.2',25,'建立第一个STM32工程','<p><span style=\"font-family: verdana, sans-serif; font-size: 14px; line-height: 24px;  background-color: rgb(255, 255, 255);\">1.网上下载STM32f10x_fw_archive.rar</span></p><p>2.在keil uVision4工程里建立目录 boot,library,src,obj,list,interrupt</p><p>3.在STM32f10x_fw_archive.rar文件里找到um0427.rar文件解压<br/>4.在um0427.rar文件里路径&quot;\\um0427\\FWLib\\project\\RVMDK&quot;将文件cortexm3_macro.s,STM32f10x_vector.s复制到boot目录,这两文件是keil MDK环境的启动文件</p><p>5.在&quot;um0427\\FWLib\\project&quot;找到文件STM32f10x_it.c和STM32f10x_it.h,复制到interrupt目录,这两个文件包括了MDK中断服务入口函数</p><p>6.在&quot;um0427\\FWLib\\library&quot;中的inc和src文件夹复制到library目录中,这两个目录是STM32固件函数库文件,一般情况下这两个文件夹里的文件都不推荐改动.</p><p>7.最后新建一个main.c文件在src目录</p><p>8.在uVision4的工程属性里指定device硬件芯片,output路径,listing路径,debug调试模式,utilities仿真器和setting设置</p><p><br/></p>','2013-12-05 07:57:26','2013-12-05 15:57:26'),(86,'14.222.31.2',25,'RCC基础初始化','<p>#include &quot;stm32f10x_lib.h&quot;</p><p>/*******************************************************************************</p><p>* 函数名&nbsp; &nbsp;&nbsp;: zhSCM_RCCConfig</p><p>* 函数描述 &nbsp;: 设置系统各部分时钟</p><p>* 输入参数 &nbsp;: 无</p><p>* 输出结果 &nbsp;: 无</p><p>* 返回值 &nbsp; &nbsp;: 无</p><p>*******************************************************************************/</p><p>void zhSCM_RCCConfig(void)</p><p>{</p><p>&nbsp; /* 定义枚举类型变量 HSEStartUpStatus */</p><p>&nbsp; ErrorStatus HSEStartUpStatus;</p><p>&nbsp; /* 复位系统时钟设置*/</p><p>&nbsp; RCC_DeInit();</p><p>&nbsp; /* 开启HSE*/</p><p>&nbsp; RCC_HSEConfig(RCC_HSE_ON);</p><p>&nbsp; /* 等待HSE起振并稳定*/</p><p>&nbsp; HSEStartUpStatus = RCC_WaitForHSEStartUp();</p><p>&nbsp; /* 判断HSE起是否振成功，是则进入if()内部 */</p><p>&nbsp; if(HSEStartUpStatus == SUCCESS)</p><p>&nbsp; {</p><p>&nbsp; &nbsp; /* 选择HCLK（AHB）时钟源为SYSCLK 1分频 */</p><p>&nbsp; &nbsp; RCC_HCLKConfig(RCC_SYSCLK_Div1);&nbsp;</p><p>&nbsp; &nbsp; /* 选择PCLK2时钟源为 HCLK（AHB） 1分频 */</p><p>&nbsp; &nbsp; RCC_PCLK2Config(RCC_HCLK_Div1);&nbsp;</p><p>&nbsp; &nbsp; /* 选择PCLK1时钟源为 HCLK（AHB） 2分频 */</p><p>&nbsp; &nbsp; RCC_PCLK1Config(RCC_HCLK_Div2);</p><p>&nbsp; &nbsp; /* 设置FLASH延时周期数为2 */</p><p>&nbsp; &nbsp; FLASH_SetLatency(FLASH_Latency_2);</p><p>&nbsp; &nbsp; /* 使能FLASH预取缓存 */</p><p>&nbsp; &nbsp; FLASH_PrefetchBufferCmd(FLASH_PrefetchBuffer_Enable);</p><p>&nbsp; &nbsp; /* 选择锁相环（PLL）时钟源为HSE 1分频，倍频数为9，则PLL输出频率为 8MHz * 9 = 72MHz */</p><p>&nbsp; &nbsp; RCC_PLLConfig(RCC_PLLSource_HSE_Div1, RCC_PLLMul_9);</p><p>&nbsp; &nbsp; /* 使能PLL */&nbsp;</p><p>&nbsp; &nbsp; RCC_PLLCmd(ENABLE);</p><p>&nbsp; &nbsp; /* 等待PLL输出稳定 */</p><p>&nbsp; &nbsp; while(RCC_GetFlagStatus(RCC_FLAG_PLLRDY) == RESET);</p><p>&nbsp; &nbsp; /* 选择SYSCLK时钟源为PLL */</p><p>&nbsp; &nbsp; RCC_SYSCLKConfig(RCC_SYSCLKSource_PLLCLK);</p><p>&nbsp; &nbsp; /* 等待PLL成为SYSCLK时钟源 */</p><p>&nbsp; &nbsp; while(RCC_GetSYSCLKSource() != 0x08);</p><p>&nbsp; }</p><p>}</p><p><br/></p>','2013-12-05 07:57:50','2013-12-05 15:57:50'),(87,'14.217.244.225',25,'GPIO,LED,按键','<p>//初始化功能------------------------------------------------------------------</p><p>/* 打开APB2总线上的GPIOA时钟*/</p><p>RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOA/*| RCC_APB2Periph_GPIOB*/,&nbsp;ENABLE);</p><p>//初始化LED输出---------------------------------------------------------------</p><p>//zhSCM_GPIOConfig(GPIOA, GPIO_Pin_4|GPIO_Pin_5, GPIO_Mode_Out_PP); &nbsp;</p><p>//GPIO_SetBits(GPIOA , GPIO_Pin_1);	&nbsp; &nbsp; &nbsp; // PA.3输出高电平</p><p>//GPIO_ResetBits(GPIOA , GPIO_Pin_1); &nbsp; &nbsp; // PA.2输出高电平</p><p>//GPIO_WriteBit(GPIOA , GPIO_Pin_1,(BitAction)(1-GPIO_ReadOutputDataBit(GPIOA,GPIO_Pin_1))); &nbsp;//反转电平</p><p>//初始化按钮输入---------------------------------------------------------------</p><p>/*</p><p>&nbsp; EzhKeyEvent ev;</p><p>&nbsp; EzhKeyState GPIOAStatus1;//一个IO口对应一个EzhKeyState 状态</p><p>&nbsp; zhSCM_initKeyState(&amp;GPIOAStatus1);</p><p>&nbsp; //循环--------------- BEGIN---------</p><p>&nbsp; ev=zhSCM_keyState(GPIOA,&amp;GPIOAStatus1,GPIO_Pin_0);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;switch(ev)</p><p>&nbsp;&nbsp;&nbsp;&nbsp;{</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;ZH_KEY_EVENT_DOWN:</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GPIO_SetBits(GPIOA , GPIO_Pin_4);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;</p><p style=\"white-space: normal;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;ZH_KEY_EVENT_PRESS:</p><p style=\"white-space: normal;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;</p><p style=\"white-space: normal;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;ZH_KEY_EVENT_UP:</p><p style=\"white-space: normal;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GPIO_ResetBits(GPIOA , GPIO_Pin_4);</p><p style=\"white-space: normal;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;}<br/></p><p>&nbsp; //循环--------------- END---------</p><p>*/</p><p>/*******************************************************************************</p><p>* 类型 &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;	: 按键</p><p>* 描述 &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;: 按键设置的状态和事件标识</p><p>*******************************************************************************/</p><p>typedef enum _EzhKeyState{</p><p>&nbsp; &nbsp;ZH_KEY_STATE_0,</p><p>&nbsp; &nbsp;ZH_KEY_STATE_1,</p><p>&nbsp; &nbsp;ZH_KEY_STATE_2,</p><p>&nbsp; &nbsp;ZH_KEY_STATE_3,</p><p>}EzhKeyState;</p><p>typedef enum _EzhKeyEvent{</p><p>&nbsp; &nbsp;ZH_KEY_EVENT_NONE,</p><p>&nbsp; &nbsp;ZH_KEY_EVENT_DOWN,</p><p>&nbsp; &nbsp;ZH_KEY_EVENT_PRESS,</p><p>&nbsp; &nbsp;ZH_KEY_EVENT_UP</p><p>}EzhKeyEvent;</p><p>/*******************************************************************************</p><p>* 函数名 &nbsp; &nbsp; &nbsp;&nbsp;	: zhSCM_GPIOConfig</p><p>* 函数描述 &nbsp; &nbsp;&nbsp;&nbsp;: 设置各GPIO端口功能</p><p>* 输入参数 &nbsp; &nbsp; &nbsp;: 自己看</p><p>* 输出结果 &nbsp; &nbsp; &nbsp;: 无</p><p>* 返回值 &nbsp; &nbsp; &nbsp; &nbsp;: 无</p><p>*******************************************************************************/</p><p>void zhSCM_GPIOConfig(GPIO_TypeDef* GPIOx,u16 Pin_x,GPIOMode_TypeDef mode)</p><p>{</p><p>&nbsp; GPIO_InitTypeDef GPIO_InitStructure={0};</p><p>&nbsp; /* 设置PA2,PA3口为推挽输出，最大翻转频率为50MHz*/</p><p>&nbsp; GPIO_InitStructure.GPIO_Pin = Pin_x;</p><p>&nbsp; GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;</p><p>&nbsp; GPIO_InitStructure.GPIO_Mode = mode;</p><p>&nbsp; GPIO_Init(GPIOx, &amp;GPIO_InitStructure);</p><p>}</p><p>/*******************************************************************************</p><p>* 函数名 &nbsp; &nbsp; &nbsp;&nbsp;: zhSCM_initKeyState</p><p>* 函数描述 &nbsp; &nbsp; &nbsp;: 初始各GPIO按键状态</p><p>* 输入参数 &nbsp; &nbsp; &nbsp;: EzhKeyState的变量</p><p>* 输出结果 &nbsp; &nbsp; &nbsp;: 无</p><p>* 返回值 &nbsp; &nbsp; &nbsp; &nbsp;: 无</p><p>*******************************************************************************/</p><p>void zhSCM_initKeyState(EzhKeyState *status)</p><p>{</p><p>&nbsp; *status=ZH_KEY_STATE_0;</p><p>}</p><p>/*******************************************************************************</p><p>* 函数名 &nbsp; &nbsp; &nbsp;&nbsp;: zhSCM_keyState</p><p>* 函数描述 &nbsp; &nbsp; &nbsp;: 检测各GPIO端口按键功能</p><p>* 输入参数 &nbsp; &nbsp; &nbsp;: 几个呗</p><p>* 输出结果 &nbsp; &nbsp; &nbsp;: 无</p><p>* 返回值 &nbsp; &nbsp; &nbsp; &nbsp;: 无</p><p>*******************************************************************************/</p><p>EzhKeyEvent zhSCM_keyState(GPIO_TypeDef *GPIOx,EzhKeyState *status,u16 GPIO_Pin_x)</p><p>{</p><p>vu16 keyPort=0;</p><p>EzhKeyEvent event;</p><p>//读取GPIOA的I/O电平</p><p>keyPort=GPIO_ReadInputData(GPIOx);	&nbsp;</p><p>keyPort=keyPort&amp;GPIO_Pin_x;</p><p>keyPort=!keyPort;</p><p>switch(*status)</p><p>{</p><p>/*使用switch判断检测是否为抖动信号,如果不是便即行操作*/</p><p>case ZH_KEY_STATE_1:</p><p>{</p><p>&nbsp;//非抖动进行操作</p><p>&nbsp;if(keyPort)</p><p>&nbsp;{</p><p>&nbsp; &nbsp; event=ZH_KEY_EVENT_DOWN;</p><p>//切换状态</p><p>&nbsp;	*status=ZH_KEY_STATE_2;</p><p>&nbsp;}</p><p>&nbsp;else</p><p>&nbsp;{</p><p>&nbsp; &nbsp;event=ZH_KEY_EVENT_NONE;&nbsp;</p><p>&nbsp;	*status=ZH_KEY_STATE_0;</p><p>&nbsp;}</p><p>}</p><p>break;</p><p>/*按压检测*/</p><p>case ZH_KEY_STATE_2:</p><p>{</p><p>&nbsp; if(keyPort)</p><p>&nbsp; {</p><p>&nbsp;&nbsp;&nbsp;event=ZH_KEY_EVENT_PRESS;</p><p>&nbsp;*status=ZH_KEY_STATE_3;</p><p>&nbsp; }</p><p>&nbsp; else</p><p>&nbsp; {</p><p>&nbsp; &nbsp; &nbsp;//已经松手,更新状态</p><p>&nbsp; &nbsp; &nbsp;*status=ZH_KEY_STATE_0;</p><p>&nbsp;event=ZH_KEY_EVENT_UP;</p><p>&nbsp; }</p><p>}</p><p>break;</p><p>/*松手检测*/</p><p>case ZH_KEY_STATE_3:</p><p>{</p><p>&nbsp; if(keyPort)</p><p>&nbsp; {</p><p>&nbsp;&nbsp;&nbsp;event=ZH_KEY_EVENT_PRESS;</p><p>&nbsp; }</p><p>&nbsp; else</p><p>&nbsp; {</p><p>&nbsp; &nbsp; &nbsp;//已经松手,更新状态</p><p>&nbsp; &nbsp; &nbsp;*status=ZH_KEY_STATE_0;</p><p>&nbsp;event=ZH_KEY_EVENT_UP;</p><p>&nbsp; }</p><p>}</p><p>break;</p><p>default:</p><p>{</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //有电平信号输入</p><p>&nbsp; &nbsp;&nbsp;&nbsp; if(keyPort)</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;*status=ZH_KEY_STATE_1;&nbsp;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 	event=ZH_KEY_EVENT_NONE;</p><p>}</p><p>break;</p><p>}</p><p>return event;</p><p>}</p><p><br/></p>','2013-12-05 07:58:13','2014-11-19 23:16:17'),(88,'14.222.31.2',25,'SysTick函数','<p><span style=\"font-family: verdana, sans-serif; font-size: 14px; line-height: 24px;  background-color: rgb(255, 255, 255);\">例子:</span></p><p>&nbsp;while(1)</p><p>&nbsp;{</p><p>&nbsp; &nbsp; &nbsp; &nbsp; //执行其它操作</p><p>...</p><p>&nbsp; &nbsp; &nbsp; &nbsp; zhSCM_Sleep(1000); &nbsp;/* 延时1S */</p><p>&nbsp; }</p><p>/******************************************************************************</p><p>* 函数名 &nbsp;&nbsp; &nbsp; &nbsp;&nbsp;: zhSCM_SystickConfig</p><p>* 函数描述 &nbsp; &nbsp;&nbsp;	: 设置Systick定时器,重装载时间为1s</p><p>* 输入参数 &nbsp; &nbsp; &nbsp;: 无</p><p>* 输出结果 &nbsp; &nbsp; &nbsp;: 无</p><p>* 返回值 &nbsp; &nbsp; &nbsp; &nbsp;: 无</p><p>******************************************************************************/</p><p>void zhSCM_SystickConfig(void)</p><p>{</p><p>&nbsp; &nbsp; /* 失能Systick定时器 */</p><p>&nbsp; &nbsp; SysTick_CounterCmd(SysTick_Counter_Disable);</p><p>&nbsp; &nbsp; /* 选择HCLK为Systick时钟源 */</p><p>&nbsp; &nbsp; SysTick_CLKSourceConfig(SysTick_CLKSource_HCLK_Div8);</p><p>&nbsp; &nbsp; /* 清除Systick计数器 */</p><p>&nbsp; &nbsp; SysTick_CounterCmd(SysTick_Counter_Clear);</p><p>&nbsp; &nbsp; /* 主频为72/8MHz，配置计数值为9000 * 1000可以得到1s定时间隔,这里是1毫秒*/</p><p>&nbsp; &nbsp; SysTick_SetReload(9000);</p><p>&nbsp; &nbsp; /* 启动Systick计数 */</p><p>&nbsp; &nbsp; SysTick_CounterCmd(SysTick_Counter_Enable);</p><p>}</p><p>/******************************************************************************</p><p>* 函数名 &nbsp;&nbsp; &nbsp; &nbsp;&nbsp;: zhSCM_Sleep</p><p>* 函数描述 &nbsp; &nbsp;&nbsp;&nbsp;: 定时</p><p>* 输入参数 &nbsp; &nbsp; &nbsp;: 无</p><p>* 输出结果 &nbsp; &nbsp; &nbsp;: 无</p><p>* 返回值 &nbsp; &nbsp; &nbsp; &nbsp;: 无</p><p>******************************************************************************/</p><p>void&nbsp;zhSCM_Sleep(u32 ms)</p><p>{</p><p>&nbsp; &nbsp; //ms值最大不能超过16777215,即2的24次方</p><p>&nbsp; &nbsp; u32 i;</p><p>&nbsp; &nbsp; for(i=0;i&lt;ms;i++)</p><p>&nbsp; &nbsp; {</p><p>&nbsp; &nbsp; &nbsp; &nbsp;/* 等待Systick计数至0 */</p><p>&nbsp; &nbsp; &nbsp; &nbsp;while(SysTick_GetFlagStatus(SysTick_FLAG_COUNT) == 0);</p><p>&nbsp; &nbsp; }</p><p>}</p><p><br/></p>','2013-12-05 07:58:57','2013-12-05 15:58:57'),(89,'14.222.31.2',25,'Usart串DMA模式','<p>例子: &nbsp;</p><p>/*&nbsp;</p><p>打开APB2总线上的usart1时钟</p><p>RCC_APB2Periph_USART1 时钟在APB总线2 的RCC_APB2Periph_GPIOA上</p><p>RCC_APB2Periph_USART2 时钟在APB总线1上</p><p>打开AHB里面的DMA1时钟</p><p>*/</p><p>TagUSARTxAid usert1Aid;</p><p>RCC_APB2PeriphClockCmd(RCC_APB2Periph_AFIO ,ENABLE);</p><p>RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOA ,ENABLE);</p><p>RCC_AHBPeriphClockCmd(RCC_AHBPeriph_DMA1 ,ENABLE);</p><p>RCC_APB2PeriphClockCmd(RCC_APB2Periph_USART1 ,ENABLE);</p><p>/*初始化USART的相关变量辅助*/</p><p>zhSCM_USARTxInit(&amp;usert1Aid,ENABLE,DMA1_Channel5);</p><p>zhSCM_USARTConfig(USART1,GPIOA,GPIO_Pin_9,GPIO_Pin_10,9600,USART_WordLength_8b,USART_StopBits_1,&amp;usert1Aid);</p><p>zhSCM_USARTPutString(USART1,&amp;usert1Aid,&quot;Begin...\\r\\n&quot;);</p><p>while(1)</p><p>{</p><p>&nbsp; &nbsp; &nbsp; /* 这里要循环执行 */</p><p>&nbsp; &nbsp; &nbsp; zhSCM_USARTxProcess(USART1,&amp;usert1Aid);</p><p>}</p><p>/*******************************************************************************</p><p>* 类型名 &nbsp; &nbsp; &nbsp; &nbsp;: DMA模式的USART结构</p><p>* 类型描述 &nbsp; &nbsp; &nbsp;: 保存USART相关辅助变量</p><p>*******************************************************************************/</p><p>typedef struct _TagUSARTxAid</p><p>{</p><p>DMA_Channel_TypeDef *pDMAChannel;</p><p>u8 btDMABuffer[64];&nbsp;// DMA buffer&nbsp;</p><p>u16 rDMARear;</p><p>u8 btRecvBuf[64];&nbsp;// 串口接收buffer</p><p>u8 rRecvSize;	//接收到内容的长度;&nbsp;</p><p>u8 btSendBuf[64];&nbsp;// 串口发送buffer&nbsp;</p><p>u8 rSendHead;	// 发送buffer的头</p><p>u8 rSendTail;	// 发送buffer的尾</p><p>}TagUSARTxAid;</p><p>//声明</p><p>void zhSCM_USARTReceiveCallBack(USART_TypeDef* USARTx,TagUSARTxAid* pUSARTxAid,u8 byte);</p><p>/*******************************************************************************</p><p>* 函数名 &nbsp; &nbsp; &nbsp; &nbsp;: zhSCM_USARTxInit</p><p>* 函数描述 &nbsp; &nbsp; &nbsp;: 初始化TagUSARTxConfig的结构</p><p>* 输入参数 &nbsp; &nbsp; &nbsp;: 无</p><p>* 输出结果 &nbsp; &nbsp; &nbsp;: 无</p><p>* 返回值 &nbsp; &nbsp; &nbsp; &nbsp;: 无</p><p>*******************************************************************************/</p><p>void zhSCM_USARTxInit(TagUSARTxAid* pUSARTxAid,u8 DMA_Enable,DMA_Channel_TypeDef *DMA_Channel)</p><p>{</p><p>pUSARTxAid-&gt;pDMAChannel=DMA_Channel;</p><p>pUSARTxAid-&gt;rDMARear = sizeof(pUSARTxAid-&gt;btDMABuffer);</p><p>pUSARTxAid-&gt;rRecvSize=0;</p><p>pUSARTxAid-&gt;rSendHead=0;</p><p>pUSARTxAid-&gt;rSendTail=0;</p><p>}</p><p>/*******************************************************************************</p><p>* 函数名 &nbsp; &nbsp; &nbsp; &nbsp;: zhSCM_USARTConfig</p><p>* 函数描述 &nbsp; &nbsp; &nbsp;: 初始化USART的配置功能</p><p>* 输入参数 &nbsp; &nbsp; &nbsp;: 无</p><p>* 输出结果 &nbsp; &nbsp; &nbsp;: 无</p><p>* 返回值 &nbsp; &nbsp; &nbsp; &nbsp;: 无</p><p>*******************************************************************************/</p><p>void zhSCM_USARTConfig(USART_TypeDef* USARTx,GPIO_TypeDef* GPIOx,</p><p>u16 TxPort,u16 RxPort,</p><p>u32 BaudRate,u16 WordLenght,u16 StopBits,</p><p>TagUSARTxAid* pUSARTxAid)</p><p>{</p><p>GPIO_InitTypeDef GPIO_InitStructure;</p><p>USART_InitTypeDef USART_InitStructure;&nbsp;</p><p>USART_ClockInitTypeDef USART_ClockInitStructure;</p><p>DMA_InitTypeDef DMA_InitStructure;&nbsp;</p><p>/*&nbsp;</p><p>//参见 STM32 datasheet&nbsp;</p><p>DMA1 Channel5 (triggered by USARTx Rx event) Config&nbsp;</p><p>不同的DMA通道对应不同的USART</p><p>*/&nbsp;</p><p>DMA_DeInit(pUSARTxAid-&gt;pDMAChannel);&nbsp;</p><p>DMA_InitStructure.DMA_PeripheralBaseAddr = (u32)&amp;USARTx-&gt;DR;&nbsp;</p><p>DMA_InitStructure.DMA_MemoryBaseAddr = (u32)pUSARTxAid-&gt;btDMABuffer;&nbsp;</p><p>DMA_InitStructure.DMA_DIR = DMA_DIR_PeripheralSRC;&nbsp;</p><p>DMA_InitStructure.DMA_BufferSize = sizeof(pUSARTxAid-&gt;btDMABuffer);&nbsp;</p><p>DMA_InitStructure.DMA_PeripheralInc = DMA_PeripheralInc_Disable;&nbsp;</p><p>DMA_InitStructure.DMA_MemoryInc = DMA_MemoryInc_Enable;&nbsp;</p><p>DMA_InitStructure.DMA_PeripheralDataSize = DMA_PeripheralDataSize_Byte;&nbsp;</p><p>DMA_InitStructure.DMA_MemoryDataSize = DMA_MemoryDataSize_Byte;&nbsp;</p><p>DMA_InitStructure.DMA_Mode = DMA_Mode_Circular;&nbsp;</p><p>DMA_InitStructure.DMA_Priority = DMA_Priority_Low;&nbsp;</p><p>DMA_InitStructure.DMA_M2M = DMA_M2M_Disable;&nbsp;</p><p>DMA_Init(pUSARTxAid-&gt;pDMAChannel, &amp;DMA_InitStructure);&nbsp;</p><p>// TX&nbsp;</p><p>GPIO_InitStructure.GPIO_Pin = TxPort;&nbsp;</p><p>GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;&nbsp;</p><p>GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_PP;&nbsp;</p><p>GPIO_Init(GPIOx, &amp;GPIO_InitStructure);</p><p>// RX&nbsp;</p><p>GPIO_InitStructure.GPIO_Pin = RxPort;&nbsp;</p><p>GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN_FLOATING;&nbsp;</p><p>GPIO_Init(GPIOx, &amp;GPIO_InitStructure);</p><p>/*USART_ClockInitStructure.USART_CPHA= USART_CPHA_2Edge;</p><p>除了这句以外其他的都和默认的参数一样，</p><p>二者有啥区别我至今也不太清楚但就一般</p><p>的应用来说两个都可以正常工作。 &nbsp;*/</p><p>USART_InitStructure.USART_BaudRate = BaudRate;//9600;&nbsp;</p><p>USART_InitStructure.USART_WordLength = WordLenght;//USART_WordLength_8b;&nbsp;</p><p>USART_InitStructure.USART_StopBits = StopBits;// USART_StopBits_1;&nbsp;</p><p>USART_InitStructure.USART_Parity = USART_Parity_No;&nbsp;</p><p>USART_InitStructure.USART_HardwareFlowControl = USART_HardwareFlowControl_None;&nbsp;</p><p>USART_InitStructure.USART_Mode = USART_Mode_Rx | USART_Mode_Tx;&nbsp;</p><p>USART_ClockInitStructure.USART_Clock = USART_Clock_Disable;&nbsp;</p><p>USART_ClockInitStructure.USART_CPOL = USART_CPOL_Low;&nbsp;</p><p>USART_ClockInitStructure.USART_CPHA = USART_CPHA_2Edge;&nbsp;</p><p>USART_ClockInitStructure.USART_LastBit = USART_LastBit_Disable;</p><p>USART_ClockInit(USARTx, &amp;USART_ClockInitStructure);&nbsp;</p><p>USART_Init(USARTx, &amp;USART_InitStructure);</p><p>/* Enable USARTx DMA Rxrequest */&nbsp;</p><p>USART_DMACmd(USARTx, USART_DMAReq_Rx, ENABLE);&nbsp;</p><p>/* Enable DMA1 Channel5 */&nbsp;</p><p>DMA_Cmd(pUSARTxAid-&gt;pDMAChannel, ENABLE);&nbsp;</p><p>/* Enable USARTx */&nbsp;</p><p>USART_Cmd(USARTx, ENABLE);</p><p>}</p><p>/*******************************************************************************</p><p>* 函数名 &nbsp; &nbsp; &nbsp; &nbsp;: zhSCM_USARTBufPushBack</p><p>* 函数描述 &nbsp; &nbsp; &nbsp;: 向发送队列尾部插入一个字节&nbsp;</p><p>* 输入参数 &nbsp; &nbsp; &nbsp;: 无</p><p>* 输出结果 &nbsp; &nbsp; &nbsp;: 无</p><p>* 返回值 &nbsp; &nbsp; &nbsp; &nbsp;: 无</p><p>*******************************************************************************/&nbsp;</p><p>void zhSCM_USARTBufPushBack(TagUSARTxAid* pUSARTxAid,u8 byte)&nbsp;</p><p>{&nbsp;</p><p>pUSARTxAid-&gt;btSendBuf[pUSARTxAid-&gt;rSendTail++]= byte;&nbsp;</p><p>if(pUSARTxAid-&gt;rSendTail &gt;= sizeof(pUSARTxAid-&gt;btSendBuf))&nbsp;</p><p>{ pUSARTxAid-&gt;rSendTail = 0; }&nbsp;</p><p>if(pUSARTxAid-&gt;rSendTail == pUSARTxAid-&gt;rSendHead)&nbsp;</p><p>{pUSARTxAid-&gt;rSendHead = pUSARTxAid-&gt;rSendTail+1;}&nbsp;</p><p>}&nbsp;</p><p>/*******************************************************************************</p><p>* 函数名 &nbsp; &nbsp; &nbsp; &nbsp;: zhSCM_USARTBufPopFront</p><p>* 函数描述 &nbsp; &nbsp; &nbsp;: 从发送队列头部取出一个字节</p><p>* 输入参数 &nbsp; &nbsp; &nbsp;: 无</p><p>* 输出结果 &nbsp; &nbsp; &nbsp;: 无</p><p>* 返回值 &nbsp; &nbsp; &nbsp; &nbsp;: 0=false ,1=true</p><p>*******************************************************************************/</p><p>u8 zhSCM_USARTBufPopFront(TagUSARTxAid* pUSARTxAid,u8* byte)&nbsp;</p><p>{&nbsp;</p><p>if(pUSARTxAid-&gt;rSendHead &gt;= sizeof(pUSARTxAid-&gt;btSendBuf))&nbsp;</p><p>{ pUSARTxAid-&gt;rSendHead = 0; }&nbsp;</p><p>if(pUSARTxAid-&gt;rSendHead == pUSARTxAid-&gt;rSendTail)&nbsp;</p><p>{ return 0; }</p><p>*byte = pUSARTxAid-&gt;btSendBuf[pUSARTxAid-&gt;rSendHead++];&nbsp;</p><p>return 1;&nbsp;</p><p>}</p><p>/*******************************************************************************</p><p>* 函数名 &nbsp; &nbsp; &nbsp; &nbsp;: zhSCM_USARTConfig</p><p>* 函数描述 &nbsp; &nbsp; &nbsp;: 初始化USART的配置功能</p><p>* 输入参数 &nbsp; &nbsp; &nbsp;: 无</p><p>* 输出结果 &nbsp; &nbsp; &nbsp;: 无</p><p>* 返回值 &nbsp; &nbsp; &nbsp; &nbsp;: 无</p><p>*******************************************************************************/</p><p>void zhSCM_USARTxProcess(USART_TypeDef* USARTx,TagUSARTxAid* pUSARTxAid)&nbsp;</p><p>{&nbsp;</p><p>u16 end;&nbsp;</p><p>if (USART1-&gt;SR &amp; (USART_FLAG_ORE | USART_FLAG_NE | USART_FLAG_FE))&nbsp;</p><p>{&nbsp;</p><p>USART_ReceiveData(USARTx);&nbsp;</p><p>}&nbsp;</p><p>// DMA接收&nbsp;</p><p>end = DMA_GetCurrDataCounter(pUSARTxAid-&gt;pDMAChannel);&nbsp;</p><p>while(end != pUSARTxAid-&gt;rDMARear)&nbsp;</p><p>{&nbsp;</p><p>zhSCM_USARTReceiveCallBack(USARTx,pUSARTxAid,pUSARTxAid-&gt;btDMABuffer[sizeof(pUSARTxAid-&gt;btDMABuffer) - pUSARTxAid-&gt;rDMARear]);</p><p>if (!(--pUSARTxAid-&gt;rDMARear))&nbsp;</p><p>{&nbsp;</p><p>pUSARTxAid-&gt;rDMARear = sizeof(pUSARTxAid-&gt;btDMABuffer);&nbsp;</p><p>}&nbsp;</p><p>}&nbsp;</p><p>//发送&nbsp;</p><p>if(USART_GetFlagStatus(USARTx, USART_FLAG_TXE) == SET)&nbsp;</p><p>{ &nbsp;</p><p>u8 chr;&nbsp;</p><p>// 从发送队列取出一个字符&nbsp;</p><p>if(zhSCM_USARTBufPopFront(pUSARTxAid,&amp;chr))&nbsp;</p><p>{&nbsp;</p><p>USART_SendData(USARTx, chr);&nbsp;</p><p>while (USART_GetFlagStatus(USARTx, USART_FLAG_TC) == RESET);</p><p>}</p><p>}&nbsp;</p><p>}&nbsp;</p><p>/*******************************************************************************</p><p>* 函数名 &nbsp; &nbsp; &nbsp; : zhSCM_USARTPutBinary</p><p>* 函数描述 &nbsp; &nbsp; &nbsp;: USART发送二进制数据</p><p>* 输入参数 &nbsp; &nbsp; &nbsp;: 无</p><p>* 输出结果 &nbsp; &nbsp; &nbsp;: 无</p><p>* 返回值 &nbsp; &nbsp; &nbsp; &nbsp;: 无</p><p>*******************************************************************************/</p><p>void zhSCM_USARTPutBinary(USART_TypeDef* USARTx,TagUSARTxAid* pUSARTxAid,u8 *bytes,int len)&nbsp;</p><p>{&nbsp;</p><p>int i;&nbsp;</p><p>if(!bytes)&nbsp;</p><p>{ return ; }&nbsp;</p><p>// 将数据压入到发送队列&nbsp;</p><p>for(i=0;i&lt;len;i++)&nbsp;</p><p>{&nbsp;</p><p>zhSCM_USARTBufPushBack(pUSARTxAid,bytes[i]);&nbsp;</p><p>}</p><p>}</p><p>/*******************************************************************************</p><p>* 函数名 &nbsp; &nbsp; &nbsp; &nbsp;: zhSCM_USARTPutString</p><p>* 函数描述 &nbsp; &nbsp; &nbsp;: USART发送字符串数据</p><p>* 输入参数 &nbsp; &nbsp; &nbsp;: 无</p><p>* 输出结果 &nbsp; &nbsp; &nbsp;: 无</p><p>* 返回值 &nbsp; &nbsp; &nbsp; &nbsp;: 无</p><p>*******************************************************************************/</p><p>void zhSCM_USARTPutString(USART_TypeDef* USARTx,TagUSARTxAid* pUSARTxAid,char * str)&nbsp;</p><p>{</p><p>if(str)</p><p>{</p><p>int i=0;</p><p>while(str[i++]!=&#39;\\0&#39;);</p><p>zhSCM_USARTPutBinary(USARTx,pUSARTxAid,(u8*)str,i);</p><p>}</p><p>}</p><p>/*******************************************************************************</p><p>* 函数名 &nbsp; &nbsp; &nbsp; &nbsp;: zhSCM_USARTReceiveCallBack</p><p>* 函数描述 &nbsp; &nbsp; &nbsp;: 这些被接收数据后回调的函数</p><p>* 输入参数 &nbsp; &nbsp; &nbsp;: 接收一个字节就回调一次</p><p>* 输出结果 &nbsp; &nbsp; &nbsp;: 无</p><p>* 返回值 &nbsp; &nbsp; &nbsp; &nbsp;: 无</p><p>*******************************************************************************/</p><p>// 处理接收到的串口数据&nbsp;</p><p>void zhSCM_USARTReceiveCallBack(USART_TypeDef* USARTx,TagUSARTxAid* pUSARTxAid,u8 byte)&nbsp;</p><p>{&nbsp;</p><p>Treate received data&nbsp;</p><p>Place Code here&nbsp;</p><p>/*</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;注:如果上位机发送一帧到下位机里,为未完成时便执行回复上位机的操作,会导致</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;回复到上位机的内容变成乱码,问题在于USARTx-&gt;DR这个变量是USART端口发送和接收共用的.</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;例如根据上述代码判断,上位机发送&quot;012391&quot;,这样上位机收到的所有回复内容便成为乱码</p><p>*/</p><p>pUSARTxAid-&gt;btRecvBuf[pUSARTxAid-&gt;rRecvSize]=byte;</p><p>pUSARTxAid-&gt;rRecvSize++;</p><p>if(byte==&#39;9&#39;)</p><p>{</p><p>zhSCM_USARTPutBinary(USARTx,pUSARTxAid,pUSARTxAid-&gt;btRecvBuf,pUSARTxAid-&gt;rRecvSize); &nbsp;</p><p>pUSARTxAid-&gt;rRecvSize=0;</p><p>}</p><p>}&nbsp;</p><p><br/></p>','2013-12-05 07:59:38','2013-12-05 15:59:38'),(90,'14.222.31.2',25,'Usart串口函数','<p>例子:</p><p>/*&nbsp;</p><p>打开APB2总线上的usart1时钟</p><p>RCC_APB2Periph_USART1 时钟在APB总线2 的RCC_APB2Periph_GPIOA上</p><p>RCC_APB2Periph_USART2 时钟在APB总线1上</p><p>*/</p><p>RCC_APB2PeriphClockCmd(RCC_APB2Periph_AFIO ,ENABLE);</p><p>RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOA ,ENABLE);</p><p>RCC_APB2PeriphClockCmd(RCC_APB2Periph_USART1 ,ENABLE);</p><p>zhSCM_USARTConfig(USART1,GPIOA,GPIO_Pin_9,GPIO_Pin_10,9600,USART_WordLength_8b,USART_StopBits_1);</p><p>//循环--------------BEGIN--------------------</p><p>/*接收数据*/</p><p>if(USART_GetFlagStatus(USART1,USART_FLAG_RXNE)==SET)&nbsp;</p><p>{ &nbsp; &nbsp;</p><p>&nbsp; &nbsp; u8 c;</p><p>&nbsp; &nbsp; c = USART_ReceiveData(USART1);</p><p>&nbsp; &nbsp; if(c==&#39;0&#39;)</p><p>&nbsp; &nbsp; { data_pos=0; }	&nbsp;&nbsp;</p><p>&nbsp; &nbsp; //保存到缓冲区</p><p>&nbsp; &nbsp; //uart1_get_data[data_pos]=c;</p><p>&nbsp; &nbsp; //data_pos++;</p><p>&nbsp;</p><p>&nbsp; &nbsp; if(c==&#39;9&#39;)</p><p>&nbsp; &nbsp; {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 注:如果上位机发送一帧到下位机里,为未完成时便执行回复上位机的操作,会导致</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 回复到上位机的内容变成乱码,问题在于USARTx-&gt;DR这个变量是USART端口发送和接收共用的.</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 例如根据上述代码判断,上位机发送&quot;012391&quot;,这样上位机收到的所有回复内容便成为乱码</p><p>&nbsp; &nbsp; &nbsp; &nbsp; //回复数据到上位机</p><p>&nbsp; &nbsp; &nbsp; &nbsp; zhSCM_USARTPutBinary(USART1,uart1_get_data,data_pos);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; zhSCM_USARTPutString(USART1,&quot;\\r\\n&quot;);</p><p>&nbsp; &nbsp; }</p><p>}</p><p>//循环--------------END--------------------</p><p>&nbsp;</p><p>/*******************************************************************************</p><p>* 函数名 &nbsp; &nbsp; &nbsp;&nbsp;: zhSCM_USARTConfig</p><p>* 函数描述 &nbsp; &nbsp; &nbsp;: 初始化USART的配置功能</p><p>* 输入参数 &nbsp; &nbsp; &nbsp;: 无</p><p>* 输出结果 &nbsp; &nbsp; &nbsp;: 无</p><p>* 返回值 &nbsp; &nbsp; &nbsp; &nbsp;: 无</p><p>*******************************************************************************/</p><p>void zhSCM_USARTConfig(USART_TypeDef* USARTx,GPIO_TypeDef* GPIOx,u16 TxPort,u16 RxPort,u32 BaudRate,u16 WordLenght,u16 StopBits)</p><p>{</p><p>GPIO_InitTypeDef GPIO_InitStructure;</p><p>USART_InitTypeDef USART_InitStructure;&nbsp;</p><p>USART_ClockInitTypeDef USART_ClockInitStructure;</p><p>// TX&nbsp;</p><p>GPIO_InitStructure.GPIO_Pin = TxPort;&nbsp;</p><p>GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;&nbsp;</p><p>GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_PP;&nbsp;</p><p>GPIO_Init(GPIOx, &amp;GPIO_InitStructure);</p><p>// RX&nbsp;</p><p>GPIO_InitStructure.GPIO_Pin = RxPort;&nbsp;</p><p>GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN_FLOATING;&nbsp;</p><p>GPIO_Init(GPIOx, &amp;GPIO_InitStructure);</p><p>/*USART_ClockInitStructure.USART_CPHA= USART_CPHA_2Edge;</p><p>除了这句以外其他的都和默认的参数一样，</p><p>二者有啥区别我至今也不太清楚但就一般</p><p>的应用来说两个都可以正常工作。 &nbsp;*/</p><p>USART_InitStructure.USART_BaudRate = BaudRate;//9600;&nbsp;</p><p>USART_InitStructure.USART_WordLength = WordLenght;//USART_WordLength_8b;&nbsp;</p><p>USART_InitStructure.USART_StopBits = StopBits;// USART_StopBits_1;&nbsp;</p><p>USART_InitStructure.USART_Parity = USART_Parity_No;&nbsp;</p><p>USART_InitStructure.USART_HardwareFlowControl = USART_HardwareFlowControl_None;&nbsp;</p><p>USART_InitStructure.USART_Mode = USART_Mode_Rx | USART_Mode_Tx;&nbsp;</p><p>USART_ClockInitStructure.USART_Clock = USART_Clock_Disable;&nbsp;</p><p>USART_ClockInitStructure.USART_CPOL = USART_CPOL_Low;&nbsp;</p><p>USART_ClockInitStructure.USART_CPHA = USART_CPHA_2Edge;&nbsp;</p><p>USART_ClockInitStructure.USART_LastBit = USART_LastBit_Disable;</p><p>USART_ClockInit(USARTx, &amp;USART_ClockInitStructure);&nbsp;</p><p>USART_Init(USARTx, &amp;USART_InitStructure);</p><p>USART_Cmd(USARTx, ENABLE);</p><p>}</p><p>/*******************************************************************************</p><p>* 函数名 &nbsp; &nbsp; &nbsp; : zhSCM_USARTPutBinary</p><p>* 函数描述 &nbsp; &nbsp; &nbsp;: USART发送二进制数据</p><p>* 输入参数 &nbsp; &nbsp; &nbsp;: 无</p><p>* 输出结果 &nbsp; &nbsp; &nbsp;: 无</p><p>* 返回值 &nbsp; &nbsp; &nbsp; &nbsp;: 无</p><p>*******************************************************************************/</p><p>void zhSCM_USARTPutBinary(USART_TypeDef* USARTx,u8 *bytes,int len)&nbsp;</p><p>{&nbsp;</p><p>int i;</p><p>for(i=0;i&lt;len;i++)</p><p>{</p><p>USART_SendData(USARTx, bytes[i]);&nbsp;</p><p>while(USART_GetFlagStatus(USARTx, USART_FLAG_TC) == RESET);&nbsp;</p><p>}	&nbsp;</p><p>}</p><p>/*******************************************************************************</p><p>* 函数名 &nbsp; &nbsp; &nbsp; : zhSCM_USARTPutString</p><p>* 函数描述 &nbsp; &nbsp; &nbsp;: USART发送字符串数据</p><p>* 输入参数 &nbsp; &nbsp; &nbsp;: 无</p><p>* 输出结果 &nbsp; &nbsp; &nbsp;: 无</p><p>* 返回值 &nbsp; &nbsp; &nbsp; &nbsp;: 无</p><p>*******************************************************************************/</p><p>void zhSCM_USARTPutString(USART_TypeDef* USARTx,char * str)&nbsp;</p><p>{</p><p>if(str)</p><p>{</p><p>int i=0;</p><p>while(str[i++]!=&#39;\\0&#39;);</p><p>zhSCM_USARTPutBinary(USARTx,(u8*)str,i);</p><p>}</p><p>}</p><p><br/></p>','2013-12-05 08:00:24','2013-12-05 16:00:24'),(91,'14.222.31.2',25,'fputc串口打印函数','<p>#include&lt;stdio.h&gt;</p><p>加入工程属性-&gt;target-&gt;Use MicroLib</p><p>//重载此函数</p><p>int fputc(int ch,FILE*f)</p><p>{</p><p>u8 c=(u8)ch;</p><p>//这要对应上指定的UARTx发送函数</p><p>zhSCM_USARTPutBinary(USART1,&amp;usert1Aid,&amp;c,1);</p><p>return ch;</p><p>}</p><p><br/></p>','2013-12-05 08:00:55','2013-12-05 16:00:55'),(92,'14.222.31.2',25,'ADC模数数据采集','<p>例子:</p><p>//ADC相关时钟</p><p>RCC_APB2PeriphClockCmd(RCC_APB2Periph_ADC1 , ENABLE);</p><p>RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOB ,ENABLE);</p><p>zhSCM_ADCConfig(ADC1, ADC_Channel_8, 1, ADC_SampleTime_28Cycles5);</p><p>//------------------- 循环执行 BEGIN ------------</p><p>static int i=0;</p><p>if(i++&gt;200000)</p><p>{</p><p>volValue=2.56f*ADC_GetConversionValue(ADC1)/0x0fff;</p><p>printf(&quot;检测到的电压 %.3f\\r\\n&quot;,volValue);</p><p>i=0;</p><p>}</p><p>//------------------- 循环执行 END---------------</p><p>/*************************************************</p><p>&nbsp;* 函数: zhSCM_ADCConfig</p><p>&nbsp;* 功能: ADC配置</p><p>&nbsp;* 参数: ADC,信道,音序器等级,采样周期</p><p>&nbsp;* 返回: 无</p><p>**************************************************/</p><p>void zhSCM_ADCConfig(ADC_TypeDef *pAdc,u8 adcChannel,u8 adcRank,u8 adcSampleTime)</p><p>{</p><p>&nbsp; //定义ADC初始化结构体变量</p><p>&nbsp; ADC_InitTypeDef ADC_InitStructure;</p><p>&nbsp; RCC_ADCCLKConfig(RCC_PCLK2_Div4);//配置ADC时钟= PCLK2/4</p><p>&nbsp; /*初始化局部参数*/</p><p>&nbsp; ADC_InitStructure.ADC_Mode = ADC_Mode_Independent;//ADC1和ADC2工作在独立模式</p><p>&nbsp; ADC_InitStructure.ADC_ScanConvMode = ENABLE; //使能扫描</p><p>&nbsp; ADC_InitStructure.ADC_ContinuousConvMode = ENABLE;//ADC转换工作在连续模式</p><p>&nbsp; ADC_InitStructure.ADC_ExternalTrigConv = ADC_ExternalTrigConv_None;//有软件控制转换</p><p>&nbsp; ADC_InitStructure.ADC_DataAlign = ADC_DataAlign_Right;//转换数据右对齐</p><p>&nbsp; ADC_InitStructure.ADC_NbrOfChannel = 1;//转换通道为通道1</p><p>&nbsp; ADC_Init(pAdc, &amp;ADC_InitStructure); //初始化ADC</p><p>&nbsp; //ADC选择信道,音序器等级,采样周期</p><p>&nbsp; ADC_RegularChannelConfig(pAdc, adcChannel, adcRank, adcSampleTime);</p><p>&nbsp; ADC_Cmd(pAdc, ENABLE);//使能ADC1</p><p>&nbsp; ADC_ResetCalibration(pAdc); //重置ADC1校准寄存器</p><p>&nbsp; while(ADC_GetResetCalibrationStatus(pAdc));//等待ADC1校准重置完成</p><p>&nbsp; ADC_StartCalibration(pAdc);//开始ADC1校准</p><p>&nbsp; while(ADC_GetCalibrationStatus(pAdc));//等待ADC1校准完成</p><p>&nbsp; ADC_SoftwareStartConvCmd(pAdc, ENABLE); //使能ADC1软件开始转换</p><p>}</p><p><br/></p>','2013-12-05 08:01:17','2013-12-05 16:01:17'),(93,'14.222.31.2',25,'ADC模数采集DMA模式','<p>例子:</p><p>float volValue;&nbsp;</p><p>int i=0;&nbsp;</p><p>&nbsp;vu16 vValue;</p><p>//ADC相关时钟</p><p>RCC_AHBPeriphClockCmd(RCC_AHBPeriph_DMA1 ,ENABLE);</p><p>RCC_APB2PeriphClockCmd(RCC_APB2Periph_ADC1 , ENABLE);</p><p>RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOB ,ENABLE);</p><p>/* 这里好奇怪这只能DMA1_Channel1这个通道才能使用ADC1,不然获取数据不生效 */</p><p>zhSCM_ADCConfig(ADC1,DMA1_Channel1,&amp;vValue, ADC_Channel_8, 1, ADC_SampleTime_28Cycles5);</p><p>zhSCM_USARTPutString(USART1,&amp;usert1Aid,&quot;Begin...\\r\\n&quot;);</p><p>while(1)</p><p>{</p><p>&nbsp; &nbsp;if(i++&gt;500000)</p><p>&nbsp; &nbsp;{</p><p>&nbsp; &nbsp; &nbsp; /* 查表得转换的数值 */</p><p>&nbsp; &nbsp; &nbsp; volValue=2.56f*ADC_GetConversionValue(ADC1)/0x0fff;</p><p>&nbsp; &nbsp; &nbsp; printf(&quot;检测到的电压 %04x , %.3f\\r\\n&quot;,ADC_GetConversionValue(ADC1),volValue);</p><p>&nbsp; &nbsp; &nbsp; printf(&quot;ADC = %04x , Volt = %d mv\\r\\n\\r\\n&quot;, vValue, vValue*3300/4096);</p><p>&nbsp; &nbsp; &nbsp; i=0;</p><p>&nbsp; &nbsp; }</p><p>}</p><p>/*************************************************</p><p>&nbsp;* 函数: zhSCM_ADCConfig</p><p>&nbsp;* 功能: ADC配置</p><p>&nbsp;* 参数: 略</p><p>&nbsp;* 返回: 无</p><p>**************************************************/</p><p>void zhSCM_ADCConfig(ADC_TypeDef *pAdc,DMA_Channel_TypeDef *pDMAChannel,vu16 *pDMAValue,</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;u8 adcChannel,u8 adcRank,u8 adcSampleTime)</p><p>{</p><p>&nbsp; //这个变量就是DR_Address宏变量值,在stm3210x_adc.c定义</p><p>&nbsp; #define ADC1_DR_Address &nbsp; &nbsp;((u32)0x4001244C)</p><p>&nbsp; //定义ADC初始化结构体变量</p><p>&nbsp; ADC_InitTypeDef ADC_InitStructure;</p><p>&nbsp; //定义DMA初始化结构体</p><p>&nbsp; DMA_InitTypeDef DMA_InitStructure;</p><p>&nbsp; //初始化这个数值</p><p>&nbsp; *pDMAValue=0;</p><p>&nbsp; /*初始化DMA局部参数*/</p><p>&nbsp; DMA_DeInit(pDMAChannel);//复位DMA通道</p><p>&nbsp; DMA_InitStructure.DMA_PeripheralBaseAddr = ADC1_DR_Address; //定义 DMA通道外设基地址</p><p>&nbsp; DMA_InitStructure.DMA_MemoryBaseAddr = (u32)pDMAValue; //定义DMA通道存储器地址</p><p>&nbsp; DMA_InitStructure.DMA_DIR = DMA_DIR_PeripheralSRC;//指定外设为源地址</p><p>&nbsp; DMA_InitStructure.DMA_BufferSize = 1;//定义DMA缓冲区大小1</p><p>&nbsp; DMA_InitStructure.DMA_PeripheralInc = DMA_PeripheralInc_Disable;//当前外设寄存器地址不变</p><p>&nbsp; DMA_InitStructure.DMA_MemoryInc = DMA_MemoryInc_Disable;//当前存储器地址不变</p><p>&nbsp; DMA_InitStructure.DMA_PeripheralDataSize = DMA_PeripheralDataSize_HalfWord;//定义外设数据宽度16位</p><p>&nbsp; DMA_InitStructure.DMA_MemoryDataSize = DMA_MemoryDataSize_HalfWord; //定义存储器数据宽度16位</p><p>&nbsp; DMA_InitStructure.DMA_Mode = DMA_Mode_Circular;//DMA通道操作模式位环形缓冲模式</p><p>&nbsp; DMA_InitStructure.DMA_Priority = DMA_Priority_High;//DMA通道优先级高</p><p>&nbsp; DMA_InitStructure.DMA_M2M = DMA_M2M_Disable;//禁止DMA通道存储器到存储器传输</p><p>&nbsp; DMA_Init(pDMAChannel, &amp;DMA_InitStructure);//初始化DMA通道1</p><p>&nbsp; DMA_Cmd(pDMAChannel, ENABLE); //使能DMA通道1</p><p>&nbsp; //初始化ADC分频时钟</p><p>&nbsp; RCC_ADCCLKConfig(RCC_PCLK2_Div4);//配置ADC时钟= PCLK2/4</p><p>&nbsp; /*初始化ADC局部参数*/</p><p>&nbsp; ADC_InitStructure.ADC_Mode = ADC_Mode_Independent;//ADC1和ADC2工作在独立模式</p><p>&nbsp; ADC_InitStructure.ADC_ScanConvMode = ENABLE; //使能扫描</p><p>&nbsp; ADC_InitStructure.ADC_ContinuousConvMode = ENABLE;//ADC转换工作在连续模式</p><p>&nbsp; ADC_InitStructure.ADC_ExternalTrigConv = ADC_ExternalTrigConv_None;//有软件控制转换</p><p>&nbsp; ADC_InitStructure.ADC_DataAlign = ADC_DataAlign_Right;//转换数据右对齐</p><p>&nbsp; ADC_InitStructure.ADC_NbrOfChannel = 1;//转换通道为通道1</p><p>&nbsp; ADC_Init(pAdc, &amp;ADC_InitStructure); //初始化ADC</p><p>&nbsp; //ADC选择信道,音序器等级,采样周期</p><p>&nbsp; ADC_RegularChannelConfig(pAdc, adcChannel, adcRank, adcSampleTime);</p><p>&nbsp; ADC_DMACmd(pAdc, ENABLE);//使能ADC1模块DMA</p><p>&nbsp; ADC_Cmd(pAdc, ENABLE);//使能ADC1</p><p>&nbsp; ADC_ResetCalibration(pAdc); //重置ADC1校准寄存器</p><p>&nbsp; while(ADC_GetResetCalibrationStatus(pAdc));//等待ADC1校准重置完成</p><p>&nbsp; ADC_StartCalibration(pAdc);//开始ADC1校准</p><p>&nbsp; while(ADC_GetCalibrationStatus(pAdc));//等待ADC1校准完成</p><p>&nbsp; ADC_SoftwareStartConvCmd(pAdc, ENABLE); //使能ADC1软件开始转换</p><p>}</p><p><br/></p>','2013-12-05 08:01:39','2013-12-05 16:01:39'),(94,'14.222.31.2',25,'Flash应用','<p>int main(void)</p><p>{ &nbsp;</p><p>u32 cnt = 0;</p><p>u16 data[5] = {0x0001, 0x0002, 0x0003, 0x0004, 0x0005};</p><p>/* 初始化 RCC 寄存器组 */</p><p>&nbsp;&nbsp;RCC_Configuration();</p><p>/* 开启 HSI */</p><p>RCC_HSICmd(ENABLE);</p><p>/* 解锁 FLASH 控制块*/</p><p>FLASH_Unlock();</p><p>/* 清除一些标志位 */</p><p>FLASH_ClearFlag(FLASH_FLAG_EOP | FLASH_FLAG_PGERR | FLASH_FLAG_WRPRTERR);</p><p>/* 擦除起始地址为 0x8002000 的 FLASH 页 */</p><p>FLASH_ErasePage(0x8002000);</p><p>/* 从 0x8002000 地址开始连续向 FLASH 写入 5 个 半字宽度（16位）数据 */</p><p>do	&nbsp;&nbsp;</p><p>{</p><p>FLASH_ProgramHalfWord((0x8002000 + cnt * 2), data[cnt]);</p><p>cnt++;</p><p>}while(cnt != 5);</p><p>/* 锁定 FLASH 控制块*/</p><p>FLASH_Lock();</p><p>while(1);</p><p>}</p>','2013-12-05 08:03:01','2013-12-05 16:03:01'),(95,'192.168.2.200',26,'UART通讯','<pre class=\"brush:cpp;toolbar:false\">#include&lt;iostm8s103f3.h&gt;\r\nvoid&nbsp;CLK_init(void)\r\n{\r\n&nbsp;&nbsp;CLK_CKDIVR&nbsp;=&nbsp;0x08;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;16M内部RC经2分频后系统时钟为8M\r\n}\r\nvoid&nbsp;UART1_init(void)\r\n{\r\n&nbsp;&nbsp;//8M的分频/速率,用到输入捕获以及不使用外部晶振时,不要用115200,不然内部晶振不稳定\r\n&nbsp;&nbsp;int&nbsp;n=8000000/9600;\r\n&nbsp;&nbsp;UART1_CR1=0x00;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;8bit\r\n&nbsp;&nbsp;UART1_CR3=0x00;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;1&nbsp;stop&nbsp;bit\r\n&nbsp;&nbsp;UART1_BRR2&nbsp;=&nbsp;n&amp;0x0f;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;设置波特率9600\r\n&nbsp;&nbsp;UART1_BRR1&nbsp;=&nbsp;n&gt;&gt;4;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;8M/9600&nbsp;=&nbsp;0x341\r\n&nbsp;&nbsp;UART1_CR2&nbsp;=&nbsp;0x2C;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;允许接收中断，允许接收，允许发送\r\n&nbsp;&nbsp;//UART1_CR2&nbsp;=&nbsp;0x0C;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;允许接收，允许发送\r\n}\r\nvoid&nbsp;zhUART1_PutBinary(unsigned&nbsp;char&nbsp;*bytes,int&nbsp;len)&nbsp;\r\n{&nbsp;\r\n&nbsp;&nbsp;int&nbsp;i;\r\n&nbsp;&nbsp;for(i=0;i&lt;len;i++)\r\n&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//向终端输出\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while(!UART1_SR_TXE);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UART1_DR=bytes[i];\r\n&nbsp;&nbsp;}&nbsp;&nbsp;\r\n}\r\nvoid&nbsp;zhUART1_PutString(char&nbsp;*str)&nbsp;\r\n{\r\n&nbsp;&nbsp;if(str)\r\n&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;i=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;while(str[i++]!=0);\r\n&nbsp;&nbsp;&nbsp;&nbsp;zhUART1_PutBinary((unsigned&nbsp;char*)str,i);\r\n&nbsp;&nbsp;}\r\n}\r\nvoid&nbsp;main(&nbsp;void&nbsp;)\r\n{\r\n&nbsp;&nbsp;/*\r\n&nbsp;&nbsp;&nbsp;&nbsp;PD5&nbsp;是UART1_TX\r\n&nbsp;&nbsp;&nbsp;&nbsp;PD6&nbsp;是UART1_RX\r\n&nbsp;&nbsp;*/&nbsp;\r\n&nbsp;&nbsp;asm(&quot;sim&quot;);\r\n&nbsp;&nbsp;CLK_init();\r\n&nbsp;&nbsp;UART1_init();\r\n&nbsp;&nbsp;asm(&quot;rim&quot;);\r\n&nbsp;&nbsp;while(1);\r\n}\r\n#pragma&nbsp;vector=UART1_R_RXNE_vector\r\n__interrupt&nbsp;void&nbsp;UART1_RX_RXNE(void)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;//等待终端输入\r\n&nbsp;&nbsp;&nbsp;&nbsp;while(!UART1_SR_RXNE);\r\n&nbsp;&nbsp;&nbsp;&nbsp;//逻辑\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(&#39;&nbsp;&#39;==UART1_DR)//如果按到键盘空格的话就打印事件\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zhUART1_PutString(&quot;space&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zhUART1_PutString(&quot;other&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}</pre><p style=\"padding: 0px; line-height: 24px; font-family: verdana, sans-serif; font-size: 14px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p>','2013-12-05 08:04:04','2016-04-11 19:43:39'),(96,'14.222.31.2',22,'opengl鼠标捡选','<p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">1.ProcessSelection()函数中的gluPerspective(45.0f, fAspect, 1.0, 425.0);的参数必须与ChangeSize()函数内的gluPerspective参数一致,否则会不匹配.<br/>2.gluPickMatrix选出的矩阵数组里的元素是按ID号逐渐增大排列的.</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">#include &lt;windows.h&gt;<br/>#include &lt;gl/gl.h&gt;<br/>#include &lt;gl/glu.h&gt;<br/>#include &lt;gl/glut.h&gt;<br/>#include &lt;math.h&gt;</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/>#define glRGB(x, y, z) glColor3ub((GLubyte)x, (GLubyte)y, (GLubyte)z)</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">#define SUN&nbsp; 1<br/>#define MERCURY 2<br/>#define VENUS 3<br/>#define EARTH 4<br/>#define MARS 5</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">GLfloat fAspect;</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/>// Called to draw scene<br/>void RenderScene(void)<br/>&nbsp;{<br/>&nbsp;// Clear the window with current clearing color<br/>&nbsp;glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">//此处可加gluLookAt()函数</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;// Save the matrix state and do the rotations<br/>&nbsp;glMatrixMode(GL_MODELVIEW);<br/>&nbsp;glPushMatrix();</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;// Translate the whole scene out and into view&nbsp;<br/>&nbsp;glTranslatef(0.0f, 0.0f, -300.0f);</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;// Initialize the names stack<br/>&nbsp;glInitNames();<br/>&nbsp;glPushName(0);</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;<br/>&nbsp;// Set material color, Yellow<br/>&nbsp;// Sun<br/>&nbsp;glRGB(255, 255, 0);<br/>&nbsp;glLoadName(SUN);<br/>&nbsp;glutSolidSphere(15.0f, 15, 15);</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;// Draw Mercury<br/>&nbsp;glRGB(128,0,0);<br/>&nbsp;glPushMatrix();<br/>&nbsp;glTranslatef(24.0f, 0.0f, 0.0f);<br/>&nbsp;glLoadName(MERCURY);<br/>&nbsp;glutSolidSphere(2.0f,15,15);<br/>&nbsp;glPopMatrix();</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;// Draw Venus<br/>&nbsp;glPushMatrix();<br/>&nbsp;glRGB(128,128,255);<br/>&nbsp;glTranslatef(60.0f, 0.0f, 0.0f);<br/>&nbsp;glLoadName(VENUS);<br/>&nbsp;glutSolidSphere(4.0f,15,15);<br/>&nbsp;glPopMatrix();</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;// Draw the Earth<br/>&nbsp;glPushMatrix();<br/>&nbsp;glRGB(0,0,255);<br/>&nbsp;glTranslatef(150.0f,0.0f,-5.1f);<br/>&nbsp;glLoadName(EARTH);<br/>&nbsp;glutSolidSphere(8.0f,15,15);<br/>&nbsp;glPopMatrix();</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;// Draw Mars<br/>&nbsp;glRGB(255,0,0);<br/>&nbsp;glPushMatrix();<br/>&nbsp;glTranslatef(150.0f, 0.0f, 0.0f);<br/>&nbsp;glLoadName(MARS);<br/>&nbsp;glutSolidSphere(4.0f,15,15);<br/>&nbsp;glPopMatrix();</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/>&nbsp;// Restore the matrix state<br/>&nbsp;glPopMatrix(); // Modelview matrix</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;glutSwapBuffers();<br/>&nbsp;}</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/>// Present the information on which planet/sun was selected and displayed<br/>void ProcessPlanet(GLuint id)<br/>&nbsp;{<br/>&nbsp;switch(id)<br/>&nbsp; {<br/>&nbsp; case SUN:<br/>&nbsp;&nbsp; MessageBox(NULL,&quot;You clicked on the Sun!&quot;,&quot;Info&quot;,MB_OK | MB_ICONEXCLAMATION);<br/>&nbsp;&nbsp; break;</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; case MERCURY:<br/>&nbsp;&nbsp; MessageBox(NULL,&quot;You clicked on Mercury!&quot;,&quot;Info&quot;,MB_OK | MB_ICONEXCLAMATION);<br/>&nbsp;&nbsp; break;</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; case VENUS:<br/>&nbsp;&nbsp; MessageBox(NULL,&quot;You clicked on Venus!&quot;,&quot;Info&quot;,MB_OK | MB_ICONEXCLAMATION);<br/>&nbsp;&nbsp; break;</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; case EARTH:<br/>&nbsp;&nbsp; MessageBox(NULL,&quot;You clicked on Earth!&quot;,&quot;Info&quot;,MB_OK | MB_ICONEXCLAMATION);<br/>&nbsp;&nbsp; break;</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; case MARS:<br/>&nbsp;&nbsp; MessageBox(NULL,&quot;You clicked on Mars!&quot;,&quot;Info&quot;,MB_OK | MB_ICONEXCLAMATION);<br/>&nbsp;&nbsp; break;</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; default:<br/>&nbsp;&nbsp; MessageBox(NULL,&quot;Nothing was clicked on!&quot;,&quot;Error&quot;,MB_OK | MB_ICONEXCLAMATION);<br/>&nbsp;&nbsp; break;<br/>&nbsp; }<br/>&nbsp;}</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">// Process the selection, which is triggered by a right mouse<br/>// click at (xPos, yPos).<br/>#define BUFFER_LENGTH 64<br/>void ProcessSelection(int xPos, int yPos)<br/>&nbsp;{<br/>&nbsp;// Space for selection buffer<br/>&nbsp;GLuint selectBuff[BUFFER_LENGTH];</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;// Hit counter and viewport storeage<br/>&nbsp;GLint hits, viewport[4];</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;// Setup selection buffer<br/>&nbsp;glSelectBuffer(BUFFER_LENGTH, selectBuff);<br/>&nbsp;<br/>&nbsp;// Get the viewport<br/>&nbsp;glGetIntegerv(GL_VIEWPORT, viewport);</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;// Switch to projection and save the matrix<br/>&nbsp;glMatrixMode(GL_PROJECTION);<br/>&nbsp;glPushMatrix();</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;// Change render mode<br/>&nbsp;glRenderMode(GL_SELECT);</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;// Establish new clipping volume to be unit cube around<br/>&nbsp;// mouse cursor point (xPos, yPos) and extending two pixels<br/>&nbsp;// in the vertical and horzontal direction<br/>&nbsp;glLoadIdentity();<br/>&nbsp;gluPickMatrix(xPos, viewport[3] - yPos, 2,2, viewport);</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;// Apply perspective matrix&nbsp;<br/>&nbsp;gluPerspective(45.0f, fAspect, 1.0, 425.0);</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;// Draw the scene<br/>&nbsp;RenderScene();</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;// Collect the hits<br/>&nbsp;hits = glRenderMode(GL_RENDER);</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;// If a single hit occured, display the info.<br/>&nbsp;if(hits&nbsp; &gt;= 1)<br/>&nbsp;{<br/>&nbsp; int choose = selectBuff[3];<br/>&nbsp; int depth = selectBuff[1];</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp; for(int i = 1 ; i &lt; hits ; i++)<br/>&nbsp; {<br/>&nbsp;&nbsp; if(selectBuff[i*4 + 1] &lt; (GLuint)depth)//获取深度最小的物体(selectBuff是按照ID从小到大排列的)<br/>&nbsp;&nbsp; {<br/>&nbsp;&nbsp;&nbsp; choose = selectBuff[i*4 + 3];<br/>&nbsp;&nbsp;&nbsp; depth&nbsp; = selectBuff[i*4 + 1];<br/>&nbsp;&nbsp; }<br/>&nbsp; }<br/>&nbsp;&nbsp;<br/>&nbsp;&nbsp; ProcessPlanet( choose);<br/>&nbsp;&nbsp;<br/>&nbsp;}</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;// Restore the projection matrix<br/>&nbsp;glMatrixMode(GL_PROJECTION);<br/>&nbsp;glPopMatrix();</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;// Go back to modelview for normal rendering<br/>&nbsp;glMatrixMode(GL_MODELVIEW);<br/>&nbsp;}</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">// Process the mouse click<br/>void MouseCallback(int button, int state, int x, int y)<br/>&nbsp;{<br/>&nbsp;if(button == GLUT_LEFT_BUTTON &amp;&amp; state == GLUT_DOWN)<br/>&nbsp; ProcessSelection(x, y);<br/>&nbsp;}</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">void ChangeSize(int w, int h)<br/>&nbsp;{<br/>&nbsp;// Prevent a divide by zero<br/>&nbsp;if(h == 0)<br/>&nbsp; h = 1;</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;// Set Viewport to window dimensions<br/>&nbsp;&nbsp;&nbsp; glViewport(0, 0, w, h);</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;// Calculate aspect ratio of the window<br/>&nbsp;fAspect = (GLfloat)w/(GLfloat)h;</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;// Set the perspective coordinate system<br/>&nbsp;glMatrixMode(GL_PROJECTION);<br/>&nbsp;glLoadIdentity();</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;// Field of view of 45 degrees, near and far planes 1.0 and 425<br/>&nbsp;gluPerspective(45.0f, fAspect, 1.0, 425.0);</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;// Modelview matrix reset<br/>&nbsp;glMatrixMode(GL_MODELVIEW);<br/>&nbsp;glLoadIdentity();<br/>&nbsp;}</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">int main(int argc, char* argv[])<br/>&nbsp;{<br/>&nbsp;glutInit(&amp;argc, argv);<br/>&nbsp;glutInitDisplayMode(GLUT_DOUBLE | GLUT_RGB | GLUT_DEPTH);<br/>&nbsp;glutInitWindowSize(600,300);<br/>&nbsp;glutCreateWindow(&quot;Pick a Planet&quot;);<br/>&nbsp;glutReshapeFunc(ChangeSize);<br/>&nbsp;glutMouseFunc(MouseCallback);<br/>&nbsp;glutDisplayFunc(RenderScene);<br/>&nbsp;<br/>&nbsp;glutMainLoop();</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;return 0;<br/>&nbsp;}</p><p><br/></p>','2013-12-05 08:05:29','2013-12-05 16:05:29'),(97,'14.222.31.2',22,'opengl简单UI例子','<p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">// ui.cpp : 定义控制台应用程序的入口点。<br/>//</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">#include &quot;stdafx.h&quot;</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">#include &lt;cstdio&gt;&nbsp;&nbsp;&nbsp;<br/>#include &lt;cstdlib&gt;&nbsp;&nbsp;&nbsp;<br/>#include &lt;GL/glut.h&gt;&nbsp;&nbsp;&nbsp;<br/>#include &lt;cmath&gt;&nbsp;&nbsp;&nbsp;<br/>#include &lt;ctime&gt;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;<br/>//////////////////////////////////////////////////&nbsp;&nbsp;&nbsp;<br/>//global&nbsp;&nbsp;&nbsp;<br/>float g_fWidth = 500;&nbsp;&nbsp;&nbsp;<br/>float g_fHeight = 500;&nbsp;&nbsp;&nbsp;<br/>float g_fDepth = 100;&nbsp;&nbsp;&nbsp;<br/>float g_fAngle = .0;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;<br/>struct Button{&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; int m_fPosX;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //表示在正交投影坐标系(左下角为坐标原点)的坐标，&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; int m_fPosY;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; int m_fWidth;&nbsp;&nbsp;&nbsp;&nbsp; //屏幕像素单位&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; int m_fHeight;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; bool m_bPressed;<br/>&nbsp;Button(){<br/>&nbsp;&nbsp;m_bPressed = false;<br/>&nbsp;}<br/>&nbsp;&nbsp;&nbsp; void Render()&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; glPushMatrix();&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //将中心位于原点的cube移动到使cube左下角坐标为m_fPosX,m_fPosY的位置&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //必须考虑cube的自身长宽&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; glTranslatef(m_fPosX, m_fPosY, -2.0);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //-2.0只是为了按钮可见&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if( m_bPressed )&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; glScalef(1.2, 1.2, 1.2);&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //cube中心位于原点&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;glEnable(GL_ALPHA_TEST);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; glBegin(GL_QUADS);<br/>&nbsp;&nbsp;&nbsp;glColor4f(1,1,1,1.0f);<br/>&nbsp;&nbsp;&nbsp;glVertex3f(0,0,0);<br/>&nbsp;&nbsp;&nbsp;glVertex3f(0,m_fHeight,0);<br/>&nbsp;&nbsp;&nbsp;glVertex3f(m_fWidth,m_fHeight,0);<br/>&nbsp;&nbsp;&nbsp;glVertex3f(m_fWidth,0,0);<br/>&nbsp;&nbsp;&nbsp;glEnd();<br/>&nbsp;&nbsp;&nbsp;glDisable(GL_ALPHA_TEST);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br/>&nbsp;&nbsp;glPopMatrix();<br/>&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; bool OnMouseDown(int mousex, int mousey)&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //鼠标的位置：mousex，mousey坐标系是原点位于左上角&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //必须将mousey变换到原点位于左下角的坐标系中&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mousey = g_fHeight-mousey;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if( mousex &gt;= m_fPosX &amp;&amp; mousex &lt;= m_fPosX+m_fWidth &amp;&amp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mousey &gt;= m_fPosY &amp;&amp; mousey &lt;= m_fPosY+m_fHeight )&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf(&quot;button is pressed .... \\n&quot;);&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; m_bPressed = true;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return true;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return false;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; void OnMouseUp()&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; m_bPressed = false;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;<br/>};&nbsp;&nbsp;&nbsp;<br/>Button* pBtn;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;<br/>void init(void)&nbsp;&nbsp;&nbsp;&nbsp;<br/>{&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; glClearColor (0.0, 0.0, 0.0, 0.0);&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; glShadeModel (GL_SMOOTH);&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; pBtn = new Button;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; pBtn-&gt;m_fPosX = 40;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; pBtn-&gt;m_fPosY = 450;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; pBtn-&gt;m_fWidth = 60;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; pBtn-&gt;m_fHeight = 20;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; printf(&quot;**********button pos: 40\\t480\\n&quot;);&nbsp;&nbsp;&nbsp;<br/>}&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;<br/>void display(void)&nbsp;&nbsp;&nbsp;<br/>{&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; glClear (GL_COLOR_BUFFER_BIT);&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; glColor3f (1.0, 1.0, 1.0);&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;<br/>&nbsp; // 绘制cube物体，&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; glMatrixMode (GL_PROJECTION);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //回复原有的设置&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; glLoadIdentity ();&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; gluPerspective(45,1.0,1.5,20);<br/>&nbsp;&nbsp;&nbsp; glMatrixMode (GL_MODELVIEW);&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; glLoadIdentity ();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; /* viewing transformation&nbsp; */&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; gluLookAt (0.0, 0.0, 5.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0);&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; glRotatef(g_fAngle, 0.0, 1.0, 0.0);&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; glScalef (1.0, 2.0, 1.0);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* modeling transformation */&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; glutWireCube (1.0);&nbsp;&nbsp;</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;//画控件,主要是这里的投影变换,事件可以改成gluPackMatrix触发<br/>&nbsp;&nbsp;&nbsp; glMatrixMode(GL_PROJECTION);&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; glLoadIdentity();&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; glOrtho(0, g_fWidth, 0, g_fHeight, 0, g_fDepth);&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; glMatrixMode(GL_MODELVIEW);<br/>&nbsp;&nbsp;&nbsp; glLoadIdentity();&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; pBtn-&gt;Render();&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; //glFlush();&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; glutSwapBuffers();&nbsp;&nbsp;&nbsp;<br/>}&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;<br/>void reshape (int w, int h)&nbsp;&nbsp;&nbsp;<br/>{&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; //glViewport (0, 0, (GLsizei) w, (GLsizei) h);&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; glMatrixMode (GL_PROJECTION);&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; glLoadIdentity ();<br/>&nbsp;printf(&quot;reshape w=%d,h=%d\\n&quot;,w,h);<br/>&nbsp;&nbsp;&nbsp; gluPerspective(45,1,1.5,20);&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; glMatrixMode (GL_MODELVIEW);&nbsp;&nbsp;<br/>&nbsp;glLoadIdentity ();&nbsp;&nbsp;&nbsp;<br/>}&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;<br/>void keyboard(unsigned char key, int x, int y)&nbsp;&nbsp;&nbsp;<br/>{&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; switch (key) {&nbsp;&nbsp;&nbsp;<br/>case 27:&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; exit(0);&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; break;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;<br/>}&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;<br/>void mouse(int button, int state, int x, int y)&nbsp;&nbsp;&nbsp;<br/>{&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; if(button==GLUT_LEFT_BUTTON)&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; switch(state)&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case GLUT_DOWN:&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //左键按下：&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf(&quot;Mouse pos : %d\\t%d\\n&quot;, x, 500-y);&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if( pBtn-&gt;OnMouseDown(x, y) )&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;{ g_fAngle += 2.0;&nbsp;&nbsp; }<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case GLUT_UP:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pBtn-&gt;OnMouseUp();&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; glutPostRedisplay();&nbsp;&nbsp;&nbsp;<br/>}&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;<br/>int main(int argc, char** argv)&nbsp;&nbsp;&nbsp;<br/>{&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; glutInit(&amp;argc, argv);&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; glutInitDisplayMode (GLUT_DOUBLE | GLUT_RGB);&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; glutInitWindowSize (500, 500);&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; glutInitWindowPosition (100, 100);&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; glutCreateWindow (argv[0]);&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; init ();&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; glutDisplayFunc(display);&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; glutReshapeFunc(reshape);&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; glutKeyboardFunc(keyboard);&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; glutMouseFunc( mouse );&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; glutMainLoop();&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; return 0;&nbsp;&nbsp;&nbsp;<br/>}&nbsp;</p><p><br/></p>','2013-12-05 08:06:05','2013-12-05 16:06:05'),(98,'14.222.31.2',22,'glut例','<p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">#include &lt;iostream&gt;<br/>using namespace std;</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/>#include &lt;GL/glut.h&gt;</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/>GLfloat eyex=0,eyey=50,eyez=35;<br/>//===========================OpenGL部分=========================<br/>void init()<br/>{<br/>&nbsp;&nbsp; /*<br/>&nbsp;&nbsp;&nbsp; //设置材质<br/>&nbsp;&nbsp;&nbsp; GLfloat mat_ambient[] = { .8, .8, .8, 1.0 };<br/>&nbsp;&nbsp;&nbsp; GLfloat mat_diffuse[] = { .8, .0, .8, 1.0 };<br/>&nbsp;&nbsp;&nbsp; GLfloat mat_specular[] = { 1.0, .0, 1.0, 1.0 };<br/>&nbsp;&nbsp;&nbsp; GLfloat mat_shininess[] = { 50.0 };</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp; glMaterialfv(GL_FRONT_AND_BACK, GL_AMBIENT, mat_ambient);<br/>&nbsp;&nbsp;&nbsp; glMaterialfv(GL_FRONT_AND_BACK, GL_DIFFUSE, mat_diffuse);<br/>&nbsp;&nbsp;&nbsp; glMaterialfv(GL_FRONT_AND_BACK, GL_SPECULAR, mat_specular);<br/>&nbsp;&nbsp;&nbsp; glMaterialfv(GL_FRONT_AND_BACK, GL_SHININESS, mat_shininess);<br/>&nbsp;&nbsp;&nbsp; //为了让这些球体有一点立体感，<br/>&nbsp;&nbsp;&nbsp; //我们使用光照。在(1, 1, -1)处设置一个白色的光源</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp; static const GLfloat light_position[] = {1.0f, 1.0f, -1.0f, 1.0f};<br/>&nbsp;&nbsp;&nbsp; static const GLfloat light_ambient[] = {0.2f, 0.2f, 0.2f, 1.0f};<br/>&nbsp;&nbsp;&nbsp; static const GLfloat light_diffuse[] = {1.0f, 1.0f, 1.0f, 1.0f};<br/>&nbsp;&nbsp;&nbsp; static const GLfloat light_specular[] = {1.0f, 1.0f, 1.0f, 1.0f};</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp; glLightfv(GL_LIGHT0, GL_POSITION, light_position);&nbsp;&nbsp;&nbsp; //光源位置<br/>&nbsp;&nbsp;&nbsp; glLightfv(GL_LIGHT0, GL_AMBIENT, light_ambient);&nbsp;&nbsp;&nbsp; //环境光<br/>&nbsp;&nbsp;&nbsp; glLightfv(GL_LIGHT0, GL_DIFFUSE, light_diffuse);&nbsp;&nbsp;&nbsp; //漫反射<br/>&nbsp;&nbsp;&nbsp; glLightfv(GL_LIGHT0, GL_SPECULAR, light_specular);&nbsp;&nbsp;&nbsp; //镜面光</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp; glEnable(GL_LIGHTING);&nbsp;&nbsp;&nbsp; //启动光源<br/>&nbsp;&nbsp;&nbsp; glEnable(GL_LIGHT0);&nbsp;&nbsp;&nbsp; //启动光0<br/>&nbsp;&nbsp;&nbsp; glEnable(GL_DEPTH_TEST);//启动深度测试<br/>&nbsp;&nbsp;&nbsp; glDepthFunc(GL_LESS);&nbsp;&nbsp;&nbsp; //启动裁剪<br/>*/</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp; GLfloat light_position1[] = { 1.0, 1.0, 1.0, 0.0 };<br/>&nbsp;&nbsp;&nbsp; GLfloat light_position2[] = { 1.0, 1.0, -1.0, 0.0 };<br/>&nbsp;&nbsp;&nbsp; glLightfv(GL_LIGHT0, GL_POSITION, light_position1);<br/>&nbsp;&nbsp;&nbsp; glLightfv(GL_LIGHT1, GL_POSITION, light_position2);<br/>&nbsp;&nbsp;&nbsp; glEnable(GL_LIGHTING);<br/>&nbsp;&nbsp;&nbsp; glEnable(GL_LIGHT0);<br/>&nbsp;&nbsp;&nbsp; glEnable(GL_LIGHT1);<br/>&nbsp;&nbsp;&nbsp; glDepthFunc(GL_LESS);<br/>&nbsp;&nbsp;&nbsp; glEnable(GL_DEPTH_TEST);</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">}<br/>void timer(int p)<br/>{<br/>&nbsp;&nbsp;&nbsp; glutPostRedisplay();<br/>&nbsp;&nbsp;&nbsp; glutTimerFunc(20, timer, 0);<br/>}<br/>void display()<br/>{</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp; glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);<br/>&nbsp;&nbsp;&nbsp; glLoadIdentity();</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp; gluLookAt(eyex,eyey,eyez,0,0,0 ,0,1,0);<br/>&nbsp;&nbsp;&nbsp; //绘制一个平面<br/>&nbsp;&nbsp;&nbsp; glPushMatrix();<br/>&nbsp;&nbsp;&nbsp; glTranslatef(0,-0.5,0);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; glScalef(20,1,20);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; glutSolidCube(1);<br/>&nbsp;&nbsp;&nbsp; glPopMatrix();</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/>&nbsp;&nbsp;&nbsp; glPushMatrix();<br/>&nbsp;&nbsp;&nbsp; glutSolidSphere(1,50,50);<br/>&nbsp;&nbsp;&nbsp; glPopMatrix();<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp; glutSwapBuffers(); //双缓冲</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">}</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">void reshape(int w, int h)<br/>{<br/>&nbsp;&nbsp;&nbsp; glViewport(0, 0, (GLsizei) w, (GLsizei) h);<br/>&nbsp;&nbsp;&nbsp; glMatrixMode(GL_PROJECTION);<br/>&nbsp;&nbsp;&nbsp; glLoadIdentity();<br/>&nbsp;&nbsp;&nbsp; if (h ==0 ) h = 1;<br/>&nbsp;&nbsp;&nbsp; gluPerspective(45.0f,(GLfloat) w / (GLfloat)h , 0.5f, -1000.0f);<br/>&nbsp;&nbsp;&nbsp; /* 正投影<br/>&nbsp;&nbsp;&nbsp; if (w &lt;= h)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; glOrtho(-10.5, 10.5, -10.5 * (GLfloat) h / (GLfloat) w, 10.5 * (GLfloat) h<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; / (GLfloat) w, -1000.0, 1000.0);<br/>&nbsp;&nbsp;&nbsp; else<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; glOrtho(-10.5 * (GLfloat) w / (GLfloat) h, 10.5 * (GLfloat) w<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; / (GLfloat) h, -10.5, 10.5, -1000.0, 1000.0);<br/>&nbsp;&nbsp;&nbsp; */<br/>&nbsp;&nbsp;&nbsp; glMatrixMode(GL_MODELVIEW);<br/>&nbsp;&nbsp;&nbsp; glLoadIdentity();<br/>}</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">void keyboard(unsigned char key, int x, int y)<br/>{</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp; switch (key)<br/>&nbsp;&nbsp;&nbsp; {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case &#39;w&#39;:&nbsp;&nbsp;&nbsp;&nbsp; //前<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case &#39;s&#39;:&nbsp;&nbsp;&nbsp;&nbsp; //后<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case &#39;a&#39;:&nbsp;&nbsp;&nbsp;&nbsp; //左<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case &#39;d&#39;:&nbsp;&nbsp;&nbsp;&nbsp; //右<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case &#39;q&#39;:&nbsp;&nbsp;&nbsp; //上<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case 27:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; exit(0);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<br/>&nbsp;&nbsp;&nbsp; }<br/>}</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">void MouseEvent(int button, int state, int x, int y)<br/>{<br/>&nbsp;&nbsp;&nbsp; switch(button)<br/>&nbsp;&nbsp;&nbsp; {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case GLUT_LEFT_BUTTON:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cout&lt;&lt;&quot;GLUT_LEFT_BUTTON&quot;&lt;&lt;endl;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case GLUT_RIGHT_BUTTON:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cout&lt;&lt;&quot;GLUT_RIGHT_BUTTON&quot;&lt;&lt;endl;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case GLUT_MIDDLE_BUTTON:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cout&lt;&lt;&quot;GLUT_MIDDLE_BUTTON&quot;&lt;&lt;endl;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<br/>&nbsp;&nbsp;&nbsp; }<br/>}<br/>void MotionMove(int x,int y)<br/>{</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">}<br/>int main(int argc, char *argv[])<br/>{</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp; glutInit(&amp;argc, argv);<br/>&nbsp;&nbsp;&nbsp; glutInitDisplayMode(GLUT_DOUBLE | GLUT_RGB | GLUT_DEPTH);<br/>&nbsp;&nbsp;&nbsp; glutInitWindowPosition(100, 100);<br/>&nbsp;&nbsp;&nbsp; glutInitWindowSize(800, 600);<br/>&nbsp;&nbsp;&nbsp; glutCreateWindow(&quot;OpenGLLuaDemo&quot;);<br/>&nbsp;&nbsp;&nbsp; init();<br/>&nbsp;&nbsp;&nbsp; glutTimerFunc(20,timer,0);<br/>&nbsp;&nbsp;&nbsp; glutDisplayFunc(display);<br/>&nbsp;&nbsp;&nbsp; glutReshapeFunc(reshape);<br/>&nbsp;&nbsp;&nbsp; glutKeyboardFunc(keyboard);<br/>&nbsp;&nbsp;&nbsp; glutMouseFunc(MouseEvent);<br/>&nbsp;&nbsp;&nbsp; glutMotionFunc(MotionMove);<br/>&nbsp;&nbsp;&nbsp; glutMainLoop();<br/>&nbsp;&nbsp;&nbsp; return 0;<br/>}</p><p><br/></p>','2013-12-05 08:06:37','2013-12-05 16:06:37'),(99,'14.222.31.2',22,'opengles纹理加载','<p>int texWidth =128;</p><p>int texHeight =128;</p><p>//生成1个纹理编号</p><p>glGenTextures(1, &amp;textures);</p><p>//开辟内存</p><p>GLubyte *textureData = (GLubyte *)malloc(texWidth * texHeight * 4);</p><p>memcpy(textureData,图片内容,图片大小);</p><p>//绑定纹理编号到内存中</p><p>glBindTexture(GL_TEXTURE_2D, textures);</p><p>glTexImage2D(GL_TEXTURE_2D, 0, GL_RGBA, texWidth, texHeight, 0, GL_RGBA, GL_UNSIGNED_BYTE, textureData);</p><p>//释放RGBA数据</p><p>free(textureData);</p><p>glTexParameterf(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);</p><p>glTexParameterf(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);</p><p>//删除一个纹理</p><p>//glDeleteTextures(1, &amp; textures);</p><p>////////////////////////////////// 以下是OBJ-C加载代码 ///////////////////////////////////////////</p><p>/****</p><p>&nbsp;加载纹理</p><p>****/</p><p>+(BOOL)loadTexture:(NSString *)path intoLocation:(GLuint*)texID</p><p>{</p><p>&nbsp; &nbsp; CGImageRef textureImage = [UIImage imageNamed:path].CGImage;</p><p>&nbsp; &nbsp; if (textureImage == nil) {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; NSLog(@&quot;Failed to load texture image&quot;);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; return false;</p><p>&nbsp; &nbsp; }</p><p>&nbsp; &nbsp; NSInteger texWidth = CGImageGetWidth(textureImage);</p><p>&nbsp; &nbsp; NSInteger texHeight = CGImageGetHeight(textureImage);</p><p>&nbsp; &nbsp; GLubyte *textureData = (GLubyte *)malloc(texWidth * texHeight * 4);</p><p>&nbsp; &nbsp; CGContextRef textureContext = CGBitmapContextCreate(textureData,</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; texWidth, texHeight,</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 8, texWidth * 4,</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CGImageGetColorSpace(textureImage),</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; kCGImageAlphaPremultipliedLast);</p><p>&nbsp; &nbsp; // Rotate the image</p><p>&nbsp; &nbsp; CGContextTranslateCTM(textureContext, 0, texHeight);</p><p>&nbsp; &nbsp; CGContextScaleCTM(textureContext, 1.0, -1.0);</p><p>&nbsp; &nbsp;&nbsp;</p><p>&nbsp; &nbsp; CGContextDrawImage(textureContext, CGRectMake(0.0, 0.0, (float)texWidth, (float)texHeight), textureImage);</p><p>&nbsp; &nbsp; CGContextRelease(textureContext);</p><p>&nbsp; &nbsp;&nbsp;</p><p>&nbsp; &nbsp; glGenTextures(1, texID);</p><p>&nbsp; &nbsp; glBindTexture(GL_TEXTURE_2D, *texID);</p><p>&nbsp; &nbsp; glTexImage2D(GL_TEXTURE_2D, 0, GL_RGBA, texWidth, texHeight, 0, GL_RGBA, GL_UNSIGNED_BYTE, textureData);</p><p>&nbsp; &nbsp; free(textureData);</p><p>&nbsp; &nbsp; glTexParameterf(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);</p><p>&nbsp; &nbsp; glTexParameterf(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);</p><p>&nbsp; &nbsp; return true;</p><p>}</p><p><br/></p>','2013-12-05 08:07:09','2013-12-05 16:07:09'),(100,'14.222.31.2',22,'opengles绘制纹理平面','<p>//平面顶点数组</p><p>&nbsp; &nbsp; GLfloat vertex[] = {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 0, 1, 0, &nbsp; &nbsp; &nbsp; //top left</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 0, 0, 0, &nbsp; &nbsp; &nbsp;//bottom left</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 1,0, 0, &nbsp; &nbsp; &nbsp; &nbsp;//bottom right</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 1, 1, 0 &nbsp; &nbsp; &nbsp; &nbsp; //top right</p><p>&nbsp; &nbsp; };</p><p>&nbsp; &nbsp; GLfloat texCoodr[]={</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 0.0, 1.0, &nbsp; &nbsp; &nbsp;//top left</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 0.0, 0.5, &nbsp; &nbsp; &nbsp;//bottom left of square</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 0.5, 0.5, &nbsp; &nbsp; &nbsp;//bottom right of square</p><p>&nbsp; &nbsp; &nbsp; &nbsp; 0.5, 1.0 &nbsp; &nbsp; &nbsp; //top right of square</p><p>&nbsp; &nbsp; };</p><p>&nbsp; &nbsp;&nbsp;</p><p>&nbsp; &nbsp; //先启用纹理功能,再录入图片里的坐标</p><p>&nbsp; &nbsp; glEnable(GL_TEXTURE_2D);</p><p>&nbsp; &nbsp; glEnableClientState(GL_TEXTURE_COORD_ARRAY);</p><p>&nbsp; &nbsp; glBindTexture(GL_TEXTURE_2D, texturesID);</p><p>&nbsp; &nbsp; glTexCoordPointer(2, GL_FLOAT, 0, &amp;texCoodr);</p><p>&nbsp; &nbsp;&nbsp;</p><p>&nbsp; &nbsp; &nbsp;//平面</p><p>&nbsp; &nbsp; glPushMatrix();</p><p>&nbsp; //glTranslatef(_left, _top, 0);</p><p>&nbsp; //glScalef(_width, _height, 0);</p><p>&nbsp; &nbsp; glEnableClientState(GL_VERTEX_ARRAY);</p><p>&nbsp; &nbsp; glVertexPointer(3, GL_FLOAT, 0, vertex);</p><p>&nbsp; &nbsp; glDrawArrays(GL_TRIANGLE_FAN, 0, 4);</p><p>&nbsp; &nbsp; glDisableClientState(GL_VERTEX_ARRAY);</p><p>&nbsp; &nbsp; glPopMatrix();</p><p>&nbsp; &nbsp; //关闭纹理</p><p>&nbsp; &nbsp; glDisable(GL_TEXTURE_2D);</p><p>&nbsp; &nbsp; glDisableClientState(GL_TEXTURE_COORD_ARRAY);</p><p><br/></p>','2013-12-05 08:07:41','2013-12-05 16:07:41'),(101,'14.222.31.2',22,'抗锯齿效果','<p>//这代码好像对opengles不起作用<br/></p><p><br/></p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">//演示抗锯齿效果<br/>glEnable(GL_BLEND);//启用融合效果<br/>glBlendFunc(GL_SRC_ALPHA,GL_ONE_MINUS_SRC_ALPHA);//设置融合方式<br/>glTranslatef(0.0f,0.0f,-50.0f);</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">glBegin(GL_LINES);//屏幕左面的线未用抗锯齿<br/>&nbsp;&nbsp;&nbsp; glVertex2f(20.0f,0.0f);<br/>&nbsp;&nbsp;&nbsp; glVertex2f(40.0f,80.0f);<br/>glEnd();</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">glEnable(GL_POINT_SMOOTH);//对点进行平滑处理<br/>glEnable(GL_LINE_SMOOTH);//对线进行平滑处理</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">glBegin(GL_LINES);<br/>&nbsp;&nbsp;&nbsp; glVertex2f(-20.0f,0.0f);<br/>&nbsp;&nbsp;&nbsp; glVertex2f(-40.0f,80.0f);<br/>glEnd();</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">glDisable(GL_POINT_SMOOTH);<br/>glDisable(GL_LINE_SMOOTH);</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">glDisable(GL_BLEND);</p><p><br/></p>','2013-12-05 08:08:45','2013-12-05 16:08:45'),(102,'14.222.31.2',22,'透明效果','<p>glEnable(GL_BLEND);//启用融合效果</p><p>glBlendFunc(GL_SRC_ALPHA,GL_ONE_MINUS_SRC_ALPHA);//设置融合方式</p><p>glColor4f(1, 0, 0, 0.7f);//最后一是透明度</p><p>..绘制图形</p><p>glColor4f(1, 1, 1, 1);//恢复透明度不影响别的模型</p><p>glDisable(GL_BLEND); //关闭融合效果</p><p><br/></p>','2013-12-05 08:09:30','2013-12-05 16:09:30'),(103,'14.222.31.2',22,'opengles绘制顺序','<p>- (void)drawView {</p><p>&nbsp; &nbsp; [EAGLContext setCurrentContext:context];</p><p>&nbsp; &nbsp; glBindFramebufferOES(GL_FRAMEBUFFER_OES, viewFramebuffer);</p><p>&nbsp; &nbsp;&nbsp;</p><p>&nbsp; &nbsp; glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);</p><p>&nbsp; &nbsp; glClearColor(0.2, 0.2, 0.2, 1);</p><p>&nbsp; &nbsp; glEnable(GL_DEPTH_TEST);</p><p>&nbsp; &nbsp;&nbsp;</p><p>&nbsp; &nbsp; //恢复矩阵</p><p>&nbsp; &nbsp; glMatrixMode(GL_PROJECTION);</p><p>&nbsp; &nbsp; glLoadIdentity();</p><p>&nbsp; &nbsp; //gluPerspective 函数可以用 glFrustumf代替</p><p>&nbsp; &nbsp; gluPerspective(fieldOfView,backingWidth / backingHeight,zNear, zFar);</p><p>&nbsp; &nbsp; glViewport(0, 0, backingWidth, backingHeight);</p><p>&nbsp; &nbsp;&nbsp;</p><p>&nbsp; &nbsp; glMatrixMode(GL_MODELVIEW);</p><p>&nbsp; &nbsp;&nbsp;</p><p>&nbsp; &nbsp; //改变视角</p><p>&nbsp; &nbsp; glLoadIdentity();</p><p>&nbsp; &nbsp; gluLookAt(eyeContex[0], eyeContex[1], eyeContex[2], targetContex[0], targetContex[1], targetContex[2], 0.0, 1.0, 0.0);</p><p>&nbsp; &nbsp;&nbsp;</p><p>&nbsp; &nbsp; //绘制场景</p><p>&nbsp; &nbsp; [self drawScene];</p><p>&nbsp; &nbsp;&nbsp;</p><p>&nbsp; &nbsp; //保存场景矩阵</p><p>&nbsp; &nbsp; glGetFloatv(GL_MODELVIEW_MATRIX, sceneModelMatrix);</p><p>&nbsp; &nbsp; glGetFloatv(GL_PROJECTION_MATRIX, sceneProjectMatrix);</p><p>&nbsp; &nbsp; glGetIntegerv(GL_VIEWPORT, scenePortView);</p><p>&nbsp; &nbsp; glDisable(GL_DEPTH_TEST);</p><p>&nbsp; &nbsp;&nbsp;</p><p>&nbsp; &nbsp; //恢复矩阵</p><p>&nbsp; &nbsp; glMatrixMode (GL_PROJECTION);</p><p>&nbsp; &nbsp; glLoadIdentity();</p><p>&nbsp; &nbsp; glOrthof(0, backingWidth, 0, backingHeight, -1, 1);</p><p>&nbsp; &nbsp; glMatrixMode (GL_MODELVIEW);</p><p>&nbsp; &nbsp; //绘制UI</p><p>&nbsp; &nbsp; glLoadIdentity();</p><p>&nbsp; &nbsp; [self drawUI];</p><p>&nbsp; &nbsp;&nbsp;</p><p>&nbsp; &nbsp; //保存UI矩阵</p><p>&nbsp; &nbsp; glGetFloatv(GL_MODELVIEW_MATRIX, uiModelMatrix);</p><p>&nbsp; &nbsp; glGetFloatv(GL_PROJECTION_MATRIX, uiProjectMatrix);</p><p>&nbsp; &nbsp; glGetIntegerv(GL_VIEWPORT, uiPortView);</p><p>&nbsp; &nbsp;</p><p>&nbsp; &nbsp; //刷新缓冲</p><p>&nbsp; &nbsp; glBindRenderbufferOES(GL_RENDERBUFFER_OES, viewRenderbuffer);</p><p>&nbsp; &nbsp; [context presentRenderbuffer:GL_RENDERBUFFER_OES];</p><p>&nbsp; &nbsp; [self checkGLError:NO];</p><p>}</p><p><br/></p>','2013-12-05 08:09:59','2013-12-05 16:09:59'),(104,'113.78.12.30',27,'委托回调','<p>1.</p><p>public interface zhInterface {</p><p>&nbsp; void connectCallBack(boolean bResult);</p><p>}</p><p>2.</p><p>public class zhTcpNet {</p><p>&nbsp; public zhInterface m_interface ;</p><p>&nbsp; public zhTcpNet(zhInterface m_interface) {</p><p>&nbsp; &nbsp; super();</p><p>&nbsp; &nbsp; this.m_interface = m_interface;</p><p>&nbsp; }</p><p>}</p><p>3.</p><p>public class MainActivity extends Activity implements zhInterface {</p><p>&nbsp; &nbsp; zhTcpNet tc=p new zhTcpNet(this);</p><p>&nbsp; &nbsp; /* 连接事件回调 */</p><p>&nbsp; &nbsp; @Override</p><p>&nbsp; &nbsp; public void connectCallBack(boolean bResult) {</p><p>&nbsp; &nbsp; }</p><p>}</p><p><br/></p>','2013-12-06 05:55:01','2013-12-06 13:55:01'),(105,'113.78.12.30',27,'链表操作','<p>//这几句必要,ReadWriteLock是互斥锁限制链表出错</p><p>Queue&lt;DatagramPacket&gt; queue = new LinkedList&lt;DatagramPacket&gt;();</p><p>ReadWriteLock lock = new ReentrantReadWriteLock(); &nbsp;</p><p>Lock read = lock.readLock(); &nbsp;</p><p>Lock write = lock.writeLock();</p><p>//实时操作链表,开启线程处理</p><p>synchronized (queue) {</p><p>while (!isStop) {</p><p>read.lock();</p><p>DatagramPacket dp=null;</p><p>//链表的元素弹出并附值给dp</p><p>while((dp=queue.poll())!=null) {</p><p>// 发送消息</p><p>m_socket.send(dp);</p><p>}</p><p>read.unlock();</p><p>sleep(10);</p><p>}</p><p>}</p><p>//添加链表元素</p><p>write.lock();</p><p>DatagramPacket packet = new DatagramPacket(bs, bs.length,</p><p>InetAddress.getByName(host), port);</p><p>queue.add(packet);</p><p>write.unlock();</p><p><br/></p>','2013-12-06 05:55:38','2013-12-06 13:55:38'),(106,'113.78.12.30',27,'互斥锁','<p>ReadWriteLock lock = new ReentrantReadWriteLock(); &nbsp;</p><p>Lock read = lock.readLock(); &nbsp;</p><p>Lock write = lock.writeLock(); &nbsp;</p><p>//假如针对一个链表的锁定和解除用以下函数操作</p><p>read.lock();</p><p>read.unlock();</p><p>write.lock();</p><p>write.unlock();</p><p><br/></p>','2013-12-06 05:56:11','2013-12-06 13:56:11'),(107,'113.78.12.30',27,'java socket-udp','<p><strong><span style=\"color:#ff0000\">[例子]</span></strong></p><p>zhNetUdp m_udp = new zhNetUdp(3000, this);</p><p>m_udp.sendTo(&quot;192.168.1.110&quot;, 3000, s.getBytes());</p><p><strong><span style=\"color:#ff0000\"><br/></span></strong></p><p><strong><span style=\"color:#ff0000\">[zhNetUdp.java]</span></strong></p><p>import java.net.DatagramPacket;</p><p>import java.net.DatagramSocket;</p><p>import java.net.InetAddress;</p><p>import java.net.SocketException;</p><p>import java.net.UnknownHostException;</p><p>import java.util.LinkedList;</p><p>import java.util.Queue;</p><p>import java.util.concurrent.locks.Lock;</p><p>import java.util.concurrent.locks.ReadWriteLock;</p><p>import java.util.concurrent.locks.ReentrantReadWriteLock;</p><p>class zhNetUdpSender extends Thread {</p><p>boolean isStop = true;</p><p>DatagramSocket m_socket;</p><p>Queue&lt;DatagramPacket&gt; queue = new LinkedList&lt;DatagramPacket&gt;();</p><p>ReadWriteLock lock = new ReentrantReadWriteLock(); &nbsp;</p><p>&nbsp; &nbsp; Lock read = lock.readLock(); &nbsp;</p><p>&nbsp; &nbsp; Lock write = lock.writeLock(); &nbsp;</p><p>public zhNetUdpSender(DatagramSocket m_socket) {</p><p>this.m_socket = m_socket;</p><p>}</p><p>@Override</p><p>public void run() {</p><p>try {</p><p>System.out.println(&quot;Start to send&quot;);</p><p>synchronized (queue) {</p><p>while (!isStop) {</p><p>read.lock();</p><p>DatagramPacket dp=null;</p><p>while((dp=queue.poll())!=null) {// 发送消息</p><p>m_socket.send(dp);</p><p>}</p><p>read.unlock();</p><p>sleep(10);</p><p>}</p><p>}</p><p>} catch (Throwable t) {</p><p>t.printStackTrace();</p><p>}</p><p>}</p><p>public void sendTo(String host, int port, byte[] bs) {</p><p>write.lock();</p><p>try {</p><p>DatagramPacket packet = new DatagramPacket(bs, bs.length,</p><p>InetAddress.getByName(host), port);</p><p>queue.add(packet);</p><p>} catch (UnknownHostException e) {</p><p>// TODO Auto-generated catch block</p><p>e.printStackTrace();</p><p>}</p><p>write.unlock();</p><p>}</p><p>public void startSender(){</p><p>isStop=false;</p><p>this.start();</p><p>}</p><p>public void stopSender() {</p><p>isStop = true;</p><p>}</p><p>}</p><p>public class zhNetUdp extends Thread {</p><p>private zhNetUdpDelegate m_delegate;</p><p>private boolean m_thread;</p><p>private DatagramPacket m_recvPacket;</p><p>private DatagramSocket m_socket;</p><p>private byte[] m_recvBuf = new byte[2048];</p><p>private zhNetUdpSender udpSender;</p><p>public zhNetUdp(int bindPort, zhNetUdpDelegate delegate) {</p><p>startNet(bindPort);</p><p>setDelegate(delegate);</p><p>}</p><p>public void startNet(int bindPort) {</p><p>try {</p><p>m_thread = true;</p><p>m_socket = new DatagramSocket(bindPort);</p><p>udpSender = new zhNetUdpSender(m_socket);</p><p>udpSender.startSender();</p><p>this.start();</p><p>} catch (SocketException e) {</p><p>// TODO Auto-generated catch block</p><p>e.printStackTrace();</p><p>}</p><p>}</p><p>public void stopNet() {</p><p>udpSender.stopSender();</p><p>m_socket.close();</p><p>m_thread = false;</p><p>}</p><p>public void setDelegate(zhNetUdpDelegate delegate) {</p><p>m_delegate = delegate;</p><p>}</p><p>public void sendTo(String host, int port, byte[] bs) {</p><p>udpSender.sendTo(host, port, bs);</p><p>}</p><p>public void run() {</p><p>try {</p><p>while (m_thread) {</p><p>// 接受数据</p><p>m_recvPacket = new DatagramPacket(m_recvBuf, m_recvBuf.length);</p><p>m_socket.receive(m_recvPacket);</p><p>m_delegate.zhNetUdpDelegateRecvfrom(m_recvPacket.getAddress()</p><p>.getHostAddress(), m_recvPacket.getPort(), m_recvPacket</p><p>.getData().clone(), m_recvPacket.getLength());</p><p>sleep(10);</p><p>}</p><p>} catch (Throwable t) {</p><p>t.printStackTrace();</p><p>}</p><p>}</p><p>}</p><p><strong><span style=\"color:#ff0000\">[zhNetUdpDelegate.java]</span></strong></p><p>public interface zhNetUdpDelegate {</p><p>/*</p><p>* 递归回去的内容是一个新的线程,</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* 如果在Android部分中要操作UI要用Message</p><p>*&nbsp;</p><p>* 以下是Message的例子:</p><p>* Handler handler = new Handler() {</p><p>* &nbsp; @Override</p><p>*&nbsp; &nbsp;public void handleMessage(Message msg) {</p><p>*	&nbsp; &nbsp;&nbsp;	super.handleMessage(msg);</p><p>*&nbsp; &nbsp; &nbsp;&nbsp;switch (msg.what) {</p><p>*&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;case 0:</p><p>*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;Toast.makeText(MainActivity.this, &quot;hehehehe...&quot;,Toast.LENGTH_SHORT).show();</p><p>*&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;break;</p><p>*&nbsp; &nbsp; &nbsp;&nbsp;}</p><p>*&nbsp; &nbsp;}</p><p>* };</p><p>*</p><p>* Message msg = new Message();</p><p>*	msg.what = 0;</p><p>*	msg.obj = null;</p><p>*	handler.sendMessage(msg);</p><p>*/</p><p>void zhNetUdpDelegateRecvfrom(String fromIP, int port, byte[] buff, int len);</p><p>}</p><p><br/></p>','2013-12-06 05:56:37','2013-12-06 13:56:37'),(108,'113.78.12.30',27,'Java中将int转化为char','<p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"><strong>Java中将int转化为char的处理方式：</strong></p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　int asciiValue = 100;</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　String strValue = &quot;&quot;+(char)100;</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　System.out.println(&quot;=strValue is:=&quot;+strValue +&quot;=end=&quot;);</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　输出结果：=strValue is:=d=end=</p><p><br/></p>','2013-12-06 05:57:18','2013-12-06 13:57:18'),(109,'113.78.12.30',27,'java socket-tcp','<p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">工作过程包含以下四个基本的步骤：</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　（1）&nbsp;创建Socket；</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　（2）&nbsp;打开连接到Socket的输入/出流；</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　（3）&nbsp;按照一定的协议对Socket进行读/写操作；</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　（4）&nbsp;关闭Socket.（在实际应用中，并未使用到显示的close，虽然很多文章都推荐如此，不过在我的程序中，可能因为程序本身比较简单，要求不高，所以并未造成什么影响。）</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">3，创建Socket</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">创建Socket</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">java在包java.net中提供了两个类Socket和ServerSocket，分别用来表示双向连接的客户端和服务端。这是两个封装得非常好的类，使用很方便。其构造方法如下：</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　Socket(InetAddress address, int port);</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　Socket(InetAddress address, int port, boolean stream);</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　Socket(String host, int prot);</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　Socket(String host, int prot, boolean stream);</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　Socket(SocketImpl impl)</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　Socket(String host, int port, InetAddress localAddr, int localPort)</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　Socket(InetAddress address, int port, InetAddress localAddr, int localPort)</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　ServerSocket(int port);</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　ServerSocket(int port, int backlog);</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　ServerSocket(int port, int backlog, InetAddress bindAddr)</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　其中address、host和port分别是双向连接中另一方的IP地址、主机名和端&nbsp;口号，stream指明socket是流socket还是数据报socket，localPort表示本地主机的端口号，localAddr和&nbsp;bindAddr是本地机器的地址（ServerSocket的主机地址），impl是socket的父类，既可以用来创建serverSocket又可&nbsp;以用来创建Socket。count则表示服务端所能支持的最大连接数。</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　Socket client = new Socket(&quot;127.0.01.&quot;, 80);</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　ServerSocket server = new ServerSocket(80);</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　注意，在选择端口时，必须小心。每一个端口提供一种特定的服务，只有给出正确的端口，才&nbsp;能获得相应的服务。0~1023的端口号为系统所保留，例如http服务的端口号为80,telnet服务的端口号为21,ftp服务的端口号为23,&nbsp;所以我们在选择端口号时，最好选择一个大于1023的数以防止发生冲突。</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　在创建socket时如果发生错误，将产生IOException，在程序中必须对之作出处理。所以在创建Socket或ServerSocket是必须捕获或抛出例外。</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">1.&nbsp;客户端程序</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　import java.io.*;</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　import java.net.*;</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">try {</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">Socket socket = new Socket(&quot;127.0.0.1&quot;, 4700);</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">// 向本机的4700端口发出客户请求</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">BufferedReader sin = new BufferedReader(new InputStreamReader(</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">System.in));</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">// 由系统标准输入设备构造BufferedReader对象</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">PrintWriter os = new PrintWriter(socket.getOutputStream());</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">// 由Socket对象得到输出流，并构造PrintWriter对象</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">BufferedReader is = new BufferedReader(new InputStreamReader(</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">socket.getInputStream()));</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">// 由Socket对象得到输入流，并构造相应的BufferedReader对象</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">String readline;</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">readline = sin.readLine(); // 从系统标准输入读入一字符串</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">while (!readline.equals(&quot;bye&quot;)) {</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">// 若从标准输入读入的字符串为 &quot;bye&quot;则停止循环</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">os.println(readline);</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">// 将从系统标准输入读入的字符串输出到Server</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">os.flush();</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">// 刷新输出流，使Server马上收到该字符串</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">System.out.println(&quot;Client:&quot; + readline);</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">// 在系统标准输出上打印读入的字符串</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">System.out.println(&quot;Server:&quot; + is.readLine());</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">// 从Server读入一字符串，并打印到标准输出上</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">readline = sin.readLine(); // 从系统标准输入读入一字符串</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">} // 继续循环</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">os.close(); // 关闭Socket输出流</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">is.close(); // 关闭Socket输入流</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">socket.close(); // 关闭Socket</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">} catch (Exception e) {</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">System.out.println(&quot;Error&quot; + e); // 出错，则打印出错信息</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">}</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　2.&nbsp;服务器端程序</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　import java.io.*;</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　import java.net.*;</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　import java.applet.Applet;</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　public class TalkServer{</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　public static void main(String args[]) {</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　try{</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　ServerSocket server=null;</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　try{</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　　　server=new ServerSocket(4700);</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　//创建一个ServerSocket在端口4700监听客户请求</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　}catch(Exception e) {</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　　　System.out.println(&quot;can not listen to:&quot;+e);</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　//出错，打印出错信息</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　}</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　Socket socket=null;</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　try{</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　　　socket=server.accept();</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　　　//使用accept()阻塞等待客户请求，有客户</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　　　//请求到来则产生一个Socket对象，并继续执行</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　}catch(Exception e) {</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　　　System.out.println(&quot;Error.&quot;+e);</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　　　//出错，打印出错信息</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　}</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　String line;</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　BufferedReader is=new BufferedReader(new InputStreamReader(socket.getInputStream()));</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　　//由Socket对象得到输入流，并构造相应的BufferedReader对象</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　PrintWriter os=newPrintWriter(socket.getOutputStream());</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　　//由Socket对象得到输出流，并构造PrintWriter对象</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　BufferedReader sin=new BufferedReader(new InputStreamReader(System.in));</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　　//由系统标准输入设备构造BufferedReader对象</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　System.out.println(&quot;Client:&quot;+is.readLine());</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　//在标准输出上打印从客户端读入的字符串</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　line=sin.readLine();</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　//从标准输入读入一字符串</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　while(!line.equals(&quot;bye&quot;)){</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　//如果该字符串为&nbsp;&quot;bye&quot;，则停止循环</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　　　os.println(line);</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　　　//向客户端输出该字符串</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　　　os.flush();</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　　　//刷新输出流，使Client马上收到该字符串</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　　　System.out.println(&quot;Server:&quot;+line);</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　　　//在系统标准输出上打印读入的字符串</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　　　System.out.println(&quot;Client:&quot;+is.readLine());</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　　　//从Client读入一字符串，并打印到标准输出上</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　　　line=sin.readLine();</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　　　//从系统标准输入读入一字符串</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　}&nbsp;　//继续循环</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　os.close(); //关闭Socket输出流</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　is.close(); //关闭Socket输入流</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　socket.close(); //关闭Socket</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　server.close(); //关闭ServerSocket</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　}catch(Exception e){</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　System.out.println(&quot;Error:&quot;+e);</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　　　//出错，打印出错信息</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　　　}</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　　　}</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">　　}</p><p><br/></p>','2013-12-06 05:57:52','2013-12-06 13:57:52'),(110,'14.217.209.80',27,'字符串与字节转换处理','<p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">String a=&quot;aa&quot;+&quot;bb&quot;;//固定不变</p><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/>StringBuilder sb=new stringbuilder();//可随时改变<br/>sb.append(&quot;aa&quot;);<br/>sb.append(&quot;bb&quot;);<br/>sb.toString()</p><p><br/></p><p><br/></p><p>//-------------------------------------------------------------</p><pre id=\"answer-content-296501103\" accuse=\"aContent\" class=\"answer-text mb-10\" style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; font-family: arial, &#39;courier new&#39;, courier, 宋体, monospace; white-space: pre-wrap; word-wrap: break-word; color: rgb(51, 51, 51); font-size: 14px; line-height: 24px; background-color: rgb(255, 255, 255);\">String&nbsp;s&nbsp;=&nbsp;&quot;fs123fdsa&quot;;//String变量&nbsp;\r\nbyte&nbsp;b[]&nbsp;=&nbsp;s.getBytes();//String转换为byte[]&nbsp;\r\nString&nbsp;t&nbsp;=&nbsp;new&nbsp;String(b);//bytep[]转换为String</pre><p><br/></p>','2013-12-06 05:58:17','2014-07-17 00:35:42'),(112,'113.77.45.81',34,'在Mac OS X 用C++编写OpenGL程序','<p><a href=\"http://blog.csdn.net/whosemario/article/details/8574475\" _src=\"http://blog.csdn.net/whosemario/article/details/8574475\">http://blog.csdn.net/whosemario/article/details/8574475</a> </p><p><br/></p><p><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">Mac OS X中自带的OpenGL库和GLUT库，我们在编译自己的C++代码的时候，只需要将这两个框架加入进去就好。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">命令的形式编译如下：</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p><strong>[cpp]</strong>&nbsp;<a href=\"http://blog.csdn.net/whosemario/article/details/8574475#\" class=\"ViewSource\" title=\"view plain\" style=\"color: rgb(160, 160, 160); text-decoration: none; background-image: url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif); background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-position: 0% 0%; background-repeat: no-repeat no-repeat;\">view plain</a><a href=\"http://blog.csdn.net/whosemario/article/details/8574475#\" class=\"CopyToClipboard\" title=\"copy\" style=\"color: rgb(160, 160, 160); text-decoration: none; background-image: url(http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_copy.gif); background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px; background-position: 0% 0%; background-repeat: no-repeat no-repeat;\">copy</a></p><p><embed id=\"ZeroClipboardMovie_1\" src=\"http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf\" loop=\"false\" menu=\"false\" quality=\"best\" bgcolor=\"#ffffff\" width=\"18\" height=\"18\" name=\"ZeroClipboardMovie_1\" align=\"middle\" allowscriptaccess=\"always\" allowfullscreen=\"false\" type=\"application/x-shockwave-flash\" pluginspage=\"http://www.macromedia.com/go/getflashplayer\" flashvars=\"id=1&amp;width=18&amp;height=18\" wmode=\"transparent\"/></p><ol start=\"1\" class=\"dp-cpp list-paddingleft-2\" style=\"padding: 0px; border: none; list-style-position: initial; list-style-image: initial; background-color: rgb(255, 255, 255); color: rgb(92, 92, 92); margin-bottom: 1px !important; margin-left: 45px !important;\"><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\"><span style=\"margin: 0px; padding: 0px; border: none; background-color: inherit;\">g++&nbsp;-framework&nbsp;OpenGL&nbsp;-framework&nbsp;GLUT&nbsp;-o&nbsp;TestPrj&nbsp;main.cpp&nbsp;&nbsp;</span></span></p></li></ol><p><br style=\"font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: Arial; font-size: 14px; line-height: 26px;  background-color: rgb(255, 255, 255);\">那么上面的命令怎样在编译器中加入呢？</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><h3 style=\"margin: 0px; padding: 0px; font-family: Arial; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><a style=\"color: rgb(255, 153, 0);\" name=\"t0\"></a>Eclipse加入OpenGL Framework</h3><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><ol style=\"font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\" class=\" list-paddingleft-2\"><li><p>选中某个要编译的工程</p></li><li><p>打开Properties</p></li><li><p>选择“C\\C++ Build”中的setting页</p></li><li><p>选中“Tool Settings”选项卡</p></li><li><p>选中“MacOS X C++ Linker”中的Miscellaneous</p></li><li><p>在“Linker flags”中加入 &nbsp;-framework OpenGL -framework GLUT</p></li></ol><p><img src=\"http://img.my.csdn.net/uploads/201302/06/1360143933_9663.png\" alt=\"\" style=\"border: none;\"/><br/></p><h3 style=\"margin: 0px; padding: 0px; font-family: Arial; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><a style=\"color: rgb(255, 153, 0);\" name=\"t1\"></a>Xcode加入OpenGL Framework</h3><ol class=\" list-paddingleft-2\"><li><p>选择你的工程的Target</p></li><li><p>选中“Build Phases”标签页</p></li><li><p>开打“Link Binarise with Libariese”</p></li><li><p>点击“＋”加入那两个Framework</p></li></ol><p><img src=\"http://img.my.csdn.net/uploads/201302/06/1360144028_2241.png\" alt=\"\" style=\"border: none;\"/><br/></p><p>在Mac OS X中OpenGL的两个框架所在的目录如下：</p><p>OpenGL：/System/Library/Frameworks/OpenGl.framework</p><p>GLUT: /System/Library/Frameworks/GLUT.framework</p><p><br/></p>','2013-12-09 10:15:18','2013-12-09 18:15:18'),(113,'114.247.232.56',2,'setlog日志函数','<p style=\"font-size: 11px;\">unsigned int g_dwLogLine=0;</p><p style=\"font-size: 11px;\">char g_sLog[10240]={0};</p><p style=\"font-size: 11px;\">#ifdef WIN32</p><p style=\"font-size: 11px;\">#define VSNPRINTF(a,b,c,d) _vsnprintf(a,b,c,d)</p><p style=\"font-size: 11px;\">#else</p><p style=\"font-size: 11px;\">#define VSNPRINTF(a,b,c,d) vsnprintf(a,b,c,d)</p><p style=\"font-size: 11px;\">#endif</p><p style=\"font-size: 11px;\">//这个函数的format内容里面不能不能添加&quot;\\n&quot;换行符号,不然会出错</p><p style=\"font-size: 11px;\">void setlog(char*format,...)</p><p style=\"font-size: 11px;\">{</p><p style=\"font-size: 11px;\">#define RETURN_LINE &quot;\\n&quot;</p><p style=\"font-size: 11px;\">#define RETURN_LINE_LEN 1</p><p style=\"font-size: 11px;\">char buf[512],buf2[52];</p><p style=\"font-size: 11px;\">struct tm *ptm = NULL;</p><p style=\"font-size: 11px;\">time_t tme;</p><p style=\"font-size: 11px;\">&nbsp; &nbsp;//阻止显示带有换行符的字符串</p><p style=\"font-size: 11px;\">if (strchr(format, &#39;\\n&#39;)) {</p><p style=\"font-size: 11px;\">return;</p><p style=\"font-size: 11px;\">}</p><p style=\"font-size: 11px;\">tme = time(NULL);</p><p style=\"font-size: 11px;\">ptm = localtime(&amp;tme);</p><p style=\"font-size: 11px;\">va_list args;</p><p style=\"font-size: 11px;\">va_start(args, format);</p><p style=\"font-size: 11px;\">sprintf(buf2,&quot;[%d-%02d-%02d %02d:%02d:%02d] &quot;,(ptm-&gt;tm_year + 1900),ptm-&gt;tm_mon+1, ptm-&gt;tm_mday, ptm-&gt;tm_hour, ptm-&gt;tm_min,ptm-&gt;tm_sec);</p><p style=\"font-size: 11px;\">&nbsp; &nbsp;//sprintf(buf2,&quot;[ %02d:%02d:%02d ]&quot;, ptm-&gt;tm_hour, ptm-&gt;tm_min,ptm-&gt;tm_sec);</p><p style=\"font-size: 11px;\">VSNPRINTF(buf,sizeof(buf),format,args);</p><p style=\"font-size: 11px;\">&nbsp; &nbsp;strcat(buf,RETURN_LINE);</p><p style=\"font-size: 11px;\">sprintf(g_sLog,&quot;%s%s%s&quot;, g_sLog,buf2,buf);</p><p style=\"font-size: 11px;\">va_end(args);</p><p style=\"font-size: 11px;\">&nbsp;</p><p style=\"font-size: 11px;\">&nbsp; &nbsp;g_dwLogLine++;</p><p style=\"font-size: 11px;\">&nbsp; &nbsp;while(g_dwLogLine&gt;20)</p><p style=\"font-size: 11px;\">{</p><p style=\"font-size: 11px;\">char*p;</p><p style=\"font-size: 11px;\">p=strstr(g_sLog, RETURN_LINE);</p><p style=\"font-size: 11px;\">if (p) {</p><p style=\"font-size: 11px;\">int n=strlen(&amp;p[RETURN_LINE_LEN])+1;</p><p style=\"font-size: 11px;\">memmove(g_sLog, &amp;p[RETURN_LINE_LEN], n);</p><p style=\"font-size: 11px;\">}</p><p style=\"font-size: 11px;\">g_dwLogLine--;</p><p style=\"font-size: 11px;\">}</p><p style=\"font-size: 11px;\">&nbsp;</p><p style=\"font-size: 11px;\">&nbsp; &nbsp;//XCODE显示</p><p style=\"font-size: 11px;\">&nbsp; &nbsp;//[g_lbDebug setText:[NSString stringWithUTF8String:g_sLog]];</p><p style=\"font-size: 11px;\">&nbsp;</p><p style=\"font-size: 11px;\">&nbsp; &nbsp;//MFC给文本显示</p><p style=\"font-size: 11px;\">&nbsp; &nbsp;//CEdit txtLog;</p><p style=\"font-size: 11px;\">&nbsp; &nbsp;/*txtLog.SetWindowText(g_sLog);</p><p style=\"font-size: 11px;\">txtLog.PostMessage(WM_VSCROLL, SB_BOTTOM, 0);*/</p><p style=\"font-size: 11px;\">}</p><p></p>','2013-12-11 06:10:54','2013-12-11 14:10:54'),(114,'114.247.232.56',2,'freetype例子','<p style=\"font-size: 11px;\">#include &lt;ft2build.h&gt;</p><p>&nbsp;</p><p style=\"font-size: 11px;\">#include FT_FREETYPE_H</p><p style=\"font-size: 11px;\"><br/></p><p>typedef struct _TzhEaglFreetype</p><p>{</p><p>int offset_x; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// 字符距离左边界的偏移距离</p><p>int offset_y; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// 字符基线的偏移距离</p><p>&nbsp;</p><p>int width;</p><p>int height;</p><p>&nbsp;</p><p>//OPENGL的转换的宽高</p><p>int gl_width;</p><p>int gl_height;</p><p>GLuint gl_texID; &nbsp; &nbsp;//纹理</p><p>}TzhEaglFreetype;</p><p><br/></p><p>inline int next_p2 (int a )</p><p>{</p><p>int rval=1;</p><p>// rval&lt;&lt;=1 Is A Prettier Way Of Writing</p><p>rval*=2;</p><p>while(rval&lt;a)</p><p>rval&lt;&lt;=1;</p><p>return rval;</p><p>}</p><p><br/></p><p>TzhEaglFreetype loadFreetypeTest(const char*path,wchar_t wChar)</p><p>{</p><p>TzhEaglFreetype retData;</p><p>//--------------------------------------------------------</p><p>// 初始化库</p><p>FT_Library library;</p><p>FT_Face face;</p><p>FT_Error bError;</p><p>&nbsp;</p><p>bError = FT_Init_FreeType(&amp;library);</p><p>if &nbsp;(!bError)</p><p>{</p><p>// 是否初始化成功</p><p>}</p><p>// 加载一个字库</p><p>bError = FT_New_Face(library,path, 0, &amp;face);</p><p>if &nbsp;(FT_Err_Unknown_File_Format==bError)</p><p>{</p><p>// 表示可以打开和读此文件，但不支持此字体格式</p><p>}</p><p>else &nbsp;if(bError)</p><p>{</p><p>// 其他错误</p><p>}</p><p>&nbsp;</p><p>// 设定为UNICODE，默认也是</p><p>FT_Select_Charmap(face,FT_ENCODING_UNICODE);</p><p>// 设定字体字符宽高和分辨率,26号字,150dpi</p><p>bError = FT_Set_Char_Size(face, 0 , &nbsp;26 &lt;&lt; 6, 0, 150);</p><p>&nbsp;</p><p>//--------设置文字</p><p>// 查找字符索引</p><p>FT_UInt glyph_index = FT_Get_Char_Index(face, wChar);</p><p>// 装载字型图像到字形槽</p><p>bError = FT_Load_Glyph(face, glyph_index, FT_LOAD_DEFAULT);</p><p>// 转换为位图数据</p><p>if &nbsp;(face-&gt;glyph-&gt;format != FT_GLYPH_FORMAT_BITMAP)</p><p>{</p><p>//第二个参数为渲染模式</p><p>//FT_RENDER_MODE_MONO渲染为1位位图（黑白位图）</p><p>//若为FT_RENDER_MODE_NORMAL则渲染为256级灰度图</p><p>bError = FT_Render_Glyph(face-&gt;glyph, FT_RENDER_MODE_NORMAL);</p><p>}</p><p>//---------字体图片数据</p><p>//首先在创建好FTFace，Freetype推荐使用基线作为绘制基准，但是通常都是设置字符左上角的位置开始绘制。需要获</p><p>//得基线到字符轮廓最高点的距离，这个信息放在</p><p>float Ascender = face-&gt;size-&gt;metrics.ascender &gt;&gt; 6; // 基线到字符轮廓最高点的距离, 由于是26.6的定点数，</p><p>retData.offset_x=face-&gt;glyph-&gt;bitmap_left;// 字符距离左边界的距离</p><p>retData.offset_y=face-&gt;glyph-&gt;bitmap_top-Ascender;// 字符最低点距离,即基线</p><p>retData.width = face-&gt;glyph-&gt;bitmap.width;</p><p>retData.height = face-&gt;glyph-&gt;bitmap.rows;</p><p>unsigned char* pTxtBuf=face-&gt;glyph-&gt;bitmap.buffer;</p><p>&nbsp;</p><p>//---------适应OPENGLES的图片格式和坐标体系</p><p>retData.gl_width=next_p2(retData.width);</p><p>retData.gl_height=next_p2(retData.height);</p><p><br/></p><p>if(retData.gl_width&gt;0 &amp;&amp; retData.gl_height&gt;0)</p><p>{</p><p>GLubyte* e_data = (GLubyte*)malloc(retData.gl_width * retData.gl_height);</p><p>memset(e_data, 0, retData.gl_width * retData.gl_height);</p><p>for(int j=0; j&lt; retData.gl_height;j++)</p><p>{</p><p>for(int i=0; i&lt; retData.gl_width; i++)</p><p>{</p><p>e_data[i+j*retData.gl_width] = (i&lt;retData.width &amp;&amp; j&lt;retData.height)?pTxtBuf[i + retData.width*j]:0;</p><p>}</p><p>}</p><p>for(int y=0;y&lt;retData.gl_height;y++)</p><p>{</p><p>for(int x=0;x&lt;retData.gl_width;x++)</p><p>{</p><p>printf(&quot;%02X&quot;,e_data[y*retData.gl_width+x]?0xff:0);</p><p>}</p><p>printf(&quot;\\n&quot;);</p><p>}</p><p>printf(&quot;\\n\\n&quot;);</p><p>//载入图片纹理到OPENGL</p><p>retData.gl_texID=zhEaglImageLoadTexture(e_data ,ezhEaglImg_A8, retData.gl_width , retData.gl_height);</p><p><span style=\"font-size: 11px;\">retData.</span><span style=\"font-size: 11px;\">dpi</span><span style=\"font-size: 11px;\">=</span><span style=\"font-size: 11px;\">_dpi</span><span style=\"font-size: 11px;\">;</span></p><p>free(e_data);</p><p>e_data=NULL;</p><p>}</p><p>//释放数据</p><p>FT_Done_Face(face);</p><p>FT_Done_FreeType(library);</p><p>&nbsp;</p><p>return retData;</p><p>&nbsp;</p><p>}</p><p><br/></p><p><br/></p><p>/////////////////////////////</p><p>//绘制应用</p><p>TzhEaglFreetype g_freetype1;</p><p>TzhEaglFreetype g_freetype2;</p><p>TzhEaglFreetype g_freetype3;</p><p><br/></p><p>//多核多线程重复执行freetype的初始化,会有一个malloc警告</p><p>g_freetype1=loadFreetypeTest(&quot;saonv.ttc&quot;, L&#39;A&#39;);</p><p>g_freetype2=loadFreetypeTest(&quot;saonv.ttc&quot;, L&#39;好&#39;);</p><p>g_freetype3=loadFreetypeTest(&quot;saonv.ttc&quot;, L&#39;C&#39;);</p><p><br/>//////////////////////////////////////////////////<br/>//openGL坐标偏移修正和绘制<br/></p><p style=\"font-size: 11px;\"><br/></p><p style=\"font-size: 11px;\">void reader()</p><p style=\"font-size: 11px;\">{</p><p style=\"font-size: 11px;\">GLfloat texCoodr[]={</p><p style=\"font-size: 11px;\">0.0, 0.0, &nbsp; &nbsp;//top left</p><p style=\"font-size: 11px;\">&nbsp; &nbsp; &nbsp; &nbsp;0.0, 1.0, &nbsp; &nbsp;//bottom left of square</p><p style=\"font-size: 11px;\">&nbsp; &nbsp; &nbsp; &nbsp;1.0, 1.0, &nbsp; //bottom right of square</p><p style=\"font-size: 11px;\">&nbsp; &nbsp; &nbsp; &nbsp;1.0, 0.0, &nbsp; &nbsp;//top right of square</p><p style=\"font-size: 11px;\">};</p><p style=\"font-size: 11px;\">GLfloat vertex[12];</p><p style=\"font-size: 11px;\">&nbsp;</p><p style=\"font-size: 11px;\">&nbsp; &nbsp;glPushMatrix();</p><p style=\"font-size: 11px;\">int perWidth=0;</p><p style=\"font-size: 11px;\">&nbsp; &nbsp;vector&lt;TzhEaglFontChar&gt;::iterator it;</p><p style=\"font-size: 11px;\">for (it=_lstTextTexture.begin(); it!=_lstTextTexture.end(); it++) {</p><p style=\"font-size: 11px;\">&nbsp;</p><p style=\"font-size: 11px;\">if (it-&gt;dpi&gt;0) {</p><p style=\"font-size: 11px;\">float persent=72.0f/it-&gt;dpi;</p><p style=\"font-size: 11px;\">float tH=it-&gt;gl_height*persent;</p><p style=\"font-size: 11px;\">float tW=it-&gt;gl_width*persent;</p><p style=\"font-size: 11px;\">float offsetTop=(it-&gt;gl_height-it-&gt;height)*persent;</p><p style=\"font-size: 11px;\">float tmpLeft=left+perWidth;</p><p style=\"font-size: 11px;\">float tmpLeft_t=left+perWidth+tW;</p><p style=\"font-size: 11px;\">float tmpTop=top-offsetTop;</p><p style=\"font-size: 11px;\">float tmpTop_t=top+tH-offsetTop;</p><p style=\"font-size: 11px;\">perWidth+=(it-&gt;width+it-&gt;offset_x)*persent;</p><p style=\"font-size: 11px;\">&nbsp;</p><p style=\"font-size: 11px;\">//平面顶点数组</p><p style=\"font-size: 11px;\">vertex[0]=tmpLeft; &nbsp; &nbsp; &nbsp;vertex[1]=tmpTop_t; &nbsp; &nbsp; vertex[2]=0;//top left</p><p style=\"font-size: 11px;\">vertex[3]=tmpLeft; &nbsp; &nbsp; &nbsp;vertex[4]=tmpTop; &nbsp; &nbsp; &nbsp; vertex[5]=0;//bottom left</p><p style=\"font-size: 11px;\">vertex[6]=tmpLeft_t; &nbsp; &nbsp;vertex[7]=tmpTop; &nbsp; &nbsp; &nbsp; vertex[8]=0;//bottom right</p><p style=\"font-size: 11px;\">vertex[9]=tmpLeft_t; &nbsp; &nbsp;vertex[10]=tmpTop_t; &nbsp; &nbsp;vertex[11]=0;//top right</p><p style=\"font-size: 11px;\">}</p><p style=\"font-size: 11px;\">else</p><p style=\"font-size: 11px;\">{</p><p style=\"font-size: 11px;\">int tmpTop=top-it-&gt;gl_height+it-&gt;height;</p><p style=\"font-size: 11px;\">int tmpLeft=left+perWidth;</p><p style=\"font-size: 11px;\">int tmpTop_t=tmpTop+it-&gt;gl_height;</p><p style=\"font-size: 11px;\">int tmpLeft_t=tmpLeft+it-&gt;gl_width;</p><p style=\"font-size: 11px;\">perWidth+=it-&gt;width+it-&gt;offset_x;</p><p style=\"font-size: 11px;\">&nbsp;</p><p style=\"font-size: 11px;\">//平面顶点数组</p><p style=\"font-size: 11px;\">vertex[0]=tmpLeft; &nbsp; &nbsp; &nbsp;vertex[1]=tmpTop_t; &nbsp; &nbsp; vertex[2]=0;//top left</p><p style=\"font-size: 11px;\">vertex[3]=tmpLeft; &nbsp; &nbsp; &nbsp;vertex[4]=tmpTop; &nbsp; &nbsp; &nbsp; vertex[5]=0;//bottom left</p><p style=\"font-size: 11px;\">vertex[6]=tmpLeft_t; &nbsp; &nbsp;vertex[7]=tmpTop; &nbsp; &nbsp; &nbsp; vertex[8]=0;//bottom right</p><p style=\"font-size: 11px;\">vertex[9]=tmpLeft_t; &nbsp; &nbsp;vertex[10]=tmpTop_t; &nbsp; &nbsp;vertex[11]=0;//top right</p><p style=\"font-size: 11px;\">}</p><p style=\"font-size: 11px;\">&nbsp;</p><p style=\"font-size: 11px;\">&nbsp; &nbsp; &nbsp; &nbsp;//先启用纹理功能,再录入图片里的坐标</p><p style=\"font-size: 11px;\">&nbsp; &nbsp; &nbsp; &nbsp;glEnable(GL_TEXTURE_2D);</p><p style=\"font-size: 11px;\">&nbsp; &nbsp; &nbsp; &nbsp;glEnableClientState(GL_TEXTURE_COORD_ARRAY);</p><p style=\"font-size: 11px;\">glBindTexture(GL_TEXTURE_2D, it-&gt;gl_texID);</p><p style=\"font-size: 11px;\">glTexCoordPointer(2, GL_FLOAT, 0, &amp;texCoodr);</p><p style=\"font-size: 11px;\">&nbsp;</p><p style=\"font-size: 11px;\">//平面</p><p style=\"font-size: 11px;\">glEnable(GL_BLEND);//启用融合效果</p><p style=\"font-size: 11px;\">&nbsp; &nbsp; &nbsp; &nbsp;glBlendFunc(GL_SRC_ALPHA,GL_ONE_MINUS_SRC_ALPHA);//设置融合方式</p><p style=\"font-size: 11px;\">&nbsp;</p><p style=\"font-size: 11px;\">&nbsp; &nbsp; &nbsp; &nbsp;glEnableClientState(GL_VERTEX_ARRAY);</p><p style=\"font-size: 11px;\">&nbsp;</p><p style=\"font-size: 11px;\">&nbsp; &nbsp; &nbsp; &nbsp;glColor4f(_fontColor.r, _fontColor.g, _fontColor.b, 1);//附加颜色</p><p style=\"font-size: 11px;\">glVertexPointer(3, GL_FLOAT, 0, vertex);</p><p style=\"font-size: 11px;\">glDrawArrays(GL_TRIANGLE_FAN, 0, 4);</p><p style=\"font-size: 11px;\">glColor4f(1, 1, 1, 1);//恢复透明度不影响别的模型</p><p style=\"font-size: 11px;\">&nbsp;</p><p style=\"font-size: 11px;\">&nbsp; &nbsp; &nbsp; &nbsp;glDisableClientState(GL_VERTEX_ARRAY);</p><p style=\"font-size: 11px;\">glDisable(GL_BLEND); //关闭融合效果</p><p style=\"font-size: 11px;\">&nbsp;</p><p style=\"font-size: 11px;\">//关闭纹理</p><p style=\"font-size: 11px;\">&nbsp; &nbsp; &nbsp; &nbsp;glDisable(GL_TEXTURE_2D);</p><p style=\"font-size: 11px;\">&nbsp; &nbsp; &nbsp; &nbsp;glDisableClientState(GL_TEXTURE_COORD_ARRAY);</p><p style=\"font-size: 11px;\">}</p><p style=\"font-size: 11px;\">&nbsp;</p><p style=\"font-size: 11px;\">&nbsp; &nbsp;glPopMatrix();</p><p style=\"font-size: 11px;\">&nbsp;</p><p style=\"font-size: 11px;\">&nbsp;</p><p style=\"font-size: 11px;\">}</p><p></p>','2013-12-11 06:11:35','2013-12-11 14:11:35'),(115,'114.247.232.56',2,'基本WINDOWS窗体','<p>#include &lt;windows.h&gt;</p><p>/* &nbsp;Declare Windows procedure &nbsp;*/<br/>LRESULT CALLBACK WindowProcedure (HWND, UINT, WPARAM, LPARAM);</p><p>/* &nbsp;Make the class name into a global variable &nbsp;*/<br/>char szClassName[ ] = &quot;WindowsApp&quot;;</p><p>int WINAPI WinMain (HINSTANCE hThisInstance,<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;HINSTANCE hPrevInstance,<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;LPSTR lpszArgument,<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;int nFunsterStil)</p><p>{<br/> &nbsp; &nbsp;HWND hwnd; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* This is the handle for our window */<br/> &nbsp; &nbsp;MSG messages; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/* Here messages to the application are saved */<br/> &nbsp; &nbsp;WNDCLASSEX wincl; &nbsp; &nbsp; &nbsp; &nbsp;/* Data structure for the windowclass */</p><p>/* The Window structure */<br/> &nbsp; &nbsp;wincl.hInstance = hThisInstance;<br/> &nbsp; &nbsp;wincl.lpszClassName = szClassName;<br/> &nbsp; &nbsp;wincl.lpfnWndProc = WindowProcedure; &nbsp; &nbsp; &nbsp;/* This function is called by windows */<br/> &nbsp; &nbsp;wincl.style = CS_DBLCLKS; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Catch double-clicks */<br/> &nbsp; &nbsp;wincl.cbSize = sizeof (WNDCLASSEX);</p><p>/* Use default icon and mouse-pointer */<br/> &nbsp; &nbsp;wincl.hIcon = LoadIcon (NULL, IDI_APPLICATION);<br/> &nbsp; &nbsp;wincl.hIconSm = LoadIcon (NULL, IDI_APPLICATION);<br/> &nbsp; &nbsp;wincl.hCursor = LoadCursor (NULL, IDC_ARROW);<br/> &nbsp; &nbsp;wincl.lpszMenuName = NULL; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* No menu */<br/> &nbsp; &nbsp;wincl.cbClsExtra = 0; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/* No extra bytes after the window class */<br/> &nbsp; &nbsp;wincl.cbWndExtra = 0; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/* structure or the window instance */<br/> &nbsp; &nbsp;/* Use Windows&#39;s default color as the background of the window */<br/> &nbsp; &nbsp;wincl.hbrBackground = (HBRUSH) COLOR_BACKGROUND;</p><p>/* Register the window class, and if it fails quit the program */<br/> &nbsp; &nbsp;if (!RegisterClassEx (&amp;wincl))<br/> &nbsp; &nbsp; &nbsp; &nbsp;return 0;</p><p>/* The class is registered, let&#39;s create the program*/<br/> &nbsp; &nbsp;hwnd = CreateWindowEx (<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0, &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Extended possibilites for variation */<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; szClassName, &nbsp; &nbsp; &nbsp; &nbsp; /* Classname */<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Windows App&quot;, &nbsp; &nbsp; &nbsp; /* Title Text */<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; WS_OVERLAPPEDWINDOW, /* default window */<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CW_USEDEFAULT, &nbsp; &nbsp; &nbsp; /* Windows decides the position */<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CW_USEDEFAULT, &nbsp; &nbsp; &nbsp; /* where the window ends up on the screen */<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 544, &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* The programs width */<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 375, &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* and height in pixels */<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; HWND_DESKTOP, &nbsp; &nbsp; &nbsp; &nbsp;/* The window is a child-window to desktop */<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL, &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/* No menu */<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; hThisInstance, &nbsp; &nbsp; &nbsp; /* Program Instance handler */<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* No Window Creation data */<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; );</p><p>/* Make the window visible on the screen */<br/> &nbsp; &nbsp;ShowWindow (hwnd, nFunsterStil);</p><p>/* Run the message loop. It will run until GetMessage() returns 0 */<br/> &nbsp; &nbsp;while (GetMessage (&amp;messages, NULL, 0, 0))<br/> &nbsp; &nbsp;{<br/> &nbsp; &nbsp; &nbsp; &nbsp;/* Translate virtual-key messages into character messages */<br/> &nbsp; &nbsp; &nbsp; &nbsp;TranslateMessage(&amp;messages);<br/> &nbsp; &nbsp; &nbsp; &nbsp;/* Send message to WindowProcedure */<br/> &nbsp; &nbsp; &nbsp; &nbsp;DispatchMessage(&amp;messages);<br/> &nbsp; &nbsp;}</p><p>/* The program return-value is 0 - The value that PostQuitMessage() gave */<br/> &nbsp; &nbsp;return messages.wParam;<br/>}</p><p><br/>/* &nbsp;This function is called by the Windows function DispatchMessage() &nbsp;*/</p><p>LRESULT CALLBACK WindowProcedure (HWND hwnd, UINT message, WPARAM wParam, LPARAM lParam)<br/>{<br/> &nbsp; &nbsp;switch (message) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/* handle the messages */<br/> &nbsp; &nbsp;{<br/> &nbsp; &nbsp; &nbsp; &nbsp;case WM_DESTROY:<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PostQuitMessage (0); &nbsp; &nbsp; &nbsp; /* send a WM_QUIT to the message queue */<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;break;<br/> &nbsp; &nbsp; &nbsp; &nbsp;default: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/* for messages that we don&#39;t deal with */<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return DefWindowProc (hwnd, message, wParam, lParam);<br/> &nbsp; &nbsp;}</p><p>return 0;<br/>}</p><p></p>','2013-12-11 06:14:25','2013-12-11 14:14:25'),(116,'114.247.232.56',2,'stl_list,deque,vecto','<p>typedef deque&lt;TzhSQLRecord&gt; &nbsp;DEQUE_SQLRECORD;<br/>typedef DEQUE_SQLRECORD::iterator &nbsp;DEQUE_SQLRECORD_IT;</p><p>&nbsp;</p><p>typedef list&lt;TzhMysqlInfo&gt; &nbsp;LIST_DBLIST;<br/>typedef LIST_DBLIST::iterator &nbsp;LIST_DBLIST_IT;</p><p>&nbsp;</p><p>1.获取第一个元素并删除</p><p>TzhSQLRecord sql;</p><p>&nbsp;</p><p>sql=*_lstSql.begin();<br/> &nbsp;_lstSql.pop_front();</p><p>&nbsp;</p><p>2.遍历删除</p><p>DEQUE_SQLRECORD_IT it; <br/>for(it=_lstSql.begin(); &nbsp; it!=_lstSql.end(); ) <br/>{ <br/> &nbsp; &nbsp; &nbsp; if(it-&gt;n &gt;100){ <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;it=_lstSql.erase(it); <br/> &nbsp; &nbsp; &nbsp; }</p><p>else</p><p>{</p><p>it++;</p><p>}<br/>}</p><p></p>','2013-12-11 06:15:44','2013-12-11 14:15:44'),(117,'114.247.232.56',2,'stl_map使用','<p>一、map的说明 &nbsp;<br/> &nbsp;1 &nbsp; 头文件 <br/> &nbsp;#include &nbsp; &lt;map&gt; <br/> &nbsp;<br/> &nbsp;2 &nbsp; 定义 <br/> &nbsp;map&lt;string, &nbsp; int&gt; &nbsp; my_Map; <br/> &nbsp;或者是typedef &nbsp; &nbsp; map&lt;string, &nbsp; int&gt; &nbsp; MY_MAP; <br/> &nbsp;MY_MAP &nbsp; my_Map; <br/> &nbsp;<br/> &nbsp;3 &nbsp; 插入数据 <br/> &nbsp;(1) &nbsp; my_Map[&quot;a&quot;] &nbsp; = &nbsp; 1; <br/> &nbsp;(2) &nbsp; my_Map.insert(map&lt;string, &nbsp; int&gt;::value_type(&quot;b&quot;,2)); <br/> &nbsp;(3) &nbsp; my_Map.insert(pair&lt;string,int&gt;(&quot;c&quot;,3)); <br/> &nbsp;(4) &nbsp; my_Map.insert(make_pair(&quot;d&quot;,4)); <br/> &nbsp;<br/> &nbsp;4 &nbsp; 查找数据和修改数据 <br/> &nbsp;(1) &nbsp; int &nbsp; i &nbsp; = &nbsp; my_Map[&quot;a&quot;]; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;my_Map[&quot;a&quot;] &nbsp; = &nbsp; i; <br/> &nbsp;(2) &nbsp; MY_MAP mymap;</p><p>MY_MAP::iterator &nbsp; my_Itr; <br/> &nbsp; &nbsp; &nbsp; &nbsp;my_Itr=mymap.find(&quot;b&quot;); <br/> &nbsp; &nbsp; &nbsp; &nbsp;int &nbsp; j &nbsp; = &nbsp; my_Itr-&gt;second; <br/> &nbsp; &nbsp; &nbsp; &nbsp;my_Itr-&gt;second &nbsp; = &nbsp; j; <br/> &nbsp;不过注意，键本身是不能被修改的，除非删除。 <br/> &nbsp;<br/> &nbsp;5 &nbsp; 删除数据 <br/> &nbsp;(1) &nbsp; my_Map.erase(my_Itr); <br/> &nbsp;(2) &nbsp; my_Map.erase(&quot;c&quot;); <br/> &nbsp;还是注意，第一种情况在迭代期间是不能被删除的，道理和foreach时不能删除元素一样。 <br/> &nbsp;<br/> &nbsp;6 &nbsp; 迭代数据 <br/> &nbsp;for &nbsp; (my_Itr=my_Map.begin(); &nbsp; my_Itr!=my_Map.end(); &nbsp; ++my_Itr) &nbsp; {} <br/> &nbsp;<br/> &nbsp;7 &nbsp; 其它方法 <br/> &nbsp;my_Map.size() &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 返回元素数目 <br/> &nbsp;my_Map.empty() &nbsp; &nbsp; &nbsp; 判断是否为空 <br/> &nbsp;my_Map.clear() &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 清空所有元素 <br/> &nbsp;可以直接进行赋值和比较：=, &nbsp; &gt;, &nbsp; &gt;=, &nbsp; &lt;, &nbsp; &lt;=, &nbsp; != &nbsp; 等等</p><p>&nbsp;</p><p>&nbsp;</p><p>8 遍历删除</p><p>map&lt;string,itemS&gt;::iterator &nbsp; it; <br/> &nbsp; for(it=mymap.begin(); &nbsp; it!=mymap.end(); ) <br/> &nbsp; { <br/> &nbsp; &nbsp; &nbsp; if(it-&gt;second.a &gt;100){ <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;it=mymap.erase(it); <br/> &nbsp; &nbsp; &nbsp; }</p><p>else</p><p>{</p><p>it++;</p><p>}<br/> &nbsp; }</p><p>&nbsp;</p><p>9 find查找</p><p>it=mymap.find(&quot;aa&quot;);</p><p>if(it!= mymap.end())</p><p>{</p><p>&nbsp;</p><p>Cout&lt;&lt;”Find, the value is ”&lt;&lt;iter-&gt;second&lt;&lt;endl;</p><p>}</p><p></p>','2013-12-11 06:16:07','2013-12-11 14:16:07'),(118,'183.63.215.55',2,'memcmp,memset,memcpy函数','<p>#ifndef _CLOUDKON_ASSIST_FUNCTION_H__<br/>#ifdef __cplusplus<br/>extern &quot;C&quot;{<br/>#endif</p><p>&nbsp;</p><p>int memcmp(char* src,char* dst,int len);</p><p>void* memset(void* buffer, int c, int count);</p><p>void memcpy(void* dest, void* src, int count);</p><p>&nbsp;</p><p>#ifdef __cplusplus<br/>}<br/>#endif<br/>#define _CLOUDKON_ASSIST_FUNCTION_H__<br/>#endif</p><p>&nbsp;</p><p>&nbsp;</p><p>------------------------------------------------------------------</p><p>&nbsp;</p><p>int memcmp(char* src,char* dst,int len)<br/>{<br/> int i;<br/> char b;</p><p>b=0;<br/> for(i=0;i<len;i++)<br>if(src[i]!=dst[i])<br/> {<br/> &nbsp;b=1;<br/> &nbsp;break;<br/> }<br/> return b;<br/>}</len;i++)<br></p><p><len;i++)<br></len;i++)<br>&nbsp;</p><p><len;i++)<br></len;i++)<br>&nbsp;void* memset(void* buffer, int c, int count)<br/>{<br/>char* pvTo=(char*)buffer;<br/>//assert(buffer != NULL);<br/>while(count--&gt;0)<br/>{ *pvTo++=(char)c; }<br/>return buffer;<br/>}<br/></p><p style=\"text-indent: 2em;\">&nbsp;</p><p style=\"text-indent: 2em;\">void memcpy(void* dest, void* src, int count)</p><p style=\"text-indent: 2em;\">{</p><p style=\"text-indent: 2em;\">char* pbTo = (char*)dest;</p><p style=\"text-indent: 2em;\">char* pbFrom = (char*)src;</p><p style=\"text-indent: 2em;\">//assert(dest != NULL &amp;&amp; src != NULL); \r\n//检查输入指针的有效性</p><p style=\"text-indent: 2em;\">//assert(pbTo&gt;=pbFrom+count \r\npbFrom&gt;=pbTo+count);//检查两个指针指向的内存是否重叠</p><p style=\"text-indent: 2em;\">while(count--&gt;0) { *pbTo++ = *pbFrom++; }</p><p style=\"text-indent: 2em;\">return;}</p><p><len;i++)<br></len;i++)<br>&nbsp;</p><p>&nbsp;</p>','2013-12-11 06:17:02','2014-01-14 16:51:35'),(119,'114.247.232.56',2,'VS2012 编译以XP为目标平台的程','<p>一、打VS2012 UPDATE 1补丁</p><p>二、</p><p>设置Platform Toolset</p><p>在工程属性 选择 常规 &gt; 平台工具集 -&gt; 选择XP</p><p>三、</p><p>设置Runtime Library 为Multi-Thread，不要用Multi-DLL</p><p>在Project的Properties General &gt; C/C++ &gt; Code Generation &gt; Runtime Library -&gt; 选择MT</p><p></p>','2013-12-11 06:17:20','2013-12-11 14:17:20'),(120,'114.247.232.56',2,'定义系统宏os_define.h','<p>#ifndef QGLOBAL_H</p><p>#define QGLOBAL_H</p><p>&nbsp;</p><p>#define QT_VERSION_STR &nbsp; &quot;3.1.2&quot; &nbsp;</p><p>/*</p><p>QT_VERSION is (major &lt;&lt; 16) + (minor &lt;&lt; 8) + patch.</p><p>*/ &nbsp;</p><p>#define QT_VERSION 0x030102 &nbsp;</p><p>&nbsp;</p><p>/*</p><p>The operating system, must be one of: (Q_OS_x)</p><p>&nbsp;</p><p>MACX &nbsp; - Mac OS X</p><p>MAC9 &nbsp; - Mac OS 9</p><p>MSDOS &nbsp;- MS-DOS and Windows</p><p>OS2 &nbsp; &nbsp;- OS/2</p><p>OS2EMX - XFree86 on OS/2 (not PM)</p><p>WIN32 &nbsp;- Win32 (Windows 95/98/ME and Windows NT/2000/XP)</p><p>CYGWIN - Cygwin</p><p>SOLARIS &nbsp; &nbsp;- Sun Solaris</p><p>HPUX &nbsp; - HP-UX</p><p>ULTRIX - DEC Ultrix</p><p>LINUX &nbsp;- Linux</p><p>FREEBSD &nbsp; &nbsp;- FreeBSD</p><p>NETBSD - NetBSD</p><p>OPENBSD &nbsp; &nbsp;- OpenBSD</p><p>BSDI &nbsp; - BSD/OS</p><p>IRIX &nbsp; - SGI Irix</p><p>OSF &nbsp; &nbsp;- HP Tru64 UNIX</p><p>SCO &nbsp; &nbsp;- SCO OpenServer 5</p><p>UNIXWARE &nbsp; - UnixWare 7, Open UNIX 8</p><p>AIX &nbsp; &nbsp;- AIX</p><p>HURD &nbsp; - GNU Hurd</p><p>DGUX &nbsp; - DG/UX</p><p>RELIANT &nbsp; &nbsp;- Reliant UNIX</p><p>DYNIX &nbsp;- DYNIX/ptx</p><p>QNX &nbsp; &nbsp;- QNX</p><p>QNX6 &nbsp; - QNX RTP 6.1</p><p>LYNX &nbsp; - LynxOS</p><p>BSD4 &nbsp; - Any BSD 4.4 system</p><p>UNIX &nbsp; - Any UNIX BSD/SYSV system</p><p>*/ &nbsp;</p><p>&nbsp;</p><p>#if defined(__APPLE__) &amp;&amp; defined(__GNUC__)</p><p># &nbsp;define Q_OS_MACX</p><p>#elif defined(__MACOSX__)</p><p># &nbsp;define Q_OS_MACX</p><p>#elif defined(macintosh)</p><p># &nbsp;define Q_OS_MAC9</p><p>#elif defined(__CYGWIN__)</p><p># &nbsp;define Q_OS_CYGWIN</p><p>#elif defined(MSDOS) || defined(_MSDOS)</p><p># &nbsp;define Q_OS_MSDOS</p><p>#elif defined(__OS2__)</p><p># &nbsp;if defined(__EMX__)</p><p># &nbsp; &nbsp;define Q_OS_OS2EMX</p><p># &nbsp;else</p><p># &nbsp; &nbsp;define Q_OS_OS2</p><p># &nbsp;endif</p><p>#elif !defined(SAG_COM) &amp;&amp; (defined(WIN64) || defined(_WIN64) || defined(__WIN64__))</p><p># &nbsp;define Q_OS_WIN32</p><p># &nbsp;define Q_OS_WIN64</p><p>#elif !defined(SAG_COM) &amp;&amp; (defined(WIN32) || defined(_WIN32) || defined(__WIN32__) || defined(__NT__))</p><p># &nbsp;define Q_OS_WIN32</p><p>#elif defined(__MWERKS__) &amp;&amp; defined(__INTEL__)</p><p># &nbsp;define Q_OS_WIN32</p><p>#elif defined(__sun) || defined(sun)</p><p># &nbsp;define Q_OS_SOLARIS</p><p>#elif defined(hpux) || defined(__hpux)</p><p># &nbsp;define Q_OS_HPUX</p><p>#elif defined(__ultrix) || defined(ultrix)</p><p># &nbsp;define Q_OS_ULTRIX</p><p>#elif defined(sinix)</p><p># &nbsp;define Q_OS_RELIANT</p><p>#elif defined(__linux__) || defined(__linux)</p><p># &nbsp;define Q_OS_LINUX</p><p>#elif defined(__FreeBSD__)</p><p># &nbsp;define Q_OS_FREEBSD</p><p># &nbsp;define Q_OS_BSD4</p><p>#elif defined(__NetBSD__)</p><p># &nbsp;define Q_OS_NETBSD</p><p># &nbsp;define Q_OS_BSD4</p><p>#elif defined(__OpenBSD__)</p><p># &nbsp;define Q_OS_OPENBSD</p><p># &nbsp;define Q_OS_BSD4</p><p>#elif defined(__bsdi__)</p><p># &nbsp;define Q_OS_BSDI</p><p># &nbsp;define Q_OS_BSD4</p><p>#elif defined(__sgi)</p><p># &nbsp;define Q_OS_IRIX</p><p>#elif defined(__osf__)</p><p># &nbsp;define Q_OS_OSF</p><p>#elif defined(_AIX)</p><p># &nbsp;define Q_OS_AIX</p><p>#elif defined(__Lynx__)</p><p># &nbsp;define Q_OS_LYNX</p><p>#elif defined(__GNU_HURD__)</p><p># &nbsp;define Q_OS_HURD</p><p>#elif defined(__DGUX__)</p><p># &nbsp;define Q_OS_DGUX</p><p>#elif defined(__QNXNTO__)</p><p># &nbsp;define Q_OS_QNX6</p><p>#elif defined(__QNX__)</p><p># &nbsp;define Q_OS_QNX</p><p>#elif defined(_SEQUENT_)</p><p># &nbsp;define Q_OS_DYNIX</p><p>#elif defined(_SCO_DS) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* SCO OpenServer 5 + GCC */ &nbsp;</p><p># &nbsp;define Q_OS_SCO</p><p>#elif defined(__USLC__) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/* all SCO platforms + UDK or OUDK */ &nbsp;</p><p># &nbsp;define Q_OS_UNIXWARE</p><p># &nbsp;define Q_OS_UNIXWARE7</p><p>#elif defined(__svr4__) &amp;&amp; defined(i386) /* Open UNIX 8 + GCC */ &nbsp;</p><p># &nbsp;define Q_OS_UNIXWARE</p><p># &nbsp;define Q_OS_UNIXWARE7</p><p>#else</p><p># &nbsp;error &quot;Qt has not been ported to this OS - talk to qt-bugs@trolltech.com&quot;</p><p>#endif</p><p>&nbsp;</p><p>#if defined(Q_OS_MAC9) || defined(Q_OS_MACX)</p><p># &nbsp;define Q_OS_MAC</p><p>#endif</p><p>&nbsp;</p><p>#if defined(Q_OS_MAC9) || defined(Q_OS_MSDOS) || defined(Q_OS_OS2) || defined(Q_OS_WIN32) || defined(Q_OS_WIN64)</p><p># &nbsp;undef Q_OS_UNIX</p><p>#elif !defined(Q_OS_UNIX)</p><p># &nbsp;define Q_OS_UNIX</p><p>#endif</p><p><br/></p><p>#endif</p><p></p>','2013-12-11 06:17:45','2013-12-11 14:17:45'),(121,'114.247.232.56',2,'trAtoi 字符转数值函数','<p>int trAtoi(char*val)</p><p>{</p><p>	int value=0;</p><p>	if(0==strncmp(val,&quot;0x&quot;,2))</p><p>	{</p><p>//如果是16进制</p><p>sscanf(val,&quot;%x&quot;,&amp;value);</p><p>	}</p><p>	else</p><p>	{</p><p>//否则就是10进制</p><p>value=atoi(val);</p><p>	}</p><p>	return value;</p><p>}</p><p></p>','2013-12-11 06:18:48','2013-12-11 14:18:48'),(122,'114.247.232.56',2,'linux_USB驱动基本函数','<p>#include &lt;linux/kernel.h&gt; &nbsp; &nbsp;<br/>#include &lt;linux/slab.h&gt; &nbsp; &nbsp;<br/>#include &lt;linux/module.h&gt; &nbsp; &nbsp;<br/>#include &lt;linux/init.h&gt; &nbsp; &nbsp;<br/>#include &lt;linux/usb/input.h&gt; &nbsp; &nbsp;<br/>#include &lt;linux/hid.h&gt; &nbsp; &nbsp;<br/><br/>/* &nbsp;<br/> * 驱动程序的探测函数 &nbsp;<br/> */ &nbsp;<br/>static int usb_mouse_probe(struct usb_interface *intf, const struct usb_device_id *id) &nbsp; <br/>{</p><p>&nbsp;</p><p>}</p><p>&nbsp;</p><p>/* &nbsp;<br/> * 鼠标设备拔出时的处理函数 &nbsp;<br/> */ &nbsp;<br/>static void usb_mouse_disconnect(struct usb_interface *intf) &nbsp; <br/>{ &nbsp; <br/> &nbsp; &nbsp;/* 获取设备结构体 */ &nbsp;<br/> &nbsp; &nbsp;struct usb_mouse *p= usb_get_intfdata (intf); &nbsp; <br/> &nbsp;<br/> &nbsp; &nbsp;/* intf-&gt;dev-&gt;dirver_data = NULL，将接口结构体中的鼠标设备指针置空。*/ &nbsp;<br/> &nbsp; &nbsp;usb_set_intfdata(intf, NULL);</p><p>&nbsp;</p><p>//释放其它堆变量<br/>} &nbsp; <br/> &nbsp;<br/>/* &nbsp;<br/> * usb_device_id 结构体用于表示该驱动程序所支持的设备，USB_INTERFACE_INFO 可以用来匹配特定类型的接口， &nbsp;<br/> * 这个宏的参数意思为 (类别, 子类别, 协议)。 &nbsp;<br/> * USB_INTERFACE_CLASS_HID 表示是一种 HID (Human Interface Device)，即人机交互设备类别； &nbsp;<br/> * USB_INTERFACE_SUBCLASS_BOOT 是子类别，表示是一种 boot 阶段使用的 HID； &nbsp;<br/> * USB_INTERFACE_PROTOCOL_MOUSE 表示是鼠标设备，遵循鼠标的协议。 &nbsp;<br/> */ &nbsp;<br/>static struct usb_device_id usb_mouse_id_table [] = { &nbsp; <br/> &nbsp; &nbsp;{ USB_INTERFACE_INFO(USB_INTERFACE_CLASS_HID, USB_INTERFACE_SUBCLASS_BOOT, &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;USB_INTERFACE_PROTOCOL_MOUSE) }, &nbsp; <br/> &nbsp; &nbsp;{ } /* Terminating entry */ &nbsp;<br/>};</p><p><br/>/* &nbsp;<br/> * 鼠标驱动程序结构体 &nbsp;<br/> */ &nbsp;<br/>static struct usb_driver usb_mouse_driver = { &nbsp; <br/> &nbsp; &nbsp;.name &nbsp; &nbsp; &nbsp; = &quot;usbmouse&quot;, &nbsp; <br/> &nbsp; &nbsp;.probe &nbsp; &nbsp; &nbsp;= usb_mouse_probe, &nbsp; <br/> &nbsp; &nbsp;.disconnect = usb_mouse_disconnect, &nbsp; <br/> &nbsp; &nbsp;.id_table &nbsp; = usb_mouse_id_table, &nbsp; <br/>}; &nbsp; <br/> &nbsp;<br/>/* &nbsp;<br/> * 驱动程序生命周期的开始点，向 USB core 注册这个鼠标驱动程序。 &nbsp;<br/> */ &nbsp;<br/>static int __init usb_mouse_init(void) &nbsp; <br/>{ &nbsp; <br/> &nbsp; &nbsp;int retval = usb_register(&amp;usb_mouse_driver); &nbsp; <br/> &nbsp; &nbsp;if (retval == 0) &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;info(&quot;v1.0:description...&quot;); &nbsp; <br/> &nbsp; &nbsp;return retval; &nbsp; <br/>} &nbsp; <br/> &nbsp;<br/>/* &nbsp;<br/> * 驱动程序生命周期的结束点，向 USB core 注销这个鼠标驱动程序。 &nbsp;<br/> */ &nbsp;<br/>static void __exit usb_mouse_exit(void) &nbsp; <br/>{ &nbsp; <br/> &nbsp; &nbsp;usb_deregister(&amp;usb_mouse_driver); &nbsp; <br/>}</p><p><br/>/* &nbsp;<br/> * 驱动版本信息</p><p>*/ &nbsp;<br/>MODULE_AUTHOR(&quot;Han.zhihong&quot;)<br/>MODULE_DESCRIPTION(&quot;USB HID Boot Protocol mouse driver&quot; ); &nbsp; <br/>MODULE_LICENSE(&quot;GPL&quot;);</p><p><br/>/* &nbsp;<br/> * 这个宏用来让运行在用户空间的程序知道这个驱动程序能够支持的设备，对于 USB 驱动程序来说，第一个参数必须 &nbsp;<br/> * 是 usb。 &nbsp;<br/> */ &nbsp;<br/>MODULE_DEVICE_TABLE (usb, usb_mouse_id_table); &nbsp; <br/>module_init(usb_mouse_init); &nbsp; <br/>module_exit(usb_mouse_exit);</p><p>&nbsp;</p><p>//---linux驱动命令-----</p><p>//insmod 安装驱动</p><p>//modprobe 加载驱动</p><p>//rmmod 移除驱动</p><p>//lsmod 显示所有驱动</p><p></p>','2013-12-11 06:19:12','2013-12-11 14:19:12'),(123,'192.168.1.100',2,'获取字符串参数,URL参数','<p>//字符串获取参数的函数---------------------------------------<br/></p><p>/*<br/>&nbsp;&nbsp;&nbsp; char *sd=&quot;qq=123&amp;bb=66&amp;cc&quot;;<br/>&nbsp;&nbsp;&nbsp; char dd[100];<br/>&nbsp;&nbsp;&nbsp; zhHttpGetParameter(sd,&quot;bb&quot;,dd);<br/>&nbsp;&nbsp;&nbsp; printf(&quot;%s&quot;,dd);<br/>*/<br/>bool zhHttpGetParameter(const char*str,const char*parameter,char*value)</p><p>{<br/>&nbsp;//format is &quot;a=123&amp;b=456&quot;<br/>&nbsp;#define SPLIT_1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;&amp;&quot;<br/>&nbsp;#define SPLIT_2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;=&quot;<br/>&nbsp;bool bRet;<br/>&nbsp;char *pSplit,*pSplit2;<br/>&nbsp;char *pPara;<br/>&nbsp;char *p1,*p2;<br/>&nbsp;char *pszStr;<br/>&nbsp;int nStrLen;<br/>&nbsp;<br/>&nbsp;bRet=false;<br/>&nbsp;nStrLen=strlen(str);<br/>&nbsp;<br/>&nbsp;if (0==nStrLen) {<br/>&nbsp; return bRet;<br/>&nbsp;}<br/>&nbsp;<br/>&nbsp;pszStr=(char*)malloc(nStrLen+1);<br/>&nbsp;memset(pszStr, 0, nStrLen+1);<br/>&nbsp;strcpy(pszStr,str);<br/>&nbsp;<br/>&nbsp;pPara=strtok_r(pszStr,SPLIT_1, &amp;pSplit);<br/>&nbsp;<br/>&nbsp;do{<br/>&nbsp; p1=strtok_r(pPara, SPLIT_2, &amp;pSplit2);<br/>&nbsp; p2=strtok_r(NULL, SPLIT_2, &amp;pSplit2);<br/>&nbsp; printf(&quot;p1-&gt;p2&nbsp;&nbsp; %s-&gt;%s\n&quot;,p1,p2);<br/>&nbsp; if (0==strcmp(parameter, p1)) {</p><p>&nbsp;&nbsp; if (p2) {<br/>&nbsp;&nbsp;&nbsp; strcpy(value, p2);<br/>&nbsp;&nbsp;&nbsp; bRet=true;<br/>&nbsp;&nbsp; }<br/>&nbsp;&nbsp; break;<br/>&nbsp; }<br/>&nbsp;}while ((pPara=strtok_r(NULL,SPLIT_1, &amp;pSplit)));</p><p>&nbsp;free(pszStr);<br/>&nbsp;pszStr=NULL;<br/>&nbsp;<br/>&nbsp;return bRet;<br/>}</p><p>&nbsp;</p><p>//第二种获取HTTP协议的---------------------------------------</p><p>例子 zhHttpGetProtocolValue(cache_buf,&quot;Content-Length&quot;,value);</p><p>/*这是例子</p><p>HTTP/1.0 400 Bad Request<br/>Server: FC<br/>Date: Fri, 11 Jan 2013 07:34:32 GMT<br/>Content-Type: text/html<br/>Content-Length: 1239<br/>FlexiCache-Error: ERR_INVALID_URL 0<br/>Powered-By-ChinaCache: MISS from 01051613g1.6<br/>Connection: close</p><p>*/</p><p>void zhHttpGetProtocolValue(const char*buf,const char*name,char*value)<br/>{<br/>&nbsp;char* pSearch;<br/>&nbsp;int nTmp;<br/>&nbsp;//获取相关信息<br/>&nbsp;pSearch=strstr(buf,name);<br/>&nbsp;if(pSearch)<br/>&nbsp;{<br/>&nbsp;//查找冒号<br/>&nbsp;while(pSearch[0]!=&#39;:&#39; &amp;&amp; pSearch[0] !=&#39;\n&#39; &amp;&amp; pSearch[0]!=0 &amp;&amp; !(pSearch[0]==&#39;\r&#39;&amp;&amp; pSearch[1]==&#39;\n&#39;))<br/>&nbsp;{<br/>&nbsp;pSearch++;<br/>&nbsp;}<br/>&nbsp;<br/>&nbsp;//移除冒号<br/>&nbsp;if(*pSearch==&#39;:&#39;){pSearch++;}<br/>&nbsp;//移除空格<br/>&nbsp;while(pSearch[0]==&#39; &#39;&amp;&amp; pSearch[0]!=0)<br/>&nbsp;{pSearch++;}<br/>&nbsp;nTmp=0;<br/>&nbsp;while(pSearch[0] !=&#39;\n&#39; &amp;&amp; pSearch[0]!=0 &amp;&amp; !(pSearch[0]==&#39;\r&#39;&amp;&amp; pSearch[1]==&#39;\n&#39;))<br/>&nbsp;{<br/>&nbsp;value[nTmp]=pSearch[0];<br/>&nbsp;nTmp++;<br/>&nbsp;pSearch++;<br/>&nbsp;}<br/>&nbsp;value[nTmp]=0;<br/>&nbsp;}<br/>}</p><p><br/>//第三种获取URL分离---------------------------------------</p><p><br/>/*</p><p>char dst_host[512];<br/>int dst_port;<br/>char dst_file[512];<br/>char dst_pram[2048];</p><p>//测试例子</p><p>zhHttpUrlSplit(&quot;<a href=\"http://www.abc.com&quot;,dst_host,&amp;dst_port,dst_file,dst_pram\">http://www.abc.com&quot;,dst_host,&amp;dst_port,dst_file,dst_pram</a>);</p><p>zhHttpUrlSplit(&quot;http:\\\\www.abc.com&quot;,dst_host,&amp;dst_port,dst_file,dst_pram);</p><p>zhHttpUrlSplit(&quot;<a href=\"http://www.abc.com:88&quot;,dst_host,&amp;dst_port,dst_file,dst_pram\">http://www.abc.com:88&quot;,dst_host,&amp;dst_port,dst_file,dst_pram</a>);</p><p>zhHttpUrlSplit(&quot;<a href=\"http://www.abc.com/ddd?q=123&quot;,dst_host,&amp;dst_port,dst_file,dst_pram\">http://www.abc.com/ddd?q=123&quot;,dst_host,&amp;dst_port,dst_file,dst_pram</a>);</p><p>zhHttpUrlSplit(&quot;<a href=\"http://www.abc.com/ddd/?q=123&quot;,dst_host,&amp;dst_port,dst_file,dst_pram\">http://www.abc.com/ddd/?q=123&quot;,dst_host,&amp;dst_port,dst_file,dst_pram</a>);</p><p>zhHttpUrlSplit(&quot;<a href=\"http://www.abc.com/ddd/a.html?q=123&quot;,dst_host,&amp;dst_port,dst_file,dst_pram\">http://www.abc.com/ddd/a.html?q=123&quot;,dst_host,&amp;dst_port,dst_file,dst_pram</a>);</p><p>zhHttpUrlSplit(&quot;<a href=\"http://www.abc.com:88?q=123&quot;,dst_host,&amp;dst_port,dst_file,dst_pram\">http://www.abc.com:88?q=123&quot;,dst_host,&amp;dst_port,dst_file,dst_pram</a>);<br/>zhHttpUrlSplit(&quot;<a href=\"http://www.abc.com:88/ddd?q=123&quot;,dst_host,&amp;dst_port,dst_file,dst_pram\">http://www.abc.com:88/ddd?q=123&quot;,dst_host,&amp;dst_port,dst_file,dst_pram</a>);<br/>zhHttpUrlSplit(&quot;<a href=\"http://www.abc.com:88/ddd/?q=123&quot;,dst_host,&amp;dst_port,dst_file,dst_pram\">http://www.abc.com:88/ddd/?q=123&quot;,dst_host,&amp;dst_port,dst_file,dst_pram</a>);<br/>zhHttpUrlSplit(&quot;<a href=\"http://www.abc.com:88/ddd/a.html?q=123&quot;,dst_host,&amp;dst_port,dst_file,dst_pram\">http://www.abc.com:88/ddd/a.html?q=123&quot;,dst_host,&amp;dst_port,dst_file,dst_pram</a>);<br/>zhHttpUrlSplit(&quot;<a href=\"http://www.abc.com?q=bbb&quot;,dst_host,&amp;dst_port,dst_file,dst_pram\">http://www.abc.com?q=bbb&quot;,dst_host,&amp;dst_port,dst_file,dst_pram</a>);</p><p>*/</p><p>bool zhHttpUrlSplit(const char*szUrl,char* dst_host,int* dst_port,char*dst_file,char* dst_parm)<br/>&nbsp;{<br/>&nbsp;bool ret;<br/>&nbsp;int bufsize=0;<br/>&nbsp;<br/>&nbsp;if(0==memcmp(&amp;szUrl[0],&quot;http:&quot;,5) &amp;&amp; <br/>&nbsp;&nbsp; (0==memcmp(&amp;szUrl[5],&quot;//&quot;,2)||0==memcmp(&amp;szUrl[5],&quot;<a>\\\\&quot;,2</a>)))<br/>&nbsp;{<br/>&nbsp;<br/>&nbsp;int i=0;<br/>&nbsp;ret=true;<br/>&nbsp;<br/>&nbsp;//http://开始搜索<br/>&nbsp;i=7;<br/>&nbsp;while(szUrl[i]!=&#39;:&#39; &amp;&amp; szUrl[i]!=&#39;/&#39; &amp;&amp; szUrl[i]!=&#39;\\&#39; &amp;&amp; szUrl[i]!=&#39;?&#39; &amp;&amp; szUrl[i]!=0)<br/>&nbsp;<br/>&nbsp;{<br/>&nbsp;<br/>&nbsp;dst_host[bufsize]=szUrl[i];<br/>&nbsp;bufsize++;<br/>&nbsp;i++;<br/>&nbsp;}<br/>&nbsp;<br/>&nbsp;dst_host[bufsize]=0;<br/>&nbsp;<br/>&nbsp;bufsize=0;<br/>&nbsp;<br/>&nbsp;//获取端口<br/>&nbsp;if(szUrl[i]==&#39;:&#39;)<br/>&nbsp;{<br/>&nbsp;char buf[32]={0};<br/>&nbsp;bufsize=0;<br/>&nbsp;<br/>&nbsp;i++;<br/>&nbsp;<br/>&nbsp;while(szUrl[i]!=&#39;?&#39; &amp;&amp; szUrl[i]!=&#39;/&#39; &amp;&amp; szUrl[i]!=&#39;\\&#39; &amp;&amp; szUrl[i]!=0)<br/>&nbsp;{<br/>&nbsp;<br/>&nbsp;buf[bufsize]=szUrl[i];<br/>&nbsp;bufsize++;<br/>&nbsp;<br/>&nbsp;i++;<br/>&nbsp;<br/>&nbsp;}<br/>&nbsp;<br/>&nbsp;buf[bufsize]=0;<br/>&nbsp;*dst_port=atoi(buf);<br/>&nbsp;<br/>&nbsp;}<br/>&nbsp;<br/>&nbsp;else<br/>&nbsp;{<br/>&nbsp;*dst_port=80;<br/>&nbsp;}<br/>&nbsp;<br/>&nbsp;//获取文件路径<br/>&nbsp;<br/>&nbsp;bufsize=0;<br/>&nbsp;while(szUrl[i]!=&#39;?&#39; &amp;&amp; szUrl[i]!=0)<br/>&nbsp;{<br/>&nbsp;dst_file[bufsize]=szUrl[i];<br/>&nbsp;bufsize++;<br/>&nbsp;i++;<br/>&nbsp;}<br/>&nbsp;dst_file[bufsize]=0;<br/>&nbsp;<br/>&nbsp;//获取问号后面的参数<br/>&nbsp;bufsize=0;<br/>&nbsp;i++;<br/>&nbsp;while(szUrl[i]!=0)<br/>&nbsp;{<br/>&nbsp;dst_parm[bufsize]=szUrl[i];<br/>&nbsp;bufsize++;<br/>&nbsp;i++;<br/>&nbsp;}<br/>&nbsp;dst_parm[bufsize]=0;<br/>&nbsp;}<br/>&nbsp;else<br/>&nbsp;{<br/>&nbsp;ret=false;<br/>&nbsp;strcpy(dst_host,&quot;&quot;);<br/>&nbsp;*dst_port=0;<br/>&nbsp;strcpy(dst_parm,&quot;&quot;);<br/>&nbsp;<br/>&nbsp;}<br/>&nbsp;return ret;<br/>}</p>','2013-12-11 06:20:27','2015-10-22 14:55:50'),(124,'192.168.2.200',2,'不区分大小写查找字符串strstri','<pre class=\"brush:cpp;toolbar:false\">&nbsp;\r\n#ifdef&nbsp;_WIN32\r\n#define&nbsp;strtok_r&nbsp;strtok_s\r\n#endif\r\n\r\n/*&nbsp;int&nbsp;ret=strstri(&quot;hi,baby,i&nbsp;miss&nbsp;you..&quot;,&nbsp;&quot;miss&quot;);&nbsp;*/\r\nchar&nbsp;*strstri(const&nbsp;char&nbsp;*phaystack,&nbsp;const&nbsp;char&nbsp;*pneedle)\r\n{\r\n&nbsp;&nbsp;register&nbsp;const&nbsp;unsigned&nbsp;char&nbsp;*haystack,&nbsp;*needle;\r\n&nbsp;&nbsp;&nbsp;&nbsp;register&nbsp;unsigned&nbsp;bl,&nbsp;bu,&nbsp;cl,&nbsp;cu;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;haystack&nbsp;=&nbsp;(const&nbsp;unsigned&nbsp;char&nbsp;*)&nbsp;phaystack;\r\n&nbsp;&nbsp;&nbsp;&nbsp;needle&nbsp;=&nbsp;(const&nbsp;unsigned&nbsp;char&nbsp;*)&nbsp;pneedle;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;bl&nbsp;=&nbsp;tolower(*needle);\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(bl&nbsp;!=&nbsp;&#39;\0&#39;)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Scan&nbsp;haystack&nbsp;until&nbsp;the&nbsp;first&nbsp;character&nbsp;of&nbsp;needle&nbsp;is&nbsp;found:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bu&nbsp;=&nbsp;toupper(bl);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;haystack--;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;possible&nbsp;ANSI&nbsp;violation&nbsp;*/\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;do\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cl&nbsp;=&nbsp;*++haystack;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(cl&nbsp;==&nbsp;&#39;\0&#39;)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;goto&nbsp;ret0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;((cl&nbsp;!=&nbsp;bl)&nbsp;&amp;&amp;&nbsp;(cl&nbsp;!=&nbsp;bu));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;See&nbsp;if&nbsp;the&nbsp;rest&nbsp;of&nbsp;needle&nbsp;is&nbsp;a&nbsp;one-for-one&nbsp;match&nbsp;with&nbsp;this&nbsp;part&nbsp;of&nbsp;haystack:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cl&nbsp;=&nbsp;tolower(*++needle);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(cl&nbsp;==&nbsp;&#39;\0&#39;)&nbsp;&nbsp;//&nbsp;Since&nbsp;needle&nbsp;consists&nbsp;of&nbsp;only&nbsp;one&nbsp;character,&nbsp;it&nbsp;is&nbsp;already&nbsp;a&nbsp;match&nbsp;as&nbsp;found&nbsp;above.\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;goto&nbsp;foundneedle;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cu&nbsp;=&nbsp;toupper(cl);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++needle;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;goto&nbsp;jin;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(;;)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;register&nbsp;unsigned&nbsp;a;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;register&nbsp;const&nbsp;unsigned&nbsp;char&nbsp;*rhaystack,&nbsp;*rneedle;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;do\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;=&nbsp;*++haystack;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(a&nbsp;==&nbsp;&#39;\0&#39;)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;goto&nbsp;ret0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((a&nbsp;==&nbsp;bl)&nbsp;||&nbsp;(a&nbsp;==&nbsp;bu))\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;=&nbsp;*++haystack;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(a&nbsp;==&nbsp;&#39;\0&#39;)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;goto&nbsp;ret0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shloop:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;((a&nbsp;!=&nbsp;bl)&nbsp;&amp;&amp;&nbsp;(a&nbsp;!=&nbsp;bu));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jin:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;=&nbsp;*++haystack;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(a&nbsp;==&nbsp;&#39;\0&#39;)&nbsp;&nbsp;//&nbsp;Remaining&nbsp;part&nbsp;of&nbsp;haystack&nbsp;is&nbsp;shorter&nbsp;than&nbsp;needle.&nbsp;&nbsp;No&nbsp;match.\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;goto&nbsp;ret0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((a&nbsp;!=&nbsp;cl)&nbsp;&amp;&amp;&nbsp;(a&nbsp;!=&nbsp;cu))&nbsp;//&nbsp;This&nbsp;promising&nbsp;candidate&nbsp;is&nbsp;not&nbsp;a&nbsp;complete&nbsp;match.\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;goto&nbsp;shloop;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Start&nbsp;looking&nbsp;for&nbsp;another&nbsp;match&nbsp;on&nbsp;the&nbsp;first&nbsp;char&nbsp;of&nbsp;needle.\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rhaystack&nbsp;=&nbsp;haystack--&nbsp;+&nbsp;1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rneedle&nbsp;=&nbsp;needle;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;=&nbsp;tolower(*rneedle);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(tolower(*rhaystack)&nbsp;==&nbsp;(int)&nbsp;a)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;do\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(a&nbsp;==&nbsp;&#39;\0&#39;)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;goto&nbsp;foundneedle;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++rhaystack;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;=&nbsp;tolower(*++needle);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(tolower(*rhaystack)&nbsp;!=&nbsp;(int)&nbsp;a)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(a&nbsp;==&nbsp;&#39;\0&#39;)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;goto&nbsp;foundneedle;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++rhaystack;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;=&nbsp;tolower(*++needle);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(tolower(*rhaystack)&nbsp;==&nbsp;(int)&nbsp;a);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;needle&nbsp;=&nbsp;rneedle;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;took&nbsp;the&nbsp;register-poor&nbsp;approach&nbsp;*/\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(a&nbsp;==&nbsp;&#39;\0&#39;)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;//&nbsp;for(;;)\r\n&nbsp;&nbsp;&nbsp;\r\n}&nbsp;//&nbsp;if&nbsp;(bl&nbsp;!=&nbsp;&#39;\0&#39;)\r\nfoundneedle:\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(char*)&nbsp;haystack;\r\nret0:\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;0;\r\n}</pre><p></p>','2013-12-11 06:20:54','2016-03-04 03:22:47'),(125,'114.247.232.56',2,'验证IP格式是否正确','<p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">/*****************************************************************</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">Function:<span style=\"white-space: pre;\">		</span>isValidIP</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">Description:<span style=\"white-space: pre;\">		</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">验证</span>ip<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">的有效性</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">Input:<span style=\"white-space: pre;\">			</span>ipStr <span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">－</span> IP<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">地址</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">Output:<span style=\"white-space: pre;\">			</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">Return:<span style=\"white-space: pre;\">		</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">返回设备信息是否有效</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">****************************************************************/</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">bool </span>isValidIPv4(<span style=\"color: rgb(63, 28, 126);\"><span style=\"color: rgb(194, 42, 159);\">const</span><span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(194, 42, 159);\">char</span></span>* ip)</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{<span style=\"white-space: pre;\">	</span></p><p style=\"font: 11px/normal &quot;Heiti SC Light&quot;; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 11px/normal Menlo; color: rgb(0, 0, 0); font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span></span><span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">// </span>判断是否含有非法字符</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span><span style=\"color: rgb(194, 42, 159);\">int</span> temp = <span style=\"color: rgb(37, 38, 211);\">0</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span><span style=\"color: rgb(194, 42, 159);\">for</span> (<span style=\"color: rgb(194, 42, 159);\">int</span> i = <span style=\"color: rgb(37, 38, 211);\">0</span>; i &lt; <span style=\"color: rgb(63, 28, 126);\">strlen</span>(ip); i++)</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span>{</p><p style=\"font: 11px/normal &quot;Heiti SC Light&quot;; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 11px/normal Menlo; color: rgb(0, 0, 0); font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">		</span></span><span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">// </span>若不在<span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">1-9</span>之间，也不等于<span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">.</span>则认为非法字符</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">		</span>temp = (<span style=\"color: rgb(194, 42, 159);\">int</span>)ip[i];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">		</span><span style=\"color: rgb(194, 42, 159);\">if</span> ((temp &gt;= <span style=\"color: rgb(37, 38, 211);\">48</span> &amp;&amp; temp &lt;= <span style=\"color: rgb(37, 38, 211);\">57</span>) || temp == <span style=\"color: rgb(37, 38, 211);\">46</span>)</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">		</span>{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(194, 42, 159); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">			</span></span>continue<span style=\"color: rgb(0, 0, 0);\">;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">		</span>}</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(194, 42, 159); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">		</span></span>else</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">		</span>{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(194, 42, 159); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">			</span></span>return<span style=\"color: rgb(0, 0, 0);\"> </span>false<span style=\"color: rgb(0, 0, 0);\">;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">		</span>}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span>}</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span><span style=\"color: rgb(194, 42, 159);\">int</span> n;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">unsigned</span> <span style=\"color: rgb(194, 42, 159);\">int</span> a, b, c, d;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">if</span>(<span style=\"color: rgb(63, 28, 126);\">strlen</span>(ip) &lt;= <span style=\"color: rgb(37, 38, 211);\">15</span> &amp;&amp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">sscanf</span>(ip, <span style=\"color: rgb(218, 46, 36);\">&quot;%3u.%3u.%3u.%3u%n&quot;</span>, &amp;a, &amp;b, &amp;c, &amp;d, &amp;n) &gt;= <span style=\"color: rgb(37, 38, 211);\">4</span> </p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">&amp;&amp; n == <span style=\"color: rgb(194, 42, 159);\">static_cast</span>&lt;<span style=\"color: rgb(194, 42, 159);\">int</span>&gt;(<span style=\"color: rgb(63, 28, 126);\">strlen</span>(ip)))</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">		</span><span style=\"color: rgb(194, 42, 159);\">return</span> (a &gt; <span style=\"color: rgb(37, 38, 211);\">0</span> &amp;&amp; a &lt;= <span style=\"color: rgb(37, 38, 211);\">255</span> &amp;&amp; b &lt;= <span style=\"color: rgb(37, 38, 211);\">255</span> &amp;&amp; c &lt;= <span style=\"color: rgb(37, 38, 211);\">255</span> &amp;&amp; d &lt;= <span style=\"color: rgb(37, 38, 211);\">255</span> &amp;&amp; d &gt; <span style=\"color: rgb(37, 38, 211);\">0</span>) || (a == <span style=\"color: rgb(37, 38, 211);\">0</span> &amp;&amp; b== <span style=\"color: rgb(37, 38, 211);\">0</span> &amp;&amp; c == <span style=\"color: rgb(37, 38, 211);\">0</span> &amp;&amp; d == <span style=\"color: rgb(37, 38, 211);\">0</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(194, 42, 159); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>return<span style=\"color: rgb(0, 0, 0);\"> </span>false<span style=\"color: rgb(0, 0, 0);\">;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p></p>','2013-12-11 06:21:24','2013-12-11 14:21:24'),(127,'114.247.232.56',2,'去除字符串左边右边空格','<p>///////////////////////////////<br/>//去除字符串空格<br/>char *ltrim( char *str ) <br/>{<br/>&nbsp;&nbsp;&nbsp; /**去除左边空格**/<br/>&nbsp;&nbsp;&nbsp; int length = (int)strlen( str );<br/>&nbsp;&nbsp;&nbsp; char *i;<br/>&nbsp;&nbsp;&nbsp; char *len;<br/>&nbsp;&nbsp;&nbsp; int m = 0;<br/>&nbsp;&nbsp;&nbsp; int n = 0;<br/>&nbsp;&nbsp;&nbsp; i = str;<br/>&nbsp;&nbsp;&nbsp; len = str + length;<br/>&nbsp;&nbsp;&nbsp; <br/>&nbsp;&nbsp;&nbsp; for (; i&lt;len; i++ ) {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ( *i == &#39; &#39; || *i == &#39;\\t&#39; || *i == &#39;\\n&#39; ) {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; n ++;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } else {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br/>&nbsp;&nbsp;&nbsp; }<br/>&nbsp;&nbsp;&nbsp; for ( m=0; m&lt;=length-n; m++ ) {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *(str + m) = *(str + n + m);<br/>&nbsp;&nbsp;&nbsp; }<br/>&nbsp;&nbsp;&nbsp; return str;<br/>}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br/>/**去除右边空格**/<br/>char *rtrim( char *str) <br/>{<br/>&nbsp;&nbsp;&nbsp; char *i;<br/>&nbsp;&nbsp;&nbsp; i = str + strlen( str ) - 1;<br/>&nbsp;&nbsp;&nbsp; <br/>&nbsp;&nbsp;&nbsp; for (; i&gt;=str; i-- ) {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ( *i == &#39; &#39; || *i == &#39;\\t&#39; || *i == &#39;\\n&#39; ) {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *(str + strlen(str) -1) = &#39;\\0&#39;;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } else {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br/>&nbsp;&nbsp;&nbsp; }<br/>&nbsp;&nbsp;&nbsp; return str;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br/>}<br/>/**去除两边空格**/<br/>char *trim(char *str)<br/>{<br/>&nbsp;&nbsp;&nbsp; ltrim(str);<br/>&nbsp;&nbsp;&nbsp; rtrim(str);<br/>&nbsp;&nbsp;&nbsp; return str;<br/>}</p>','2013-12-11 06:24:26','2013-12-11 14:24:26'),(128,'114.247.232.56',2,'字符串大小写字母转换','<p>///////////////////////////////<br/>&nbsp;<br/>// 转换小写<br/>&nbsp;<br/>void strlow(char*src,char*dst)<br/>&nbsp;<br/>{<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp; size_t i;<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp; for(i=0; i&lt; strlen(src); i++)<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp; {<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dst[i] = tolower(src[i]);<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp; }<br/>&nbsp;<br/>}</p><p>&nbsp;</p><p>&nbsp;<br/>// 转换大写<br/>&nbsp;<br/>void strupp(char*src,char*dst)<br/>&nbsp;<br/>{<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp; size_t i;<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp; for(i=0; i&lt; strlen(src); i++)<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp; {<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dst[i] = toupper(src[i]);<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp; }<br/>&nbsp;<br/>}<br/></p><p></p>','2013-12-11 06:24:59','2013-12-11 14:24:59'),(129,'192.168.5.22',2,'跨平台获取工作路径','<pre class=\"brush:cpp;toolbar:false\">#include&nbsp;&quot;stdafx.h&quot;\r\n\r\n#ifndef&nbsp;__zh_getpath_func_h__\r\n\r\n#ifdef&nbsp;__cplusplus\r\nextern&nbsp;&quot;C&quot;{\r\n#endif\r\n\r\n\r\n/*\r\n\r\n//假设工作目录c:work\r\nchar&nbsp;buf[256];\r\ngetCurrentPath(&quot;fuckyou.txt&quot;,buf,sizeof(buf));&nbsp;&nbsp;&nbsp;//输出&nbsp;c:workfuckyou.txt\r\ngetWorkPath(&quot;../&quot;,&quot;yeah&quot;,&quot;fuckyou.txt&quot;,buf,sizeof(buf));&nbsp;&nbsp;&nbsp;&nbsp;//输出&nbsp;c:work../yeahfuckyou.txt\r\ngetWorkPath(&quot;/etc&quot;,&quot;yeah&quot;,&quot;fuckyou.txt&quot;,buf,sizeof(buf));&nbsp;&nbsp;&nbsp;&nbsp;//输出&nbsp;/etc/yeah/fuckyou.txt\r\n\r\n*/\r\nstatic&nbsp;char*getCurrentPath(char*filename,char*dst_buf,int&nbsp;dst_buf_len)\r\n{\r\n\r\n&nbsp;#ifdef&nbsp;_WIN32\r\n&nbsp;&nbsp;GetModuleFileNameA(NULL,dst_buf,dst_buf_len);&nbsp;\r\n&nbsp;&nbsp;(strrchr(dst_buf,&nbsp;&#39;\\&#39;))[1]&nbsp;=&nbsp;0;&nbsp;//删除文件名，只获得路径\r\n&nbsp;#else\r\n&nbsp;&nbsp;//头文件：direct.h（TC2.0下为dir.h）\r\n&nbsp;&nbsp;getcwd(dst_buf,&nbsp;dst_buf_len);\r\n&nbsp;&nbsp;strcat(dst_buf,&quot;/&quot;);\r\n&nbsp;#endif\r\n\r\n&nbsp;if(filename)\r\n&nbsp;{&nbsp;strcat_s(dst_buf,dst_buf_len,filename);&nbsp;}\r\n&nbsp;return&nbsp;dst_buf;\r\n}\r\n\r\nstatic&nbsp;char*getWorkPath(char*work_path,char*directory,char*filename,char*dst_buf,int&nbsp;dst_buf_len)\r\n{\r\n	char&nbsp;buf[512];\r\n	if(0==dst_buf_len){return&nbsp;NULL;}\r\n	memset(dst_buf,0,dst_buf_len);\r\n	if(NULL==work_path)\r\n	{work_path=&quot;&quot;;}\r\n	buf[0]=0;\r\n\r\n	#ifdef&nbsp;_WIN32\r\n	if(strlen(work_path)&gt;0)\r\n	{\r\n	sprintf(buf,&quot;%s\\&quot;,work_path);\r\n	}\r\n\r\n	if(NULL!=directory&nbsp;&amp;&amp;&nbsp;0!=strlen(directory))\r\n	{\r\n	sprintf(buf,&quot;%s%s\\&quot;,buf,directory);\r\n	}\r\n	#else\r\n	if(strlen(work_path)&gt;0)\r\n	{\r\n	sprintf(buf,&quot;%s/&quot;,work_path);\r\n	}\r\n	if(NULL!=directory&nbsp;&amp;&amp;&nbsp;0!=strlen(directory))\r\n	{\r\n	sprintf(buf,&quot;%s%s/&quot;,buf,directory);\r\n	}\r\n	#endif\r\n	if(NULL!=filename&nbsp;&amp;&amp;&nbsp;0!=strlen(filename))\r\n	{\r\n	sprintf(buf,&quot;%s%s&quot;,buf,filename);\r\n	}\r\n\r\n	if(0==strcmp(&quot;.&quot;,work_path)&nbsp;||&nbsp;0==strncmp(&quot;./&quot;,work_path,2)&nbsp;||&nbsp;0==strncmp(&quot;.\\&quot;,work_path,2)&nbsp;||\r\n	0==strcmp(&quot;..&quot;,work_path)&nbsp;||&nbsp;0==strncmp(&quot;../&quot;,work_path,3)&nbsp;||&nbsp;0==strncmp(&quot;..\\&quot;,work_path,3)&nbsp;||\r\n	0==strlen(work_path))\r\n	{\r\n	getCurrentPath(buf,dst_buf,dst_buf_len);\r\n	}\r\n	else\r\n	{\r\n	strcpy(dst_buf,buf);\r\n	}\r\n\r\n	return&nbsp;dst_buf;\r\n}\r\n\r\n#ifdef&nbsp;__cplusplus\r\n}\r\n#endif\r\n\r\n#define&nbsp;__zh_getpath_func_h__\r\n#endif</pre><p><br/></p>','2013-12-11 06:25:20','2016-09-04 04:26:37'),(130,'59.36.152.19',24,'生成随机数数组','<p>&nbsp; <span style=\"color: rgb(194, 42, 159);\">char</span> cAD[<span style=\"color: rgb(37, 38, 211);\">3</span>];//随机数列表</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">short</span> rAD;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">int</span> i,j;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">bool</span> repeat;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(124, 73, 46);\">memset</span>(cAD, <span style=\"color: rgb(37, 38, 211);\">10</span>, <span style=\"color: rgb(37, 38, 211);\">3</span>);//初始化的列表值要与任何一个随机值都不同</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\"> &nbsp; &nbsp;srand</span>(<span style=\"color: rgb(63, 28, 126);\">time</span>(<span style=\"color: rgb(194, 42, 159);\">NULL</span>));</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">for</span> (i=<span style=\"color: rgb(37, 38, 211);\">0</span>; i&lt;<span style=\"color: rgb(37, 38, 211);\">3</span>; i++) {</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span>//<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">生成不重复的随机位置</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">while</span> (<span style=\"color: rgb(194, 42, 159);\">true</span>) {</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">repeat=<span style=\"color: rgb(194, 42, 159);\">false</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">rAD=(<span style=\"color: rgb(63, 28, 126);\">abs</span>(<span style=\"color: rgb(63, 28, 126);\">rand</span>()))%<span style=\"color: rgb(37, 38, 211);\">5</span>;//最大随机值</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">for</span> (j=<span style=\"color: rgb(37, 38, 211);\">0</span>;j&lt;=i;j++) {</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">if</span>(rAD==(<span style=\"color: rgb(194, 42, 159);\">short</span>)cAD[j])</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{ repeat=<span style=\"color: rgb(194, 42, 159);\">true</span>; <span style=\"color: rgb(194, 42, 159);\">break</span>;}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">else</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{ <span style=\"color: rgb(194, 42, 159);\">if</span> (i==j) {cAD[j]=rAD;} }</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">if</span> (<span style=\"color: rgb(194, 42, 159);\">false</span>==repeat) {</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">break</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"></span>printf(&quot;rAD=%d&quot;, rAD);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p>&nbsp;</p>','2013-12-11 06:25:40','2014-06-03 11:44:57'),(131,'27.44.9.28',2,'urlencode,urldecode函数','<p>git@github.com:hzhsohn/c.encoding.git</p><pre class=\"brush:cpp;toolbar:false\">char&nbsp;*p;int&nbsp;k;\r\nchar&nbsp;szb[]=&quot;人生如梦&quot;;\r\n//加码\r\np=urlencode(szb,strlen(szb),&amp;k);\r\n//解码\r\nurldecode(p,k);\r\nfree(p);\r\np=NULL;</pre><p><br/></p>','2013-12-11 06:26:02','2017-08-31 03:57:02'),(132,'114.247.232.56',2,'获取动态参数Sys_print','<p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(124, 73, 46); font-size-adjust: none; font-stretch: normal;\">//#define GCH_VTRACE(s,...) //GCH_TRACE(_T(&quot;[输出变量]&quot;),s,__VA_ARGS__)//输出变量</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(124, 73, 46); font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(124, 73, 46); font-size-adjust: none; font-stretch: normal;\">#ifdef WIN32</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(124, 73, 46); font-size-adjust: none; font-stretch: normal;\">#define VSNPRINTF(a,b,c,d) _vsnprintf(a,b,c,d)</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(124, 73, 46); font-size-adjust: none; font-stretch: normal;\">#else</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(124, 73, 46); font-size-adjust: none; font-stretch: normal;\">#define VSNPRINTF(a,b,c,d) vsnprintf(a,b,c,d)</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(124, 73, 46); font-size-adjust: none; font-stretch: normal;\">#endif</p><p>&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\"><br/></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">void</span> Sys_print(<span style=\"color: rgb(194, 42, 159);\">char</span>*format,...)</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"></span><span style=\"color: rgb(194, 42, 159);\">char</span> buf[<span style=\"color: rgb(37, 38, 211);\">256</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"></span>va_list args;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"></span>va_start(args, format);</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"></span>VSNPRINTF(buf,<span style=\"color: rgb(37, 38, 211);\">256</span>,format,args);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"></span>printf(<span style=\"color: rgb(218, 46, 36);\">&quot;%s\\r\\n&quot;</span>,buf);</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\"></span></span>// write to file</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"></span>va_end(args);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">////////////////////////// &nbsp;obj-c &nbsp;//////////////</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">id</span> eachArg;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">va_list</span> argList;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(124, 73, 46);\">va_start</span>(argList, str);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">while</span> ((eachArg = <span style=\"color: rgb(124, 73, 46);\">va_arg</span>(argList, <span style=\"color: rgb(194, 42, 159);\">id</span>)))</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">if</span> (eachArg == <span style=\"color: rgb(194, 42, 159);\">nil</span>) {</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">break</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">NSLog</span>(<span style=\"color: rgb(218, 46, 36);\">@&quot;arg=%s&quot;</span>,eachArg);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(124, 73, 46);\">va_end</span>(argList);</p><p></p>','2013-12-11 06:26:23','2013-12-11 14:26:23'),(133,'114.247.232.56',2,'win获取窗体句柄和修改窗体图标','<p>///////////////////////////////////////////////////////////////</p><p>g_hwConsole=GetConsoleWindow();</p><p>&nbsp;</p><p>//////////////////////////////////////////////////////////////</p><p>HWND hWnd=FindWindow(NULL,_T(FORM_NAME));<br/> SendMessage(hWnd, WM_SETICON, (WPARAM)TRUE, (LPARAM)LoadIcon(GetModuleHandle(NULL), (LPCTSTR)GLUT_ICON));</p><p></p>','2013-12-11 06:26:39','2013-12-11 14:26:39'),(134,'114.247.232.56',2,'控制台字体颜色','<p>///////////////////////// &nbsp; win32 &nbsp;//////////////////////////////</p><p>static void ERR_PRINTF(int err_id,char*format,...)</p><p>{</p><p><span style=\"white-space: pre;\">	</span>char buf[256];</p><p><span style=\"white-space: pre;\">	</span>va_list args;</p><p><span style=\"white-space: pre;\">	</span>va_start(args, format);</p><p><span style=\"white-space: pre;\">	</span></p><p><span style=\"white-space: pre;\">	</span>VSNPRINTF(buf,256,format,args);</p><p>#if _WIN32</p><p><span style=\"white-space: pre;\">	</span>SetConsoleTextAttribute(GetStdHandle(STD_OUTPUT_HANDLE),FOREGROUND_RED|FOREGROUND_INTENSITY);</p><p>#endif</p><p><span style=\"white-space: pre;\">	</span>printf(&quot;Err-%d: %s\\r\\n&quot;,err_id,buf);</p><p>#if _WIN32</p><p><span style=\"white-space: pre;\">	</span>SetConsoleTextAttribute(GetStdHandle(STD_OUTPUT_HANDLE),FOREGROUND_BLUE |FOREGROUND_GREEN|FOREGROUND_RED );</p><p>#endif</p><p><span style=\"white-space: pre;\">	</span>// write to file</p><p><span style=\"white-space: pre;\">	</span>va_end(args);</p><p>}</p><p></p>','2013-12-11 06:26:56','2013-12-11 14:26:56'),(135,'114.247.232.56',2,'access函数跨平台头文件','<p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(124, 73, 46); font-size-adjust: none; font-stretch: normal;\">#ifdef _WIN32</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(124, 73, 46); font-size-adjust: none; font-stretch: normal;\">#include <span style=\"color: rgb(218, 46, 36);\">&lt;io.h&gt;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(124, 73, 46); font-size-adjust: none; font-stretch: normal;\">#else</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(124, 73, 46);\">#include </span>&lt;unistd.h&gt;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(124, 73, 46); font-size-adjust: none; font-stretch: normal;\">#endif</p><p></p>','2013-12-11 06:27:14','2013-12-11 14:27:14'),(136,'114.247.232.56',2,'检测有没有摄像头','<p><span style=\"color: rgb(128, 0, 0); word-break: break-all; word-wrap: break-word;\"><span style=\"color: rgb(100, 149, 237); word-break: break-all; word-wrap: break-word;\">#include </span><span style=\"color: rgb(255, 0, 255); word-break: break-all; word-wrap: break-word;\">&lt;windows.h&gt;</span><span style=\"color: rgb(100, 149, 237); word-break: break-all; word-wrap: break-word;\">#include </span><span style=\"color: rgb(255, 0, 255); word-break: break-all; word-wrap: break-word;\">&lt;stdio.h&gt;</span><span style=\"color: rgb(100, 149, 237); word-break: break-all; word-wrap: break-word;\">#include </span><span style=\"color: rgb(255, 0, 255); word-break: break-all; word-wrap: break-word;\">&lt;iostream.h&gt;</span><span style=\"color: rgb(100, 149, 237); word-break: break-all; word-wrap: break-word;\">#include </span><span style=\"color: rgb(255, 0, 255); word-break: break-all; word-wrap: break-word;\">&quot;vfw.h&quot;</span><span style=\"color: rgb(100, 149, 237); word-break: break-all; word-wrap: break-word;\">#pragma comment</span>( <span style=\"color: rgb(0, 0, 255); word-break: break-all; word-wrap: break-word;\">lib</span>, <span style=\"color: rgb(255, 0, 255); word-break: break-all; word-wrap: break-word;\">&quot;vfw32.lib&quot;</span> )<span style=\"color: rgb(0, 0, 255); word-break: break-all; word-wrap: break-word;\">void</span> main()\r\n{ &nbsp; \r\n &nbsp; &nbsp;<span style=\"color: rgb(0, 0, 255); word-break: break-all; word-wrap: break-word;\">char</span> strDeviceVersion[80]; &nbsp; &nbsp;<span style=\"color: rgb(0, 128, 0); word-break: break-all; word-wrap: break-word;\">//设备版本信息</span>\r\n &nbsp; &nbsp;<span style=\"color: rgb(0, 0, 255); word-break: break-all; word-wrap: break-word;\">char</span> strDeviceAndVersion[160]; &nbsp;<span style=\"color: rgb(0, 128, 0); word-break: break-all; word-wrap: break-word;\">//设备名和版本信息</span>\r\n &nbsp; &nbsp;<span style=\"color: rgb(0, 0, 255); word-break: break-all; word-wrap: break-word;\">int</span> nIndex; &nbsp; &nbsp;<span style=\"color: rgb(0, 0, 255); word-break: break-all; word-wrap: break-word;\">int</span> nDriverCount = 0; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"color: rgb(0, 128, 0); word-break: break-all; word-wrap: break-word;\">//支持的设备驱动程序个数</span>\r\n &nbsp; \r\n &nbsp; \r\n &nbsp; &nbsp;<span style=\"color: rgb(0, 0, 255); word-break: break-all; word-wrap: break-word;\">for</span>(nIndex=0; nIndex &lt;9; nIndex++) \r\n &nbsp; &nbsp;{ \r\n &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"color: rgb(0, 0, 255); word-break: break-all; word-wrap: break-word;\">if</span>(capGetDriverDescription(nIndex,(LPSTR)strDeviceAndVersion,<span style=\"color: rgb(0, 0, 255); word-break: break-all; word-wrap: break-word;\">sizeof</span>(strDeviceAndVersion),(LPSTR)strDeviceVersion,<span style=\"color: rgb(0, 0, 255); word-break: break-all; word-wrap: break-word;\">sizeof</span>(strDeviceVersion))) \r\n &nbsp; &nbsp; &nbsp; &nbsp;{ \r\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;strcat(strDeviceAndVersion,<span style=\"color: rgb(255, 0, 255); word-break: break-all; word-wrap: break-word;\">&quot;,&quot;</span>); \r\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;strcat(strDeviceAndVersion,strDeviceVersion); \r\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;nDriverCount++; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"color: rgb(0, 128, 0); word-break: break-all; word-wrap: break-word;\">//得到vfw设备信息及连的设备数量</span>\r\n &nbsp; &nbsp; &nbsp; &nbsp;} \r\n &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"color: rgb(0, 0, 255); word-break: break-all; word-wrap: break-word;\">else</span> \r\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"color: rgb(0, 0, 255); word-break: break-all; word-wrap: break-word;\">break</span>; \r\n &nbsp; &nbsp;} \r\n &nbsp; &nbsp;<span style=\"color: rgb(0, 0, 255); word-break: break-all; word-wrap: break-word;\">if</span> (nDriverCount==0)\r\n &nbsp; &nbsp; &nbsp; &nbsp;cout &lt;&lt;<span style=\"color: rgb(255, 0, 255); word-break: break-all; word-wrap: break-word;\">&quot;没有摄像头&quot;</span>&lt;&lt;endl; \r\n &nbsp; &nbsp;<span style=\"color: rgb(0, 0, 255); word-break: break-all; word-wrap: break-word;\">else</span>\r\n &nbsp; &nbsp; &nbsp; &nbsp;cout &lt;&lt;<span style=\"color: rgb(255, 0, 255); word-break: break-all; word-wrap: break-word;\">&quot;有摄像头&quot;</span>&lt;&lt;endl; \r\n}</span></p>','2013-12-11 06:27:35','2013-12-11 14:27:35'),(137,'114.247.232.56',2,'输出十六进制字符串','<p>static char* Sys_Printf16(char *buf,short len)<br/>{<br/> char szTmpBuf[512];<br/> char szbuf[10];<br/> short i=0;<br/> memset(szTmpBuf,0,sizeof(szTmpBuf));<br/> for(i=0;i&lt;len;i++)<br/> {<br/> &nbsp;sprintf(szbuf,&quot;%02X&quot;,(unsigned char)buf[i]);<br/> &nbsp;if(strlen(szTmpBuf))<br/> &nbsp; sprintf(szTmpBuf,&quot;%s&quot;CMD_SPLIT_CHAR&quot;%s&quot;,szTmpBuf,szbuf);<br/> &nbsp;else<br/> &nbsp; sprintf(szTmpBuf,&quot;%s&quot;,szbuf);<br/> }<br/> return szTmpBuf;<br/>}</p>','2013-12-11 06:27:54','2013-12-11 14:27:54'),(138,'192.168.2.200',2,'获取,转换日期时间字符显示','<pre class=\"brush:cpp;toolbar:false\">#include&nbsp;&lt;time.h&gt;\r\n#include&nbsp;&lt;stdio.h&gt;\r\n#ifdef&nbsp;_WIN32\r\n&nbsp;&nbsp;#define&nbsp;localtime_r(a,b)&nbsp;localtime_s(b,a)\r\n&nbsp;&nbsp;#define&nbsp;asctime_r(a,b)&nbsp;asctime_s(b,a)\r\n#else\r\n&nbsp;&nbsp;#define&nbsp;localtime_s(a,b)&nbsp;localtime_r(b,a)\r\n&nbsp;&nbsp;#define&nbsp;asctime_s(a,b)&nbsp;asctime_r(b,a)\r\n#endif\r\n//-----------------------------------------------------------------\r\n//例子\r\nvoid&nbsp;main()\r\n{&nbsp;&nbsp;\r\n&nbsp;&nbsp;//&nbsp;定义两个变量，存储转换结果\r\n&nbsp;&nbsp;struct&nbsp;tm&nbsp;tmTmp;\r\n&nbsp;&nbsp;char&nbsp;stTmp[32];\r\n&nbsp;&nbsp;time_t&nbsp;now;\r\n&nbsp;&nbsp;time(&amp;now);\r\n&nbsp;&nbsp;//&nbsp;转换为tm结构\r\n&nbsp;&nbsp;localtime_r(&amp;now,&amp;tmTmp);\r\n&nbsp;&nbsp;//&nbsp;转换为字符串并输出\r\n&nbsp;&nbsp;asctime_r(&amp;tmTmp,stTmp);\r\n&nbsp;&nbsp;printf(&quot;Current&nbsp;time&nbsp;is:&nbsp;%s&nbsp;&quot;,stTmp);\r\n}\r\n//-----------------------------------------------------------------\r\nunsigned&nbsp;long&nbsp;Sys_GetTime()\r\n{\r\n#ifndef&nbsp;_WIN32\r\n/*&nbsp;linux&nbsp;*/\r\nstruct&nbsp;timeval&nbsp;tv;\r\ngettimeofday(&amp;tv,&nbsp;NULL);\r\nreturn&nbsp;(tv.tv_sec*1000+tv.tv_usec/1000);\r\n#else\r\nreturn&nbsp;GetTickCount();\r\n#endif\r\n}\r\n\r\nunsigned&nbsp;long&nbsp;Sys_GetSec()\r\n{\r\nreturn&nbsp;(unsigned&nbsp;long)time(NULL);\r\n}\r\nvoid&nbsp;Sys_Sleep(int&nbsp;ms)\r\n{\r\n#ifdef&nbsp;_WIN32\r\nSleep(ms);\r\n#else\r\n/*&nbsp;linux&nbsp;*/\r\nusleep(ms*1000);\r\n#endif\r\n}\r\n&nbsp;\r\n/////////////////////////////////////////////////////////////////////////////////\r\nvoid&nbsp;DEBUG_PRINTF(char*format,...)\r\n{\r\n		char&nbsp;buf[512];\r\n		va_list&nbsp;args;\r\n		char&nbsp;tme_buf[30];\r\n		time_t&nbsp;tt;		\r\n		struct&nbsp;tm&nbsp;ptm;\r\n\r\n		//时间\r\n		tt=time(NULL);\r\n		localtime_r(&amp;tt,&amp;ptm);\r\n		snprintf(tme_buf,sizeof(tme_buf),&nbsp;&quot;%02d:%02d:%02d&quot;,\r\n				ptm.tm_hour,\r\n				ptm.tm_min,\r\n				ptm.tm_sec);\r\n\r\n		va_start(args,&nbsp;format);\r\n	\r\n		VSNPRINTF(buf,512,format,args);\r\n&nbsp;&nbsp;&nbsp;		printf(&quot;Debug-[%s]:&nbsp;%s\r\n&quot;,tme_buf,buf);\r\n		va_end(args);\r\n}\r\n\r\n//&nbsp;-------------------------------&nbsp;时间处理函数&nbsp;----------------------------------\r\n//time_t&nbsp;转&nbsp;&quot;年-月-日&nbsp;时:分:秒&quot;\r\nchar*&nbsp;trLongTimeToStr(time_t&nbsp;tme,char*dstString)\r\n&nbsp;{\r\n	struct&nbsp;tm&nbsp;ptm;\r\n	localtime_r(&amp;tme,&amp;ptm);\r\n\r\n	sprintf(dstString,&nbsp;&quot;%4d-%02d-%02d&nbsp;%02d:%02d:%02d&quot;,&nbsp;\r\n			(ptm.tm_year&nbsp;+&nbsp;1900),\r\n			ptm.tm_mon+1,\r\n			ptm.tm_mday,\r\n			ptm.tm_hour,\r\n			ptm.tm_min,\r\n			ptm.tm_sec);\r\n	return&nbsp;dstString;\r\n&nbsp;}\r\n//time_t&nbsp;转&nbsp;&quot;年月日时分秒&quot;\r\nchar*&nbsp;trLongTimeToStrNoSplit(time_t&nbsp;tme,char*dstString)\r\n&nbsp;{\r\n	struct&nbsp;tm&nbsp;ptm;\r\n	localtime_r(&amp;tme,&amp;ptm);\r\n\r\n	sprintf(dstString,&nbsp;&quot;%4d%02d%02d%02d%02d%02d&quot;,&nbsp;\r\n			(ptm.tm_year&nbsp;+&nbsp;1900),\r\n			ptm.tm_mon+1,&nbsp;\r\n			ptm.tm_mday,&nbsp;\r\n			ptm.tm_hour,&nbsp;\r\n			ptm.tm_min,ptm.tm_sec);\r\n	return&nbsp;dstString;\r\n&nbsp;}\r\n//time_t&nbsp;转&nbsp;&quot;年-月-日&quot;\r\nchar*&nbsp;trLongTimeToStrDate(time_t&nbsp;tme,char*dstString)\r\n&nbsp;{\r\n	struct&nbsp;tm&nbsp;ptm;\r\n	localtime_r(&amp;tme,&amp;ptm);\r\n\r\n	sprintf(dstString,&nbsp;&quot;%4d-%02d-%02d&quot;,\r\n			(ptm.tm_year&nbsp;+&nbsp;1900),\r\n			ptm.tm_mon+1,&nbsp;\r\n			ptm.tm_mday);\r\n	return&nbsp;dstString;\r\n&nbsp;}\r\n//time_t&nbsp;转&nbsp;&quot;年月日&quot;\r\nchar*&nbsp;trLongTimeToStrDateNoSplit(time_t&nbsp;tme,char*dstString)\r\n{\r\n	struct&nbsp;tm&nbsp;ptm;\r\n	localtime_r(&amp;tme,&amp;ptm);\r\n\r\n	sprintf(dstString,&nbsp;&quot;%4d%02d%02d&quot;,&nbsp;\r\n			(ptm.tm_year&nbsp;+&nbsp;1900),\r\n			ptm.tm_mon+1,&nbsp;\r\n			ptm.tm_mday);\r\n	return&nbsp;dstString;\r\n}\r\n//time_t&nbsp;转&nbsp;&quot;时:分:秒&quot;\r\nchar*&nbsp;trShortTimeToStr(time_t&nbsp;tme,char*dstString)\r\n&nbsp;{\r\n	struct&nbsp;tm&nbsp;ptm;\r\n	localtime_r(&amp;tme,&amp;ptm);\r\n\r\n	sprintf(dstString,&nbsp;&quot;%02d:%02d:%02d&quot;,\r\n			ptm.tm_hour,\r\n			ptm.tm_min,\r\n			ptm.tm_sec);\r\n	return&nbsp;dstString;\r\n&nbsp;}\r\n\r\n//&quot;年-月-日&nbsp;时:分:秒&quot;&nbsp;转&nbsp;time_t\r\ntime_t&nbsp;trStrToLongTime(char*szTime)\r\n{\r\n	struct&nbsp;tm&nbsp;tm1;\r\n	time_t&nbsp;time1;\r\n\r\n	memset(&amp;tm1,0,sizeof(tm1));\r\n	sscanf(szTime,&nbsp;&quot;%4d-%02d-%02d&nbsp;%02d:%02d:%02d&quot;,\r\n			&amp;tm1.tm_year,&amp;tm1.tm_mon,&nbsp;&nbsp;&amp;tm1.tm_mday,&nbsp;\r\n			&amp;tm1.tm_hour,&nbsp;&amp;tm1.tm_min,&nbsp;&amp;tm1.tm_sec);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n\r\n	tm1.tm_year&nbsp;-=&nbsp;1900;\r\n	tm1.tm_mon&nbsp;--;\r\n	tm1.tm_isdst=-1;\r\n	time1&nbsp;=&nbsp;mktime(&amp;tm1);\r\n	return&nbsp;time1;\r\n}\r\n\r\n//&quot;年-月-日&quot;&nbsp;转&nbsp;time_t\r\ntime_t&nbsp;trStrDataToLongTime(char*szTime)\r\n{\r\n	struct&nbsp;tm&nbsp;tm1;\r\n	time_t&nbsp;time1;\r\n\r\n	memset(&amp;tm1,0,sizeof(tm1));\r\n	sscanf(szTime,&nbsp;&quot;%4d-%02d-%02d&quot;,\r\n			&amp;tm1.tm_year,\r\n			&amp;tm1.tm_mon,&nbsp;&nbsp;\r\n			&amp;tm1.tm_mday);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n\r\n	tm1.tm_year&nbsp;-=&nbsp;1900;\r\n	tm1.tm_mon&nbsp;--;\r\n	tm1.tm_isdst=-1;\r\n	time1&nbsp;=&nbsp;mktime(&amp;tm1);\r\n	return&nbsp;time1;\r\n}\r\n\r\n//&quot;时:分:秒&quot;&nbsp;转&nbsp;time_t\r\ntime_t&nbsp;trStrToShortTime(char*szTime)\r\n{\r\n	struct&nbsp;tm&nbsp;tm1;\r\n	struct&nbsp;tm&nbsp;*ptm;\r\n	time_t&nbsp;time1;\r\n	int&nbsp;a,b,c;\r\n\r\n	a=b=c=0;\r\n\r\n	memset(&amp;tm1,0,sizeof(tm1));\r\n	sscanf(szTime,&nbsp;&quot;%02d:%02d:%02d&quot;,\r\n			&amp;tm1.tm_hour,&nbsp;&amp;tm1.tm_min,&nbsp;&amp;tm1.tm_sec);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n\r\n	a=tm1.tm_hour*3600;\r\n	b=tm1.tm_min*60;\r\n	c=tm1.tm_sec;\r\n	time1=a+b+c;\r\n	//转换成格式威治时间\r\n	ptm=gmtime(&amp;time1);	\r\n	time1&nbsp;=&nbsp;mktime(ptm);\r\n	return&nbsp;time1;\r\n}\r\n\r\n/*\r\n获取星期几\r\n0星期日\r\n1-6星期一到六\r\n*/\r\nchar&nbsp;getWeekDay()\r\n{\r\n	struct&nbsp;tm&nbsp;ptm;\r\n	time_t&nbsp;tme;\r\n	time(&amp;tme);\r\n	localtime_r(&amp;tme,&amp;ptm);\r\n	return&nbsp;ptm.tm_wday;\r\n}</pre>','2013-12-11 06:28:18','2015-07-15 22:57:27'),(139,'114.247.232.56',2,'RGB，RGBA，ARGB定义','<p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(120, 73, 42); font-size-adjust: none; font-stretch: normal;\">#define RGB(r,g,b) ((unsigned char)(r)| \\</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(120, 73, 42); font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">&nbsp;&nbsp; </span>((unsigned short)((unsigned char)(g))&lt;&lt;<span style=\"color: rgb(37, 43, 216);\">8</span>)| \\</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(120, 73, 42); font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">&nbsp;&nbsp; </span>((unsigned long)(unsigned char)(b))&lt;&lt;<span style=\"color: rgb(37, 43, 216);\">16</span>)</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(120, 73, 42); font-size-adjust: none; font-stretch: normal;\">#define RGBA( r, g, b, a ) ( (r) | (g&lt;&lt;<span style=\"color: rgb(37, 43, 216);\">8</span>) | (b&lt;&lt;<span style=\"color: rgb(37, 43, 216);\">16</span>) | a&lt;&lt;<span style=\"color: rgb(37, 43, 216);\">24</span> )</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(120, 73, 42); font-size-adjust: none; font-stretch: normal;\">#define ARGB( a, r, g, b ) ( (a&lt;&lt;<span style=\"color: rgb(37, 43, 216);\">24</span>) | (r) | (g&lt;&lt;<span style=\"color: rgb(37, 43, 216);\">8</span>) | b&lt;&lt;<span style=\"color: rgb(37, 43, 216);\">16</span> )</p><p></p>','2013-12-11 06:28:37','2013-12-11 14:28:37'),(140,'114.247.232.56',2,'字符16转10,十六进制转十进制','<p>#include&lt;stdio.h&gt;<br/>#include &lt;string&gt;</p><p>bool &nbsp; HexToDec( &nbsp; char* &nbsp; shex,int *idec &nbsp; ) &nbsp;<br/> &nbsp; &nbsp; { &nbsp;<br/> &nbsp; &nbsp; &nbsp;int &nbsp; i,mid; &nbsp;<br/> &nbsp; &nbsp; &nbsp;int &nbsp; len =strlen(shex); &nbsp; &nbsp; &nbsp;<br/> &nbsp; &nbsp; &nbsp;if( &nbsp; len&gt;8 &nbsp; ) &nbsp; &nbsp; return &nbsp; false; &nbsp; &nbsp; <br/> &nbsp; &nbsp; &nbsp;mid &nbsp; = &nbsp; 0; &nbsp; *idec &nbsp; = &nbsp; 0; &nbsp;<br/> &nbsp; &nbsp; &nbsp;for( &nbsp; i=0;i&lt;len;i++ &nbsp; ) &nbsp;<br/> &nbsp; &nbsp; &nbsp;{ &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if( shex[i]&gt;=&#39;0&#39;&amp;&amp;shex[i]&lt;=&#39;9&#39; ) mid = shex[i]-&#39;0&#39;; &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;else &nbsp; if( &nbsp; shex[i]&gt;=&#39;a&#39;&amp;&amp;shex[i]&lt;=&#39;f&#39; &nbsp; ) &nbsp; mid &nbsp; = &nbsp; shex[i] &nbsp; -&#39;a&#39; &nbsp; +10; &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;else &nbsp; if( &nbsp; shex[i]&gt;=&#39;A&#39;&amp;&amp;shex[i]&lt;=&#39;F&#39; &nbsp; ) &nbsp; mid &nbsp; = &nbsp; shex[i] &nbsp; -&#39;A&#39; &nbsp; +10; &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;else &nbsp; return &nbsp; false; &nbsp; &nbsp; &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mid &lt;&lt;= ((len-i-1)&lt;&lt;2); //最精妙的地方，需要好好琢磨。 <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(*idec) |= mid; &nbsp; &nbsp; &nbsp;<br/> &nbsp; &nbsp; &nbsp;} &nbsp; &nbsp; &nbsp;<br/> &nbsp; &nbsp; &nbsp;return true; &nbsp;<br/> &nbsp; }</p><p>int main() {<br/> &nbsp; &nbsp;char ch[] = &quot;FF FF FF&quot;;<br/> &nbsp; &nbsp;int x[3];<br/> &nbsp; // HexToDec(ch,&amp;x);<br/> &nbsp; &nbsp;sscanf(ch, &quot;%x %x %x&quot;, &amp;x[0],&amp;x[1],&amp;x[2]);<br/> &nbsp; &nbsp;printf(&quot;x=%d y=%d z=%d\\n&quot;, x[0],x[1],x[2]);<br/> &nbsp; &nbsp;getchar();<br/>}<br/></p><p><br/></p><p>////////////////////////////字符串转换算法////////////////////////////////////////</p><p>//默认的16进制命令分隔符<br/>#define CMD_SPLIT_CHAR &nbsp; &nbsp; &quot;_&quot;</p><p>typedef struct _TagCmd{<br/> unsigned char cmd[128];<br/> short len;<br/>}TagCmd;</p><p>&nbsp;</p><p>static void CharHexToDec(char*szTmp,TagCmd*pcmd)<br/>{<br/> char *psz;<br/> int nHex;<br/> psz=strtok(szTmp,CMD_SPLIT_CHAR);<br/> pcmd-&gt;len=0;<br/> do<br/> {<br/> &nbsp;sscanf(psz,&quot;%x&quot;,&amp;nHex);<br/> &nbsp;pcmd-&gt;cmd[pcmd-&gt;len]=(unsigned char)nHex;<br/> &nbsp;pcmd-&gt;len++;<br/> }while(psz=strtok(NULL,CMD_SPLIT_CHAR));<br/>}</p><p>static char* DecToCharHex(TagCmd pcmd)<br/>{<br/> char szBuf[385];<br/> short i;</p><p>if(pcmd.len&gt;=sizeof(szBuf))return NULL;<br/> memset(szBuf,0,sizeof(szBuf));<br/> for(i=0;i&lt;pcmd.len;i++)<br/> {<br/> &nbsp;switch(i)<br/> &nbsp;{<br/> &nbsp;case 0:<br/> &nbsp; &nbsp;sprintf(szBuf,&quot;%02X&quot;,pcmd.cmd[i]);<br/> &nbsp; break;<br/> &nbsp;default:<br/> &nbsp; &nbsp;sprintf(szBuf,&quot;%s&quot;CMD_SPLIT_CHAR&quot;%02X&quot;,szBuf,pcmd.cmd[i]);<br/> &nbsp; break;<br/> &nbsp;}<br/> }<br/> return szBuf;<br/>}</p><p></p>','2013-12-11 06:29:00','2013-12-11 14:29:00'),(141,'114.247.232.56',2,'跨平台获取网络域名IP','<p><span style=\"font-size: small;\"><span style=\"color: rgb(51, 51, 51);\">#ifdef _WIN32<br/><span style=\"color: rgb(51, 51, 153);\">#include &lt;winsock2.h&gt;<br/>#pragma comment(lib,&quot;ws2_32.lib&quot;);</span><br/>#else<br/><span style=\"color: rgb(51, 51, 153);\">#include &lt;sys/socket.h&gt; <br/>#include &lt;sys/ioctl.h&gt; <br/>#include &lt;net/if.h&gt; <br/>#include &lt;netdb.h&gt;<br/>#include &lt;string.h&gt;<br/>#include &lt;errno.h&gt;<br/>#define h_addr h_addr_list[0]</span><br/>#endif</span></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(186, 45, 162);\">char</span>* ZH_Sock_GetIpByName(<span style=\"color: rgb(186, 45, 162);\">char</span>*dn_or_ip)</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(120, 73, 42); font-size-adjust: none; font-stretch: normal;\">#ifdef _WIN32</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">WSADATA wsaData;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">PHOSTENT hostinfo;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(186, 45, 162); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> </span>char<span style=\"color: rgb(0, 0, 0);\">*ip=</span>NULL<span style=\"color: rgb(0, 0, 0);\">;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(186, 45, 162);\">if</span>(WSAStartup(<span style=\"color: rgb(120, 73, 42);\">MAKEWORD</span>(<span style=\"color: rgb(37, 43, 216);\">2</span>,<span style=\"color: rgb(37, 43, 216);\">0</span>), &amp;wsaData)== <span style=\"color: rgb(37, 43, 216);\">0</span>)</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"></span><span style=\"color: rgb(186, 45, 162);\">if</span>((hostinfo = <span style=\"color: rgb(61, 30, 129);\">gethostbyname</span>(addr)) != <span style=\"color: rgb(186, 45, 162);\">NULL</span>)</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"></span>{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"></span>ip = inet_ntoa (*(<span style=\"color: rgb(186, 45, 162);\">struct</span> in_addr *)*hostinfo-&gt;<span style=\"color: rgb(112, 61, 170);\">h_addr_list</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"></span><span style=\"color: rgb(61, 30, 129);\">printf</span>(<span style=\"color: rgb(209, 46, 27);\">&quot;Get Ip:%s-&gt;%s\\n&quot;</span>,dn_or_ip,ip);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"></span>}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"></span>WSACleanup();</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(186, 45, 162); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> </span>return<span style=\"color: rgb(0, 0, 0);\"> ip;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(120, 73, 42); font-size-adjust: none; font-stretch: normal;\">#else</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(79, 129, 135); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;<span style=\"color: rgb(186, 45, 162);\">struct</span> hostent *host; &nbsp; &nbsp;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(186, 45, 162);\">struct</span> ifreq req;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(186, 45, 162);\">int</span> sock;</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(186, 45, 162);\">if</span> (dn_or_ip == <span style=\"color: rgb(186, 45, 162);\">NULL</span>) <span style=\"color: rgb(186, 45, 162);\">return</span> <span style=\"color: rgb(186, 45, 162);\">NULL</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(186, 45, 162);\">if</span> (<span style=\"color: rgb(61, 30, 129);\">strcmp</span>(dn_or_ip, <span style=\"color: rgb(209, 46, 27);\">&quot;localhost&quot;</span>) == <span style=\"color: rgb(37, 43, 216);\">0</span>) {</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">sock = <span style=\"color: rgb(61, 30, 129);\">socket</span>(<span style=\"color: rgb(120, 73, 42);\">AF_INET</span>, <span style=\"color: rgb(120, 73, 42);\">SOCK_DGRAM</span>, <span style=\"color: rgb(37, 43, 216);\">0</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(61, 30, 129);\">strncpy</span>(req.<span style=\"color: rgb(112, 61, 170);\">ifr_name</span>, <span style=\"color: rgb(209, 46, 27);\">&quot;eth0&quot;</span>, <span style=\"color: rgb(120, 73, 42);\">IFNAMSIZ</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(186, 45, 162);\">if</span> ( <span style=\"color: rgb(61, 30, 129);\">ioctl</span>(sock, <span style=\"color: rgb(120, 73, 42);\">SIOCGIFADDR</span>, &amp;req) &lt; <span style=\"color: rgb(37, 43, 216);\">0</span> ) {</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(61, 30, 129);\">printf</span>(<span style=\"color: rgb(209, 46, 27);\">&quot;ioctl error: %s\\n&quot;</span>, <span style=\"color: rgb(61, 30, 129);\">strerror</span> (<span style=\"color: rgb(120, 73, 42);\">errno</span>));</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(186, 45, 162);\">return</span> <span style=\"color: rgb(186, 45, 162);\">NULL</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">dn_or_ip = (<span style=\"color: rgb(186, 45, 162);\">char</span> *)inet_ntoa(*(<span style=\"color: rgb(186, 45, 162);\">struct</span> in_addr *) &amp;((<span style=\"color: rgb(186, 45, 162);\">struct</span> <span style=\"color: rgb(79, 129, 135);\">sockaddr_in</span> *) &amp;req.<span style=\"color: rgb(120, 73, 42);\">ifr_addr</span>)-&gt;<span style=\"color: rgb(112, 61, 170);\">sin_addr</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(61, 30, 129);\">shutdown</span>(sock, <span style=\"color: rgb(37, 43, 216);\">2</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">close(sock);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">} <span style=\"color: rgb(186, 45, 162);\">else</span> {</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">host = <span style=\"color: rgb(61, 30, 129);\">gethostbyname</span>(dn_or_ip);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(186, 45, 162);\">if</span> (host == <span style=\"color: rgb(186, 45, 162);\">NULL</span>) <span style=\"color: rgb(186, 45, 162);\">return</span> <span style=\"color: rgb(186, 45, 162);\">NULL</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">dn_or_ip = (<span style=\"color: rgb(186, 45, 162);\">char</span> *)inet_ntoa(*(<span style=\"color: rgb(186, 45, 162);\">struct</span> in_addr *)(host-&gt;<span style=\"color: rgb(120, 73, 42);\">h_addr</span>));</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(186, 45, 162);\">return</span> dn_or_ip;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(120, 73, 42); font-size-adjust: none; font-stretch: normal;\">#endif</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p>&nbsp;</p><p>int _tmain(int argc, _TCHAR* argv[])<br/>{<br/> GetHostIpByName(&quot;<a href=\"http://www.163.com/\" target=\"_blank\">www.163.com</a>&quot;);<br/> getchar();<br/> return 0;<br/>}</p><p></p>','2013-12-11 06:29:23','2013-12-11 14:29:23'),(142,'183.63.215.55',2,'读写文件的几种方式','<p><span style=\"color: rgb(51, 51, 51); line-height: 24px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; background-color: rgb(245, 245, 245);\">//新建文件-------------------</span></p><p><span style=\"color: rgb(51, 51, 51); line-height: 24px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; background-color: rgb(245, 245, 245);\">HANDLE hFile=CreateFile( szSavePath, GENERIC_WRITE, 0, NULL,CREATE_ALWAYS,FILE_ATTRIBUTE_NORMAL, NULL );</span></p><p><span style=\"color: rgb(51, 51, 51); line-height: 24px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; background-color: rgb(245, 245, 245);\"><span style=\"color: rgb(51, 51, 51); line-height: 24px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; background-color: rgb(245, 245, 245);\">WriteFile(hFile,sz,lstrlen(sz),&amp;dwWritten,NULL);</span><br style=\"color: rgb(51, 51, 51); line-height: 24px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; white-space: normal; box-sizing: content-box; background-color: rgb(245, 245, 245);\"/><span style=\"color: rgb(51, 51, 51); line-height: 24px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; background-color: rgb(245, 245, 245);\">CloseHandle(hFile);</span></span></p><p><span style=\"color: rgb(51, 51, 51); line-height: 24px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; background-color: rgb(245, 245, 245);\"><span style=\"color: rgb(51, 51, 51); line-height: 24px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; background-color: rgb(245, 245, 245);\"><br/></span></span></p><p><span style=\"color: rgb(51, 51, 51); line-height: 24px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; background-color: rgb(245, 245, 245);\">//追加文件内容----------- &nbsp;HANDLE&nbsp;hFile&nbsp;=&nbsp;CreateFile(&quot;C:\\\\log.txt&quot;,GENERIC_WRITE,FILE_SHARE_READ|FILE_SHARE_WRITE,NULL,OPEN_ALWAYS,FILE_ATTRIBUTE_NORMAL,NULL);</span><br style=\"color: rgb(51, 51, 51); line-height: 24px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; white-space: normal; box-sizing: content-box; background-color: rgb(245, 245, 245);\"/><span style=\"color: rgb(51, 51, 51); line-height: 24px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; background-color: rgb(245, 245, 245);\">&nbsp;&nbsp;if(&nbsp;hFile&nbsp;!=&nbsp;INVALID_HANDLE_VALUE&nbsp;)</span><br style=\"color: rgb(51, 51, 51); line-height: 24px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; white-space: normal; box-sizing: content-box; background-color: rgb(245, 245, 245);\"/><span style=\"color: rgb(51, 51, 51); line-height: 24px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; background-color: rgb(245, 245, 245);\">&nbsp;&nbsp;{</span><br style=\"color: rgb(51, 51, 51); line-height: 24px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; white-space: normal; box-sizing: content-box; background-color: rgb(245, 245, 245);\"/><span style=\"color: rgb(51, 51, 51); line-height: 24px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; background-color: rgb(245, 245, 245);\">&nbsp;&nbsp;DWORD&nbsp;dwHigh;</span><br style=\"color: rgb(51, 51, 51); line-height: 24px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; white-space: normal; box-sizing: content-box; background-color: rgb(245, 245, 245);\"/><span style=\"color: rgb(51, 51, 51); line-height: 24px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; background-color: rgb(245, 245, 245);\">&nbsp;&nbsp;DWORD&nbsp;dwPos&nbsp;=&nbsp;GetFileSize(hFile,&amp;dwHigh);</span><br style=\"color: rgb(51, 51, 51); line-height: 24px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; white-space: normal; box-sizing: content-box; background-color: rgb(245, 245, 245);\"/><span style=\"color: rgb(51, 51, 51); line-height: 24px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; background-color: rgb(245, 245, 245);\">&nbsp;&nbsp;SetFilePointer(hFile,dwPos,0,FILE_BEGIN);</span><br style=\"color: rgb(51, 51, 51); line-height: 24px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; white-space: normal; box-sizing: content-box; background-color: rgb(245, 245, 245);\"/><span style=\"color: rgb(51, 51, 51); line-height: 24px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; background-color: rgb(245, 245, 245);\">&nbsp;&nbsp;DWORD&nbsp;dwWritten;</span><br style=\"color: rgb(51, 51, 51); line-height: 24px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; white-space: normal; box-sizing: content-box; background-color: rgb(245, 245, 245);\"/><span style=\"color: rgb(51, 51, 51); line-height: 24px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; background-color: rgb(245, 245, 245);\">&nbsp;&nbsp;WriteFile(hFile,sz,lstrlen(sz),&amp;dwWritten,NULL);</span><br style=\"color: rgb(51, 51, 51); line-height: 24px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; white-space: normal; box-sizing: content-box; background-color: rgb(245, 245, 245);\"/><span style=\"color: rgb(51, 51, 51); line-height: 24px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; background-color: rgb(245, 245, 245);\">&nbsp;&nbsp;CloseHandle(hFile);</span><br style=\"color: rgb(51, 51, 51); line-height: 24px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; white-space: normal; box-sizing: content-box; background-color: rgb(245, 245, 245);\"/><span style=\"color: rgb(51, 51, 51); line-height: 24px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; background-color: rgb(245, 245, 245);\">&nbsp;&nbsp;}</span></p><p>//////////////////////////////////////////////////////////////////////////////////</p><p>&nbsp;</p><p>FILE*fp=fopen(&quot;c:\\a.txt&quot;,&quot;rb&quot;)<br/>fread(....);<br/>fclose(fp);<br/></p><p>FILE*fp=fopen(&quot;c:\\a.txt&quot;,&quot;wb&quot;)<br/>fwrite(....);<br/>fclose(fp);</p><p>&nbsp;</p><p>FILE*fp=fopen(&quot;../updatelist.txt&quot;,&quot;rb&quot;);<br/> unsigned long srcFileSize=filelength(fileno(fp));//filelength要加入io.h头文件<br/> Byte *src=new Byte[srcFileSize];</p><p>fclose(fp);</p><p>//////////////////////////////////////////////////////////////////////////////</p><p>CFile opfiles;</p><p>if (!opfiles.Open(readpath,CFile::modeRead))<br/> &nbsp;{<br/> &nbsp; MessageBox(tmpErr,&quot;错误&quot;);<br/> &nbsp; return;<br/> &nbsp;}<br/> &nbsp;tmp_fileLen=opfiles.GetLength();<br/> &nbsp;opfiles.Close();</p><p><br/></p>','2013-12-11 06:29:46','2014-04-08 10:14:28'),(143,'14.217.220.19',2,'跨平台创建文件夹,目录','<p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\">//#include &lt;direct.h&gt; //头文件</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\">#ifdef _WIN32<br/> &nbsp; &nbsp;#define MKDIR(path) &nbsp; &nbsp; mkdir(path)<br/> #define RMDIR(path) &nbsp; &nbsp; rmdir(path)<br/>#endif</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\">#ifdef _MAC<br/> &nbsp; &nbsp;#define MKDIR(path) &nbsp; &nbsp;[[NSFileManager defaultManager] createDirectoryAtPath: [NSString stringWithUTF8String:path] withIntermediateDirectories:YES attributes:nil error:nil]<br/> #define RMDIR(path) &nbsp; &nbsp;[[NSFileManager defaultManager] removeItemAtPath:path error:nil]<br/>#endif</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\">#ifdef _LINUX <br/> &nbsp; &nbsp;#define MKDIR(path) &nbsp; &nbsp; mkdir(path,S_IRWXU)<br/> #define RMDIR(path) &nbsp; &nbsp; rmdir(path)<br/>#endif</span></p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>///////////////////////////////////////////1111111111111111111111111111111111 &nbsp;循环生成目录</p><p>bool LoopCreateDir(char* pszPath)<br/> {<br/> &nbsp;TCHAR szDstDir[MAX_PATH];<br/> &nbsp;DWORD &nbsp;dwFlag = GetFileAttributes(szDstDir);<br/> &nbsp;int len;</p><p>if ( 0xFFFFFFFF == dwFlag ){<br/> &nbsp; //目录不存在创建目录<br/> &nbsp; if(!CreateDirectory(pszPath, NULL)){<br/> &nbsp; &nbsp;int err = GetLastError();<br/> &nbsp; &nbsp;if(err == ERROR_PATH_NOT_FOUND){<br/> &nbsp; &nbsp; ZeroMemory(szDstDir, sizeof(szDstDir));<br/> &nbsp; &nbsp; len = (int)strrchr(pszPath, &#39;/&#39;) - (int)pszPath;<br/> &nbsp; &nbsp; memcpy(szDstDir, pszPath, len); <br/> &nbsp; &nbsp; if(LoopCreateDir(szDstDir)){<br/> &nbsp; &nbsp; &nbsp;if(!CreateDirectory(pszPath, NULL)){<br/> &nbsp; &nbsp; &nbsp; return false;<br/> &nbsp; &nbsp; &nbsp;}<br/> &nbsp; &nbsp; }else{<br/> &nbsp; &nbsp; &nbsp;return false;<br/> &nbsp; &nbsp; }<br/> &nbsp; &nbsp;}else{<br/> &nbsp; &nbsp; return false;<br/> &nbsp; &nbsp;}<br/> &nbsp; }<br/> &nbsp;}<br/> &nbsp;return true;<br/> }</p><p>&nbsp;</p><p><br/>///////////////////////////////////////循环生成目录</p><p>int mkLoopDir(char*p)<br/>{<br/>if(access(p,0)==0)return 1;</p><p>char dPath[255],*k;memset(dPath,0,255);</p><p>char *p1=(char*)malloc(strlen(p));<br/> strcpy(p1,p);<br/> int n=0;char*pP=p1;<br/> for(int i=0;i&lt;strlen(p1);i++)<br/> {<br/> &nbsp;*pP++;<br/> &nbsp;if(*pP==&#39;\\\\&#39; || *pP==&#39;/&#39;)<br/> &nbsp;{<br/> &nbsp; n++;<br/> &nbsp; if(*pP==&#39;/&#39;)<br/> &nbsp; p1[i+1]=&#39;\\\\&#39;;<br/> &nbsp;}<br/> }</p><p>k=strtok(p1,&quot;\\\\&quot;);<br/> strcpy(dPath,k);<br/> for(int i=0;i&lt;n;i++)<br/> {<br/> &nbsp;k=strtok(NULL,&quot;\\\\&quot;);<br/> &nbsp;if(!k)continue;<br/> &nbsp;sprintf(dPath,&quot;%s\\\\%s&quot;,dPath,k);<br/> &nbsp;if((GetFileAttributes(dPath)&amp;FILE_ATTRIBUTE_DIRECTORY)) ;<br/> &nbsp; mkdir(dPath);<br/> }<br/>//clear p1 cache<br/> while(*p1++);<br/> return 0;<br/>}</p><p><br/></p>','2013-12-11 06:30:14','2014-11-15 20:35:25'),(144,'114.247.232.56',2,'打开控制台和输出','<p>//////////////////////////////////////////////////////////<br/>//debug function<br/>void Sys_CreateConsole(int width, int height)<br/>{<br/>#ifdef LOG<br/>#ifdef WIN32<br/> HANDLE hStdOut;<br/> &nbsp; &nbsp;AllocConsole();<br/> &nbsp; &nbsp;SetConsoleTitle(&quot;Debug Window&quot;);<br/> &nbsp; &nbsp;hStdOut = GetStdHandle(STD_OUTPUT_HANDLE); <br/> &nbsp; &nbsp;COORD co = {width , height};<br/> &nbsp; &nbsp;SetConsoleScreenBufferSize(hStdOut, co); <br/> &nbsp; &nbsp;freopen(&quot;CONOUT$&quot;,&quot;w+t&quot;,stdout);<br/> &nbsp; &nbsp;freopen(&quot;CONIN$&quot;,&quot;r+t&quot;,stdin);<br/>#endif<br/> system(&quot;cls&quot;);<br/>#endif<br/>}</p><p>#define _PRINTF(s,...) &nbsp;printf(s,__VA_ARGS__)</p><p>void PRINTF(char*format,...)<br/>{<br/>#ifdef LOG<br/> va_list args;<br/> va_start(args, format);<br/> char buf[256];<br/> VSNPRINTF(buf,256,format,args);<br/> &nbsp; &nbsp; printf(&quot;%s&quot;,buf);<br/> /* write to file */<br/> va_end(args);<br/>#endif<br/>}</p><p>void Sys_print16(int len,char*buf)<br/>{<br/>#ifdef LOG<br/> for(int i =0;i&lt;len;i++)<br/> printf(&quot;%02X &quot;,(BYTE)buf[i]);<br/> printf(&quot;\\r\\n&quot;);<br/>#endif<br/>}</p><p></p>','2013-12-11 06:30:34','2013-12-11 14:30:34'),(145,'183.63.215.55',2,'win进程防止重复打开程序','<p>#include &quot;tlhelp32.h&quot;</p><p>&nbsp;</p><p>bool FindAppProc(char *aStrSoft)<br/>{<br/> short k=0;<br/> HANDLE handle=CreateToolhelp32Snapshot(TH32CS_SNAPALL,0);<br/> PROCESSENTRY32 Info;<br/> Info.dwSize = sizeof(PROCESSENTRY32);<br/> if(::Process32First(handle,&amp;Info))<br/> {<br/> &nbsp;do{<br/> &nbsp; &nbsp;if( !strcmpi(Info.szExeFile,aStrSoft) )<br/> &nbsp; &nbsp;{<br/> &nbsp; k++;<br/> &nbsp; &nbsp;}<br/> &nbsp; <br/> &nbsp;}<br/> &nbsp;while(::Process32Next(handle,&amp;Info)); <br/> &nbsp;::CloseHandle(handle);<br/> }<br/><br/> return k&gt;1?true:false;<br/>}</p><p>&nbsp;</p><p>////////////////////////////////////</p><p>void main()</p><p>{</p><p>--------------------------------</p><p>//系统只能等于一次</p><p>char szbuf[MAX_PATH],szfile[MAX_PATH];<br/>&nbsp;GetModuleFileName(AfxGetInstanceHandle(),szbuf,MAX_PATH);<br/>&nbsp;for(short i=strlen(szbuf);i&gt;=0;i--)<br/>&nbsp;{<br/>&nbsp; if(szbuf[i]==&#39;\\\\&#39;)<br/>&nbsp; {<br/>&nbsp;&nbsp; strcpy(szfile,&amp;szbuf[i+1]);<br/>&nbsp;&nbsp; break;<br/>&nbsp; }<br/>&nbsp;}<br/>&nbsp;if(!szfile)return false;<br/>&nbsp;if(FindAppProc(szfile))<br/>&nbsp;{<br/>&nbsp; MessageBox(_T(&quot;程序已经运行&quot;),0,0);<br/>&nbsp; exit(0);<br/>&nbsp;}</p><p>----------------------------</p><p>printf(&quot;运行成功&quot;);</p><p>getchar()</p><p>return 0;<br/>}</p>','2013-12-11 06:30:55','2014-05-05 17:44:13'),(146,'114.247.232.56',2,'查找进程ID 并 关闭指定程序','<p style=\"text-indent: 2em;\">....#include &quot;tlhelp32.h&quot;</p><p style=\"text-indent: 2em;\">//aStrSoft 程序名或路径</p><p style=\"text-indent: 2em;\">string str_cut(char*str1,char*src)</p><p style=\"text-indent: 2em;\">{</p><p style=\"text-indent: 2em;\">string string1( src );</p><p style=\"text-indent: 2em;\">int position = string1.rfind( str1 ); // find first period</p><p style=\"text-indent: 2em;\">if(position&gt;0)</p><p style=\"text-indent: 2em;\">return string1.substr( position+1, strlen(str1)-position );</p><p style=\"text-indent: 2em;\">else</p><p style=\"text-indent: 2em;\">return string1;</p><p style=\"text-indent: 2em;\">}</p><p style=\"text-indent: 2em;\">&nbsp;</p><p style=\"text-indent: 2em;\">DWORD FindAppProcessID(char *aStrSoft)</p><p style=\"text-indent: 2em;\">{</p><p style=\"text-indent: 2em;\">string str1;</p><p style=\"text-indent: 2em;\">str1=str_cut(&quot;/&quot;,aStrSoft);</p><p style=\"text-indent: 2em;\">str1=str_cut(&quot;<a href=\"file://%22,(char*)str1.c_str/\" target=\"_blank\">\\\\&quot;,(char*)str1.c_str</a>());</p><p style=\"text-indent: 2em;\">HANDLE handle=CreateToolhelp32Snapshot(TH32CS_SNAPALL,0);</p><p style=\"text-indent: 2em;\">PROCESSENTRY32 Info;</p><p style=\"text-indent: 2em;\">Info.dwSize = sizeof(PROCESSENTRY32);</p><p style=\"text-indent: 2em;\">if(::Process32First(handle,&amp;Info))</p><p style=\"text-indent: 2em;\">{</p><p style=\"text-indent: 2em;\">do{</p><p style=\"text-indent: 2em;\">if( !strcmpi(Info.szExeFile,(char*)str1.c_str()) )</p><p style=\"text-indent: 2em;\">{</p><p style=\"text-indent: 2em;\">::CloseHandle(handle);</p><p style=\"text-indent: 2em;\">return Info.th32ProcessID;</p><p style=\"text-indent: 2em;\">}</p><p style=\"text-indent: 2em;\">}</p><p style=\"text-indent: 2em;\">while(::Process32Next(handle,&amp;Info));</p><p style=\"text-indent: 2em;\">::CloseHandle(handle);</p><p style=\"text-indent: 2em;\">}</p><p style=\"text-indent: 2em;\">return -1;</p><p style=\"text-indent: 2em;\">}</p><p style=\"text-indent: 2em;\">&nbsp;</p><p style=\"text-indent: 2em;\">//请先关闭程序才能进行更新！如果程序正在运行将强行关闭程序</p><p style=\"text-indent: 2em;\">DWORD dwPrid=FindAppProcessID(&quot;路径或程序名&quot;);</p><p style=\"text-indent: 2em;\">HANDLE ProcessHandle=OpenProcess(PROCESS_ALL_ACCESS,FALSE,dwPrid);</p><p style=\"text-indent: 2em;\">if(ProcessHandle)</p><p style=\"text-indent: 2em;\">{</p><p style=\"text-indent: 2em;\">TerminateProcess(ProcessHandle,0);</p><p style=\"text-indent: 2em;\">CloseHandle (ProcessHandle);</p><p style=\"text-indent: 2em;\">}</p><p style=\"text-indent: 2em;\">Sleep(1000);//等待关闭程序成功</p><p></p>','2013-12-11 06:31:14','2013-12-11 14:31:14'),(147,'114.247.232.56',2,'获取自己的内网IP','<p>//WINDOWS</p><p>//获取自己的内网IP<br/>char* GetMyLanIp()<br/>{<br/>&nbsp;WSADATA wsaData;<br/>&nbsp;char name[155];<br/>&nbsp;char *ip;<br/>&nbsp;PHOSTENT hostinfo; <br/>&nbsp;if(WSAStartup(MAKEWORD(2,0), &amp;wsaData)== 0)<br/>&nbsp;{ <br/>&nbsp; if( gethostname ( name, sizeof(name)) == 0) { <br/>&nbsp;&nbsp; if((hostinfo = gethostbyname(name)) != NULL)<br/>&nbsp;&nbsp; { //这些就是获得IP的函数<br/>&nbsp;&nbsp;&nbsp; ip = inet_ntoa (*(struct in_addr *)*hostinfo-&gt;h_addr_list); <br/>&nbsp;&nbsp;&nbsp; printf(&quot;%s\\n&quot;,ip);<br/>&nbsp;&nbsp; } <br/>&nbsp; } <br/>&nbsp; WSACleanup( );<br/>&nbsp;}<br/>&nbsp;return ip;<br/>}</p><p>&nbsp;</p><p>&nbsp;</p><p></p>','2013-12-11 06:31:47','2013-12-11 14:31:47'),(148,'114.247.232.56',2,'ADO+oralce.cpp','<p>//BeingConnectionStringCpp<br/> &nbsp;#import &nbsp; &quot;C:\\Program &nbsp; Files\\Common &nbsp; Files\\System\\ADO\\msado15.dll&quot; &nbsp; \\<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;no_namespace &nbsp; rename(&quot;EOF&quot;, &nbsp; &quot;EndOfFile&quot;)</p><p>#include &nbsp; &lt;ole2.h&gt;<br/> &nbsp;#include &nbsp; &lt;stdio.h&gt;<br/> &nbsp;#include &nbsp; &lt;conio.h&gt;</p><p>//Function &nbsp; declarations<br/> &nbsp;inline &nbsp; void &nbsp; TESTHR(HRESULT &nbsp; x){if &nbsp; FAILED(x)_com_issue_error(x);};<br/> &nbsp;void &nbsp; ConnectionStringX();<br/> &nbsp;_bstr_t &nbsp; GetState(int &nbsp; intState);<br/> &nbsp;void &nbsp; PrintProviderError(_ConnectionPtr &nbsp; pConnection);<br/> &nbsp;void &nbsp; PrintComError(_com_error &nbsp; &amp;e);<br/> <br/> &nbsp;///////////////////////////////////////////////////////////<br/> &nbsp;// &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Main &nbsp; Function <br/> &nbsp;///////////////////////////////////////////////////////////</p><p>void &nbsp; main()<br/> &nbsp;{<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if(FAILED(::CoInitialize(NULL)))<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return;<br/> <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ConnectionStringX();<br/> <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//Wait &nbsp; here &nbsp; for &nbsp; user &nbsp; to &nbsp; see &nbsp; the &nbsp; output..<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;printf(&quot;\\nPress &nbsp; any &nbsp; key &nbsp; to &nbsp; continue...&quot;);<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;getch();<br/> <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;::CoUninitialize();<br/> &nbsp;}<br/> &nbsp; &nbsp;<br/> &nbsp;///////////////////////////////////////////////////////////<br/> &nbsp;// &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ConnectionStringX &nbsp; Function<br/> &nbsp;///////////////////////////////////////////////////////////</p><p>void &nbsp; ConnectionStringX()<br/> &nbsp;{ &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//Define &nbsp; Connection &nbsp; object &nbsp; pointers. &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//Initialize &nbsp; pointers &nbsp; on &nbsp; define. &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//These &nbsp; are &nbsp; in &nbsp; the &nbsp; ADODB:: &nbsp; &nbsp; namespace &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;_ConnectionPtr &nbsp; pConnection1 &nbsp; = &nbsp; NULL;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;_ConnectionPtr &nbsp; pConnection2 &nbsp; = &nbsp; NULL;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;_ConnectionPtr &nbsp; pConnection3 &nbsp; = &nbsp; NULL;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;_ConnectionPtr &nbsp; pConnection4 &nbsp; = &nbsp; NULL;<br/> &nbsp; &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//Define &nbsp; Other &nbsp; Variables &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;HRESULT &nbsp; &nbsp; hr &nbsp; = &nbsp; S_OK;<br/> &nbsp; &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;try &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{ &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//Open &nbsp; a &nbsp; connection &nbsp; using &nbsp; OLE &nbsp; DB &nbsp; syntax. &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;TESTHR(pConnection1.CreateInstance(__uuidof(Connection)));<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;pConnection1-&gt;ConnectionString &nbsp; = &nbsp; &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;Provider=&#39;sqloledb&#39;;Data &nbsp; Source=&#39;MySqlServer&#39;;&quot; &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;Initial &nbsp; Catalog=&#39;Pubs&#39;;Integrated &nbsp; Security=&#39;SSPI&#39;;&quot;;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;pConnection1-&gt;ConnectionTimeout &nbsp; = &nbsp; 30;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;pConnection1-&gt;Open(&quot;&quot;,&quot;&quot;,&quot;&quot;,adConnectUnspecified);<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;printf(&quot;cnn1 &nbsp; state: &nbsp; %s\\n&quot;, &nbsp; &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(LPCTSTR)GetState(pConnection1-&gt;State));<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//Open &nbsp; a &nbsp; connection &nbsp; using &nbsp; a &nbsp; DSN &nbsp; and &nbsp; ODBC &nbsp; tags. &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//It &nbsp; is &nbsp; assumed &nbsp; that &nbsp; you &nbsp; have &nbsp; create &nbsp; DSN &nbsp; &#39;Pubs&#39; &nbsp; with &nbsp; a &nbsp; user &nbsp; name &nbsp; as &nbsp; &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//&#39;MyUserId&#39; &nbsp; and &nbsp; password &nbsp; as &nbsp; &#39;MyPassword&#39;. &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;TESTHR(pConnection2.CreateInstance(__uuidof(Connection)));<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;pConnection2-&gt;ConnectionString &nbsp; = &nbsp; &quot;DSN=Pubs;UID=MyUserId;PWD=MyPassword;&quot;;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;pConnection2-&gt;Open(&quot;&quot;,&quot;&quot;,&quot;&quot;,adConnectUnspecified);<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;printf(&quot;cnn2 &nbsp; state: &nbsp; %s\\n&quot;, &nbsp; &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(LPCTSTR)GetState(pConnection2-&gt;State));<br/> &nbsp; &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//Open &nbsp; a &nbsp; connection &nbsp; using &nbsp; a &nbsp; DSN &nbsp; and &nbsp; OLE &nbsp; DB &nbsp; tags. &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;TESTHR(pConnection3.CreateInstance(__uuidof(Connection)));<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;pConnection3-&gt;ConnectionString &nbsp; = &nbsp; &quot;Data &nbsp; Source=Pubs;&quot;;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;pConnection3-&gt;Open(&quot;&quot;,&quot;&quot;,&quot;&quot;,adConnectUnspecified);<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;printf(&quot;cnn3 &nbsp; state: &nbsp; %s\\n&quot;, &nbsp; &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(LPCTSTR)GetState(pConnection3-&gt;State));<br/> &nbsp; &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//Open &nbsp; a &nbsp; connection &nbsp; using &nbsp; a &nbsp; DSN &nbsp; and &nbsp; individual &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//arguments &nbsp; instead &nbsp; of &nbsp; a &nbsp; connection &nbsp; string. &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//It &nbsp; is &nbsp; assumed &nbsp; that &nbsp; you &nbsp; have &nbsp; create &nbsp; DSN &nbsp; &#39;Pubs&#39; &nbsp; with &nbsp; a &nbsp; user &nbsp; name &nbsp; as &nbsp; &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//&#39;MyUserId&#39; &nbsp; and &nbsp; password &nbsp; as &nbsp; &#39;MyPassword&#39;. &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;TESTHR(pConnection4.CreateInstance(__uuidof(Connection)));<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;pConnection4-&gt;Open(&quot;Pubs&quot;,&quot;MyUserId&quot;,&quot;MyPassword&quot;,adConnectUnspecified);<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;printf(&quot;cnn4 &nbsp; state: &nbsp; %s\\n&quot;, &nbsp; &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(LPCTSTR)GetState(pConnection4-&gt;State));<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;catch(_com_error &nbsp; &amp;e)<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//Notify &nbsp; user &nbsp; of &nbsp; any &nbsp; errors.<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//Pass &nbsp; a &nbsp; connection &nbsp; pointer &nbsp; accessed &nbsp; from &nbsp; the &nbsp; Connection.<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PrintProviderError(pConnection1);<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if(pConnection2)<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PrintProviderError(pConnection2);<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if(pConnection3)<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PrintProviderError(pConnection3);<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if(pConnection4)<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PrintProviderError(pConnection4);<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PrintComError(e);<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</p><p>//Cleanup &nbsp; objects &nbsp; before &nbsp; exit.<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if &nbsp; (pConnection1)<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if &nbsp; (pConnection1-&gt;State &nbsp; == &nbsp; adStateOpen)<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;pConnection1-&gt;Close();<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if &nbsp; (pConnection2)<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if &nbsp; (pConnection2-&gt;State &nbsp; == &nbsp; adStateOpen)<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;pConnection2-&gt;Close();<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if &nbsp; (pConnection3)<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if &nbsp; (pConnection3-&gt;State &nbsp; == &nbsp; adStateOpen)<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;pConnection3-&gt;Close();<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if &nbsp; (pConnection4)<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if &nbsp; (pConnection4-&gt;State &nbsp; == &nbsp; adStateOpen)<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;pConnection4-&gt;Close();<br/> &nbsp;}</p><p>///////////////////////////////////////////////////////////<br/> &nbsp;// &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;GetState &nbsp; Function<br/> &nbsp;///////////////////////////////////////////////////////////</p><p>_bstr_t &nbsp; GetState(int &nbsp; intState) &nbsp;<br/> &nbsp;{<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;_bstr_t &nbsp; strState; &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;switch(intState) &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;case &nbsp; adStateClosed: &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;strState &nbsp; = &nbsp; &quot;adStateClosed&quot;;</p><p>break;</p><p>case &nbsp; adStateOpen:<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;strState &nbsp; = &nbsp; &quot;adStateOpen&quot;;</p><p>break;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default: &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return &nbsp; strState;<br/> &nbsp;}</p><p>///////////////////////////////////////////////////////////<br/> &nbsp;// &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PrintProviderError &nbsp; Function</p><p>///////////////////////////////////////////////////////////<br/> &nbsp;void &nbsp; PrintProviderError(_ConnectionPtr &nbsp; pConnection)<br/> &nbsp;{<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//Print &nbsp; Provider &nbsp; Errors &nbsp; from &nbsp; Connection &nbsp; object. &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//pErr &nbsp; is &nbsp; a &nbsp; record &nbsp; object &nbsp; in &nbsp; the &nbsp; Connection&#39;s &nbsp; Error &nbsp; collection. &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ErrorPtr &nbsp; &nbsp; pErr &nbsp; = &nbsp; NULL;</p><p>if( &nbsp; (pConnection-&gt;Errors-&gt;Count)&gt; &nbsp; 0)<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{ &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;long &nbsp; nCount &nbsp; = &nbsp; pConnection-&gt;Errors-&gt;Count;<br/> &nbsp; &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//Collection &nbsp; ranges &nbsp; from &nbsp; 0 &nbsp; to &nbsp; nCount &nbsp; -1. &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;for(long &nbsp; i &nbsp; = &nbsp; 0;i &nbsp; &lt; &nbsp; nCount;i++)<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{ &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;pErr &nbsp; = &nbsp; pConnection-&gt;Errors-&gt;GetItem(i);<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;printf(&quot;Error &nbsp; number: &nbsp; %x\\t%s\\n&quot;, &nbsp; pErr-&gt;Number, &nbsp; &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(LPCSTR)pErr-&gt;Description);<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} &nbsp; <br/> &nbsp;} &nbsp; <br/> &nbsp;///////////////////////////////////////////////////////////<br/> &nbsp;// <br/> &nbsp;// &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PrintComError &nbsp; Function <br/> &nbsp;///////////////////////////////////////////////////////////<br/> &nbsp;void &nbsp; PrintComError(_com_error &nbsp; &amp;e)<br/> &nbsp;{ &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;_bstr_t &nbsp; bstrSource(e.Source());<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;_bstr_t &nbsp; bstrDescription(e.Description());<br/> &nbsp; &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//Print &nbsp; Com &nbsp; errors. &nbsp; &nbsp; &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;printf(&quot;Error\\n&quot;);<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;printf(&quot;\\tCode &nbsp; = &nbsp; %08lx\\n&quot;, &nbsp; e.Error());<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;printf(&quot;\\tCode &nbsp; meaning &nbsp; = &nbsp; %s\\n&quot;, &nbsp; e.ErrorMessage());<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;printf(&quot;\\tSource &nbsp; = &nbsp; %s\\n&quot;, &nbsp; (LPCSTR)bstrSource);<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;printf(&quot;\\tDescription &nbsp; = &nbsp; %s\\n&quot;, &nbsp; (LPCSTR)bstrDescription);<br/> &nbsp;} &nbsp; <br/> &nbsp;//EndConnectionStringCpp &nbsp; <br/> &nbsp;/* &nbsp; 这是一个ADO的例子，看懂它，你一样可以连接ORACLE &nbsp; */</p><p></p>','2013-12-11 06:32:13','2013-12-11 14:32:13'),(149,'192.168.2.200',2,'路径只要文件名','<p><span style=\"font-size: 18px;\">splitpath函数，或makepath函数</span></p><p><span style=\"font-family: arial, sans-serif; font-size: 5px;\"><span style=\"font-size: 18px;\"><br/></span></span></p><p><span style=\"font-family: arial, sans-serif; font-size: 5px;\"><span style=\"font-size: 18px;\">////////////////////////////////////////////////////////////////////////</span></span></p><p><br/></p><p></p><p>void str_get_filename(const char*src,char*dst,int dst_size)</p><p>{</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>char*prname,*prname2;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>prname=strrchr(src,&#39;/&#39;);</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>if(prname)</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>{ prname++; }</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>prname2=strrchr(prname,&#39;\\&#39;);</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>if(prname2)</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>{</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>prname2++;&nbsp;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>strncpy(dst,prname2,dst_size);&nbsp;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>}</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>else</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>{ strncpy(dst,prname,dst_size); }</p><p>}</p><p></p>','2013-12-11 06:32:48','2015-07-14 13:38:49'),(150,'183.63.215.55',2,'StringUtil多字节转宽字节字符UTF-8','<p>char *ascii_to_utf8(unsigned char c)<br/>{<br/>unsigned char *out;</p><p>if(c &lt; 128)<br/>{<br/>out = (char *)calloc(2, sizeof(char));<br/>out[0] = c;<br/>out[1] = &#39;\\0&#39;;<br/>}<br/>else<br/>{<br/>out = (char *)calloc(3, sizeof(char));<br/>out[1] = (c &gt;&gt; 6) | 0xC0;<br/>out[0] = (c &amp; 0x3F) | 0x80;<br/>out[2] = &#39;\\0&#39;;<br/>}</p><p>return out;<br/>}<br/>&nbsp;<br/>&nbsp;<br/>&nbsp;<br/>//////////////////////////////////////////////////////////////////////////////////////////////////<br/>&nbsp;<br/>//WINDOWS专用</p><p>#pragma once<br/>&nbsp;<br/>#ifndef __StringUtil_H_<br/>#include &quot;stdafx.h&quot;</p><p>#include &lt;string&gt;<br/>using namespace std;<br/>&nbsp;<br/>class StringUtil<br/>{<br/>public:<br/>&nbsp;&nbsp;&nbsp; static string ws2s(const wstring&amp; ws)<br/>&nbsp;&nbsp;&nbsp; {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const wchar_t* _Source = ws.c_str();<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; size_t _Dsize = WideCharToMultiByte(CP_ACP, 0, _Source, -1, NULL, 0, NULL, NULL);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char *_Dest = new char[_Dsize];<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WideCharToMultiByte(CP_ACP, 0, _Source, -1, _Dest, _Dsize, NULL, NULL);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string result = _Dest;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; delete []_Dest;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return result;<br/>&nbsp;&nbsp;&nbsp; }<br/>&nbsp;&nbsp;&nbsp; static wstring s2ws(const string&amp; s)<br/>&nbsp;&nbsp;&nbsp; {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const char* _Source = s.c_str();<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; size_t _Dsize = MultiByteToWideChar(CP_ACP, 0, _Source, -1, NULL, 0);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; wchar_t *_Dest = new wchar_t[_Dsize];<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MultiByteToWideChar(CP_ACP, 0, _Source, -1, _Dest, _Dsize);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; wstring result = _Dest;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; delete []_Dest;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return result;<br/>&nbsp;&nbsp;&nbsp; }<br/>&nbsp;&nbsp;&nbsp; static string ws2utf8(const wstring&amp; ws)<br/>&nbsp;&nbsp;&nbsp; {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const wchar_t* _Source = ws.c_str();<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; size_t _Dsize = WideCharToMultiByte(CP_UTF8, 0, _Source, -1, NULL, 0, NULL, NULL);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char *_Dest = new char[_Dsize];<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WideCharToMultiByte(CP_UTF8, 0, _Source, -1, _Dest, _Dsize, NULL, NULL);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string result = _Dest;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; delete []_Dest;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return result;<br/>&nbsp;&nbsp;&nbsp; }<br/>&nbsp;&nbsp;&nbsp; static wstring utf82ws(const string&amp; s)<br/>&nbsp;&nbsp;&nbsp; {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const char* _Source = s.c_str();<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; size_t _Dsize = MultiByteToWideChar(CP_UTF8, 0, _Source, -1, NULL, 0);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; wchar_t *_Dest = new wchar_t[_Dsize];<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MultiByteToWideChar(CP_UTF8, 0, _Source, -1, _Dest, _Dsize);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; wstring result = _Dest;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; delete []_Dest;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return result;<br/>&nbsp;&nbsp;&nbsp; }<br/>};</p><p>#define _WS2S_CSTR(str)&nbsp; StringUtil::ws2s(str).c_str()<br/>#define _S2WS_CSTR(str)&nbsp; StringUtil::s2ws(str).c_str()</p><p>#define __StringUtil_H_<br/>#endif</p>','2013-12-11 06:33:25','2014-04-25 14:08:43'),(151,'192.168.6.1',2,'路径去掉文件名&反转字符串','<pre class=\"brush:cpp;toolbar:false\">char*&nbsp;strrev2(const&nbsp;char*&nbsp;str,char*buf)\r\n{\r\n&nbsp;\r\nchar*&nbsp;tmp&nbsp;=(char*)malloc(strlen(str)+1);\r\nmemset(tmp,0,&nbsp;strlen(str)+1);\r\nstrcpy(tmp,str);\r\nchar*&nbsp;ret&nbsp;=&nbsp;tmp;//用来最后返回数组指针\r\nchar*&nbsp;p&nbsp;=&nbsp;tmp&nbsp;+&nbsp;strlen(str)&nbsp;-&nbsp;1;\r\nwhile&nbsp;(p&nbsp;&gt;&nbsp;tmp)\r\n{\r\nchar&nbsp;t&nbsp;=&nbsp;*tmp;\r\n*tmp++&nbsp;=&nbsp;*p;\r\n*p--&nbsp;=&nbsp;t;\r\n}\r\nstrcpy(buf,&nbsp;ret);\r\nfree(ret);\r\nret=NULL;\r\nreturn&nbsp;buf;\r\n&nbsp;\r\n}</pre><pre class=\"brush:cpp;toolbar:false\">void&nbsp;str_get_path(const&nbsp;char*src,char*dst)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;i=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;l=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char*&nbsp;tmp;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l=strlen(src)+1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmp&nbsp;=(char*)malloc(l);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;memset(tmp,0,l);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strcpy(tmp,src);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(i=l-2;i&gt;0;i--)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(tmp[i]==&#39;\\&#39;&nbsp;||&nbsp;tmp[i]==&#39;/&#39;)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{tmp[i]=0;break;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strcpy(dst,tmp);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;free(tmp);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmp=NULL;\r\n}</pre><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p>','2013-12-11 06:40:26','2016-11-11 17:14:17'),(152,'192.168.2.200',2,'替换字符串','<pre class=\"brush:cpp;toolbar:false\">//返回值\r\n//0=替换失败\r\n//1=替换成功\r\n//replace_str(strSrc,&quot;我被替换了&quot;,&quot;靓仔&quot;,strDst);\r\n//查找并替换字符串\r\nint&nbsp;replace_str(const&nbsp;char&nbsp;*pInput,const&nbsp;char&nbsp;*pSrc,const&nbsp;char&nbsp;*pDst,char&nbsp;*pOutput)\r\n{\r\n&nbsp;&nbsp;const&nbsp;char&nbsp;&nbsp;&nbsp;*pi;\r\n&nbsp;&nbsp;char&nbsp;*p;\r\n&nbsp;&nbsp;int&nbsp;nSrcLen,&nbsp;nDstLen,&nbsp;nLen;\r\n&nbsp;&nbsp;int&nbsp;ret;\r\n&nbsp;&nbsp;ret=0;\r\n&nbsp;&nbsp;//&nbsp;指向输入字符串的游动指针.\r\n&nbsp;&nbsp;pi&nbsp;=&nbsp;pInput;\r\n&nbsp;&nbsp;//&nbsp;计算被替换串和替换串的长度.\r\n&nbsp;&nbsp;nSrcLen&nbsp;=&nbsp;(int)strlen(pSrc);\r\n&nbsp;&nbsp;nDstLen&nbsp;=&nbsp;(int)strlen(pDst);\r\n&nbsp;&nbsp;//&nbsp;查找pi指向字符串中第一次出现替换串的位置,并返回指针(找不到则返回null).\r\n&nbsp;&nbsp;p&nbsp;=&nbsp;strstr(pi,&nbsp;pSrc);\r\n&nbsp;&nbsp;if(p)\r\n&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;*po;&nbsp;//&nbsp;指向输出字符串的游动指针.\r\n&nbsp;&nbsp;&nbsp;&nbsp;po=(char*)malloc(strlen(pInput)+strlen(pDst)+1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;计算被替换串前边字符串的长度.\r\n&nbsp;&nbsp;&nbsp;&nbsp;nLen&nbsp;=&nbsp;(int)(p&nbsp;-&nbsp;pi);\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;复制到输出字符串.\r\n&nbsp;&nbsp;&nbsp;&nbsp;memcpy(po,&nbsp;pi,&nbsp;nLen);\r\n&nbsp;&nbsp;&nbsp;&nbsp;memcpy(po+nLen,&nbsp;pDst,&nbsp;nDstLen);\r\n&nbsp;&nbsp;&nbsp;&nbsp;strcpy(po+nLen+nDstLen,&nbsp;pi+nLen+nSrcLen);\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;复制剩余字符串.\r\n&nbsp;&nbsp;&nbsp;&nbsp;strcpy(pOutput,&nbsp;po);\r\n&nbsp;&nbsp;&nbsp;&nbsp;free(po);\r\n&nbsp;&nbsp;&nbsp;&nbsp;po=NULL;\r\n&nbsp;&nbsp;&nbsp;&nbsp;ret=1;\r\n&nbsp;&nbsp;}\r\n&nbsp;&nbsp;else\r\n&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;没有找到则原样复制.\r\n&nbsp;&nbsp;&nbsp;&nbsp;strcpy(pOutput,&nbsp;pi);\r\n&nbsp;&nbsp;}\r\n&nbsp;return&nbsp;ret;\r\n}</pre><p>&nbsp;</p>','2013-12-11 06:41:03','2016-01-23 21:39:26'),(153,'114.247.232.56',2,'获取CPU ID','<p>#include &nbsp; &lt;stdio.h&gt; &nbsp; <br/>#include &nbsp; &lt;conio.h&gt; &nbsp; <br/> &nbsp; &nbsp;<br/>int &nbsp; main(int &nbsp; argc,char &nbsp; **argv) &nbsp; <br/>{ &nbsp; <br/> &nbsp;unsigned &nbsp; long &nbsp; s1,s2; &nbsp; <br/> &nbsp;unsigned &nbsp; char &nbsp; vendor_id[]=&quot;------------&quot;;</p><p>__asm{ &nbsp; <br/> &nbsp;xor &nbsp; eax,eax &nbsp; <br/> &nbsp;cpuid &nbsp; <br/> &nbsp;mov &nbsp; dword &nbsp; ptr &nbsp; vendor_id,ebx &nbsp; <br/> &nbsp;mov &nbsp; dword &nbsp; ptr &nbsp; vendor_id[+4],edx &nbsp; <br/> &nbsp;mov &nbsp; dword &nbsp; ptr &nbsp; vendor_id[+8],ecx &nbsp; <br/> &nbsp;} &nbsp; <br/> &nbsp;printf(&quot;%s-&quot;,vendor_id); &nbsp; <br/> &nbsp;__asm{ &nbsp; <br/> &nbsp;mov &nbsp; eax,01h &nbsp; <br/> &nbsp;xor &nbsp; edx,edx &nbsp; <br/> &nbsp;cpuid &nbsp; <br/> &nbsp;mov &nbsp; s1,edx &nbsp; <br/> &nbsp;mov &nbsp; s2,eax &nbsp; <br/> &nbsp;} &nbsp; <br/> &nbsp;printf(&quot;%08X\\n%08X-&quot;,s1,s2); &nbsp; <br/> &nbsp;__asm{ &nbsp; <br/> &nbsp; &nbsp;<br/> &nbsp;mov &nbsp; eax,03h &nbsp; <br/> &nbsp;xor &nbsp; ecx,ecx &nbsp; <br/> &nbsp;xor &nbsp; edx,edx &nbsp; <br/> &nbsp;cpuid &nbsp; <br/> &nbsp;mov &nbsp; s1,edx &nbsp; <br/> &nbsp;mov &nbsp; s2,ecx &nbsp; <br/> &nbsp;} &nbsp; <br/> &nbsp;printf(&quot;%08X-%08X\\n&quot;,s1,s2);</p><p>getchar();<br/> &nbsp;return &nbsp; 0; &nbsp; <br/>}</p><p></p>','2013-12-11 06:41:24','2013-12-11 14:41:24'),(154,'114.247.232.56',2,'获取网卡MAC地址','<p>//#define Q_OS_WIN32 _WIN32</p><p><br/></p><p>#ifdef Q_OS_WIN32</p><p><br/></p><p>#include &lt;stdlib.h&gt;</p><p>#include &lt;httpext.h&gt;</p><p>#include &lt;windef.h&gt;</p><p>#include &lt;Nb30.h&gt;</p><p>#pragma comment(lib,&quot;Netapi32.lib&quot;)</p><p><br/></p><p>int getMAC(char * mac)</p><p>{</p><p>	int lana;</p><p>	NCB ncb;</p><p>	typedef struct _ASTAT_</p><p>	{</p><p>ADAPTER_STATUS adapt;</p><p>NAME_BUFFER NameBuff [30];</p><p>	}ASTAT, * PASTAT;</p><p>	ASTAT Adapter;</p><p>	typedef struct _LANA_ENUM</p><p>	{ // le</p><p>UCHAR length;</p><p>UCHAR lana[MAX_LANA];</p><p>	}LANA_ENUM ;</p><p>	LANA_ENUM lana_enum;</p><p>	UCHAR uRetCode;</p><p>	memset(&amp;ncb, 0, sizeof(ncb));</p><p>	memset(&amp;lana_enum, 0, sizeof(lana_enum));</p><p>	ncb.ncb_command = NCBENUM;</p><p>	ncb.ncb_buffer = (unsigned char *)&amp;lana_enum;</p><p>	ncb.ncb_length = sizeof(LANA_ENUM);</p><p>	uRetCode = Netbios(&amp;ncb);</p><p>	if(uRetCode != NRC_GOODRET)</p><p>return uRetCode;</p><p>	for(lana=0; lana&lt;lana_enum.length; lana++)</p><p>	{</p><p>ncb.ncb_command = NCBRESET;</p><p>ncb.ncb_lana_num = lana_enum.lana[lana];</p><p>uRetCode = Netbios(&amp;ncb);</p><p>if(uRetCode == NRC_GOODRET)</p><p>break;</p><p>	}</p><p>	if(uRetCode != NRC_GOODRET)</p><p>return uRetCode;</p><p>	memset(&amp;ncb, 0, sizeof(ncb));</p><p>	ncb.ncb_command = NCBASTAT;</p><p>	ncb.ncb_lana_num = lana_enum.lana[0];</p><p>	strcpy((char*)ncb.ncb_callname, &quot;*&quot;);</p><p>	ncb.ncb_buffer = (unsigned char *)&amp;Adapter;</p><p>	ncb.ncb_length = sizeof(Adapter);</p><p>	uRetCode = Netbios(&amp;ncb);</p><p>	if(uRetCode != NRC_GOODRET)</p><p>return uRetCode;</p><p>	sprintf(mac,&quot;%02X-%02X-%02X-%02X-%02X-%02X&quot;,</p><p>Adapter.adapt.adapter_address[0],</p><p>Adapter.adapt.adapter_address[1],</p><p>Adapter.adapt.adapter_address[2],</p><p>Adapter.adapt.adapter_address[3],</p><p>Adapter.adapt.adapter_address[4],</p><p>Adapter.adapt.adapter_address[5]);</p><p>	return 0;</p><p>}</p><p>#else</p><p>int	GetMac( const char *ifname, unsigned char *mac )</p><p>{</p><p>int	sock, ret;</p><p>struct	ifreq	ifr;</p><p>sock = socket( AF_INET, SOCK_STREAM, 0 );</p><p>if ( sock &lt; 0 ) {</p><p>perror( &quot;socket&quot; );</p><p>return -1;</p><p>}</p><p>memset( &amp;ifr, 0, sizeof(ifr) );</p><p>strcpy( ifr.ifr_name, ifname );</p><p>ret = ioctl( sock, SIOCGIFHWADDR, &amp;ifr, sizeof(ifr) );</p><p>if ( ret == 0 ) {</p><p>memcpy( mac, ifr.ifr_hwaddr.sa_data, 6 );</p><p>} else {</p><p>perror( &quot;ioctl&quot; );</p><p>}</p><p>close( sock );</p><p>return ret;</p><p>}</p><p>#endif</p><p><br/></p><p>int main(int argc,char *argv[])</p><p>{</p><p>	//获取MAC网卡地址</p><p>#ifdef Q_OS_WIN32</p><p>	if(0!=getMAC(g_ctrl_serv_device))</p><p>	{</p><p>SYS_PRINTF(&quot;eth0: get mac address error!!&quot;);</p><p>goto _nnc;</p><p>	}</p><p>#else</p><p>	//linux平台获取MAC地址</p><p>	int	ret;</p><p>char	ifname[IFNAMSIZ];</p><p>unsigned char	mac[6];</p><p>	char str_mac[64];</p><p><br/></p><p>	strcpy( ifname, &quot;eth0&quot; );</p><p>	memset( mac, 0, sizeof(mac) );</p><p>ret = GetMac( ifname, mac );</p><p>if ( ret == 0 ) {</p><p>sprintf(str_mac, &quot;%02X-%02X-%02X-%02X-%02X-%02X&quot;, mac[0], mac[1], mac[2], mac[3], mac[4], mac[5] );</p><p>} else {</p><p>SYS_PRINTF(&quot;eth0: get mac address error!!&quot;);</p><p>goto _nnc;</p><p>}</p><p>#endif</p><p>_nnc:</p><p>	getchar();</p><p>	return 0;</p><p>}</p><p></p>','2013-12-11 06:42:25','2013-12-11 14:42:25'),(155,'114.247.232.56',2,'获取网卡适配器序列号','<p>int _tmain(int argc, _TCHAR* argv[])<br/>{<br/> BYTE szSystemInfo[4096]; // 在程序执行完毕后，此处存储取得的系统特征码<br/> UINT uSystemInfoLen = 0; // 在程序执行完毕后，此处存储取得的系统特征码的长度</p><p>// 网卡 MAC 地址，注意: MAC 地址是可以在注册表中修改的<br/> {<br/> &nbsp;UINT uErrorCode = 0;<br/> &nbsp;IP_ADAPTER_INFO iai;<br/> &nbsp;ULONG uSize = 0;<br/> &nbsp;DWORD dwResult = GetAdaptersInfo( &amp;iai, &amp;uSize );<br/> &nbsp;if( dwResult == ERROR_BUFFER_OVERFLOW )<br/> &nbsp;{<br/> &nbsp; IP_ADAPTER_INFO* piai = ( IP_ADAPTER_INFO* )HeapAlloc( GetProcessHeap( ), 0, uSize );<br/> &nbsp; if( piai != NULL )<br/> &nbsp; {<br/> &nbsp; &nbsp;dwResult = GetAdaptersInfo( piai, &amp;uSize );<br/> &nbsp; &nbsp;if( ERROR_SUCCESS == dwResult )<br/> &nbsp; &nbsp;{<br/> &nbsp; &nbsp; IP_ADAPTER_INFO* piai2 = piai;<br/> &nbsp; &nbsp; while( piai2 != NULL &amp;&amp; ( uSystemInfoLen + piai2-&gt;AddressLength ) &lt; 4096U )<br/> &nbsp; &nbsp; {<br/> &nbsp; &nbsp; &nbsp;CopyMemory( szSystemInfo + uSystemInfoLen, piai2-&gt;Address, piai2-&gt;AddressLength );<br/> &nbsp; &nbsp; &nbsp;uSystemInfoLen += piai2-&gt;AddressLength;<br/> &nbsp; &nbsp; &nbsp;piai2 = piai2-&gt;Next; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br/> &nbsp; &nbsp; }<br/> &nbsp; &nbsp;}<br/> &nbsp; &nbsp;else<br/> &nbsp; &nbsp;{<br/> &nbsp; &nbsp; uErrorCode = 0xF0000000U + dwResult;<br/> &nbsp; &nbsp;}<br/> &nbsp; &nbsp;//VERIFY( HeapFree( GetProcessHeap( ), 0, piai ) );<br/> &nbsp; &nbsp;HeapFree( GetProcessHeap( ), 0, piai );<br/> &nbsp; }<br/> &nbsp; else<br/> &nbsp; {<br/> &nbsp; &nbsp;return FALSE;<br/> &nbsp; }<br/> &nbsp;}<br/> &nbsp;else<br/> &nbsp;{<br/> &nbsp; uErrorCode = 0xE0000000U + dwResult;<br/> &nbsp;}<br/> &nbsp;if( uErrorCode != 0U )<br/> &nbsp;{<br/> &nbsp; return FALSE;<br/> &nbsp;}<br/> }</p><p>//printf(&quot;szSystemInfo=[%s]\\n&quot;, (char*)szSystemInfo);<br/> int i;<br/> for(i=0; i&lt;uSystemInfoLen; i++)<br/> {<br/> &nbsp;if(i != 0)<br/> &nbsp; printf(&quot;-&quot;);<br/> &nbsp;printf(&quot;%02x&quot;, szSystemInfo[i]);<br/> }<br/> getchar();<br/> return 0;<br/>}</p><p></p>','2013-12-11 06:42:55','2013-12-11 14:42:55'),(156,'114.247.232.56',2,'获取分区序列号','<p>LPCTSTR lpRootPathName=&quot;c:\\\\&quot;; &nbsp; &nbsp; //取C盘<br/> LPTSTR lpVolumeNameBuffer=new char[12]; &nbsp; //磁盘卷标<br/> DWORD nVolumeNameSize=12; &nbsp; &nbsp; &nbsp;// 卷标的字符串长度<br/> DWORD VolumeSerialNumber; &nbsp; &nbsp; &nbsp;//硬盘序列号<br/> DWORD MaximumComponentLength; &nbsp; &nbsp; // 最大的文件长度<br/> LPTSTR lpFileSystemNameBuffer=new char[10]; &nbsp;// 存储所在盘符的分区类型的长指针变量<br/> DWORD nFileSystemNameSize=10; &nbsp; &nbsp; // 分区类型的长指针变量所指向的字符串长度<br/> DWORD FileSystemFlags; &nbsp; &nbsp; &nbsp; // 文件系统的一此标志<br/> ::GetVolumeInformation(lpRootPathName,<br/> &nbsp;lpVolumeNameBuffer, nVolumeNameSize,<br/> &nbsp;&amp;VolumeSerialNumber, &amp;MaximumComponentLength,<br/> &nbsp;&amp;FileSystemFlags,<br/> &nbsp;lpFileSystemNameBuffer, nFileSystemNameSize);</p><p>CString str;<br/> str.Format(&quot;Seria Num is %lx &quot;,VolumeSerialNumber);<br/> AfxMessageBox(str);</p><p></p>','2013-12-11 06:43:13','2013-12-11 14:43:13'),(157,'114.247.232.56',2,'注册表开机启动','<p>//写入注册表,开机自启动<br/>HKEY hKey;<br/>//找到系统的启动项<br/>LPCTSTR lpRun = &quot;Software\\\\Microsoft\\\\Windows\\\\CurrentVersion\\\\Run&quot;;<br/>//打开启动项Key<br/>long lRet = RegOpenKeyEx(HKEY_LOCAL_MACHINE, lpRun, 0, KEY_WRITE, &amp;hKey);<br/>if(lRet == ERROR_SUCCESS)<br/>{<br/>&nbsp;&nbsp;&nbsp; char pFileName[MAX_PATH] = {0};<br/>&nbsp;&nbsp;&nbsp; //得到程序自身的全路径<br/>&nbsp;&nbsp;&nbsp; DWORD dwRet = GetModuleFileName(NULL, pFileName, MAX_PATH);<br/>&nbsp;&nbsp;&nbsp; //添加一个子Key,并设置值 // 下面的&quot;getip&quot;是应用程序名字（不加后缀.exe）<br/>&nbsp;&nbsp;&nbsp; lRet = RegSetValueEx(hKey, &quot;getip&quot;, 0, REG_SZ, (BYTE *)pFileName, dwRet);</p><p>&nbsp;&nbsp;&nbsp; //关闭注册表<br/>&nbsp;&nbsp;&nbsp; RegCloseKey(hKey);<br/>&nbsp;&nbsp;&nbsp; if(lRet != ERROR_SUCCESS)<br/>&nbsp;&nbsp;&nbsp; {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AfxMessageBox(&quot;系统参数错误,不能随系统启动&quot;);<br/>&nbsp;&nbsp;&nbsp; }<br/>}</p><p>&nbsp;</p><p></p>','2013-12-11 06:43:47','2013-12-11 14:43:47'),(158,'114.247.232.56',2,'遍历注册表','<p>// KsvSoft.cpp : 定义控制台应用程序的入口点。<br/>//<br/>&nbsp;<br/>#include &quot;stdafx.h&quot;<br/>#include &lt;windows.h&gt;<br/>#include &lt;winreg.h&gt;<br/>#include &lt;iostream&gt;<br/>#include &lt;string&gt;<br/>using namespace std;<br/>&nbsp;<br/>void EnumValue(HKEY hKey)<br/>{<br/>&nbsp;int dwIndex=0;<br/>&nbsp;char valuename[MAX_PATH+1];<br/>&nbsp;DWORD valuenamelen;<br/>&nbsp;DWORD Type;<br/>&nbsp;union{<br/>&nbsp;BYTE data[1024];<br/>&nbsp;DWORD idata;<br/>&nbsp;}lpdata;<br/>&nbsp;DWORD datalen;<br/>&nbsp;<br/>&nbsp;valuenamelen=sizeof(valuename);<br/>&nbsp;datalen=sizeof(lpdata);<br/>&nbsp;memset(&amp;lpdata,0,sizeof(lpdata));<br/>&nbsp;while(RegEnumValue(hKey,dwIndex,(LPTSTR)valuename,&amp;valuenamelen,0,&amp;Type,lpdata.data,&amp;datalen)!=ERROR_NO_MORE_ITEMS)<br/>&nbsp;{<br/>&nbsp; switch(Type)<br/>&nbsp; {<br/>&nbsp; case REG_SZ:<br/>&nbsp;&nbsp; printf(&quot;%s = %s\\n&quot;,valuename,(char*)lpdata.data);<br/>&nbsp;&nbsp; break;<br/>&nbsp; case REG_DWORD:<br/>&nbsp;&nbsp; printf(&quot;%s = %ld\\n&quot;,valuename,lpdata.idata);<br/>&nbsp;&nbsp; break;<br/>&nbsp; default:<br/>&nbsp;&nbsp; break;<br/>&nbsp; }<br/>&nbsp;<br/>&nbsp; dwIndex++;<br/>&nbsp; valuenamelen=sizeof(valuename);<br/>&nbsp; datalen=sizeof(lpdata);<br/>&nbsp; memset(&amp;lpdata,0,sizeof(lpdata));<br/>&nbsp;}<br/>&nbsp;<br/>}<br/>&nbsp;</p><p>bool EnumKey(HKEY hKey,char*sSub)<br/>{ <br/>&nbsp;int dwIndex=0;<br/>&nbsp;char data_set[1024];<br/>&nbsp;memset(data_set,0,sizeof(data_set));<br/>&nbsp;char name[1024]={0};<br/>&nbsp;DWORD namelen=sizeof(name);<br/>&nbsp;FILETIME ftLastWriteTime;<br/>&nbsp;HKEY tmphKey;<br/>&nbsp;<br/>&nbsp;if(RegOpenKeyEx(hKey,sSub,0,KEY_ALL_ACCESS,&amp;tmphKey)!=ERROR_SUCCESS)<br/>&nbsp;{<br/>&nbsp;&nbsp; printf(&quot;打开注册表失败&quot;);<br/>&nbsp;&nbsp; system(&quot;pause&quot;);<br/>&nbsp;&nbsp; return -1;<br/>&nbsp;}<br/>&nbsp;<br/>&nbsp;cout&lt;&lt;sSub&lt;&lt;endl; //输出<br/>&nbsp;EnumValue(tmphKey);//显示值<br/>&nbsp;cout&lt;&lt;endl;<br/>&nbsp;<br/>&nbsp;while(RegEnumKeyEx(tmphKey,dwIndex,name,&amp;namelen,0,NULL,NULL,&amp;ftLastWriteTime)!=ERROR_NO_MORE_ITEMS)<br/>&nbsp;{<br/>&nbsp; sprintf(data_set,&quot;%s\\\\%s&quot;,sSub,name);<br/>&nbsp; EnumKey(hKey,data_set);<br/>&nbsp; dwIndex+=1;<br/>&nbsp; namelen=sizeof(name); //必要否则不完整<br/>&nbsp;}<br/>&nbsp;RegCloseKey(hKey);<br/>}<br/>&nbsp;<br/>int _tmain(int argc, _TCHAR* argv[])<br/>{<br/>&nbsp;char *value=argv[1];<br/>&nbsp;EnumKey(HKEY_CURRENT_USER,&quot;Software\\\\Microsoft\\\\Internet Explorer\\\\SearchScopes&quot;);<br/>&nbsp;system(&quot;pause&quot;);<br/>&nbsp;return 0;<br/>}<br/></p><p></p>','2013-12-11 06:44:20','2013-12-11 14:44:20'),(159,'114.247.232.56',2,'WIN获得当前时间,精确到微秒','<p>///////////////////////////////////////////</p><p>LARGE_INTEGER&nbsp; litmp;&nbsp; <br/>&nbsp;&nbsp;&nbsp; <br/>&nbsp; ::QueryPerformanceFrequency(&nbsp; &amp;litmp&nbsp; );&nbsp; 得到系统高分辨率时钟的频率值，每秒钟的计数器值&nbsp; <br/>&nbsp; double&nbsp; dfFreq&nbsp; =&nbsp; DOUBLE(litmp.QuadPart&nbsp; );&nbsp; <br/>&nbsp; 开始计时&nbsp; <br/>&nbsp; ::QueryPerformanceCounter(&nbsp; litmp&nbsp; );&nbsp; <br/>&nbsp; ULONG&nbsp; m_QPartStart&nbsp; =&nbsp; ULONG(&nbsp; litmp.QuadPart&nbsp; );&nbsp; <br/>&nbsp;&nbsp;&nbsp; <br/>&nbsp; 结束计时&nbsp; <br/>&nbsp; ::QueryPerformanceCounter(&nbsp; m_litmp&nbsp; );&nbsp; <br/>&nbsp; ULONG&nbsp; QPartEnd&nbsp; =&nbsp; ULONG(&nbsp; m_litmp.QuadPart&nbsp; );&nbsp; <br/>&nbsp;&nbsp;&nbsp; <br/>&nbsp; //&nbsp; 计算流逝的时间&nbsp; <br/>&nbsp; DOUBLE&nbsp; m_dfMinus&nbsp; =&nbsp; DOUBLE(&nbsp; m_QPartEnd&nbsp; -&nbsp; m_QPartStart&nbsp; );&nbsp;&nbsp;&nbsp; //这就是微秒进度。</p><p>&nbsp;</p><p><br/>///////////////////////////////////////////////////<br/></p><p></p>','2013-12-11 06:44:49','2013-12-11 14:44:49'),(160,'114.247.232.56',2,'数值转字符.cpp','<p>#include &lt;stdio.h&gt; <br/>#include &lt;math.h&gt; <br/>#include&lt;iostream&gt;<br/>using namespace std;<br/>&nbsp;<br/>void itoa(int n,char* des)&nbsp; <br/>{ <br/>&nbsp;&nbsp;&nbsp; int d=0,nn=n; <br/>&nbsp;&nbsp;&nbsp; while(nn&gt;0||nn&lt;0){ <br/>&nbsp;&nbsp;&nbsp; ++d; <br/>&nbsp;&nbsp;&nbsp; nn/=10;};&nbsp;&nbsp; <br/>&nbsp;&nbsp;&nbsp; <br/>&nbsp;&nbsp;&nbsp; int kn=(int)n/pow(10,--d);<br/>&nbsp;&nbsp;&nbsp; n-=kn*(d&gt;0?pow(10,d):0);<br/>&nbsp;&nbsp;&nbsp; *des++=kn+&#39;0&#39;;<br/>&nbsp;&nbsp;&nbsp; <br/>&nbsp;&nbsp;&nbsp; if(d &gt; 0)itoa(n,des);<br/>&nbsp;&nbsp;&nbsp; else *des++=&#39;\\0&#39;;<br/>}</p><p>void itora(int n, char* des) <br/>{ <br/>*des++=n&gt;0?itora(n/10,des),n%10+&#39;0&#39;:&#39;\\0&#39;; <br/>}</p><p>int main() <br/>{ <br/>&nbsp;&nbsp;&nbsp; char b[10]; <br/>&nbsp;&nbsp;&nbsp; itoa(123456789,b);&nbsp; <br/>&nbsp;&nbsp;&nbsp; cout&lt;&lt;b&lt;&lt;endl;<br/>&nbsp;&nbsp;&nbsp; itora(123456789,b);<br/>&nbsp;&nbsp;&nbsp; cout&lt;&lt;b&lt;&lt;endl;<br/>&nbsp;&nbsp;&nbsp; getchar();<br/>}</p><p>&nbsp;</p><p></p>','2013-12-11 06:45:15','2013-12-11 14:45:15'),(161,'114.247.232.56',2,'建立文件夹.cpp','<p><br/>#ifdef _WIN32<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp; #define MKDIR(path)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mkdir(path)<br/>&nbsp;<br/>#endif<br/>&nbsp;</p><p>&nbsp;</p><p>#ifdef _MAC<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp; #define MKDIR(path)&nbsp;&nbsp;&nbsp; [[NSFileManager defaultManager] createDirectoryAtPath: [NSString stringWithUTF8String:path] withIntermediateDirectories:YES attributes:nil error:nil];<br/>&nbsp;<br/>#endif<br/>&nbsp;</p><p>&nbsp;</p><p>#ifdef _LINUX <br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp; #define MKDIR(path)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mkdir(path,S_IRWXU)<br/>&nbsp;<br/>#endif</p><p>&nbsp;</p><p>&nbsp;</p><p>//////////////////////////////////////////////////////////////////////</p><p>#include&lt;windows.h&gt;<br/>#include&lt;iostream&gt;<br/>#include &lt;direct.h&gt;<br/>&nbsp;<br/>using namespace std;<br/>&nbsp;<br/>&nbsp;<br/>&nbsp;<br/>&nbsp;int mkDir(char*p)<br/>{<br/>&nbsp;char dPath[255],*k;memset(dPath,0,255);<br/>&nbsp;<br/>&nbsp;char *p1=(char*)malloc(strlen(p));<br/>&nbsp;strcpy(p1,p);<br/>&nbsp;int n=0;char*pP=p1;<br/>&nbsp;for(int i=0;i&lt;strlen(p1);i++)<br/>&nbsp;{<br/>&nbsp; *pP++;<br/>&nbsp; if(*pP==&#39;\\\\&#39; || *pP==&#39;/&#39;)<br/>&nbsp; {<br/>&nbsp;&nbsp; n++;<br/>&nbsp;&nbsp; if(*pP==&#39;/&#39;)<br/>&nbsp;&nbsp; p1[i+1]=&#39;\\\\&#39;;<br/>&nbsp; }<br/>&nbsp;}<br/>&nbsp;<br/>&nbsp;k=strtok(p1,&quot;\\\\&quot;);<br/>&nbsp;strcpy(dPath,k);<br/>&nbsp;for(int i=0;i&lt;n;i++)<br/>&nbsp;{<br/>&nbsp; k=strtok(NULL,&quot;\\\\&quot;);<br/>&nbsp; if(!k)continue;<br/>&nbsp; sprintf(dPath,&quot;%s\\\\%s&quot;,dPath,k);<br/>&nbsp; if((GetFileAttributes(dPath)&amp;FILE_ATTRIBUTE_DIRECTORY)) ;<br/>&nbsp;&nbsp; mkdir(dPath);<br/>&nbsp;}<br/>//clear p1 cache<br/>&nbsp;while(*p1++);<br/>&nbsp;return 0;<br/>}<br/>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>int _tmain(int argc, _TCHAR* argv[])<br/>{<br/>&nbsp;char p[]=&quot;E:\\\\Object\\\\wwwort\\\\www\\\\asdf\\\\asd\\\\gre\\\\ert\\\\345\\\\234&quot;;<br/>&nbsp;<br/>&nbsp;mkDir(p);<br/>&nbsp;<br/>&nbsp;return 0;<br/>}<br/></p><p></p>','2013-12-11 06:45:45','2013-12-11 14:45:45'),(162,'114.247.232.56',2,'跨平台遍历文件,查找文件,搜索文','<p>/* ///////////////////////////sample//////////////////////////////////</p><p>void findCallBack(char*path,char*filename,EzhFileAttrib attrib,void*p)</p><p>{</p><p>printf(&quot;path=%s\\tname=%s\\tattrib=%d\\tp=%p\\n&quot;,path,filename,attrib,p);</p><p>}</p><p><br/></p><p>typedef struct _TagInfo</p><p>{</p><p>	int a,b,c;</p><p>}TagInfo;</p><p><br/></p><p>int mian()</p><p>{</p><p>	TagInfo info;</p><p>	info.a=info.b=info.c=10;</p><p>	zhFindFile(findCallBack,&quot;./&quot;,1,&amp;info);</p><p>	return 0;</p><p>}</p><p>*////////////////////////////////////////////////////////////////////</p><p><br/></p><p>#pragma once</p><p>#ifndef _ZH_SEACH_FILES_H__</p><p><br/></p><p><br/></p><p>#ifdef __cplusplus</p><p>extern &quot;C&quot;{</p><p>#endif</p><p>typedef enum _EzhFileAttrib{</p><p>ezhFileAttribUnknow,</p><p>ezhFileAttribFile,</p><p>ezhFileAttribDir</p><p>}EzhFileAttrib;</p><p>typedef void(FINDFILE_CALLBACK)(char*path,char*filename,EzhFileAttrib attrib,void*p);</p><p><br/></p><p>#ifdef _WIN32</p><p>#include &lt;stdio.h&gt;</p><p>#include &lt;stdlib.h&gt;</p><p>#include &lt;io.h&gt;</p><p>#include &lt;windows.h&gt;</p><p>static EzhFileAttrib returnFileAttrib(int attrib)</p><p>{</p><p>switch(attrib)</p><p>{</p><p>case _A_ARCH:</p><p>case _A_ARCH|_A_RDONLY:</p><p>case _A_ARCH|_A_HIDDEN:</p><p>case _A_ARCH|_A_SYSTEM:</p><p>case _A_ARCH|_A_SYSTEM|_A_RDONLY:</p><p>case _A_ARCH|_A_SYSTEM|_A_HIDDEN:</p><p>case _A_ARCH|_A_HIDDEN|_A_RDONLY:</p><p>case _A_ARCH|_A_HIDDEN|_A_RDONLY|_A_SYSTEM:</p><p>return ezhFileAttribFile;</p><p>case _A_SUBDIR:</p><p>case _A_SUBDIR|_A_RDONLY:</p><p>case _A_SUBDIR|_A_HIDDEN:</p><p>case _A_SUBDIR|_A_SYSTEM:</p><p>case _A_SUBDIR|_A_SYSTEM|_A_RDONLY:</p><p>case _A_SUBDIR|_A_SYSTEM|_A_HIDDEN:</p><p>case _A_SUBDIR|_A_HIDDEN|_A_RDONLY:</p><p>case _A_SUBDIR|_A_HIDDEN|_A_RDONLY|_A_SYSTEM:</p><p>return ezhFileAttribDir;</p><p>}</p><p>return ezhFileAttribUnknow;</p><p>}</p><p>static int zhFindFile(FINDFILE_CALLBACK*pfCallBack,char*path,int recursive,void*p)</p><p>{</p><p>char tmpPath[256];</p><p>struct _finddata_t file;</p><p>long h_handle;</p><p>//strset(tmpPath,0);</p><p>sprintf(tmpPath,&quot;%s\\\\*.*&quot;,path);</p><p>if ( (h_handle=(long)_findfirst( tmpPath,&amp;file))==-1)</p><p>return 1;</p><p>while ( -1!=_findnext( h_handle, &amp;file ))</p><p>{</p><p>if(!strcmp(file.name,&quot;..&quot;) || !strcmp(file.name,&quot;.&quot;))continue;</p><p><br/></p><p>if(returnFileAttrib(file.attrib)==ezhFileAttribDir &amp;&amp; recursive)</p><p>{</p><p>strset(tmpPath,0);</p><p>sprintf(tmpPath,&quot;%s\\\\%s&quot;,path,file.name);</p><p>zhFindFile(pfCallBack,tmpPath,recursive,p);</p><p>}</p><p>pfCallBack(path,file.name,returnFileAttrib(file.attrib),p);</p><p>}</p><p>_findclose(h_handle);</p><p>return 0;</p><p>}</p><p>#else</p><p>#include &lt;stdio.h&gt;</p><p>#include &lt;stdlib.h&gt;</p><p>#include &lt;sys/dir.h&gt;</p><p>#include &lt;sys/stat.h&gt;</p><p>#include &lt;string.h&gt;</p><p>static EzhFileAttrib returnFileAttrib(int attrib)</p><p>{</p><p>switch(attrib)</p><p>{</p><p>case &nbsp;DT_REG:</p><p>return ezhFileAttribFile;</p><p>case &nbsp;DT_DIR:</p><p>return ezhFileAttribDir;</p><p>}</p><p>return ezhFileAttribUnknow;</p><p>}</p><p>static int IS_DIR(const char* path)</p><p>{</p><p>struct stat st;</p><p>lstat(path, &amp;st);</p><p>return S_ISDIR(st.st_mode);</p><p>}</p><p>static void List_Files_Core(FINDFILE_CALLBACK*pfCallBack,char *path, int recursive,void*p)</p><p>{</p><p>DIR *pdir;</p><p>struct dirent *pdirent;</p><p>char temp[256];</p><p>pdir = opendir(path);</p><p>if(pdir)</p><p>{</p><p>while((pdirent = readdir(pdir)))</p><p>{</p><p>if(strcmp(pdirent-&gt;d_name, &quot;.&quot;) == 0</p><p>|| strcmp(pdirent-&gt;d_name, &quot;..&quot;) == 0)</p><p>continue;</p><p>sprintf(temp, &quot;%s/%s&quot;, path, pdirent-&gt;d_name);</p><p>if(IS_DIR(temp) &amp;&amp; recursive)</p><p>{</p><p>List_Files_Core(pfCallBack,temp, recursive,p);</p><p>}</p><p>pfCallBack(path,pdirent-&gt;d_name,returnFileAttrib(pdirent-&gt;d_type),p);</p><p>}</p><p>}</p><p>/* else</p><p>{</p><p>printf(&quot;opendir error:%s\\n&quot;, path);</p><p>}*/</p><p>closedir(pdir);</p><p>}</p><p>static int zhFindFile(FINDFILE_CALLBACK*pfCallBack,const char *path, int recursive,void*p)</p><p>{</p><p>int len;</p><p>char temp[256];</p><p>int i=0;</p><p>len = strlen(path);</p><p>strcpy(temp, path);</p><p>for(i=0;i&lt;len;i++)</p><p>{</p><p>if(temp[i]==&#39;\\\\&#39;)</p><p>{temp[i]=&#39;/&#39;;}</p><p>}</p><p>if(temp[len - 1] == &#39;/&#39;){temp[len -1] = &#39;\\0&#39;;}</p><p>if(IS_DIR(temp))</p><p>{</p><p>List_Files_Core(pfCallBack,temp, recursive,p);</p><p>}</p><p>else</p><p>{</p><p>//printf(&quot;%s\\n&quot;, path);</p><p>return 1;</p><p>}</p><p>return 0;</p><p>}</p><p>#endif</p><p><br/></p><p>#ifdef __cplusplus</p><p>}</p><p>#endif</p><p><br/></p><p>#define _ZH_SEACH_FILES_H__</p><p>#endif</p><p></p>','2013-12-11 06:46:20','2013-12-11 14:46:20'),(164,'114.247.232.56',3,'NSString转wchar_t','<p style=\"font-size: 11px;\">static wchar_t* zhCharToWchar(NSString* str,wchar_t* dst_buf)</p><p style=\"font-size: 11px;\">{</p><p style=\"font-size: 11px;\">&nbsp; &nbsp;/* author: Han.zhihong */</p><p style=\"font-size: 11px;\">int i;</p><p style=\"font-size: 11px;\">unichar *uu;</p><p style=\"font-size: 11px;\">int n;</p><p style=\"font-size: 11px;\">&nbsp;</p><p style=\"font-size: 11px;\">n=[str length]+2;</p><p style=\"font-size: 11px;\">uu=(unichar*)malloc(n*sizeof(unichar));</p><p style=\"font-size: 11px;\">[str getCharacters:uu];</p><p style=\"font-size: 11px;\">&nbsp;</p><p style=\"font-size: 11px;\">for(i=0;i&lt;[str length];i++)</p><p style=\"font-size: 11px;\">{</p><p style=\"font-size: 11px;\">dst_buf[i]=uu[i];</p><p style=\"font-size: 11px;\">}</p><p style=\"font-size: 11px;\">dst_buf[i]=0;</p><p style=\"font-size: 11px;\">&nbsp;</p><p style=\"font-size: 11px;\">free(uu);</p><p style=\"font-size: 11px;\">uu=NULL;</p><p style=\"font-size: 11px;\">return dst_buf;</p><p style=\"font-size: 11px;\">&nbsp;</p><p style=\"font-size: 11px;\">}</p><p style=\"font-size: 11px;\">&nbsp;</p><p style=\"font-size: 11px;\">//重定义</p><p style=\"font-size: 11px;\">&nbsp;</p><p style=\"font-size: 11px;\">#define charToWchar &nbsp; &nbsp; zhCharToWchar</p><p style=\"font-size: 11px;\"><br/></p><p style=\"font-size: 11px;\">例:</p><p style=\"font-size: 11px;\">wchar_t uuu[1024];</p><p style=\"font-size: 11px;\">stringToWchar(@&quot;我是一个苦B的代码工!!~!@#$%^&amp;*&quot; ,uuu);</p><p style=\"font-size: 11px;\">lb.setCharacters(uuu, wcslen(uuu));</p><p></p>','2013-12-11 06:49:49','2013-12-11 14:49:49'),(165,'114.247.232.56',3,'command line编译库','<p>//i386</p><p>./configure --prefix=&lt;安装绝对路径&gt; --enable-static=yes --enable-shared=no CC=/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/cc CFLAGS=&quot;-arch i386 -Wno-extended-offsetof -miphoneos-version-min=4.2 -I/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator7.0.sdk/usr/include -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator7.0.sdk&quot; AR=/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/ar LDFLAGS=&quot;-arch i386 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator7.0.sdk -miphoneos-version-min=4.2&quot; CPPFLAGS=&quot;-arch i386 -Wno-extended-offsetof -miphoneos-version-min=4.2 -I/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator7.0.sdk/usr/include -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator7.0.sdk&quot;</p><p>make clean</p><p>make</p><p>make install</p><p><br/></p><p>//x86_64</p><p>./configure --prefix=&lt;安装绝对路径&gt; --enable-static=yes --enable-shared=no CC=/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/cc CFLAGS=&quot;-arch x86_64 &nbsp;-Wno-extended-offsetof -miphoneos-version-min=4.2 -I/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator7.0.sdk/usr/include -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator7.0.sdk&quot; AR=/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/ar LDFLAGS=&quot;-arch x86_64 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator7.0.sdk -miphoneos-version-min=4.2&quot; CPPFLAGS=&quot;-arch x86_64 -Wno-extended-offsetof -miphoneos-version-min=4.2 -I/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator7.0.sdk/usr/include -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator7.0.sdk&quot;</p><p>make clean</p><p>make</p><p>make install</p><p><br/></p><p>//armv7</p><p>./configure --prefix=&lt;安装绝对路径&gt; --host=arm-apple-darwin --enable-static=yes --enable-shared=no CC=/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/cc CFLAGS=&quot;-arch armv7 -pipe -std=c99 -Wno-extended-offsetof -Wno-trigraphs -fpascal-strings -O2 -Wreturn-type -Wunused-variable -fmessage-length=0 -fvisibility=hidden -miphoneos-version-min=4.2 -I/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS7.0.sdk/usr/include -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS7.0.sdk&quot; AR=/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/ar LDFLAGS=&quot;-arch armv7 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS7.0.sdk -miphoneos-version-min=4.2&quot; CPPFLAGS=&quot;-arch armv7 -pipe -std=c99 -Wno-extended-offsetof -Wno-trigraphs -fpascal-strings -O2 -Wreturn-type -Wunused-variable -fmessage-length=0 -fvisibility=hidden -miphoneos-version-min=4.2 -I/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS7.0.sdk/usr/include -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS7.0.sdk&quot;</p><p>make clean</p><p>make</p><p>make install</p><p><br/></p><p>//armv7s</p><p>./configure --prefix=&lt;安装绝对路径&gt; --host=arm-apple-darwin --enable-static=yes --enable-shared=no CC=/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/cc CFLAGS=&quot;-arch armv7s -pipe -std=c99 -Wno-extended-offsetof -Wno-trigraphs -fpascal-strings -O2 -Wreturn-type -Wunused-variable -fmessage-length=0 -fvisibility=hidden -miphoneos-version-min=4.2 -I/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS7.0.sdk/usr/include -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS7.0.sdk&quot; AR=/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/ar LDFLAGS=&quot;-arch armv7s -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS7.0.sdk -miphoneos-version-min=4.2&quot; CPPFLAGS=&quot;-arch armv7s -pipe -std=c99 -Wno-extended-offsetof -Wno-trigraphs -fpascal-strings -O2 -Wreturn-type -Wunused-variable -fmessage-length=0 -fvisibility=hidden -miphoneos-version-min=4.2 -I/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS7.0.sdk/usr/include -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS7.0.sdk&quot;</p><p>make clean</p><p>make</p><p>make install</p><p><br/></p><p><br/></p><p>/////////////////////////////////////////////////////////</p><p>//打包</p><p>lipo -create -output libfreetype.a libfreetype-i386.a libfreetype-x86_64.a libfreetype-arm7.a libfreetype-arm7s.a</p><p>lipo -info libfreetype.a</p><p></p>','2013-12-11 06:50:10','2013-12-11 14:50:10'),(166,'192.168.6.1',3,'IOS7 隐藏状态栏 (电池栏)','<pre class=\"brush:cpp;toolbar:false\">\r\n在UIXXXXXController的子类里面,加入\r\n\r\n\r\n-&nbsp;(BOOL)prefersStatusBarHidden\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;iOS7后,[[UIApplication&nbsp;sharedApplication]&nbsp;setStatusBarHidden:YES&nbsp;withAnimation:UIStatusBarAnimationFade];\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;已经不起作用了\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;YES;\r\n}</pre><p><br/></p>','2013-12-11 06:50:37','2016-08-13 10:45:19'),(167,'114.247.232.56',3,'加载XIB中的UIView','<p>CntDajingClass *v ;<br/>&nbsp;<br/>NSArray *nib = [[NSBundle mainBundle] loadNibNamed:@&quot;CntDajingClass&quot; owner:nil options:nil];<br/>&nbsp;<br/>&nbsp;for (id oneObject in nib)<br/>&nbsp;<br/>&nbsp;&nbsp; if ([oneObject isKindOfClass:[CntDajing class]])<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; v = (CntDajing *)oneObject;<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br/>&nbsp;<br/>[imgbtn addSubview:v];</p><p>&nbsp;</p><p><br/>//不能使用释放内存不然会出错</p><p><br/>//[v release];<br/></p><p></p>','2013-12-11 06:51:04','2013-12-11 14:51:04'),(168,'114.247.232.56',3,'try用法','<p style=\"font-size: 11px;\">try {</p><p style=\"font-size: 11px;\">} catch (NSException * e) {</p><p style=\"font-size: 11px;\">}</p><p></p>','2013-12-11 06:51:19','2013-12-11 14:51:19'),(169,'192.168.1.243',3,'判断区分IPhone和IPAD设备','<p>if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPhone) {</p><p>} else {</p><p>}</p><p><br/></p>','2013-12-11 06:51:36','2015-09-09 13:43:45'),(170,'14.217.247.135',3,'不使用ARC模式','<p>对于已经建立好的项目可以 选中项目, Building Settings, 然后找到</p><p>Objective-C Automatic Reference Counting 改为 NO 整个项目不使用ARC编译模式</p><p><br/></p><p><br/></p><pre id=\"best-content-1508873089\" accuse=\"aContent\">对于在要禁止ARC编译的源文件的&nbsp;“compiler&nbsp;flags”&nbsp;中添加&nbsp;“-fno-objc-arc”。\r\n对于&nbsp;Xcode&nbsp;4,&nbsp;可以在&nbsp;target&nbsp;-&nbsp;Build&nbsp;Phases&nbsp;-&nbsp;Compile&nbsp;Sources&nbsp;中找到“compiler&nbsp;flags”。</pre><p><br/></p><p><strong>不使用ARC模式的宏提示</strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(120, 73, 42);\">#if __has_feature(objc_arc)</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(120, 73, 42);\">#error JSONKit does not support Objective-C Automatic Reference Counting (ARC)</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(120, 73, 42);\">#endif</p><p><br/></p>','2013-12-11 06:52:10','2014-10-28 21:07:28'),(172,'114.247.232.56',3,'制作通用.a','<p style=\"font-size: 16px;\">生成模拟和真机.a后</p><p style=\"font-size: 16px;\"><br/></p><p style=\"font-size: 16px;\">执行打包命令</p><p style=\"font-size: 16px;\">lipo -create &quot;完整路径/lib.a&quot; &quot;完整路径/lib.a&quot; -output &quot;输出路径/lib.a&quot;</p><p style=\"font-size: 16px;\">执行成功后，可使用查看命令查看。</p><p></p>','2013-12-11 06:54:46','2013-12-11 14:54:46'),(173,'192.168.3.1',3,'遍历目录文件,查找文件','<p>#import &lt;Foundation/Foundation.h&gt;</p><p><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\"></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> *findPath=[[</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSBundle</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>mainBundle<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">] </span>bundlePath<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">NSLog</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">(</span>@&quot;findPath=%@&quot;<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">,findPath);</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(112, 61, 170);\">NSFileManager<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> *fileManager = [</span>NSFileManager<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">defaultManager</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSError</span> *error = <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSArray</span> *fileList=[fileManager <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">contentsOfDirectoryAtPath</span>:findPath <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">error</span>:&amp;error];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">for</span> (<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span> *file <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">in</span> fileList)</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">BOOL</span> isDir = <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">NO</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; [fileManager <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">fileExistsAtPath</span>:[<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">stringWithFormat</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;%@/%@&quot;</span>,findPath,file] <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">isDirectory</span>:&amp;isDir];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">if</span>(isDir){</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">NSLog</span>(<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;dir = %@&quot;</span>,file);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; }</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">else</span>{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span>*ss=[file <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">pathExtension</span>];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">NSLog</span>(<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;file = %@&quot;</span>,file);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">if</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> ([[ss </span>lowercaseString<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">] </span>isEqualToString<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;cfg&quot;</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">]) {</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">NSLog</span>(<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;</span><span style=\"font-family: &#39;Heiti SC Light&#39;; color: rgb(209, 47, 27);\">找到</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">cfg</span><span style=\"font-family: &#39;Heiti SC Light&#39;; color: rgb(209, 47, 27);\">文件</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">&quot;</span>);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; }</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; }</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><br/></p>','2013-12-11 06:56:48','2015-06-07 01:08:33'),(174,'192.168.1.243',3,'wifi-ssid','<p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\"><font color=\"#78492a\">模拟器不能显示,只有在真机才能实现此功能</font></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\"><span style=\"color: rgb(120, 73, 42);\"><br/></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\"><span style=\"color: rgb(120, 73, 42);\">SystemConfiguration.framework</span><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #78492a\">#import </span>&lt;SystemConfiguration/CaptiveNetwork.h&gt;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">- (<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span> *) getDeviceSSID</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSArray</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> *ifs = (</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">__bridge</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">id</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">)</span>CNCopySupportedInterfaces<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">();</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">id</span> info = <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">for</span> (<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span> *ifnam <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">in</span> ifs)</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; {</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; info = (<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">__bridge</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">id</span>)<span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">CNCopyCurrentNetworkInfo</span>((<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">__bridge</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">CFStringRef</span>)ifnam);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">if</span> (info &amp;&amp; [info <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">count</span>]) {</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">break</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; }</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; }</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSDictionary</span> *dctySSID = (<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSDictionary</span> *)info;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span> *ssid = [[dctySSID <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">objectForKey</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;SSID&quot;</span>] <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">lowercaseString</span>];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">return</span> ssid;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p><br/></p><p><br/></p><p><br/></p><p><br/></p>','2013-12-11 06:57:24','2015-09-11 19:50:52'),(175,'114.247.232.56',3,'获取信号营运商名称','<p>加入CoreTelephony.framework</p><p><br/></p><p style=\"font-size: 11px;\">#import &lt;CoreTelephony/CTCarrier.h&gt;</p><p style=\"font-size: 11px;\">#import &lt;CoreTelephony/CTTelephonyNetworkInfo.h&gt;</p><p style=\"font-size: 11px;\"><br/></p><p style=\"font-size: 11px;\"><br/></p><p style=\"font-size: 11px;\">&nbsp;</p><p>CTTelephonyNetworkInfo * tni = [[CTTelephonyNetworkInfo alloc] init];</p><p>NSLog(@&quot;crtCarrierName=%@&quot;, tni.subscriberCellularProvider.carrierName);</p><p>[tni release];</p><p>&nbsp;</p><p></p>','2013-12-11 06:57:40','2013-12-11 14:57:40'),(176,'114.247.232.56',3,'MKMAPVIEW上长按屏幕，添加大头','<p style=\"margin: 10px auto; font-size: 13px;\">在做地图有关的程序时，我们经常需要用户在地图上指定位置我们再用大头针标记。</p><p style=\"margin: 10px auto; font-size: 13px;\">1、在viewDidLoad中添加我们要捕获的手势：</p><pre>UILongPressGestureRecognizer&nbsp;*lpress&nbsp;=&nbsp;[[UILongPressGestureRecognizer&nbsp;alloc]&nbsp;initWithTarget:self&nbsp;action:@selector(longPress:)];\r\nlpress.minimumPressDuration&nbsp;=&nbsp;0.5;//按0.5秒响应longPress方法\r\nlpress.allowableMovement&nbsp;=&nbsp;10.0;\r\n[m_mapView&nbsp;addGestureRecognizer:lpress];//m_mapView是MKMapView的实例\r\n[lpress&nbsp;release];</pre><p style=\"margin: 10px auto; font-size: 13px;\">2、实现要响应的longPress方法：</p><pre>-&nbsp;(void)longPress:(UIGestureRecognizer*)gestureRecognizer\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(gestureRecognizer.state&nbsp;==&nbsp;UIGestureRecognizerStateEnded){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//坐标转换\r\n&nbsp;&nbsp;&nbsp;&nbsp;CGPoint&nbsp;touchPoint&nbsp;=&nbsp;[gestureRecognizer&nbsp;locationInView:m_mapView];\r\n&nbsp;&nbsp;&nbsp;&nbsp;CLLocationCoordinate2D&nbsp;touchMapCoordinate&nbsp;=\r\n&nbsp;&nbsp;&nbsp;&nbsp;[m_mapView&nbsp;convertPoint:touchPoint&nbsp;toCoordinateFromView:m_mapView];\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;MKPointAnnotation*　pointAnnotation&nbsp;=&nbsp;nil;\r\n&nbsp;&nbsp;&nbsp;&nbsp;pointAnnotation&nbsp;=&nbsp;[[MKPointAnnotation&nbsp;alloc]&nbsp;init];\r\n&nbsp;&nbsp;&nbsp;&nbsp;pointAnnotation.coordinate&nbsp;=&nbsp;touchMapCoordinate;\r\n&nbsp;&nbsp;&nbsp;&nbsp;pointAnnotation.title&nbsp;=&nbsp;@&quot;名字&quot;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;[m_mapView&nbsp;addAnnotation:m_pointAnnotation];\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;[pointAnnotation&nbsp;release];\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n}</pre><p style=\"margin: 10px auto; font-size: 13px;\">3，响应MKMapView的代理方法：</p><pre>-&nbsp;(MKAnnotationView&nbsp;*)mapView:(MKMapView&nbsp;*)theMapView&nbsp;viewForAnnotation:(id&nbsp;&lt;MKAnnotation&gt;)annotation\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;([annotation&nbsp;isKindOfClass:[MKUserLocation&nbsp;class]])\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[self.navigationItem.rightBarButtonItem&nbsp;setEnabled:YES];//导航栏右边回到当前位置的按钮可用\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;nil;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;NSString*&nbsp;AnnotationIdentifier&nbsp;=&nbsp;@&quot;AnnotationIdentifier&quot;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;MKPinAnnotationView*&nbsp;customPinView&nbsp;=&nbsp;(MKPinAnnotationView&nbsp;*)[mapView&nbsp;dequeueReusableAnnotationViewWithIdentifier:AnnotationIdentifier];\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!customPinView)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;customPinView&nbsp;=&nbsp;[[[MKPinAnnotationView&nbsp;alloc]&nbsp;initWithAnnotation:annotation&nbsp;reuseIdentifier:AnnotationIdentifier]&nbsp;autorelease];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;customPinView.pinColor&nbsp;=&nbsp;MKPinAnnotationColorRe;//设置大头针的颜色\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;customPinView.animatesDrop&nbsp;=&nbsp;YES;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;customPinView.canShowCallout&nbsp;=&nbsp;YES;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;customPinView.draggable&nbsp;=&nbsp;YES;//可以拖动\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//添加tips上的按钮\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UIButton*&nbsp;rightButton&nbsp;=&nbsp;[UIButton&nbsp;buttonWithType:UIButtonTypeDetailDisclosure];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[rightButton&nbsp;addTarget:self&nbsp;action:@selector(showDetails:)&nbsp;forControlEvents:UIControlEventTouchUpInside];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;customPinView.rightCalloutAccessoryView&nbsp;=&nbsp;rightButton;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}else{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;customPinView.annotation&nbsp;=&nbsp;annotation;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;customPinView;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n}</pre><p style=\"margin: 10px auto; font-size: 13px;\">4、实现showDetails方法：</p><pre>-&nbsp;(void)showDetails:(UIButton*)sender\r\n{\r\n\r\n}</pre><p></p>','2013-12-11 06:58:02','2013-12-11 14:58:02'),(177,'114.247.232.56',3,'HTTP同步所有文件','<p><span style=\"color: rgb(255, 0, 0);\">//////////////////////////////////////////////</span></p><p><span style=\"color: rgb(255, 0, 0);\">//.php</span></p><p><br/></p><p>&nbsp;</p><p>&nbsp;</p><p>&lt;?php</p><p>//获得所有文件</p><p>function &nbsp;zhDirFiles($dir) &nbsp; {</p><p>$handle=opendir($dir);</p><p>$i=0;</p><p>while($file=readdir($handle)) &nbsp; {</p><p>if &nbsp; (($file!=&quot;.&quot;)and($file!=&quot;..&quot;)) &nbsp; {</p><p>$list[$i]=$file;</p><p>$i=$i+1;</p><p>}</p><p>}</p><p>closedir($handle);</p><p>return &nbsp; $list;</p><p>}</p><p><br/></p><p>$ary=zhDirFiles(&quot;./project&quot;);</p><p>foreach($ary as &nbsp;$s)</p><p>echo $s.&#39;|&#39;;</p><p><br/></p><p>?&gt;</p><p>&nbsp;</p><p><br/></p><p><span style=\"color: rgb(255, 0, 0);\">//////////////////////////////////////////////</span></p><p><span style=\"color: rgb(255, 0, 0);\">//.h &nbsp;需要类WebProc,在另一个档案里</span></p><p><br/></p><p>&nbsp;</p><p>#import &lt;UIKit/UIKit.h&gt;</p><p>#import &quot;WebProc.h&quot;</p><p><br/></p><p>@interface SyncController : UIViewController&lt;WebPocDelegate&gt;</p><p>{</p><p>BOOL loadFiles;</p><p>WebProc* m_web;</p><p>&nbsp;</p><p>NSMutableArray* m_aryFiles;</p><p>int m_nCurFile;</p><p>&nbsp;</p><p>NSMutableData* m_saveData;</p><p>}</p><p><br/></p><p>-(NSString*) documentPath:(NSString*)str;</p><p><br/></p><p>@end</p><p><br/></p><p><br/></p><p>&nbsp;</p><p>&nbsp;</p><p><span style=\"color: rgb(255, 0, 0);\">//////////////////////////////////////////////</span></p><p><span style=\"color: rgb(255, 0, 0);\">//.m</span></p><p>&nbsp;</p><p>#import &quot;SyncController.h&quot;</p><p>#import &quot;CCLPagLayout.h&quot;</p><p><br/></p><p>#define PROJ_INFO &nbsp; @&quot;project.info&quot;</p><p><br/></p><p>@interface &nbsp;SyncController ()</p><p><br/></p><p>@end</p><p><br/></p><p>@implementation SyncController</p><p><br/></p><p>- (void)viewDidLoad</p><p>{</p><p>&nbsp; &nbsp;[super viewDidLoad];</p><p>&nbsp;</p><p>m_web=[[WebProc alloc] init];</p><p>&nbsp; &nbsp;m_web.delegate=self;</p><p>&nbsp; &nbsp;loadFiles=false;</p><p><br/></p><p>//获取同步数据</p><p>[m_web sendData:[m_web getAddress:@&quot;project.php&quot;] :NULL];</p><p>&nbsp; &nbsp;m_aryFiles =[[NSMutableArray alloc] initWithObjects: nil];</p><p>}</p><p><br/></p><p>-(void)dealloc</p><p>{</p><p>[super dealloc];</p><p>[m_web release];</p><p>m_web=nil;</p><p>&nbsp;</p><p>&nbsp; &nbsp;[m_saveData release];</p><p>&nbsp; &nbsp;m_saveData=nil;</p><p>}</p><p><br/></p><p>- (void)didReceiveMemoryWarning</p><p>{</p><p>&nbsp; &nbsp;[super didReceiveMemoryWarning];</p><p>&nbsp; &nbsp;// Dispose of any resources that can be recreated.</p><p>}</p><p><br/></p><p>//document目录</p><p>-(NSString*) documentPath:(NSString*)str</p><p>{</p><p>&nbsp; &nbsp;NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);</p><p>NSString *documentsDir = [paths objectAtIndex:0];</p><p>if (nil!=str) {</p><p>&nbsp; &nbsp; &nbsp; &nbsp;return [documentsDir stringByAppendingPathComponent:str];</p><p>}</p><p>return documentsDir;</p><p>}</p><p><br/></p><p>////////////////////////////////////////////////////////////</p><p>-(void) WebProcCallBackBegin:(NSString*)url</p><p>{</p><p>}</p><p>-(void) WebProcCallBackData:(NSString*)url :(NSData*)data</p><p>{</p><p>&nbsp; &nbsp;if(loadFiles)</p><p>{</p><p>&nbsp; &nbsp; &nbsp; &nbsp;//下载保存成文件</p><p>NSString*path=[self documentPath:[url lastPathComponent]];</p><p>FILE*fp=fopen([path UTF8String], &quot;wb&quot;);</p><p>if (fp) {</p><p>fwrite([data bytes], 1, [data length], fp);</p><p>fclose(fp);</p><p>NSString *filename=[self documentPath:[m_aryFiles objectAtIndex:m_nCurFile]];</p><p>if (![filename isEqualToString:path]) {</p><p>rename([path UTF8String],[filename UTF8String]);</p><p>}</p><p>m_nCurFile++;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if(m_nCurFile&lt;[m_aryFiles count]-1)</p><p>{</p><p>//下载第一个文件</p><p>[m_web sendData:[m_web getAddress:[NSString stringWithFormat:@&quot;project/%@&quot;,[m_aryFiles objectAtIndex:m_nCurFile]]] :NULL];</p><p>}</p><p>else{</p><p>//获取所有文件完毕</p><p>NSString*save_path=[self documentPath:PROJ_INFO];</p><p>[m_saveData writeToFile:save_path atomically:YES];</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[m_saveData release];</p><p>UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@&quot;Alert&quot;</p><p>message:@&quot;Sync data success...&quot;</p><p>delegate:self</p><p>cancelButtonTitle:@&quot;Restart Program&quot;</p><p>otherButtonTitles:nil];</p><p>alert.tag=99;</p><p>[alert show];</p><p>[alert release];</p><p>}</p><p>}</p><p>else{</p><p>UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@&quot;Alert&quot;</p><p>message:[NSString stringWithFormat:@&quot;Download %@ err..&quot;,[url lastPathComponent]]</p><p>delegate:self</p><p>cancelButtonTitle:@&quot;OK&quot;</p><p>otherButtonTitles:nil];</p><p>[alert show];</p><p>[alert release];</p><p>}</p><p>}</p><p>else{</p><p>//解析工程文件</p><p>loadFiles=TRUE;</p><p>NSLog(@&quot;url=%@&quot;,url);</p><p>&nbsp; &nbsp; &nbsp; &nbsp;NSString*str=[[NSString alloc] initWithData:data encoding:NSASCIIStringEncoding];</p><p>&nbsp; &nbsp; &nbsp; &nbsp;[m_aryFiles setArray:[str componentsSeparatedByString:@&quot;|&quot;]];</p><p>&nbsp; &nbsp; &nbsp; &nbsp;NSLog(@&quot;m_aryFiles=%@&quot;,m_aryFiles);</p><p>&nbsp;</p><p>//对比本地文件</p><p>NSString*path=[self documentPath:PROJ_INFO];</p><p>&nbsp; &nbsp; &nbsp; &nbsp;NSData*da=[NSData dataWithContentsOfFile:path];</p><p>&nbsp;</p><p>if (da) {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;NSString*data_info=[[NSString alloc] initWithData:da encoding:NSASCIIStringEncoding];</p><p>&nbsp;</p><p>if (![data_info isEqualToString:str]) {</p><p>//数据不同下载</p><p>if([m_aryFiles count]&gt;0)</p><p>{</p><p>//下载第一个文件</p><p>[m_web sendData:[m_web getAddress:[NSString stringWithFormat:@&quot;project/%@&quot;,[m_aryFiles objectAtIndex:0]]] :NULL];</p><p>m_nCurFile=0;</p><p>m_saveData=[[NSMutableData alloc] initWithData:data];</p><p>}</p><p>}</p><p>[data_info release];</p><p>}</p><p>else{</p><p>//版本信息不存在</p><p>if([m_aryFiles count]&gt;0)</p><p>{</p><p>//下载第一个文件</p><p>[m_web sendData:[m_web getAddress:[NSString stringWithFormat:@&quot;project/%@&quot;,[m_aryFiles objectAtIndex:0]]] :NULL];</p><p>m_nCurFile=0;</p><p>m_saveData=[[NSMutableData alloc] initWithData:data];</p><p>}</p><p>}</p><p>[str release];</p><p>}</p><p>}</p><p><br/></p><p>-(void) WebProcCallBackFail:(NSString*)url</p><p>{</p><p>&nbsp;</p><p>}</p><p><br/></p><p>//////////////</p><p>- (void)alertView:(UIAlertView *)alertView didDismissWithButtonIndex:(NSInteger)buttonIndex {</p><p>	if (alertView.tag=99) {</p><p>exit(0);</p><p>}</p><p>}</p><p><br/></p><p>@end</p><p></p>','2013-12-11 06:58:35','2013-12-11 14:58:35'),(178,'114.247.232.56',3,'UIImage合成图片','<p>- (UIImage *)addImage:(UIImage *)image1 toImage:(UIImage *)image2 {</p><p>CGSize size= CGSizeMake( image1.size.width,image1.size.height);</p><p>&nbsp; &nbsp;UIGraphicsBeginImageContext(size);</p><p>&nbsp;</p><p>&nbsp; &nbsp;// Draw image1</p><p>[image1 drawInRect:CGRectMake(0, 0, image1.size.width, image1.size.height)];</p><p>&nbsp; &nbsp;// Draw image2</p><p>[image2 drawInRect:CGRectMake(0, 0, image2.size.width, image2.size.height)];</p><p>&nbsp; &nbsp;UIImage *resultingImage = UIGraphicsGetImageFromCurrentImageContext();</p><p>&nbsp; &nbsp;UIGraphicsEndImageContext();</p><p>return resultingImage;</p><p>}</p><p></p>','2013-12-11 06:59:06','2013-12-11 14:59:06'),(179,'114.247.232.56',3,'非主线程操作控件','<p style=\"font-size: 11px;\">//循环的另一线程</p><p style=\"font-size: 11px;\">void fRealDataCallBack(BYTE *pBuffer, DWORD dwBufSize, void* pUser)</p><p style=\"font-size: 11px;\">{</p><p style=\"font-size: 11px;\">&nbsp; &nbsp;HikvisionIPCam_iPhone *pDemo = (HikvisionIPCam_iPhone*)pUser;</p><p style=\"font-size: 11px;\">pDemo.m_nBufSize=dwBufSize;</p><p style=\"font-size: 11px;\">[pDemo showData];</p><p style=\"font-size: 11px;\">}</p><p style=\"font-size: 11px;\"><br/></p><p style=\"font-size: 11px;\"><br/></p><p style=\"font-size: 11px;\">//主线程</p><p style=\"font-size: 11px;\">&nbsp;</p><p style=\"font-size: 11px;\">- (void) showData</p><p style=\"font-size: 11px;\">{</p><p style=\"font-size: 11px;\">&nbsp; &nbsp;[self performSelectorOnMainThread:@selector(_showData)</p><p style=\"font-size: 11px;\">&nbsp; withObject:nil</p><p style=\"font-size: 11px;\">waitUntilDone:NO];</p><p style=\"font-size: 11px;\">}</p><p style=\"font-size: 11px;\">- (void) _showData</p><p style=\"font-size: 11px;\">{</p><p style=\"font-size: 11px;\">&nbsp; &nbsp;[lbStatusValue setText:[NSStringstringWithFormat:@&quot;%dB&quot;,m_nBufSize]];</p><p style=\"font-size: 11px;\">}</p><p></p>','2013-12-11 06:59:24','2013-12-11 14:59:24'),(180,'114.247.232.56',3,'系统状态栏','<p style=\"font-size: 11px;\">[[UIApplication sharedApplication]setStatusBarHidden:YES withAnimation:UIStatusBarAnimationFade];</p><p></p>','2013-12-11 06:59:42','2013-12-11 14:59:42'),(181,'114.247.232.56',3,'一页面显示多个UIViewControl','<p>//添加新容器</p><p><br/></p><p>InterfaceToolbar_iPhone* tool=[[InterfaceToolbar_iPhone alloc] initWithNibName:@&quot;InterfaceToolbar_iPhone&quot; bundle:nil];</p><p>[self addChildViewController:tool];</p><p>	/* vi是那个显示的collecter大小 */</p><p>[vi addSubview:tool.view];</p><p>[tool release];</p><p><br/></p><p><br/></p><p>//容器变换,这里是有多个addChildViewController加入后</p><p>&nbsp;</p><p>UIViewController*v=[self.childViewControllers objectAtIndex:0];</p><p>UIViewController*v1=[self.childViewControllers objectAtIndex:1];</p><p>&nbsp;</p><p>[self transitionFromViewController:v toViewController:v1 duration:0.5f options:UIViewAnimationOptionTransitionFlipFromLeft animations:nil completion:nil];</p><p><br/></p><p>//移除容器</p><p>[v removeFromParentViewController];</p><p><br/></p><p>&nbsp;</p><p><span style=\"font-size: 11px;\">//移除全部容器,并恢复原始View内容</span></p><p>&nbsp;</p><p style=\"font-size: 11px;\">&nbsp;</p><p>NSLog(@&quot;[self.childViewControllers count]=%d&quot;,[self.childViewControllers count]);</p><p>while ([self.childViewControllers count])</p><p>{</p><p>&nbsp; &nbsp; &nbsp;UIViewController*v=[self.childViewControllers objectAtIndex:0];</p><p>[v.view removeFromSuperview];</p><p>&nbsp; &nbsp; &nbsp;[v removeFromParentViewController];</p><p>}</p><p>NSLog(@&quot;[self.childViewControllers count]=%d&quot;,[self.childViewControllers count]);</p><p><br/></p><p><br/></p><p>///////////////被载入的Controller事件</p><p>&nbsp;</p><p style=\"font-size: 11px;\">- (void)beginAppearanceTransition:(BOOL)isAppearing animated:(BOOL)animated</p><p style=\"font-size: 11px;\">{</p><p style=\"font-size: 11px;\">&nbsp;</p><p style=\"font-size: 11px;\">}</p><p style=\"font-size: 11px;\">- (void)endAppearanceTransition</p><p style=\"font-size: 11px;\">{</p><p style=\"font-size: 11px;\">&nbsp;</p><p style=\"font-size: 11px;\">}</p><p></p>','2013-12-11 07:02:07','2013-12-11 15:02:07'),(182,'114.247.232.56',3,'本地推送UILocalNotifica','<p>、增加一个本地推送</p><p>&nbsp;</p><p><br/>//设置20秒之后</p><p>&nbsp;</p><p><br/>NSDate *date = [NSDate dateWithTimeIntervalSinceNow:20];</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp; //chuagjian一个本地推送</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp; UILocalNotification *noti = [[[UILocalNotification alloc] init] autorelease];</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp; if (noti) {</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //设置推送时间</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; noti.fireDate = date;</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //设置时区</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; noti.timeZone = [NSTimeZone defaultTimeZone];</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //设置重复间隔</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; noti.repeatInterval = NSWeekCalendarUnit;</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //推送声音</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; noti.soundName = UILocalNotificationDefaultSoundName;</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //内容</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; noti.alertBody = @&quot;推送内容&quot;;</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //显示在icon上的红色圈中的数子</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; noti.applicationIconBadgeNumber = 1;</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //设置userinfo 方便在之后需要撤销的时候使用</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NSDictionary *infoDic = [NSDictionary dictionaryWithObject:@&quot;name&quot; forKey:@&quot;key&quot;];</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; noti.userInfo = infoDic;</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //添加推送到uiapplication&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UIApplication *app = [UIApplication sharedApplication];</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [app scheduleLocalNotification:noti];&nbsp;</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp; }</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>、程序运行时接收到本地推送消息</p><p>&nbsp;</p><p><br/>&nbsp;</p><p>&nbsp;</p><p><br/>- (void)application:(UIApplication *)application didReceiveLocalNotification:(UILocalNotification*)notification</p><p>&nbsp;</p><p><br/>{</p><p>&nbsp;</p><p><br/>UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@&quot;接收到本地提醒 in app&quot;</p><p>&nbsp;</p><p><br/>message:notification.alertBody</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp; delegate:nil</p><p>&nbsp;</p><p><br/>&nbsp; cancelButtonTitle:@&quot;确定&quot;</p><p>&nbsp;</p><p><br/>&nbsp; otherButtonTitles:nil];</p><p>&nbsp;</p><p><br/>[alert show];</p><p>&nbsp;</p><p><br/>//这里，你就可以通过notification的useinfo，干一些你想做的事情了</p><p>&nbsp;</p><p><br/>application.applicationIconBadgeNumber -= 1;</p><p>&nbsp;</p><p><br/>}</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>、取消一个本地推送</p><p>&nbsp;</p><p><br/>&nbsp;</p><p>&nbsp;</p><p><br/>UIApplication *app = [UIApplication sharedApplication];</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp; //获取本地推送数组</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp; NSArray *localArr = [app scheduledLocalNotifications];</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp; //声明本地通知对象</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp; UILocalNotification *localNoti;</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp; if (localArr) {</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for (UILocalNotification *noti in localArr) {</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NSDictionary *dict = noti.userInfo;</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (dict) {</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NSString *inKey = [dict objectForKey:@&quot;key&quot;];</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ([inKey isEqualToString:key]) {</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (localNoti){</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [localNoti release];</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; localNoti = nil;</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; localNoti = [noti retain];</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //判断是否找到已经存在的相同key的推送</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (!localNoti) {</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //不存在 初始化</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; localNoti = [[UILocalNotification alloc] init];</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (localNoti &amp;&amp; !state) {</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //不推送 取消推送</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [app cancelLocalNotification:localNoti];</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [localNoti release];</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return;</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p><p>&nbsp;</p><p><br/>}</p><p></p>','2013-12-11 07:03:03','2013-12-11 15:03:03'),(183,'114.247.232.56',3,'popToViewController','<p>[self.navigationController popToViewController:[self.navigationController.viewControllers objectAtIndex:2] animated:YES];</p><p><br/>或</p><p><br/></p><p>for (UIViewController *controller in self.navigationController.viewControllers) {</p><p>if ([controller isKindOfClass:[/*ProjectList_iPhone 类名*/ class]]) {</p><p>[self.navigationController popToViewController:controller animated:YES];</p><p>}</p><p>}</p><p></p>','2013-12-11 07:03:18','2013-12-11 15:03:18'),(184,'114.247.232.56',3,'设置背景','<p>&nbsp; //设置背景</p><p style=\"font-size: 11px;\">&nbsp; &nbsp;UIImageView*backView = [[UIImageView alloc] initWithFrame:self.view.frame];</p><p style=\"font-size: 11px;\">[backView setImage:[UIImage imageNamed:@&quot;ipe_frm_bg.png&quot;]];</p><p style=\"font-size: 11px;\">[self.view addSubview:backView];</p><p style=\"font-size: 11px;\">[backView release];</p><p style=\"font-size: 11px;\">[self.view sendSubviewToBack:backView];</p><p></p>','2013-12-11 07:03:33','2013-12-11 15:03:33'),(185,'114.247.232.56',3,'XCode 4.2 使用STL','<p>以前的项目中引入了C++ STL里的vector.h文件，在将XCode升级到4.2后，编译时出现这样的错误“vector.h file not found”，居然会有这么神奇的问题，以前都好好的，突然就不行了，查阅资料<a href=\"http://blog.mail.163.com/apps/notebook/%3Ca%20href=&#39;http://www.iphonedevsdk.com&#39;%3Ehttp://www.iphonedevsdk.com%3C/a%3E/forum/iphone-sdk-development/16528-how-include-stl-xcode.html\" target=\"_blank\">发现</a>，原来是编译器的配置不对，修改如下配置即可：</p><p>1. 选择project -&gt; build setting -&gt; apple LLVM compiler 3.0 – language配置项，</p><p>2. 将Compile Sources As设置项修改为Objective-C++。</p><p></p>','2013-12-11 07:03:59','2013-12-11 15:03:59'),(186,'192.168.0.181',3,'IOS旋转屏幕事件','<p style=\"font-size: 11px;\">/*兼容IOS5以下版本的旋转屏幕事件</p><p style=\"font-size: 11px;\">*/</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\">/////////////////////////////////////</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">- (<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">BOOL</span>)shouldAutorotateToInterfaceOrientation:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIInterfaceOrientation</span>)interfaceOrientation</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(120, 73, 42);\">#if <span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">0</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">return</span>&nbsp; (interfaceOrientation == UIInterfaceOrientationPortrait);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(120, 73, 42);\">#else</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">return</span>&nbsp; (interfaceOrientation == <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">UIInterfaceOrientationPortrait</span> )||</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; (interfaceOrientation == <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">UIDeviceOrientationLandscapeLeft</span> )||</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; (interfaceOrientation == </span>UIDeviceOrientationLandscapeRight<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> );</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(120, 73, 42);\">#endif</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">-(<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">BOOL</span>)shouldAutorotate{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(187, 44, 162);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span>return<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>YES<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">-(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSInteger</span>)supportedInterfaceOrientations{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSInteger</span> orientationMask = <span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">0</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">if</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> ([</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">self</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>shouldAutorotateToInterfaceOrientation<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">: </span>UIInterfaceOrientationLandscapeLeft<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">])</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; orientationMask |= </span>UIInterfaceOrientationMaskLandscapeLeft<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">if</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> ([</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">self</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>shouldAutorotateToInterfaceOrientation<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">: </span>UIInterfaceOrientationLandscapeRight<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">])</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; orientationMask |= </span>UIInterfaceOrientationMaskLandscapeRight<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">if</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> ([</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">self</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>shouldAutorotateToInterfaceOrientation<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">: </span>UIInterfaceOrientationPortrait<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">])</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; orientationMask |= </span>UIInterfaceOrientationMaskPortrait<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">if</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> ([</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">self</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>shouldAutorotateToInterfaceOrientation<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">: </span>UIInterfaceOrientationPortraitUpsideDown<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">])</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; orientationMask |= </span>UIInterfaceOrientationMaskPortraitUpsideDown<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">return</span> orientationMask;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">- (<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">void</span>)didRotateFromInterfaceOrientation:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIInterfaceOrientation</span>)fromInterfaceOrientation</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">NSLog</span>(<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;From Rotate=%ld&quot;</span>,fromInterfaceOrientation);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">switch</span> (fromInterfaceOrientation) {</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">case</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>UIInterfaceOrientationUnknown<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">break</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">case</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>UIInterfaceOrientationPortrait<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">break</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">case</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>UIInterfaceOrientationPortraitUpsideDown<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">break</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">case</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>UIInterfaceOrientationLandscapeLeft<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">break</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">case</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>UIInterfaceOrientationLandscapeRight<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">break</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; }</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"font-size: 11px;\">//////////////////////////////////////////</p><p style=\"font-size: 11px;\">新建文件&nbsp;NavigationController.m</p><p style=\"font-size: 11px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #78492a\">#import </span>&lt;UIKit/UIKit.h&gt;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">@implementation</span> UINavigationController (rotation)</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\">//temp hack for iOS6, this allows passing supportedInterfaceOrientations to child viewcontrollers.</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">-(<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">BOOL</span>)shouldAutorotate</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(112, 61, 170);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">return</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">self</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span>viewControllers<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span>lastObject<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">shouldAutorotate</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">-(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSUInteger</span>)supportedInterfaceOrientations</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">return</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">self</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">viewControllers</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">lastObject</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>supportedInterfaceOrientations<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">-(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIInterfaceOrientation</span>)preferredInterfaceOrientationForPresentation</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">return</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">self</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">viewControllers</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">lastObject</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>preferredInterfaceOrientationForPresentation<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(187, 44, 162);\">@end</p><p style=\"font-size: 11px;\"><br/></p><p>////////////////////////////////////////////////////////////////////////////////</p><p>&nbsp;</p><p style=\"font-size: 11px;\">//判断横竖屏</p><p style=\"font-size: 11px;\">&nbsp;</p><p>if (self.interfaceOrientation == UIDeviceOrientationPortrait || self.interfaceOrientation == UIDeviceOrientationPortraitUpsideDown)</p><p>{</p><p>NSLog(@&quot;竖屏&quot;);</p><p>}</p><p>else{</p><p>NSLog(@&quot;横屏&quot;);</p><p>}</p><p><br/></p>','2013-12-11 07:04:22','2015-10-01 15:02:04'),(187,'114.247.232.56',3,'两个Controller传输截图','<p>//加入头文件</p><p>#import &lt;QuartzCore/QuartzCore.h&gt;</p><p>&nbsp;</p><p><br/></p><p><br/></p><p>A窗体:</p><p>&nbsp;</p><p>-(void) itmLeft_click</p><p>{</p><p>//当前窗体截图</p><p>UIGraphicsBeginImageContext(CGSizeMake(self.navigationController.view.frame.size.height, self.navigationController.view.frame.size.height));</p><p>[self.navigationController.view.layer renderInContext:UIGraphicsGetCurrentContext()];</p><p>UIImage *viewImage = UIGraphicsGetImageFromCurrentImageContext();</p><p>UIGraphicsEndImageContext();</p><p><br/></p><p>Menu_iPhone*frm=[[Menu_iPhone alloc]initWithNibName:@&quot;Menu_iPhone&quot; bundle:nil];</p><p>&nbsp;</p><p><span style=\"font-size: 16px;\">/*如果使用的是导航栏一定要在跳转到的窗体里使用self.view addSubview一次,不然图片会失效*/</span></p><p>[self presentModalViewController:frm animated:NO];</p><p>[frm <span style=\"font-size: 11px;\">setTransImage</span>:viewImage];</p><p>[frm release];</p><p>&nbsp;</p><p>}</p><p>&nbsp;</p><p><br/></p><p><br/></p><p><br/></p><p>B窗体:</p><p>&nbsp;</p><p style=\"font-size: 11px;\">&nbsp;</p><p>-(void) setTransImage:(UIImage*)img</p><p>{</p><p>&nbsp;</p><p style=\"font-size: 11px;\">&nbsp; &nbsp;<span style=\"font-size: 16px;\">UIImageView*imgV=[[UIImageView alloc] initWithImage:img];</span></p><p style=\"font-size: 11px;\"><span style=\"font-size: 16px;\"> &nbsp; &nbsp;[imgV setContentMode:UIViewContentModeScaleAspectFit];</span></p><p style=\"font-size: 11px;\"><span style=\"font-size: 16px;\">[imgV setFrame:CGRectMake(0,-20, imgV.frame.size.width,imgV.frame.size.height)];</span></p><p style=\"font-size: 11px;\"><span style=\"font-size: 16px;\">/*如果使用的是导航栏一定要在self.view里addSubview一次,不然图片会失效*/</span></p><p style=\"font-size: 11px;\"><span style=\"font-size: 16px;\">//[self.view addSubview:imgV];</span></p><p style=\"font-size: 11px;\"><span style=\"font-size: 16px;\">[viRight addSubview:imgV];</span></p><p style=\"font-size: 11px;\"><span style=\"font-size: 16px;\">[imgV release];</span></p><p>&nbsp;</p><p>}</p><p></p>','2013-12-11 07:05:18','2013-12-11 15:05:18'),(188,'114.247.232.56',3,'获取系统版本','<p style=\"font-size: 11px;\"><span style=\"font-size: 16px;\">版本控制</span></p><p style=\"font-size: 11px;\"><span style=\"font-size: 16px;\">float version=[[[[UIDevice currentDevice] systemVersion] substringWithRange:NSMakeRange(0, 1)] floatValue];</span></p><p style=\"font-size: 11px;\"><span style=\"font-size: 16px;\">if (version==5) {</span></p><p style=\"font-size: 11px;\"><span style=\"font-size: 16px;\">&nbsp;</span></p><p style=\"font-size: 11px;\"><span style=\"font-size: 16px;\">}</span></p><p></p>','2013-12-11 07:05:43','2013-12-11 15:05:43'),(189,'14.217.232.71',3,'加载等待ActivityIndicato','<pre class=\"brush:cpp;toolbar:false\">头文件&nbsp;#import&nbsp;&lt;QuartzCore/QuartzCore.h&gt;&nbsp;\r\n加入QuartzCore.framework包\r\n//IBOutlet&nbsp;UIActivityIndicatorView&nbsp;*indLoading;\r\n&nbsp;\r\n&nbsp;\r\n&nbsp;\r\n[indLoading&nbsp;startAnimating];\r\n[indLoading&nbsp;setHidesWhenStopped:YES];\r\n[indLoading&nbsp;setBounds:CGRectMake(0,&nbsp;0,&nbsp;130,&nbsp;130)];\r\n[indLoading&nbsp;setBackgroundColor:[UIColor&nbsp;grayColor]];\r\nindLoading.layer.cornerRadius&nbsp;=&nbsp;10;//设置那个圆角的有多圆\r\nindLoading.layer.borderWidth&nbsp;=&nbsp;0;//设置边框的宽度\r\nUILabel&nbsp;*lb=[[UILabel&nbsp;alloc]&nbsp;initWithFrame:CGRectMake(0,&nbsp;90,&nbsp;120,&nbsp;22)];\r\n[lb&nbsp;setFont:[UIFont&nbsp;systemFontOfSize:14]];\r\n[lb&nbsp;setTextAlignment:NSTextAlignmentCenter];\r\n[lb&nbsp;setBackgroundColor:[UIColor&nbsp;clearColor]];\r\n[lb&nbsp;setTextColor:[UIColor&nbsp;whiteColor]];\r\n[lb&nbsp;setText:@&quot;正在解压文件...&quot;];\r\n[indLoading&nbsp;addSubview:lb];\r\n[lb&nbsp;release];\r\n&nbsp;\r\n//设置m_indLoading位置\r\n[indLoading&nbsp;setCenter:self.view.center];\r\n[self.view&nbsp;addSubview:indLoading];\r\n\r\n&nbsp;//显示控件\r\n&nbsp;[indLoading&nbsp;setHidden:NO];\r\n&nbsp;[indLoading&nbsp;setAlpha:1];</pre><p><br/></p>','2013-12-11 07:06:06','2015-11-18 15:43:46'),(190,'114.247.232.56',3,'Objective-Zip提取所有文件','<p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 128, 0);\">//取用线程解压文件</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">NSThread</span> *thread= [[<span style=\"color: rgb(116, 60, 166);\">NSThread</span> <span style=\"color: rgb(63, 28, 126);\">alloc</span>] <span style=\"color: rgb(63, 28, 126);\">initWithTarget</span>:<span style=\"color: rgb(194, 42, 159);\">self</span> <span style=\"color: rgb(63, 28, 126);\">selector</span>:<span style=\"color: rgb(194, 42, 159);\">@selector</span>(unzip_file) <span style=\"color: rgb(63, 28, 126);\">object</span>:<span style=\"color: rgb(194, 42, 159);\">nil</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[thread <span style=\"color: rgb(63, 28, 126);\">start</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[thread <span style=\"color: rgb(63, 28, 126);\">release</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">//或者用这句</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">//[<span style=\"color: rgb(194, 42, 159);\">self</span> <span style=\"color: rgb(63, 28, 126);\">performSelector</span>:<span style=\"color: rgb(194, 42, 159);\">@selector</span>(uncompress_help_data) <span style=\"color: rgb(63, 28, 126);\">withObject</span>:<span style=\"color: rgb(194, 42, 159);\">nil</span> <span style=\"color: rgb(63, 28, 126);\">afterDelay</span>:<span style=\"color: rgb(37, 38, 211);\">0.5f</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p>&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">////////////////////////// <span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">解压所有文档数据,这里有个BUG </span>////////////////////////////////</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">///////////////<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">如果</span><span style=\"font-family: &quot;Heiti SC Light&quot;;\">文件夹</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">下没有子目录或文件的就会创建一个空文件,而不是文件夹</span> ///////////////////</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">///////////////////////////// &nbsp;不过不影响正常使用 &nbsp;<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\"> </span>//////////////////////////////////</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">void</span>) unzip_file {</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>NSAutoreleasePool<span style=\"color: rgb(0, 0, 0);\"> *pool= [[</span>NSAutoreleasePool<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">alloc</span><span style=\"color: rgb(0, 0, 0);\">] </span><span style=\"color: rgb(63, 28, 126);\">init</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(194, 42, 159); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span></span>@try<span style=\"color: rgb(0, 0, 0);\"> {</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">		</span></span><span style=\"color: rgb(116, 60, 166);\">NSString</span><span style=\"color: rgb(0, 0, 0);\"> *documentsDir= [</span>NSHomeDirectory<span style=\"color: rgb(0, 0, 0);\">() </span>stringByAppendingPathComponent<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(218, 46, 36);\">@&quot;Documents&quot;</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">		</span><span style=\"color: rgb(116, 60, 166);\">NSString</span> *filePath= [documentsDir <span style=\"color: rgb(63, 28, 126);\">stringByAppendingPathComponent</span>:<span style=\"color: rgb(218, 46, 36);\">@&quot;help_data.zip&quot;</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">		</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(0, 0, 0);\"><span style=\"color: rgb(63, 28, 126);\">NSLog</span>(<span style=\"color: rgb(218, 46, 36);\">@&quot;</span></span><span style=\"color: rgb(218, 46, 36);\">Opening zip file for reading...</span><span style=\"color: rgb(0, 0, 0);\"><span style=\"color: rgb(218, 46, 36);\">&quot;</span>);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">		</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(43, 89, 93); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">		</span></span><span style=\"color: rgb(71, 129, 134);\">ZipFile</span><span style=\"color: rgb(0, 0, 0);\"> *unzipFile= [[</span><span style=\"color: rgb(71, 129, 134);\">ZipFile</span><span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">alloc</span><span style=\"color: rgb(0, 0, 0);\">] </span>initWithFileName<span style=\"color: rgb(0, 0, 0);\">:filePath </span>mode<span style=\"color: rgb(0, 0, 0);\">:</span>ZipFileModeUnzip<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">		</span><span style=\"color: rgb(63, 28, 126);\">NSLog</span>(<span style=\"color: rgb(218, 46, 36);\">@&quot;</span><span style=\"color: rgb(218, 46, 36);\">Reading file infos...</span><span style=\"color: rgb(218, 46, 36);\">&quot;</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">		</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 132, 25);\">//</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">开始解压</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">		</span><span style=\"color: rgb(116, 60, 166);\">NSArray</span> *infos= [unzipFile <span style=\"color: rgb(43, 89, 93);\">listFileInZipInfos</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[unzipFile <span style=\"color: rgb(43, 89, 93);\">goToFirstFileInZip</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">		</span><span style=\"color: rgb(194, 42, 159);\">for</span> (<span style=\"color: rgb(71, 129, 134);\">FileInZipInfo</span> *info <span style=\"color: rgb(194, 42, 159);\">in</span> infos) {</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 132, 25);\">//</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">生成文件</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(71, 129, 134);\">ZipReadStream</span> *read1= [unzipFile <span style=\"color: rgb(43, 89, 93);\">readCurrentFileInZip</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">NSString<span style=\"color: rgb(0, 0, 0);\">*str=[</span>NSString<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">stringWithFormat</span><span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(218, 46, 36);\">@&quot;Extract %@...&quot;</span><span style=\"color: rgb(0, 0, 0);\">,info.</span><span style=\"color: rgb(71, 129, 134);\">name</span><span style=\"color: rgb(0, 0, 0);\">];</span></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 132, 25);\">//</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">字节数据</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">NSMutableData</span> *data1= [[<span style=\"color: rgb(116, 60, 166);\">NSMutableData</span> <span style=\"color: rgb(63, 28, 126);\">alloc</span>] <span style=\"color: rgb(63, 28, 126);\">initWithLength</span>:info.length];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">int</span> bytesRead1= [read1 <span style=\"color: rgb(43, 89, 93);\">readDataWithBuffer</span>:data1];</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>//<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">全部文件解压到同一目录</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>//NSString *wfiles= [documentsDir stringByAppendingPathComponent:[info.name lastPathComponent]];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">NSString</span> *wfiles= [documentsDir <span style=\"color: rgb(63, 28, 126);\">stringByAppendingPathComponent</span>:info.<span style=\"color: rgb(71, 129, 134);\">name</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">NSLog</span>(<span style=\"color: rgb(218, 46, 36);\">@&quot;wfiles=%@&quot;</span>,wfiles);</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 132, 25);\">//</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">建立目录</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(116, 60, 166);\">NSString</span><span style=\"color: rgb(0, 0, 0);\"> *dir=[wfiles </span>stringByDeletingLastPathComponent<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">if</span> (<span style=\"color: rgb(63, 28, 126);\">access</span>([dir <span style=\"color: rgb(63, 28, 126);\">UTF8String</span>], <span style=\"color: rgb(37, 38, 211);\">0</span>))</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 132, 25);\">//</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">不存在目录就新建</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[[</span><span style=\"color: rgb(116, 60, 166);\">NSFileManager</span><span style=\"color: rgb(0, 0, 0);\"> </span>defaultManager<span style=\"color: rgb(0, 0, 0);\">] </span>createDirectoryAtPath<span style=\"color: rgb(0, 0, 0);\">:dir </span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">withIntermediateDirectories</span>:<span style=\"color: rgb(194, 42, 159);\">YES</span> </p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">attributes</span>:<span style=\"color: rgb(194, 42, 159);\">nil</span> </p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">error</span>:<span style=\"color: rgb(194, 42, 159);\">nil</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">else</span> </p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 132, 25);\">//</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">判断存放路径是否是目录</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">NSFileManager</span> *fileManager = [<span style=\"color: rgb(116, 60, 166);\">NSFileManager</span> <span style=\"color: rgb(63, 28, 126);\">defaultManager</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">BOOL</span> isDir = <span style=\"color: rgb(194, 42, 159);\">NO</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[fileManager <span style=\"color: rgb(63, 28, 126);\">fileExistsAtPath</span>:dir <span style=\"color: rgb(63, 28, 126);\">isDirectory</span>:(&amp;isDir)];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">if</span> (<span style=\"color: rgb(194, 42, 159);\">false</span>==isDir) {</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 132, 25);\">//</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">如果是文件就删除掉</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[[</span><span style=\"color: rgb(116, 60, 166);\">NSFileManager</span><span style=\"color: rgb(0, 0, 0);\"> </span>defaultManager<span style=\"color: rgb(0, 0, 0);\">] </span>removeItemAtPath<span style=\"color: rgb(0, 0, 0);\">:dir </span>error<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">nil</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 132, 25);\">//</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">重新创建目录就新建</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[[</span><span style=\"color: rgb(116, 60, 166);\">NSFileManager</span><span style=\"color: rgb(0, 0, 0);\"> </span>defaultManager<span style=\"color: rgb(0, 0, 0);\">] </span>createDirectoryAtPath<span style=\"color: rgb(0, 0, 0);\">:dir </span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">withIntermediateDirectories</span>:<span style=\"color: rgb(194, 42, 159);\">YES</span> </p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">attributes</span>:<span style=\"color: rgb(194, 42, 159);\">nil</span> </p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">error</span>:<span style=\"color: rgb(194, 42, 159);\">nil</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">BOOL</span> ok=[data1 <span style=\"color: rgb(63, 28, 126);\">writeToFile</span>:wfiles <span style=\"color: rgb(63, 28, 126);\">atomically</span>:<span style=\"color: rgb(194, 42, 159);\">YES</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[data1 release];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">if</span> (ok)</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">NSString</span>*str=[<span style=\"color: rgb(116, 60, 166);\">NSString</span> <span style=\"color: rgb(63, 28, 126);\">stringWithFormat</span>:<span style=\"color: rgb(218, 46, 36);\">@&quot;Done. bytes=%d&quot;</span>,bytesRead1];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">else</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">NSString</span>*str=[<span style=\"color: rgb(116, 60, 166);\">NSString</span> <span style=\"color: rgb(63, 28, 126);\">stringWithFormat</span>:<span style=\"color: rgb(218, 46, 36);\">@&quot;Done. extract fail<span style=\"color: rgb(0, 0, 0);\"><span style=\"color: rgb(218, 46, 36);\">&quot;</span>];</span></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[read1 <span style=\"color: rgb(43, 89, 93);\">finishedReading</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[unzipFile <span style=\"color: rgb(43, 89, 93);\">goToNextFileInZip</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">		</span>}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">		</span>[unzipFile <span style=\"color: rgb(43, 89, 93);\">close</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">		</span>[unzipFile <span style=\"color: rgb(63, 28, 126);\">release</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">		</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span>} <span style=\"color: rgb(194, 42, 159);\">@catch</span> (ZipException *ze) {</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(116, 60, 166);\">NSString</span><span style=\"color: rgb(0, 0, 0);\">*str=[</span><span style=\"color: rgb(116, 60, 166);\">NSString</span><span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">stringWithFormat</span><span style=\"color: rgb(0, 0, 0);\">:</span>@&quot;ZipException caught: %d - %@&quot;<span style=\"color: rgb(0, 0, 0);\">, ze.</span><span style=\"color: rgb(71, 129, 134);\">error</span><span style=\"color: rgb(0, 0, 0);\">, [ze </span><span style=\"color: rgb(63, 28, 126);\">reason</span><span style=\"color: rgb(0, 0, 0);\">]];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span>} <span style=\"color: rgb(194, 42, 159);\">@catch</span> (<span style=\"color: rgb(194, 42, 159);\">id</span> e) {</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">		</span></span><span style=\"color: rgb(116, 60, 166);\">NSString</span><span style=\"color: rgb(0, 0, 0);\">*str=[</span><span style=\"color: rgb(116, 60, 166);\">NSString</span><span style=\"color: rgb(0, 0, 0);\"> </span>stringWithFormat<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(218, 46, 36);\">@&quot;Exception caught: %@ - %@&quot;</span><span style=\"color: rgb(0, 0, 0);\">, [[e </span>class<span style=\"color: rgb(0, 0, 0);\">] </span>description<span style=\"color: rgb(0, 0, 0);\">], [e </span>description<span style=\"color: rgb(0, 0, 0);\">]];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span>}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span>[pool <span style=\"color: rgb(63, 28, 126);\">drain</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p></p>','2013-12-11 07:06:28','2013-12-11 15:06:28'),(191,'192.168.2.188',3,'日志输出','<p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">IBOutlet</span><span style=\"color: rgb(0, 0, 0);\"> </span>UITextView<span style=\"color: rgb(0, 0, 0);\"> *txtLog;</span></p><p>&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\">[</span><span style=\"color: rgb(194, 42, 159);\">self</span><span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">performSelectorOnMainThread</span><span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">@selector</span><span style=\"color: rgb(0, 0, 0);\">(log:) </span><span style=\"color: rgb(63, 28, 126);\">withObject</span><span style=\"color: rgb(0, 0, 0);\">:</span>@&quot;我叫小新&quot;<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">waitUntilDone</span><span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">YES</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><br/></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><br/></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">void</span>) log:(<span style=\"color: rgb(116, 60, 166);\">NSString</span> *)text</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"></span><span style=\"color: rgb(63, 28, 126);\"></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(79, 129, 135);\"><span style=\"color: rgb(71, 129, 134); font-family: Menlo; font-size: 11px;\">txtLog</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">editable</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> = </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">YES</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\"></span></span><span style=\"color: rgb(71, 129, 134);\">txtLog</span><span style=\"color: rgb(0, 0, 0);\">.</span><span style=\"color: rgb(116, 60, 166);\">text</span><span style=\"color: rgb(0, 0, 0);\">= [</span><span style=\"color: rgb(71, 129, 134);\">txtLog</span><span style=\"color: rgb(0, 0, 0);\">.</span><span style=\"color: rgb(116, 60, 166);\">text</span><span style=\"color: rgb(0, 0, 0);\"> </span>stringByAppendingString<span style=\"color: rgb(0, 0, 0);\">:text];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\"></span></span><span style=\"color: rgb(71, 129, 134);\">txtLog</span><span style=\"color: rgb(0, 0, 0);\">.</span><span style=\"color: rgb(116, 60, 166);\">text</span><span style=\"color: rgb(0, 0, 0);\">= [</span><span style=\"color: rgb(71, 129, 134);\">txtLog</span><span style=\"color: rgb(0, 0, 0);\">.</span><span style=\"color: rgb(116, 60, 166);\">text</span><span style=\"color: rgb(0, 0, 0);\"> </span>stringByAppendingString<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(218, 46, 36);\">@&quot;[#ue_pole#n]&quot;</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"></span><span style=\"color: rgb(116, 60, 166);\">NSRange</span> range;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"></span>range.<span style=\"color: rgb(116, 60, 166);\">location</span>= [<span style=\"color: rgb(71, 129, 134);\">txtLog</span>.<span style=\"color: rgb(116, 60, 166);\">text</span> <span style=\"color: rgb(63, 28, 126);\">length</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\">range.<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">length</span>=[text <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">length</span>];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"color: #000000\">[</span><span style=\"color: #4f8187\"><span style=\"color: rgb(71, 129, 134); font-family: Menlo; font-size: 11px;\">txtLog</span></span><span style=\"color: #000000\"> </span>scrollRangeToVisible<span style=\"color: #000000\">:range];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"></span><span style=\"font-family: Menlo; font-size: 11px;  color: rgb(71, 129, 134);\">txtLog</span><span style=\"font-family: Menlo; font-size: 11px;\">.</span><span style=\"font-family: Menlo; font-size: 11px;  color: rgb(112, 61, 170);\">editable</span><span style=\"font-family: Menlo; font-size: 11px;\">&nbsp;=&nbsp;</span><span style=\"font-family: Menlo; font-size: 11px;  color: rgb(187, 44, 162);\">NO</span><span style=\"font-family: Menlo; font-size: 11px;\">;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p><br/></p><p><br/></p>','2013-12-11 07:06:48','2016-04-06 19:40:59'),(192,'114.247.232.56',3,'iphoneXIB转ipadXIB','<p>1. Right click the file (in xcode) and Open As &gt; Source Code</p><p><br/></p><p>2.<br/>&lt;archive type=&quot;com.apple.InterfaceBuilder3.CocoaTouch.XIB&quot; version=&quot;7.10&quot;&gt; <br/>Replace with: <br/>&lt;archive type=&quot;com.apple.InterfaceBuilder3.CocoaTouch.iPad.XIB&quot; version=&quot;7.10&quot;&gt; <br/><br/></p><p>3.</p><p>Search for &quot;IBCocoaTouchFramework&quot; and Replace all occurrences with &quot;IBIPadFramework&quot;</p><p></p>','2013-12-11 07:07:05','2013-12-11 15:07:05'),(193,'114.247.232.56',3,'打开appstore评论和下载页面','<p>NSString* RateURL = [NSString stringWithFormat:@&quot;<a href=\"http://itunes.apple.com/us/app/id%d?mt=8\">http://itunes.apple.com/us/app/id%d?mt=8</a>&quot;, 541406412];<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp; [[UIApplication sharedApplication] openURL:[NSURL URLWithString:RateURL]];<br/></p>','2013-12-11 07:07:38','2013-12-11 15:07:38'),(195,'114.247.232.56',3,'开发者中心电话','<p><a href=\"http://www.apple.com.cn/developer/contact/phone.html\" target=\"_blank\">http://www.apple.com.cn/developer/contact/phone.html</a></p><p><br/></p><p style=\"font: 18px/normal &quot;Heiti SC Light&quot;; margin: 0px 0px 14px; font-size-adjust: none; font-stretch: normal;\"><strong>亚太</strong><span style=\"font: 18px/normal &quot;Lucida Grande&quot;; font-size-adjust: none; font-stretch: normal;\"><strong> / </strong></span><strong>日本</strong></p><table cellspacing=\"0\" cellpadding=\"0\"><tbody><tr><td style=\"padding: 4px 6px;\" valign=\"top\" width=\"269\"><p style=\"font: 12px/normal &quot;Heiti SC Light&quot;; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><strong>国家</strong></p></td><td style=\"padding: 4px 6px;\" valign=\"top\" width=\"187\"><p style=\"font: 12px/normal &quot;Heiti SC Light&quot;; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><strong>语言</strong></p></td><td style=\"padding: 4px 6px;\" valign=\"top\" width=\"189\"><p style=\"font: 12px/normal &quot;Heiti SC Light&quot;; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><strong>营业时间</strong></p></td><td style=\"padding: 4px 6px;\" valign=\"top\" width=\"188\"><p style=\"font: 12px/normal &quot;Heiti SC Light&quot;; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><strong>电话</strong></p></td></tr><tr><td style=\"padding: 4px 6px;\" valign=\"top\" width=\"269\"><p style=\"font: 12px/normal &quot;Heiti SC Light&quot;; margin: 0px; font-size-adjust: none; font-stretch: normal;\">澳大利亚</p></td><td style=\"padding: 4px 6px;\" valign=\"top\" width=\"187\"><p style=\"font: 12px/normal &quot;Heiti SC Light&quot;; margin: 0px; font-size-adjust: none; font-stretch: normal;\">英语</p></td><td style=\"padding: 4px 6px;\" valign=\"top\" width=\"189\"><p style=\"font: 12px/normal &quot;Lucida Grande&quot;; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 12px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">周一至周五</span>, 09:00-17:00 AEDT</p></td><td style=\"padding: 4px 6px;\" valign=\"top\" width=\"188\"><p style=\"font: 12px/normal &quot;Lucida Grande&quot;; margin: 0px; font-size-adjust: none; font-stretch: normal;\">1300 068 387</p></td></tr><tr><td style=\"padding: 4px 6px;\" valign=\"top\" width=\"269\"><p style=\"font: 12px/normal &quot;Heiti SC Light&quot;; margin: 0px; font-size-adjust: none; font-stretch: normal;\">中国</p></td><td style=\"padding: 4px 6px;\" valign=\"top\" width=\"187\"><p style=\"font: 12px/normal &quot;Heiti SC Light&quot;; margin: 0px; font-size-adjust: none; font-stretch: normal;\">英语<span style=\"font: 12px/normal &quot;Lucida Grande&quot;; font-size-adjust: none; font-stretch: normal;\">, </span>简体中文</p></td><td style=\"padding: 4px 6px;\" valign=\"top\" width=\"189\"><p style=\"font: 12px/normal &quot;Lucida Grande&quot;; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 12px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">周一至周五</span>, 09:00-17:00 SGT</p></td><td style=\"padding: 4px 6px;\" valign=\"top\" width=\"188\"><p style=\"font: 12px/normal &quot;Lucida Grande&quot;; margin: 0px; font-size-adjust: none; font-stretch: normal;\">4006 701 855</p></td></tr><tr><td style=\"padding: 4px 6px;\" valign=\"top\" width=\"269\"><p style=\"font: 12px/normal &quot;Heiti SC Light&quot;; margin: 0px; font-size-adjust: none; font-stretch: normal;\">日本</p></td><td style=\"padding: 4px 6px;\" valign=\"top\" width=\"187\"><p style=\"font: 12px/normal &quot;Heiti SC Light&quot;; margin: 0px; font-size-adjust: none; font-stretch: normal;\">英语<span style=\"font: 12px/normal &quot;Lucida Grande&quot;; font-size-adjust: none; font-stretch: normal;\">, </span>日语</p></td><td style=\"padding: 4px 6px;\" valign=\"top\" width=\"189\"><p style=\"font: 12px/normal &quot;Lucida Grande&quot;; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 12px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">周一至周五</span>, 09:00-17:00 JST</p></td><td style=\"padding: 4px 6px;\" valign=\"top\" width=\"188\"><p style=\"font: 12px/normal &quot;Lucida Grande&quot;; margin: 0px; font-size-adjust: none; font-stretch: normal;\">0120 9333 88</p></td></tr><tr><td style=\"padding: 4px 6px;\" valign=\"top\" width=\"269\"><p style=\"font: 12px/normal &quot;Heiti SC Light&quot;; margin: 0px; font-size-adjust: none; font-stretch: normal;\">新加坡</p></td><td style=\"padding: 4px 6px;\" valign=\"top\" width=\"187\"><p style=\"font: 12px/normal &quot;Heiti SC Light&quot;; margin: 0px; font-size-adjust: none; font-stretch: normal;\">英语<span style=\"font: 12px/normal &quot;Lucida Grande&quot;; font-size-adjust: none; font-stretch: normal;\">, </span>简体中文</p></td><td style=\"padding: 4px 6px;\" valign=\"top\" width=\"189\"><p style=\"font: 12px/normal &quot;Lucida Grande&quot;; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 12px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">周一至周五</span>, 09:00-17:00 SGT</p></td><td style=\"padding: 4px 6px;\" valign=\"top\" width=\"188\"><p style=\"font: 12px/normal &quot;Lucida Grande&quot;; margin: 0px; font-size-adjust: none; font-stretch: normal;\">800 1865 012</p></td></tr></tbody></table><p><span style=\"font-size: 12px;\"></span><p><span style=\"font-size: 12px;\">处理信息的邮箱地址: chinadev@asia.apple.com</span></p><p></p><p></p><p></p></p>','2013-12-11 07:08:32','2013-12-11 15:08:32'),(196,'114.247.232.56',3,'FormSheet方式弹出窗体','<p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(71, 129, 134); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\">将XIB设成FormSheet窗体 &nbsp; </span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(71, 129, 134); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><br/></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(71, 129, 134); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> </span>ModifyHostInfo_iPad<span style=\"color: rgb(0, 0, 0);\"> *frm=[[</span>ModifyHostInfo_iPad<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">alloc</span><span style=\"color: rgb(0, 0, 0);\">] </span><span style=\"color: rgb(63, 28, 126);\">initWithNibName</span><span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(218, 46, 36);\">@&quot;ModifyHostInfo_iPad&quot;</span><span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">bundle</span><span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">nil</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">//加入这两句</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> [frm </span>setModalPresentationStyle<span style=\"color: rgb(0, 0, 0);\">:</span>UIModalPresentationFormSheet<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> [frm </span>setModalTransitionStyle<span style=\"color: rgb(0, 0, 0);\">:(</span><span style=\"color: rgb(194, 42, 159);\">int</span><span style=\"color: rgb(0, 0, 0);\">)</span>UIModalPresentationFormSheet<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> [</span><span style=\"color: rgb(194, 42, 159);\">self</span><span style=\"color: rgb(0, 0, 0);\"> </span>presentModalViewController<span style=\"color: rgb(0, 0, 0);\">:frm </span>animated<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">YES</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[frm <span style=\"color: rgb(63, 28, 126);\">release</span>];</p><p></p>','2013-12-11 07:08:55','2013-12-11 15:08:55'),(198,'14.222.220.159',3,'UITableView中动态的插入或删除','<p><span style=\"line-height: 21px; font-family: Tahoma, Helvetica, SimSun, sans-serif; border-collapse: collapse;\"></span></p><p style=\"margin: 0px; padding: 0px; text-align: left; color: rgb(68, 68, 68); line-height: 24px; word-wrap: break-word;\"><span style=\"color: rgb(51, 51, 51); word-wrap: break-word;\"><span style=\"font-family: Georgia,; word-wrap: break-word;\">在UITableView中插入或者删除指定的行（或者节）使用的是如下几个API：</span></span></p><ul style=\"margin: 0px 0px 0px 14px; padding: 0px; color: rgb(68, 68, 68); word-wrap: break-word;\" class=\" list-paddingleft-2\"><li><p>insertRowsAtIndexPath: withRowAnimation: 在指定位置插入行</p></li><li><p>deleteRowsAtIndexPath: withRowAnimation: 删除指定行</p></li><li><p>insertSections: withRowAnimation: 在指定位置插入节</p></li><li><p>deleteSections: withRowAnimation: 删除指定节<br style=\"word-wrap: break-word;\"/></p></li></ul><p style=\"margin: 0px; padding: 0px; text-align: left; color: rgb(68, 68, 68); line-height: 24px; word-wrap: break-word;\"><span style=\"color: rgb(51, 51, 51); word-wrap: break-word;\"><span style=\"font-family: Georgia,; word-wrap: break-word;\">调用以上API之前，必须先调用beginUpdates，插入/删除数据完成后再调用endUpdates。</span></span></p><p style=\"margin: 0px; padding: 0px; text-align: left; color: rgb(68, 68, 68); line-height: 24px; word-wrap: break-word;\"><span style=\"color: rgb(51, 51, 51); word-wrap: break-word;\"><span style=\"font-family: Georgia,; word-wrap: break-word;\">-(IBAction)addRows:(id)sender{</span></span></p><p style=\"margin: 0px; padding: 0px; text-align: left; color: rgb(68, 68, 68); line-height: 24px; word-wrap: break-word;\"><span style=\"color: rgb(51, 51, 51); word-wrap: break-word;\"><span style=\"font-family: Georgia,; word-wrap: break-word;\"> &nbsp; NSMutableArray *indexPaths = [[NSMutableArray alloc] init];</span></span></p><p style=\"margin: 0px; padding: 0px; text-align: left; color: rgb(68, 68, 68); line-height: 24px; word-wrap: break-word;\"><span style=\"color: rgb(51, 51, 51); word-wrap: break-word;\"><span style=\"font-family: Georgia,; word-wrap: break-word;\"> &nbsp; for (int i=0; i&lt;3; i++) {</span></span></p><p style=\"margin: 0px; padding: 0px; text-align: left; color: rgb(68, 68, 68); line-height: 24px; word-wrap: break-word;\"><span style=\"color: rgb(51, 51, 51); word-wrap: break-word;\"><span style=\"font-family: Georgia,; word-wrap: break-word;\"> &nbsp; &nbsp; &nbsp; &nbsp;NSIndexPath *indexPath = [NSIndexPath indexPathForRow:i inSection:0];</span></span></p><p style=\"margin: 0px; padding: 0px; text-align: left; color: rgb(68, 68, 68); line-height: 24px; word-wrap: break-word;\"><span style=\"color: rgb(51, 51, 51); word-wrap: break-word;\"><span style=\"font-family: Georgia,; word-wrap: break-word;\"> &nbsp; &nbsp; &nbsp; &nbsp;[indexPaths addObject: indexPath];</span></span></p><p><span style=\"color: rgb(68, 68, 68); line-height: 21px; font-family: Tahoma, Helvetica, SimSun, sans-serif; border-collapse: collapse;\"></span></p><p style=\"margin: 0px; padding: 0px; text-align: left; line-height: 24px; word-wrap: break-word;\"><span style=\"color: rgb(51, 51, 51); word-wrap: break-word;\"><span style=\"font-family: Georgia,; word-wrap: break-word;\"> &nbsp; &nbsp; &nbsp; &nbsp;NSString *s = [[NSString alloc] initWithFormat:@&quot;hello %d&quot;,i];</span></span></p><p style=\"margin: 0px; padding: 0px; text-align: left; line-height: 24px; word-wrap: break-word;\"><span style=\"color: rgb(51, 51, 51); word-wrap: break-word;\"><span style=\"font-family: Georgia,; word-wrap: break-word;\"> &nbsp; &nbsp; &nbsp; &nbsp;[datas addObject:s];</span></span></p><span style=\"line-height: 21px; font-family: Tahoma, Helvetica, SimSun, sans-serif; border-collapse: collapse;\"><p style=\"margin: 0px; padding: 0px; text-align: left; color: rgb(68, 68, 68); line-height: 24px; word-wrap: break-word;\"><span style=\"color: rgb(51, 51, 51); word-wrap: break-word;\"><span style=\"font-family: Georgia,; word-wrap: break-word;\"> &nbsp; }</span></span></p><p style=\"margin: 0px; padding: 0px; text-align: left; color: rgb(68, 68, 68); line-height: 24px; word-wrap: break-word;\"><span style=\"color: rgb(51, 51, 51); word-wrap: break-word;\"><span style=\"font-family: Georgia,; word-wrap: break-word;\">[self.tableView beginUpdates];</span></span></p><p style=\"margin: 0px; padding: 0px; text-align: left; color: rgb(68, 68, 68); line-height: 24px; word-wrap: break-word;\"><span style=\"color: rgb(51, 51, 51); word-wrap: break-word;\"><span style=\"font-family: Georgia,; word-wrap: break-word;\">[self.tableView insertRowsAtIndexPaths:indexPaths withRowAnimation:UITableViewRowAnimationNone];</span></span></p><p style=\"margin: 0px; padding: 0px; text-align: left; color: rgb(68, 68, 68); line-height: 24px; word-wrap: break-word;\"><span style=\"color: rgb(51, 51, 51); word-wrap: break-word;\"><span style=\"font-family: Georgia,; word-wrap: break-word;\">[self.tableView endUpdates];</span></span></p><p style=\"margin: 0px; padding: 0px; text-align: left; color: rgb(68, 68, 68); line-height: 24px; word-wrap: break-word;\"><span style=\"color: rgb(51, 51, 51); word-wrap: break-word;\"><span style=\"font-family: Georgia,; word-wrap: break-word;\">}</span></span></p><p style=\"margin: 0px; padding: 0px; text-align: left; color: rgb(68, 68, 68); line-height: 24px; word-wrap: break-word;\"><span style=\"color: rgb(51, 51, 51); word-wrap: break-word;\"><span style=\"font-family: Georgia,; word-wrap: break-word;\"><br/></span></span></p><p style=\"margin: 0px; padding: 0px; text-align: left; color: rgb(68, 68, 68); line-height: 24px; word-wrap: break-word;\"><span style=\"color: rgb(51, 51, 51); word-wrap: break-word;\"><span style=\"font-family: Georgia,; word-wrap: break-word;\">-(IBAction)delRows:(id)sender{</span></span></p><p style=\"margin: 0px; padding: 0px; text-align: left; color: rgb(68, 68, 68); line-height: 24px; word-wrap: break-word;\"><span style=\"color: rgb(51, 51, 51); word-wrap: break-word;\"><span style=\"font-family: Georgia,; word-wrap: break-word;\">NSMutableArray *indexPaths = [[NSMutableArray alloc] init];</span></span></p><p style=\"margin: 0px; padding: 0px; text-align: left; color: rgb(68, 68, 68); line-height: 24px; word-wrap: break-word;\"><span style=\"color: rgb(51, 51, 51); word-wrap: break-word;\"><span style=\"font-family: Georgia,; word-wrap: break-word;\">[datas removeObjectAtIndex:0];</span></span></p><p style=\"margin: 0px; padding: 0px; text-align: left; color: rgb(68, 68, 68); line-height: 24px; word-wrap: break-word;\"><span style=\"color: rgb(51, 51, 51); word-wrap: break-word;\"><span style=\"font-family: Georgia,; word-wrap: break-word;\">[indexPaths addObject:[NSIndexPath indexPathForRow:0 inSection:0]];</span></span></p><p style=\"margin: 0px; padding: 0px; text-align: left; color: rgb(68, 68, 68); line-height: 24px; word-wrap: break-word;\"><span style=\"color: rgb(51, 51, 51); word-wrap: break-word;\"><span style=\"font-family: Georgia,; word-wrap: break-word;\">[self.tableView beginUpdates];</span></span></p><p style=\"margin: 0px; padding: 0px; text-align: left; color: rgb(68, 68, 68); line-height: 24px; word-wrap: break-word;\"><span style=\"color: rgb(51, 51, 51); word-wrap: break-word;\"><span style=\"font-family: Georgia,; word-wrap: break-word;\">[self.tableView deleteRowsAtIndexPaths:indexPaths withRowAnimation:UITableViewRowAnimationNone];</span></span></p><p style=\"margin: 0px; padding: 0px; text-align: left; color: rgb(68, 68, 68); line-height: 24px; word-wrap: break-word;\"><span style=\"color: rgb(51, 51, 51); word-wrap: break-word;\"><span style=\"font-family: Georgia,; word-wrap: break-word;\">[self.tableView endUpdates];</span></span></p><p style=\"margin: 0px; padding: 0px; text-align: left; color: rgb(68, 68, 68); line-height: 24px; word-wrap: break-word;\"><span style=\"color: rgb(51, 51, 51); word-wrap: break-word;\"><span style=\"font-family: Georgia,; word-wrap: break-word;\">}</span></span></p><p style=\"margin: 0px; padding: 0px; text-align: left; color: rgb(68, 68, 68); line-height: 24px; word-wrap: break-word;\"><span style=\"color: rgb(51, 51, 51); word-wrap: break-word;\"><span style=\"font-family: Georgia,; word-wrap: break-word;\">需要注意的是，调用insert函数时，需保证数据源添加的记录数要与你想插入的行的总数一致，如上面的例子中，想要插入的记录有3条，插入位置分 别为1，2，3，则对应的indexpPaths数组的元素总数为3，数组元素为一个NSIndexPath对象，通过它我们指定了记录的插入位置。删除 数据也是相同的道理。</span></span></p></span><p></p><p><br/></p>','2013-12-11 07:09:45','2014-10-01 00:08:01'),(199,'114.247.232.56',3,'iphone基本openal','<p>它们在一起是怎么运作的：（最基本）<br/>1) 获取device<br/>2) 将context关联到device<br/>3) 将数据放入buffer<br/>4) 将buffer链接到一个source<br/>5) 播放source<br/><br/></p><p><br/></p><p style=\"font-size: 11px;\">//////////////////////////////////////////////</p><p style=\"font-size: 11px;\">//ALPlayPCM.h</p><p style=\"font-size: 11px;\">#import &lt;Foundation/Foundation.h&gt;</p><p style=\"font-size: 11px;\"><br/></p><p style=\"font-size: 11px;\">#import &lt;OpenAL/al.h&gt;</p><p style=\"font-size: 11px;\">#import &lt;OpenAL/alc.h&gt;</p><p style=\"font-size: 11px;\">#import &lt;OpenAL/oalMacOSX_OALExtensions.h&gt;</p><p style=\"font-size: 11px;\"><br/></p><p style=\"font-size: 11px;\">@interface ALPlayPCM : NSObject</p><p style=\"font-size: 11px;\">{</p><p style=\"font-size: 11px;\">ALCcontext *mContext;</p><p style=\"font-size: 11px;\">ALCdevice *mDevicde;</p><p style=\"font-size: 11px;\">ALuint outSourceId;</p><p style=\"font-size: 11px;\">ALuint buff;</p><p style=\"font-size: 11px;\">}</p><p style=\"font-size: 11px;\">@property(nonatomic)ALCcontext *mContext;</p><p style=\"font-size: 11px;\">@property(nonatomic)ALCdevice *mDevice;</p><p style=\"font-size: 11px;\"><br/></p><p style=\"font-size: 11px;\">-(id)initOpenAL;</p><p style=\"font-size: 11px;\">- (void) openSampleRate:(int)aSampleRate bit:(short)aBit channel:(short)aChannel buf:(unsigned char*)data len:(UInt32)dataSize;</p><p style=\"font-size: 11px;\">-(BOOL)updataQueueBuffer;</p><p style=\"font-size: 11px;\">-(void)playSound;</p><p style=\"font-size: 11px;\">-(void)stopSound;</p><p style=\"font-size: 11px;\"><br/></p><p style=\"font-size: 11px;\">@end</p><p><br/></p><p style=\"font-size: 11px;\">//////////////////////////////////////////////</p><p style=\"font-size: 11px;\">//ALPlayPCM.m</p><p style=\"font-size: 11px;\"><p>#import &quot;ALPlayPCM.h&quot;</p><p><br/></p><p>@implementation ALPlayPCM</p><p><br/></p><p>@synthesize mDevice,mContext;</p><p><br/></p><p>#pragma make - openal function</p><p><br/></p><p><br/></p><p>-(id)initOpenAL</p><p>{</p><p>if ((self=[super init])) {</p><p>&nbsp; &nbsp; &nbsp; &nbsp;mDevice=alcOpenDevice(NULL);</p><p>if (mDevice) {</p><p>mContext=alcCreateContext(mDevice, NULL);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;alcMakeContextCurrent(mContext);</p><p>}</p><p>&nbsp;</p><p>alGenSources(1, &amp;outSourceId);</p><p>&nbsp; &nbsp; &nbsp; &nbsp;alSpeedOfSound(1.0);</p><p>&nbsp; &nbsp; &nbsp; &nbsp;alDopplerVelocity(1.0);</p><p>&nbsp; &nbsp; &nbsp; &nbsp;alDopplerFactor(1.0);</p><p>alSourcef(outSourceId, AL_PITCH, 1.0f);</p><p>alSourcef(outSourceId, AL_GAIN, 1.0f);</p><p>&nbsp; &nbsp; &nbsp; &nbsp;alSourcei(outSourceId, AL_LOOPING, AL_FALSE);</p><p>&nbsp; &nbsp; &nbsp; &nbsp;alSourcef(outSourceId, AL_SOURCE_TYPE, AL_STREAMING);</p><p>}</p><p>&nbsp; &nbsp;return self;</p><p>}</p><p><br/></p><p>-(void)dealloc</p><p>{</p><p>[super dealloc];</p><p>&nbsp; &nbsp;NSLog(@&quot;openal sound dealloc&quot;);</p><p>&nbsp;</p><p>&nbsp; &nbsp;//清空内容并注销设备</p><p>&nbsp; &nbsp;[self stopSound];</p><p>&nbsp; &nbsp;alDeleteSources(1, &amp;outSourceId);</p><p>&nbsp; &nbsp;alDeleteBuffers(1, &amp;buff);</p><p>&nbsp; &nbsp;alcDestroyContext(mContext);</p><p>&nbsp; &nbsp;alcCloseDevice(mDevicde);</p><p>}</p><p><br/></p><p><br/></p><p>- (void) openSampleRate:(int)aSampleRate bit:(short)aBit channel:(short)aChannel buf:(unsigned char*)data len:(UInt32)dataSize</p><p>{</p><p>NSCondition* ticketCondition= [[NSCondition alloc] init];</p><p>[ticketCondition lock];</p><p>&nbsp;</p><p>ALuint bufferID = 0;</p><p>alGenBuffers(1, &amp;bufferID);</p><p>&nbsp; &nbsp;// NSLog(@&quot;bufferID = %d&quot;,bufferID);</p><p>NSData * tmpData = [NSData dataWithBytes:data length:dataSize];</p><p><br/></p><p>&nbsp; &nbsp;// NSLog(@&quot;%d,%d,%d&quot;,aSampleRate,aBit,aChannel);</p><p>ALenum format;</p><p>&nbsp;</p><p>if (aBit == 8) {</p><p>if (aChannel == 1)</p><p>format = AL_FORMAT_MONO8;</p><p>else if(aChannel == 2)</p><p>format = AL_FORMAT_STEREO8;</p><p>&nbsp; &nbsp; &nbsp; &nbsp;else if( alIsExtensionPresent( &quot;AL_EXT_MCFORMATS&quot; ) )</p><p>{</p><p>if( aChannel == 4 )</p><p>{</p><p>format = alGetEnumValue( &quot;AL_FORMAT_QUAD8&quot; );</p><p>}</p><p>if( aChannel == 6 )</p><p>{</p><p>format = alGetEnumValue( &quot;AL_FORMAT_51CHN8&quot; );</p><p>}</p><p>}</p><p>}</p><p>&nbsp;</p><p>if( aBit == 16 )</p><p>{</p><p>if( aChannel == 1 )</p><p>{</p><p>format = AL_FORMAT_MONO16;</p><p>}</p><p>if( aChannel == 2 )</p><p>{</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// NSLog(@&quot;achhenl= 2!!!!!&quot;);</p><p>format = AL_FORMAT_STEREO16;</p><p>}</p><p>&nbsp; &nbsp; &nbsp; &nbsp;if( alIsExtensionPresent( &quot;AL_EXT_MCFORMATS&quot; ) )</p><p>{</p><p>if( aChannel == 4 )</p><p>{</p><p>format = alGetEnumValue( &quot;AL_FORMAT_QUAD16&quot; );</p><p>}</p><p>if( aChannel == 6 )</p><p>{</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;NSLog(@&quot;achannel = 6!!!!!!&quot;);</p><p>format = alGetEnumValue( &quot;AL_FORMAT_51CHN16&quot; );</p><p>}</p><p>}</p><p>}</p><p>&nbsp; &nbsp;// &nbsp;NSLog(@&quot;%d&quot;,format);</p><p>alBufferData(bufferID, format, (char*)[tmpData bytes], (ALsizei)[tmpData length],aSampleRate);</p><p>alSourceQueueBuffers(outSourceId, 1, &amp;bufferID);</p><p>&nbsp;</p><p>&nbsp; &nbsp;[self updataQueueBuffer];</p><p>&nbsp;</p><p>ALint stateVaue;</p><p>alGetSourcei(outSourceId, AL_SOURCE_STATE, &amp;stateVaue);</p><p>&nbsp;</p><p>[ticketCondition unlock];</p><p>ticketCondition = nil;</p><p>&nbsp;</p><p>}</p><p><br/></p><p><br/></p><p>- (BOOL)updataQueueBuffer</p><p>{</p><p>ALint stateVaue;</p><p>int processed, queued;</p><p>&nbsp;</p><p>alGetSourcei(outSourceId, AL_BUFFERS_PROCESSED, &amp;processed);</p><p>alGetSourcei(outSourceId, AL_BUFFERS_QUEUED, &amp;queued);</p><p>&nbsp;</p><p>&nbsp; &nbsp;//NSLog(@&quot;Processed = %d\\n&quot;, processed);</p><p>&nbsp; &nbsp;//NSLog(@&quot;Queued = %d\\n&quot;, queued);</p><p>&nbsp;</p><p>alGetSourcei(outSourceId, AL_SOURCE_STATE, &amp;stateVaue);</p><p>&nbsp;</p><p>if (stateVaue == AL_STOPPED ||</p><p>stateVaue == AL_PAUSED ||</p><p>stateVaue == AL_INITIAL)</p><p>{</p><p>if (queued &lt; processed || queued == 0 ||(queued == 1 &amp;&amp; processed ==1)) {</p><p>NSLog(@&quot;Audio Stop&quot;);</p><p>[self stopSound];</p><p>}</p><p>&nbsp;</p><p>&nbsp; &nbsp; &nbsp; &nbsp;// NSLog(@&quot;===statevaue ========================%d&quot;,stateVaue);</p><p>&nbsp; &nbsp; &nbsp; &nbsp;//[self playSound];</p><p>return NO;</p><p>}</p><p>&nbsp;</p><p>while(processed--)</p><p>{</p><p>&nbsp; &nbsp; &nbsp; &nbsp;// NSLog(@&quot;queue = %d&quot;,queued);</p><p>&nbsp; &nbsp; &nbsp; &nbsp;alSourceUnqueueBuffers(outSourceId, 1, &amp;buff);</p><p>&nbsp; &nbsp; &nbsp; &nbsp;alDeleteBuffers(1, &amp;buff);</p><p>}</p><p>&nbsp; &nbsp;//NSLog(@&quot;queue = %d&quot;,queued);</p><p>&nbsp; &nbsp;return YES;</p><p>}</p><p><br/></p><p><br/></p><p>#pragma make - play/stop/clean function</p><p>-(void)playSound</p><p>{</p><p>&nbsp; &nbsp;alSourcePlay(outSourceId);</p><p>}</p><p>-(void)stopSound</p><p>{</p><p>&nbsp; &nbsp;alSourceStop(outSourceId);</p><p>}</p><p><br/></p><p>@end</p><p></p><p></p><p></p></p>','2013-12-11 07:10:12','2013-12-11 15:10:12'),(200,'114.247.232.56',3,'NSString判断是否为数值型','<p style=\"font: 11px/normal &quot;Heiti SC Light&quot;; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">//</span>当<span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">NSString</span>为纯数字的时候可以用下面的方法：</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal &quot;Heiti SC Light&quot;; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">//</span>判断是否为整形：</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">BOOL</span>)isPureInt:(<span style=\"color: rgb(116, 60, 166);\">NSString</span>*)string{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">NSScanner</span>* scan = [<span style=\"color: rgb(116, 60, 166);\">NSScanner</span> <span style=\"color: rgb(63, 28, 126);\">scannerWithString</span>:string];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">int</span> val;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">return</span>[scan <span style=\"color: rgb(63, 28, 126);\">scanInt</span>:&amp;val] &amp;&amp; [scan <span style=\"color: rgb(63, 28, 126);\">isAtEnd</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal &quot;Heiti SC Light&quot;; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">//</span>判断是否为浮点形：</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">BOOL</span>)isPureFloat:(<span style=\"color: rgb(116, 60, 166);\">NSString</span>*)string{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">NSScanner</span>* scan = [<span style=\"color: rgb(116, 60, 166);\">NSScanner</span> <span style=\"color: rgb(63, 28, 126);\">scannerWithString</span>:string];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">float</span> val;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">return</span>[scan <span style=\"color: rgb(63, 28, 126);\">scanFloat</span>:&amp;val] &amp;&amp; [scan <span style=\"color: rgb(63, 28, 126);\">isAtEnd</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p></p>','2013-12-11 07:10:33','2013-12-11 15:10:33'),(201,'114.247.232.56',3,'字符判断文件名和扩展名','<p>NSString<span style=\"color: rgb(0, 0, 0);\">*str=[</span>NSString<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">stringWithString</span><span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(218, 46, 36);\">@&quot;aaa.jpg&quot;</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">if</span> ([str <span style=\"color: rgb(63, 28, 126);\">hasPrefix</span>:<span style=\"color: rgb(218, 46, 36);\">@&quot;aaa&quot;</span>]) {</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">NSLog</span>(<span style=\"color: rgb(218, 46, 36);\">@&quot;</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\">是</span><span style=\"color: rgb(218, 46, 36);\">aaa</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\">文件</span><span style=\"color: rgb(218, 46, 36);\">&quot;</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">if</span> ([str <span style=\"color: rgb(63, 28, 126);\">hasSuffix</span>:<span style=\"color: rgb(218, 46, 36);\">@&quot;jpg&quot;</span>]) {</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">NSLog</span>(<span style=\"color: rgb(218, 46, 36);\">@&quot;</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\">是</span><span style=\"color: rgb(218, 46, 36);\">jpg</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\">文件</span><span style=\"color: rgb(218, 46, 36);\">&quot;</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p></p>','2013-12-11 07:10:52','2013-12-11 15:10:52'),(202,'114.247.232.56',3,'选取指定Tag的UIView','<p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">UIView</span><span style=\"color: rgb(0, 0, 0);\"> *v=[</span><span style=\"color: rgb(194, 42, 159);\">self</span><span style=\"color: rgb(0, 0, 0);\">.</span><span style=\"color: rgb(116, 60, 166);\">view</span><span style=\"color: rgb(0, 0, 0);\"> </span>viewWithTag<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(37, 38, 211);\">100</span><span style=\"color: rgb(0, 0, 0);\">]; &nbsp;//tag为100</span></p><p></p>','2013-12-11 07:11:11','2013-12-11 15:11:11'),(203,'114.247.232.56',3,'UIButton变成复选框效果','<p><span style=\"color: rgb(51, 51, 51); line-height: 24px; font-family: &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, Arial, Verdana, sans-serif; border-collapse: collapse;\">-(void)checkboxClick:(UIButton *)btn<br style=\"outline-style: none;\"/>{<br style=\"outline-style: none;\"/> &nbsp; &nbsp;btn.selected = !btn.selected;<br style=\"outline-style: none;\"/>}<br style=\"outline-style: none;\"/><br style=\"outline-style: none;\"/><br style=\"outline-style: none;\"/>- (void)viewDidLoad {<br style=\"outline-style: none;\"/>UIButton *checkbox = [UIButton buttonWithType:UIButtonTypeCustom];<br style=\"outline-style: none;\"/> &nbsp; &nbsp;<br style=\"outline-style: none;\"/> &nbsp; &nbsp;CGRect checkboxRect = CGRectMake(135,150,36,36);<br style=\"outline-style: none;\"/> &nbsp; &nbsp;[checkbox setFrame:checkboxRect];<br style=\"outline-style: none;\"/> &nbsp; &nbsp;<br style=\"outline-style: none;\"/> &nbsp; &nbsp;[checkbox setImage:[UIImage imageNamed:@&quot;checkbox_off.png&quot;] forState:UIControlStateNormal];<br style=\"outline-style: none;\"/> &nbsp; &nbsp;[checkbox setImage:[UIImage imageNamed:@&quot;checkbox_on.png&quot;] forState:UIControlStateSelected];<br style=\"outline-style: none;\"/> &nbsp; &nbsp;<br style=\"outline-style: none;\"/> &nbsp; &nbsp;[checkbox addTarget:self action:@selector(checkboxClick:) forControlEvents:UIControlEventTouchUpInside];<br style=\"outline-style: none;\"/>[self.view addSubview:checkbox]; &nbsp; &nbsp;<br style=\"outline-style: none;\"/>}</span></p>','2013-12-11 07:11:27','2013-12-11 15:11:27'),(204,'192.168.6.1',3,'键盘显示和隐藏事件','<p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">void</span>)viewDidLoad</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;[</span><span style=\"color: rgb(194, 42, 159);\">super</span><span style=\"color: rgb(0, 0, 0);\"> </span>viewDidLoad<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">//注册事件</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;[[</span>NSNotificationCenter<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">defaultCenter</span><span style=\"color: rgb(0, 0, 0);\">]</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">addObserver</span>:<span style=\"color: rgb(194, 42, 159);\">self</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">selector</span>:<span style=\"color: rgb(194, 42, 159);\">@selector</span>(keyboardWillShow:)</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; </span><span style=\"color: rgb(63, 28, 126);\">name</span><span style=\"color: rgb(0, 0, 0);\">:</span>UIKeyboardWillShowNotification</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">object</span>:<span style=\"color: rgb(194, 42, 159);\">nil</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;[[</span>NSNotificationCenter<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">defaultCenter</span><span style=\"color: rgb(0, 0, 0);\">]</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">addObserver</span>:<span style=\"color: rgb(194, 42, 159);\">self</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">selector</span>:<span style=\"color: rgb(194, 42, 159);\">@selector</span>(keyboardWillHide:)</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; </span><span style=\"color: rgb(63, 28, 126);\">name</span><span style=\"color: rgb(0, 0, 0);\">:</span>UIKeyboardWillHideNotification</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">object</span>:<span style=\"color: rgb(194, 42, 159);\">nil</span>];</p><p>&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">- (</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">void</span><span style=\"font-variant-ligatures: no-common-ligatures\">) keyboardWillShow:(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSNotification</span><span style=\"font-variant-ligatures: no-common-ligatures\"> *)note {</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(209, 47, 27);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">NSLog</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">(</span><span style=\"font-variant-ligatures: no-common-ligatures\">@&quot;keyboard show&quot;</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">);</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; min-height: 13px;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp;&nbsp; &nbsp;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures\">//</span><span style=\"line-height: normal; font-family: &#39;PingFang SC&#39;; font-variant-ligatures: no-common-ligatures;\">上移输入框</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSDictionary</span><span style=\"font-variant-ligatures: no-common-ligatures\">* info = [note </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">userInfo</span><span style=\"font-variant-ligatures: no-common-ligatures\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(112, 61, 170);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures\">NSValue</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">* aValue = [info </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">objectForKey</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:@&quot;</span><span style=\"font-variant-ligatures: no-common-ligatures\">UIKeyboardBoundsUserInfoKey&quot;</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">CGSize</span><span style=\"font-variant-ligatures: no-common-ligatures\"> keyboardRect = [aValue </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">CGRectValue</span><span style=\"font-variant-ligatures: no-common-ligatures\">].</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">size</span><span style=\"font-variant-ligatures: no-common-ligatures\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIView</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">beginAnimations</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">context</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">NULL</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIView</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">setAnimationDuration</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">0.5</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; min-height: 13px;\"><span style=\"font-variant-ligatures: no-common-ligatures\"></span><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">CGRect</span><span style=\"font-variant-ligatures: no-common-ligatures\"> rk;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; rk=</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">self</span><span style=\"font-variant-ligatures: no-common-ligatures\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">view</span><span style=\"font-variant-ligatures: no-common-ligatures\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">frame</span><span style=\"font-variant-ligatures: no-common-ligatures\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; rk.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">origin</span><span style=\"font-variant-ligatures: no-common-ligatures\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">y</span><span style=\"font-variant-ligatures: no-common-ligatures\">=-keyboardRect.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">height</span><span style=\"font-variant-ligatures: no-common-ligatures\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">self</span><span style=\"font-variant-ligatures: no-common-ligatures\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">view</span><span style=\"font-variant-ligatures: no-common-ligatures\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">setFrame</span><span style=\"font-variant-ligatures: no-common-ligatures\">:rk];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; min-height: 13px;\"><span style=\"font-variant-ligatures: no-common-ligatures\"></span><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIView</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">setAnimationTransition</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">0</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">forView</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">self</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">view</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">cache</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">YES</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIView</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">commitAnimations</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; min-height: 13px;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp;&nbsp; &nbsp;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">}</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">- (</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">void</span><span style=\"font-variant-ligatures: no-common-ligatures\">) keyboardWillHide:(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSNotification</span><span style=\"font-variant-ligatures: no-common-ligatures\"> *)note</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">{</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(209, 47, 27);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">NSLog</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">(</span><span style=\"font-variant-ligatures: no-common-ligatures\">@&quot;keyboard hide&quot;</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">);</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures\">//</span><span style=\"line-height: normal; font-family: &#39;PingFang SC&#39;; font-variant-ligatures: no-common-ligatures;\">恢复输入框</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIView</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">beginAnimations</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">context</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">NULL</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIView</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">setAnimationDuration</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">0.5</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; min-height: 13px;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp;&nbsp; &nbsp;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">CGRect</span><span style=\"font-variant-ligatures: no-common-ligatures\"> rk;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; rk=</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">self</span><span style=\"font-variant-ligatures: no-common-ligatures\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">view</span><span style=\"font-variant-ligatures: no-common-ligatures\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">frame</span><span style=\"font-variant-ligatures: no-common-ligatures\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; rk.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">origin</span><span style=\"font-variant-ligatures: no-common-ligatures\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">y</span><span style=\"font-variant-ligatures: no-common-ligatures\">=</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">0</span><span style=\"font-variant-ligatures: no-common-ligatures\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">self</span><span style=\"font-variant-ligatures: no-common-ligatures\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">view</span><span style=\"font-variant-ligatures: no-common-ligatures\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">setFrame</span><span style=\"font-variant-ligatures: no-common-ligatures\">:rk];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; min-height: 13px;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp;&nbsp; &nbsp;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIView</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">setAnimationTransition</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">0</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">forView</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">self</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">view</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">cache</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">YES</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIView</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">commitAnimations</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">}</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">//退出键盘事件</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">- (</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">IBAction</span><span style=\"font-variant-ligatures: no-common-ligatures\">)didOnExit:(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">id</span><span style=\"font-variant-ligatures: no-common-ligatures\">)sender</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">{</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(112, 61, 170);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures\">UITextField</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">*t=(</span><span style=\"font-variant-ligatures: no-common-ligatures\">UITextField</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">*)sender;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; [t </span><span style=\"font-variant-ligatures: no-common-ligatures\">resignFirstResponder</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">}</span></p>','2013-12-11 07:11:48','2017-04-19 15:55:42'),(205,'114.247.232.56',3,'IOS程序内发短信','<p>iOS4.0新加入了MFMessageComposeViewController和MFMessageComposeViewControllerDelegate,提供了发送短信的接口,可以像发送邮件那样不用跳出程序来发送短信. 介绍可参阅Message UI<br/>Framework Reference</p><p>一些笔记:</p><h3><br/>MFMessageComposeViewController</h3><ul class=\" list-paddingleft-2\"><li><p>提供了操作界面</p></li><li><p>使用前必须检查canSendText方法,若返回NO则不应将这个controller展现出来,而应该提示用户不支持发送短信功能.</p></li><li><p>界面不能自行定制</p></li><li><p>要发送的短信的内容(body)和收件人(recipients)在展现这个controller前需初始化好,展现了之后短信内容不能通过程序来进行修改.不过用户仍然可以手工修改短信内容和选择收件人</p></li><li><p>用户点了发送或者取消,或者发送失败时,MFMessageComposeViewControllerDelegate 的– messageComposeViewController:didFinishWithResult:方法都能得到通知,在这里进行相应的处理</p></li></ul><p><strong>若在iOS3.0上运行的话,会提示dyld: Symbol not found: _OBJC_CLASS_$_MFMessageComposeViewController .解决方案:</strong></p><ol class=\" list-paddingleft-2\"><li><p>MessageUI.framework的引入类型应选择weak(在target -&gt; Get Info -&gt; General -&gt; Linked Libraries -&gt; MessageUI.framework -&gt; Type 里修改)</p></li><li><p>不要在.h文件里直接import MessageUI/MFMessageComposeViewController.h,改为import &lt;MessageUI/MessageUI.h&gt;</p></li></ol><p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">///////////////////////////////////////////////////////////.h</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\">-(<span style=\"color: rgb(194, 42, 159);\">IBAction</span>)showSMSPicker:(<span style=\"color: rgb(194, 42, 159);\">id</span>)sender;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\">-(<span style=\"color: rgb(194, 42, 159);\">void</span>)displaySMSComposerSheet;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\">-(<span style=\"color: rgb(194, 42, 159);\">void</span>)messageComposeViewController:(<span style=\"color: rgb(71, 129, 134);\">MFMessageComposeViewController</span> *)controller</span></p><p style=\"text-indent: 2em;\"><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">didFinishWithResult:(<span style=\"color: rgb(71, 129, 134);\">MessageComposeResult</span>)result ;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"font-family: Times;\"><span style=\"font-size: 14px;\"><br/></span></span></p><p>&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 128, 0);\">///////////////////////////////////////////////////////////.m</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(124, 73, 46); font-size-adjust: none; font-stretch: normal;\">#pragma mark - #pragma mark SMS</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">-(<span style=\"color: rgb(194, 42, 159);\">IBAction</span>)showSMSPicker:(<span style=\"color: rgb(194, 42, 159);\">id</span>)sender {</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>// &nbsp;The MFMessageComposeViewController class is only available in iPhone OS 4.0 or later.</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>// &nbsp;So, we must verify the existence of the above class and log an error message for devices</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>// &nbsp; &nbsp; &nbsp;running earlier versions of the iPhone OS. Set feedbackMsg if device doesn&#39;t support</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>// &nbsp; &nbsp; &nbsp;MFMessageComposeViewController API.</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(116, 60, 166);\">Class</span><span style=\"color: rgb(0, 0, 0);\"> messageClass = (</span><span style=\"color: rgb(63, 28, 126);\">NSClassFromString</span><span style=\"color: rgb(0, 0, 0);\">(</span>@&quot;MFMessageComposeViewController&quot;<span style=\"color: rgb(0, 0, 0);\">)); &nbsp; &nbsp;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">if</span> (messageClass != <span style=\"color: rgb(194, 42, 159);\">nil</span>) {</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span>// Check whether the current device is configured for sending SMS messages</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">if</span> ([messageClass <span style=\"color: rgb(43, 89, 93);\">canSendText</span>]) {</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[<span style=\"color: rgb(194, 42, 159);\">self</span> <span style=\"color: rgb(43, 89, 93);\">displaySMSComposerSheet</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">else</span> </p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">UIAlertView</span> *alert = [[<span style=\"color: rgb(116, 60, 166);\">UIAlertView</span> <span style=\"color: rgb(63, 28, 126);\">alloc</span>] <span style=\"color: rgb(63, 28, 126);\">initWithTitle</span>:<span style=\"color: rgb(218, 46, 36);\">@&quot;</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\">设备没有短信功能</span><span style=\"color: rgb(218, 46, 36);\">&quot;</span> </p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">message</span>:<span style=\"color: rgb(194, 42, 159);\">nil</span> <span style=\"color: rgb(63, 28, 126);\">delegate</span>: <span style=\"color: rgb(194, 42, 159);\">self</span> </p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">cancelButtonTitle</span>:<span style=\"color: rgb(218, 46, 36);\">@&quot;</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\">关闭</span><span style=\"color: rgb(218, 46, 36);\">&quot;</span> </p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">otherButtonTitles</span>: <span style=\"color: rgb(194, 42, 159);\">nil</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[alert <span style=\"color: rgb(63, 28, 126);\">show</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[alert <span style=\"color: rgb(63, 28, 126);\">release</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">else</span> </p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(116, 60, 166);\">UIAlertView</span><span style=\"color: rgb(0, 0, 0);\"> *alert = [[</span><span style=\"color: rgb(116, 60, 166);\">UIAlertView</span><span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">alloc</span><span style=\"color: rgb(0, 0, 0);\">] </span><span style=\"color: rgb(63, 28, 126);\">initWithTitle</span><span style=\"color: rgb(0, 0, 0);\">:</span>@&quot;CiOS<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">版本过低</span>,iOS4.0<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">以上才支持程序内发送短信</span>&quot;<span style=\"color: rgb(0, 0, 0);\"> </span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">message</span>:<span style=\"color: rgb(194, 42, 159);\">nil</span> <span style=\"color: rgb(63, 28, 126);\">delegate</span>: <span style=\"color: rgb(194, 42, 159);\">self</span> </p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">cancelButtonTitle</span>:<span style=\"color: rgb(218, 46, 36);\">@&quot;</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\">关闭</span><span style=\"color: rgb(218, 46, 36);\">&quot;</span> </p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">otherButtonTitles</span>: <span style=\"color: rgb(194, 42, 159);\">nil</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[alert <span style=\"color: rgb(63, 28, 126);\">show</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[alert <span style=\"color: rgb(63, 28, 126);\">release</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">-(<span style=\"color: rgb(194, 42, 159);\">void</span>)displaySMSComposerSheet {</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(71, 129, 134); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>MFMessageComposeViewController<span style=\"color: rgb(0, 0, 0);\"> *picker = [[</span>MFMessageComposeViewController<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">alloc</span><span style=\"color: rgb(0, 0, 0);\">] </span><span style=\"color: rgb(63, 28, 126);\">init</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(71, 129, 134); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;picker.</span>messageComposeDelegate<span style=\"color: rgb(0, 0, 0);\"> = </span><span style=\"color: rgb(194, 42, 159);\">self</span><span style=\"color: rgb(0, 0, 0);\">;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">picker.<span style=\"color: rgb(71, 129, 134);\">body</span>=[<span style=\"color: rgb(116, 60, 166);\">NSString</span> <span style=\"color: rgb(63, 28, 126);\">stringWithFormat</span>:<span style=\"color: rgb(218, 46, 36);\">@&quot;</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\">于小妹我喜欢你</span><span style=\"color: rgb(218, 46, 36);\">.&quot;</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;[</span><span style=\"color: rgb(194, 42, 159);\">self</span><span style=\"color: rgb(0, 0, 0);\"> </span>presentModalViewController<span style=\"color: rgb(0, 0, 0);\">:picker </span>animated<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">YES</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[picker <span style=\"color: rgb(63, 28, 126);\">release</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">-(<span style=\"color: rgb(194, 42, 159);\">void</span>)messageComposeViewController:(<span style=\"color: rgb(71, 129, 134);\">MFMessageComposeViewController</span> *)controller</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">didFinishWithResult:(<span style=\"color: rgb(71, 129, 134);\">MessageComposeResult</span>)result</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">switch</span> (result)</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(43, 89, 93); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(194, 42, 159);\">case</span><span style=\"color: rgb(0, 0, 0);\"> </span>MessageComposeResultCancelled<span style=\"color: rgb(0, 0, 0);\">:</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(63, 28, 126);\">NSLog</span><span style=\"color: rgb(0, 0, 0);\">(</span>@&quot;Result: SMS sending canceled&quot;<span style=\"color: rgb(0, 0, 0);\">);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">break</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(43, 89, 93); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(194, 42, 159);\">case</span><span style=\"color: rgb(0, 0, 0);\"> </span>MessageComposeResultSent<span style=\"color: rgb(0, 0, 0);\">:</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(63, 28, 126);\">NSLog</span><span style=\"color: rgb(0, 0, 0);\">(</span>@&quot;Result: SMS sent&quot;<span style=\"color: rgb(0, 0, 0);\">);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">break</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(43, 89, 93); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(194, 42, 159);\">case</span><span style=\"color: rgb(0, 0, 0);\"> </span>MessageComposeResultFailed<span style=\"color: rgb(0, 0, 0);\">:</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">UIAlertView</span> *alert = [[<span style=\"color: rgb(116, 60, 166);\">UIAlertView</span> <span style=\"color: rgb(63, 28, 126);\">alloc</span>] <span style=\"color: rgb(63, 28, 126);\">initWithTitle</span>:<span style=\"color: rgb(218, 46, 36);\">@&quot;</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\">短信发送失败</span><span style=\"color: rgb(218, 46, 36);\">&quot;</span> </p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">message</span>:<span style=\"color: rgb(194, 42, 159);\">nil</span> <span style=\"color: rgb(63, 28, 126);\">delegate</span>: <span style=\"color: rgb(194, 42, 159);\">self</span> </p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">cancelButtonTitle</span>:<span style=\"color: rgb(218, 46, 36);\">@&quot;</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\">关闭</span><span style=\"color: rgb(218, 46, 36);\">&quot;</span> </p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">otherButtonTitles</span>: <span style=\"color: rgb(194, 42, 159);\">nil</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[alert <span style=\"color: rgb(63, 28, 126);\">show</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[alert <span style=\"color: rgb(63, 28, 126);\">release</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">break</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">default</span>:</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(63, 28, 126);\">NSLog</span><span style=\"color: rgb(0, 0, 0);\">(</span>@&quot;Result: SMS not sent&quot;<span style=\"color: rgb(0, 0, 0);\">);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">break</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;[</span><span style=\"color: rgb(194, 42, 159);\">self</span><span style=\"color: rgb(0, 0, 0);\"> </span>dismissModalViewControllerAnimated<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">YES</span><span style=\"color: rgb(0, 0, 0);\">]; </span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p></p></p>','2013-12-11 07:12:16','2013-12-11 15:12:16'),(206,'114.247.232.56',3,'指南针功能','<p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(124, 73, 46);\"><span style=\"color: rgb(0, 0, 0);\">/////////////////// &nbsp;.h &nbsp; ////////////////////</span></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(124, 73, 46);\">#import </span>&lt;CoreLocation/CoreLocation.h&gt;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">CLLocationManager</span> *m_locManager;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">//加入<span style=\"color: rgb(218, 46, 36);\">CoreLocation.framework</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p>&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">/////////////////// &nbsp;.m &nbsp; ////////////////////</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">id</span>)initWithNibName:(<span style=\"color: rgb(116, 60, 166);\">NSString</span> *)nibNameOrNil bundle:(<span style=\"color: rgb(116, 60, 166);\">NSBundle</span> *)nibBundleOrNil</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">self</span> = [<span style=\"color: rgb(194, 42, 159);\">super</span> <span style=\"color: rgb(63, 28, 126);\">initWithNibName</span>:nibNameOrNil <span style=\"color: rgb(63, 28, 126);\">bundle</span>:nibBundleOrNil];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">if</span> (<span style=\"color: rgb(194, 42, 159);\">self</span>) {</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span>// Custom initialization</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(71, 129, 134);\">m_locManager</span> = [[<span style=\"color: rgb(116, 60, 166);\">CLLocationManager</span> <span style=\"color: rgb(63, 28, 126);\">alloc</span>] <span style=\"color: rgb(63, 28, 126);\">init</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(71, 129, 134);\">m_locManager</span>.<span style=\"color: rgb(116, 60, 166);\">delegate</span> = <span style=\"color: rgb(194, 42, 159);\">self</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span>///<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">测试设备是否支持</span>heading</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(194, 42, 159);\">if</span><span style=\"color: rgb(0, 0, 0);\"> ([</span><span style=\"color: rgb(71, 129, 134);\">m_locManager</span><span style=\"color: rgb(0, 0, 0);\"> </span>headingAvailable<span style=\"color: rgb(0, 0, 0);\">]) </span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">NSLog</span>(<span style=\"color: rgb(218, 46, 36);\">@&quot;</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\">指南针可用</span><span style=\"color: rgb(218, 46, 36);\">&quot;</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span> &nbsp; &nbsp;<span style=\"color: rgb(116, 60, 166);\"><span style=\"color: rgb(71, 129, 134);\">m_locManager</span><span style=\"color: rgb(0, 0, 0);\">.</span>headingFilter<span style=\"color: rgb(0, 0, 0);\">=</span><span style=\"color: rgb(37, 38, 211);\">1</span><span style=\"color: rgb(0, 0, 0);\">;</span></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[</span><span style=\"color: rgb(71, 129, 134);\">m_locManager</span><span style=\"color: rgb(0, 0, 0);\"> </span>startUpdatingHeading<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">else</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(71, 129, 134);\">imgPointer</span>.<span style=\"color: rgb(116, 60, 166);\">alpha</span> = <span style=\"color: rgb(37, 38, 211);\">0.0f</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">NSLog</span>(<span style=\"color: rgb(218, 46, 36);\">@&quot;</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\">不支持指南针</span><span style=\"color: rgb(218, 46, 36);\">&quot;</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(194, 42, 159); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>return<span style=\"color: rgb(0, 0, 0);\"> </span>self<span style=\"color: rgb(0, 0, 0);\">;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">-(<span style=\"color: rgb(194, 42, 159);\">void</span>) dealloc</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(71, 129, 134); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;[</span>m_locManager<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">release</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(71, 129, 134); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>m_locManager<span style=\"color: rgb(0, 0, 0);\">=</span><span style=\"color: rgb(194, 42, 159);\">nil</span><span style=\"color: rgb(0, 0, 0);\">;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p>&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(124, 73, 46); font-size-adjust: none; font-stretch: normal;\">#pragma mark -<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">使用</span>Heading<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">值跟踪北向</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">void</span>)locationManager:(<span style=\"color: rgb(116, 60, 166);\">CLLocationManager</span> *)manager didFailWithError:(<span style=\"color: rgb(116, 60, 166);\">NSError</span> *)error</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(63, 28, 126);\">NSLog</span><span style=\"color: rgb(0, 0, 0);\">(</span>@&quot;Location manager error: %@&quot;<span style=\"color: rgb(0, 0, 0);\">, [error </span><span style=\"color: rgb(63, 28, 126);\">description</span><span style=\"color: rgb(0, 0, 0);\">]);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">void</span>)locationManager:(<span style=\"color: rgb(116, 60, 166);\">CLLocationManager</span> *)manager didUpdateHeading:(<span style=\"color: rgb(116, 60, 166);\">CLHeading</span> *)newHeading</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>// <span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">回调方法返回一个</span> CLHeading <span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">对象，</span>CLHeading<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">对象可以查询前进方向的两个属性：</span>magneticHeading<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">和</span>trueHeading<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">，</span></p><p style=\"font: 11px/normal &quot;Heiti SC Light&quot;; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 11px/normal Menlo; color: rgb(0, 0, 0); font-size-adjust: none; font-stretch: normal;\"> &nbsp; &nbsp;</span><span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">// magneticHeading </span>返回磁北的相对位置，磁北对应于随时间变化的地球磁场极点；</p><p style=\"font: 11px/normal &quot;Heiti SC Light&quot;; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 11px/normal Menlo; color: rgb(0, 0, 0); font-size-adjust: none; font-stretch: normal;\"> &nbsp; &nbsp;</span><span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">// trueHeading </span>返回真北的相对位置，真北始终指向地理北极点</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">CGFloat</span> heading = -<span style=\"color: rgb(37, 38, 211);\">1.0f</span> * <span style=\"color: rgb(124, 73, 46);\">M_PI</span> * newHeading.<span style=\"color: rgb(116, 60, 166);\">magneticHeading</span> / <span style=\"color: rgb(37, 38, 211);\">180.0f</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(71, 129, 134);\">imgPointer</span><span style=\"color: rgb(0, 0, 0);\">.</span><span style=\"color: rgb(116, 60, 166);\">transform</span><span style=\"color: rgb(0, 0, 0);\"> = </span>CGAffineTransformMakeRotation<span style=\"color: rgb(0, 0, 0);\">(heading);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(71, 129, 134);\">txtAngle</span><span style=\"color: rgb(0, 0, 0);\">.</span>text<span style=\"color: rgb(0, 0, 0);\">=[</span>NSString<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">stringWithFormat</span><span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(218, 46, 36);\">@&quot;</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\">角度</span><span style=\"color: rgb(218, 46, 36);\">:%0.2f&quot;</span><span style=\"color: rgb(0, 0, 0);\">,newHeading.</span>magneticHeading<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">BOOL</span>)locationManagerShouldDisplayHeadingCalibration:(<span style=\"color: rgb(116, 60, 166);\">CLLocationManager</span> *)manager</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(194, 42, 159); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>return<span style=\"color: rgb(0, 0, 0);\"> </span>YES<span style=\"color: rgb(0, 0, 0);\">;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p></p>','2013-12-11 07:12:39','2013-12-11 15:12:39'),(207,'114.247.232.56',3,'读写配置文件','<p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(116, 60, 166);\">NSString</span>*) documentPath:(<span style=\"color: rgb(116, 60, 166);\">NSString</span>*)str</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span></span><span style=\"color: rgb(116, 60, 166);\">NSArray</span><span style=\"color: rgb(0, 0, 0);\"> *paths = </span>NSSearchPathForDirectoriesInDomains<span style=\"color: rgb(0, 0, 0);\">(</span>NSDocumentDirectory<span style=\"color: rgb(0, 0, 0);\">, </span>NSUserDomainMask<span style=\"color: rgb(0, 0, 0);\">, </span><span style=\"color: rgb(194, 42, 159);\">YES</span><span style=\"color: rgb(0, 0, 0);\">);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span><span style=\"color: rgb(116, 60, 166);\">NSString</span> *documentsDirectory = [paths <span style=\"color: rgb(63, 28, 126);\">objectAtIndex</span>:<span style=\"color: rgb(37, 38, 211);\">0</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span><span style=\"color: rgb(194, 42, 159);\">if</span> (<span style=\"color: rgb(194, 42, 159);\">nil</span>!=str) {</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">		</span><span style=\"color: rgb(194, 42, 159);\">return</span> [<span style=\"color: rgb(116, 60, 166);\">NSString</span> <span style=\"color: rgb(63, 28, 126);\">stringWithFormat</span>:<span style=\"color: rgb(218, 46, 36);\">@&quot;%@/%@&quot;</span>,documentsDirectory,str];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span>}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span><span style=\"color: rgb(194, 42, 159);\">return</span> [<span style=\"color: rgb(116, 60, 166);\">NSString</span> <span style=\"color: rgb(63, 28, 126);\">stringWithFormat</span>:<span style=\"color: rgb(218, 46, 36);\">@&quot;%@&quot;</span>,documentsDirectory];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">/////////////////////////////////////////////////////////////////////////</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>//<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">第一</span>:<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">读取</span>documents<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">路径的方法：</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span> </span>//<span style=\"color: rgb(0, 132, 25); font-family: Menlo; font-size: 11px;\"><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">得到</span></span><span style=\"color: rgb(0, 132, 25); font-family: Menlo; font-size: 11px;\">documents</span><span style=\"color: rgb(0, 132, 25); font-family: Menlo; font-size: 11px;\"><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">目录下</span></span><span style=\"color: rgb(0, 132, 25); font-family: Menlo; font-size: 11px;\">test.plist</span><span style=\"color: rgb(0, 132, 25); font-family: Menlo; font-size: 11px;\"><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">配置文件的路径</span></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(116, 60, 166);\">NSString</span><span style=\"color: rgb(0, 0, 0);\"> *configFile = [</span><span style=\"color: rgb(194, 42, 159);\">self</span><span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(43, 89, 93);\">documentPath</span><span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(218, 46, 36);\">@&quot;test.plist&quot;</span><span style=\"color: rgb(0, 0, 0);\">]; </span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">NSMutableDictionary</span> *configList =[[<span style=\"color: rgb(116, 60, 166);\">NSMutableDictionary</span> <span style=\"color: rgb(63, 28, 126);\">alloc</span>] <span style=\"color: rgb(63, 28, 126);\">initWithContentsOfFile</span>:configFile]; &nbsp;<span style=\"color: rgb(0, 132, 25);\">//</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">初始化字典，读取配置文件的信息</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>//<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">第二</span>:<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">写入文件</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">if</span> (!configList) {</p><p style=\"font: 11px/normal &quot;Heiti SC Light&quot;; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 11px/normal Menlo; color: rgb(0, 0, 0); font-size-adjust: none; font-stretch: normal;\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">//</span>第一次，文件没有创建，因此要创建文件，并写入相应的初始值。</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">configList = [[<span style=\"color: rgb(116, 60, 166);\">NSMutableDictionary</span> <span style=\"color: rgb(63, 28, 126);\">alloc</span>] <span style=\"color: rgb(63, 28, 126);\">initWithObjectsAndKeys</span>:</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(218, 46, 36);\">@&quot;value1&quot;</span>, &nbsp;<span style=\"color: rgb(218, 46, 36);\">@&quot;key1&quot;</span>,</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(218, 46, 36);\">@&quot;value2&quot;</span>, &nbsp;<span style=\"color: rgb(218, 46, 36);\">@&quot;key2&quot;</span>,</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">nil</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[configList <span style=\"color: rgb(63, 28, 126);\">writeToFile</span>:configFile <span style=\"color: rgb(63, 28, 126);\">atomically</span>:<span style=\"color: rgb(194, 42, 159);\">YES</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>//<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">第三</span>:<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">读取键值</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">NSString</span> *username &nbsp;= [configList <span style=\"color: rgb(63, 28, 126);\">objectForKey</span>:<span style=\"color: rgb(218, 46, 36);\">@&quot;key1&quot;</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">NSString</span> *password = [configList <span style=\"color: rgb(63, 28, 126);\">objectForKey</span>:<span style=\"color: rgb(218, 46, 36);\">@&quot;key2&quot;</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(63, 28, 126);\">NSLog</span><span style=\"color: rgb(0, 0, 0);\">(</span>@&quot;username = %@ &nbsp;password = %@\\n&quot;<span style=\"color: rgb(0, 0, 0);\">,username,password);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>//<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">第四</span>:<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">更改键值</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[configList <span style=\"color: rgb(63, 28, 126);\">setValue</span>:<span style=\"color: rgb(218, 46, 36);\">@&quot;hzhsohn&quot;</span> <span style=\"color: rgb(63, 28, 126);\">forKey</span>:<span style=\"color: rgb(218, 46, 36);\">@&quot;key1&quot;</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[configList <span style=\"color: rgb(63, 28, 126);\">writeToFile</span>:configFile <span style=\"color: rgb(63, 28, 126);\">atomically</span>:<span style=\"color: rgb(194, 42, 159);\">YES</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>//<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">第五</span>:<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">添加键值</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[configList <span style=\"color: rgb(63, 28, 126);\">setObject</span>:<span style=\"color: rgb(218, 46, 36);\">@&quot;value3&quot;</span> <span style=\"color: rgb(63, 28, 126);\">forKey</span>:<span style=\"color: rgb(218, 46, 36);\">@&quot;key3&quot;</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[configList <span style=\"color: rgb(63, 28, 126);\">writeToFile</span>:configFile <span style=\"color: rgb(63, 28, 126);\">atomically</span>:<span style=\"color: rgb(194, 42, 159);\">YES</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>//<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">第六</span>:<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">删除键值</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[configList <span style=\"color: rgb(63, 28, 126);\">removeObjectForKey</span>:<span style=\"color: rgb(218, 46, 36);\">@&quot;key1&quot;</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[configList <span style=\"color: rgb(63, 28, 126);\">writeToFile</span>:configFile <span style=\"color: rgb(63, 28, 126);\">atomically</span>:<span style=\"color: rgb(194, 42, 159);\">YES</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[configList <span style=\"color: rgb(63, 28, 126);\">release</span>];</p><p></p>','2013-12-11 07:12:58','2013-12-11 15:12:58'),(208,'192.168.1.13',3,'NavigationController','<p style=\"font: 11px/normal &quot;Heiti SC Light&quot;; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">//</span>在打开程序时添加这段代码</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">UINavigationController* nv =[[UINavigationController alloc] initWithRootViewController:self.viewController];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">//<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">修改颜色</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[nv.navigationBar setTintColor:[UIColor brownColor]];</p><p style=\"font: 11px/normal &quot;Heiti SC Light&quot;; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">//</span>显示和隐藏导航栏</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[nv setNavigationBarHidden:NO animated:NO];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">self.window.rootViewController=nv;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[nv release];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"font-family: Menlo; font-size: 12px;\">/////////////////////////////////////////////</span></p><p class=\"p1\"><span class=\"s1\">&nbsp; &nbsp;&nbsp;</span><span class=\"s2\">//中间标题</span><span class=\"s3\">颜色</span><span class=\"s2\">,</span><span class=\"s3\">文字大小</span></p><p class=\"p2\"><span class=\"s4\">&nbsp; &nbsp; [</span><span class=\"s5\">self</span><span class=\"s4\">.</span><span class=\"s6\">navigationBar</span><span class=\"s4\"> </span><span class=\"s3\">setTintColor</span><span class=\"s4\">:[</span><span class=\"s6\">UIColor</span><span class=\"s4\"> </span><span class=\"s3\">whiteColor</span><span class=\"s4\">]];</span></p><p class=\"p2\"><span class=\"s4\">&nbsp; &nbsp; [</span><span class=\"s5\">self</span><span class=\"s4\">.</span><span class=\"s6\">navigationBar</span><span class=\"s4\"> </span><span class=\"s3\">setBarTintColor</span><span class=\"s4\">:[</span><span class=\"s6\">UIColor</span><span class=\"s4\"> </span><span class=\"s3\">colorWithRed</span><span class=\"s4\">:</span><span class=\"s7\">0.3</span><span class=\"s4\"> </span><span class=\"s3\">green</span><span class=\"s4\">:</span><span class=\"s7\">0.8</span><span class=\"s4\"> </span><span class=\"s3\">blue</span><span class=\"s4\">:</span><span class=\"s7\">0.1</span><span class=\"s4\"> </span><span class=\"s3\">alpha</span><span class=\"s4\">:</span><span class=\"s7\">1</span><span class=\"s4\">]];</span></p><p class=\"p2\"><span class=\"s4\">&nbsp; &nbsp; </span><span class=\"s6\">NSDictionary</span><span class=\"s4\"> *dict = [</span><span class=\"s6\">NSDictionary</span><span class=\"s4\"> </span><span class=\"s3\">dictionaryWithObjectsAndKeys</span><span class=\"s4\">:</span></p><p class=\"p3\"><span class=\"s4\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [</span><span class=\"s3\">UIColor</span><span class=\"s4\"> </span><span class=\"s8\">whiteColor</span><span class=\"s4\">],</span><span class=\"s3\">NSForegroundColorAttributeName</span><span class=\"s4\">,</span></p><p class=\"p4\"><span class=\"s3\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [</span><span class=\"s6\">UIFont</span><span class=\"s3\"> </span><span class=\"s8\">systemFontOfSize</span><span class=\"s3\">:</span><span class=\"s7\">24.0</span><span class=\"s3\">],</span><span class=\"s6\">NSFontAttributeName</span><span class=\"s3\">,</span></p><p class=\"p4\"><span class=\"s3\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class=\"s5\">nil</span><span class=\"s3\">];</span></p><p class=\"p3\"><span class=\"s4\">&nbsp; &nbsp; </span><span class=\"s5\">self</span><span class=\"s4\">.</span><span class=\"s3\">navigationBar</span><span class=\"s4\">.</span><span class=\"s3\">titleTextAttributes</span><span class=\"s4\"> = dict;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">/////////////////////////////////////////////</p><p>&nbsp; &nbsp;//中间的LOGO图片</p><p>UIView *titleV=[[UIView alloc] initWithFrame:CGRectMake(0, 0, 120, 35)];</p><p>&nbsp; &nbsp;UIImageView *imgLogo=[[UIImageView alloc] init];</p><p>[imgLogo setFrame:titleV.frame];</p><p>[imgLogo setImage:[UIImage imageNamed:@&quot;logo2.png&quot;]];</p><p>[titleV addSubview:imgLogo];</p><p>&nbsp; &nbsp;self.navigationItem.titleView=titleV;</p><p>[imgLogo release];</p><p>[titleV release];</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"font-family: Menlo; font-size: 12px;\">/////////////////////////////////////////////</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"></p><p>&nbsp; &nbsp;//修改背景</p><p>&nbsp; &nbsp;float version = [[[UIDevice currentDevice] systemVersion] floatValue];</p><p>UIImage *backgroundImage = [UIImage imageNamed:@&quot;index_r2c3.png&quot;];</p><p>if (version &gt;= 5.0) {</p><p>&nbsp; &nbsp; &nbsp; &nbsp;[self.navigationController.navigationBar setBackgroundImage:backgroundImage forBarMetrics:UIBarMetricsDefault];</p><p>}</p><p>else</p><p>{</p><p>&nbsp; &nbsp; &nbsp; &nbsp;[self.navigationController.navigationBar insertSubview:[[[UIImageView alloc] initWithImage:backgroundImage] autorelease] atIndex:1];</p><p>}</p><p><br/></p><p><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p><span style=\"font-family: Menlo; font-size: 12px;\">/////////////////////////////////////////////</span></p><p>//改变切换动画特效</p><p>1. 首先要明确的是,不使用pushViewController的默认动画,所以在调用这个函数时,要将animated设置为NO.<br/>2. 使用普通的CATransition实现转换效果,代码如下:<br/>CATransition *animation = [CATransition animation];<br/>[animation setDuration:0.3];<br/>[animation setType: kCATransitionMoveIn];<br/>[animation setSubtype: kCATransitionFromTop];<br/>[animation setTimingFunction:[CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionDefault]];</p><p>//执行显示界面</p><p>[self.navigationController pushViewController:m_poseAddIssueViewController animated:NO];</p><p>[self.navigationController.view.layer addAnimation:animation forKey:nil];</p><p>其实是用到了在layer上去加动画的原理，禁止它原有默认的动作，将我们想要的动画加到相应的view的layer上就OK了！</p><p><br/></p><p><br/></p><p><br/></p><p></p>','2013-12-11 07:14:01','2016-03-16 20:32:29'),(209,'114.247.232.56',3,'弹出菜单,例如复制粘贴','<p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(51, 153, 102);\">//UIGestureRecognizerDelegate</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">void</span>)addLongPressEventForShowMenu:(<span style=\"color: rgb(116, 60, 166);\">UIView</span> *)piece</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>UILongPressGestureRecognizer<span style=\"color: rgb(0, 0, 0);\"> *longPressGesture = [[</span>UILongPressGestureRecognizer<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">alloc</span><span style=\"color: rgb(0, 0, 0);\">] </span><span style=\"color: rgb(63, 28, 126);\">initWithTarget</span><span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">self</span><span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">action</span><span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">@selector</span><span style=\"color: rgb(0, 0, 0);\">(showResetMenu:)];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\">[piece <span style=\"color: rgb(63, 28, 126);\">addGestureRecognizer</span>:longPressGesture];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\">[longPressGesture <span style=\"color: rgb(63, 28, 126);\">release</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\">}</p><p>&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p>&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">// display a menu with a single item to allow the piece&#39;s transform to be reset</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">void</span>)showResetMenu:(<span style=\"color: rgb(116, 60, 166);\">UILongPressGestureRecognizer</span> *)gestureRecognizer</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(194, 42, 159);\">if</span><span style=\"color: rgb(0, 0, 0);\"> ([gestureRecognizer </span>state<span style=\"color: rgb(0, 0, 0);\">] == </span>UIGestureRecognizerStateBegan<span style=\"color: rgb(0, 0, 0);\">) {</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span>UIMenuController<span style=\"color: rgb(0, 0, 0);\"> *menuController = [</span>UIMenuController<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">sharedMenuController</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">UIMenuItem</span> *resetMenuItem = [[<span style=\"color: rgb(116, 60, 166);\">UIMenuItem</span> <span style=\"color: rgb(63, 28, 126);\">alloc</span>] <span style=\"color: rgb(63, 28, 126);\">initWithTitle</span>:<span style=\"color: rgb(218, 46, 36);\">@&quot;Reset&quot;</span> <span style=\"color: rgb(63, 28, 126);\">action</span>:<span style=\"color: rgb(194, 42, 159);\">@selector</span>(resetPiece:)];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">CGPoint</span> location = [gestureRecognizer <span style=\"color: rgb(63, 28, 126);\">locationInView</span>:[gestureRecognizer <span style=\"color: rgb(63, 28, 126);\">view</span>]];</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;[</span><span style=\"color: rgb(194, 42, 159);\">self</span><span style=\"color: rgb(0, 0, 0);\"> </span>becomeFirstResponder<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[menuController <span style=\"color: rgb(63, 28, 126);\">setMenuItems</span>:[<span style=\"color: rgb(116, 60, 166);\">NSArray</span> <span style=\"color: rgb(63, 28, 126);\">arrayWithObject</span>:resetMenuItem]];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[menuController <span style=\"color: rgb(63, 28, 126);\">setTargetRect</span>:<span style=\"color: rgb(63, 28, 126);\">CGRectMake</span>(location.<span style=\"color: rgb(116, 60, 166);\">x</span>, location.<span style=\"color: rgb(116, 60, 166);\">y</span>, <span style=\"color: rgb(37, 38, 211);\">0</span>, <span style=\"color: rgb(37, 38, 211);\">0</span>) <span style=\"color: rgb(63, 28, 126);\">inView</span>:[gestureRecognizer <span style=\"color: rgb(63, 28, 126);\">view</span>]];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[menuController <span style=\"color: rgb(63, 28, 126);\">setMenuVisible</span>:<span style=\"color: rgb(194, 42, 159);\">YES</span> <span style=\"color: rgb(63, 28, 126);\">animated</span>:<span style=\"color: rgb(194, 42, 159);\">YES</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(71, 129, 134);\">pieceForReset</span> = [gestureRecognizer <span style=\"color: rgb(63, 28, 126);\">view</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[resetMenuItem <span style=\"color: rgb(63, 28, 126);\">release</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">// animate back to the default anchor point and transform</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">void</span>)resetPiece:(<span style=\"color: rgb(116, 60, 166);\">UIMenuController</span> *)controller</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(116, 60, 166);\">NSLog(@&quot;heheh.....&quot;);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p></p>','2013-12-11 07:14:23','2013-12-11 15:14:23'),(210,'114.247.232.56',3,'手势,屏幕触摸','<p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(51, 153, 102);\">//UIGestureRecognizerDelegate</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">void</span>) addGestureRecognizers:(<span style=\"color: rgb(116, 60, 166);\">UIView</span> *)piece</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>UIRotationGestureRecognizer<span style=\"color: rgb(0, 0, 0);\"> *rotationGesture = [[</span>UIRotationGestureRecognizer<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">alloc</span><span style=\"color: rgb(0, 0, 0);\">] </span><span style=\"color: rgb(63, 28, 126);\">initWithTarget</span><span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">self</span><span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">action</span><span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">@selector</span><span style=\"color: rgb(0, 0, 0);\">(rotatePiece:)];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[piece <span style=\"color: rgb(63, 28, 126);\">addGestureRecognizer</span>:rotationGesture];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[rotationGesture <span style=\"color: rgb(63, 28, 126);\">release</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>UIPinchGestureRecognizer<span style=\"color: rgb(0, 0, 0);\"> *pinchGesture = [[</span>UIPinchGestureRecognizer<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">alloc</span><span style=\"color: rgb(0, 0, 0);\">] </span><span style=\"color: rgb(63, 28, 126);\">initWithTarget</span><span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">self</span><span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">action</span><span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">@selector</span><span style=\"color: rgb(0, 0, 0);\">(scalePiece:)];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[pinchGesture <span style=\"color: rgb(63, 28, 126);\">setDelegate</span>:<span style=\"color: rgb(194, 42, 159);\">self</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[piece <span style=\"color: rgb(63, 28, 126);\">addGestureRecognizer</span>:pinchGesture];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[pinchGesture <span style=\"color: rgb(63, 28, 126);\">release</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>UIPanGestureRecognizer<span style=\"color: rgb(0, 0, 0);\"> *panGesture = [[</span>UIPanGestureRecognizer<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">alloc</span><span style=\"color: rgb(0, 0, 0);\">] </span><span style=\"color: rgb(63, 28, 126);\">initWithTarget</span><span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">self</span><span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">action</span><span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">@selector</span><span style=\"color: rgb(0, 0, 0);\">(panPiece:)];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;[panGesture </span>setMaximumNumberOfTouches<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(37, 38, 211);\">2</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[panGesture <span style=\"color: rgb(63, 28, 126);\">setDelegate</span>:<span style=\"color: rgb(194, 42, 159);\">self</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[piece <span style=\"color: rgb(63, 28, 126);\">addGestureRecognizer</span>:panGesture];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[panGesture <span style=\"color: rgb(63, 28, 126);\">release</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>UILongPressGestureRecognizer<span style=\"color: rgb(0, 0, 0);\"> *longPressGesture = [[</span>UILongPressGestureRecognizer<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">alloc</span><span style=\"color: rgb(0, 0, 0);\">] </span><span style=\"color: rgb(63, 28, 126);\">initWithTarget</span><span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">self</span><span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">action</span><span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">@selector</span><span style=\"color: rgb(0, 0, 0);\">(</span><span style=\"color: rgb(0, 0, 0);\">longPress</span><span style=\"color: rgb(0, 0, 0);\">Gesture</span><span style=\"color: rgb(0, 0, 0);\">:)];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[piece <span style=\"color: rgb(63, 28, 126);\">addGestureRecognizer</span>:longPressGesture];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[longPressGesture <span style=\"color: rgb(63, 28, 126);\">release</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>// &nbsp; &nbsp;UISwipeGestureRecognizerDirectionRight = 1 &lt;&lt; 0,</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>// &nbsp; &nbsp;UISwipeGestureRecognizerDirectionLeft &nbsp;= 1 &lt;&lt; 1,</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>// &nbsp; &nbsp;UISwipeGestureRecognizerDirectionUp &nbsp; &nbsp;= 1 &lt;&lt; 2,</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>// &nbsp; &nbsp;UISwipeGestureRecognizerDirectionDown &nbsp;= 1 &lt;&lt; 3</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal &quot;Heiti SC Light&quot;; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 11px/normal Menlo; color: rgb(0, 0, 0); font-size-adjust: none; font-stretch: normal;\"> &nbsp; &nbsp;</span><span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">//</span>下面四个是判断上下左右的<span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">.</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>UISwipeGestureRecognizer<span style=\"color: rgb(0, 0, 0);\">*r4; </span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;r4 = [[</span>UISwipeGestureRecognizer<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">alloc</span><span style=\"color: rgb(0, 0, 0);\">] </span><span style=\"color: rgb(63, 28, 126);\">initWithTarget</span><span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">self</span><span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">action</span><span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">@selector</span><span style=\"color: rgb(0, 0, 0);\">(handleSwipe:)];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[r4 <span style=\"color: rgb(63, 28, 126);\">setDelegate</span>:<span style=\"color: rgb(194, 42, 159);\">self</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;r4.</span><span style=\"color: rgb(116, 60, 166);\">direction</span><span style=\"color: rgb(0, 0, 0);\">=</span>UISwipeGestureRecognizerDirectionLeft<span style=\"color: rgb(0, 0, 0);\">;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;[piece </span>addGestureRecognizer<span style=\"color: rgb(0, 0, 0);\">:r4];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[r4 <span style=\"color: rgb(63, 28, 126);\">release</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">r4 = [[<span style=\"color: rgb(116, 60, 166);\">UISwipeGestureRecognizer</span> <span style=\"color: rgb(63, 28, 126);\">alloc</span>] <span style=\"color: rgb(63, 28, 126);\">initWithTarget</span>:<span style=\"color: rgb(194, 42, 159);\">self</span> <span style=\"color: rgb(63, 28, 126);\">action</span>:<span style=\"color: rgb(194, 42, 159);\">@selector</span>(handleSwipe:)];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[r4 <span style=\"color: rgb(63, 28, 126);\">setDelegate</span>:<span style=\"color: rgb(194, 42, 159);\">self</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;r4.</span><span style=\"color: rgb(116, 60, 166);\">direction</span><span style=\"color: rgb(0, 0, 0);\">=</span>UISwipeGestureRecognizerDirectionRight<span style=\"color: rgb(0, 0, 0);\">;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;[piece </span>addGestureRecognizer<span style=\"color: rgb(0, 0, 0);\">:r4];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[r4 <span style=\"color: rgb(63, 28, 126);\">release</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">r4 = [[<span style=\"color: rgb(116, 60, 166);\">UISwipeGestureRecognizer</span> <span style=\"color: rgb(63, 28, 126);\">alloc</span>] <span style=\"color: rgb(63, 28, 126);\">initWithTarget</span>:<span style=\"color: rgb(194, 42, 159);\">self</span> <span style=\"color: rgb(63, 28, 126);\">action</span>:<span style=\"color: rgb(194, 42, 159);\">@selector</span>(handleSwipe:)];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[r4 <span style=\"color: rgb(63, 28, 126);\">setDelegate</span>:<span style=\"color: rgb(194, 42, 159);\">self</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;r4.</span><span style=\"color: rgb(116, 60, 166);\">direction</span><span style=\"color: rgb(0, 0, 0);\">=</span>UISwipeGestureRecognizerDirectionUp<span style=\"color: rgb(0, 0, 0);\">;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;[piece </span>addGestureRecognizer<span style=\"color: rgb(0, 0, 0);\">:r4];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[r4 <span style=\"color: rgb(63, 28, 126);\">release</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">r4 = [[<span style=\"color: rgb(116, 60, 166);\">UISwipeGestureRecognizer</span> <span style=\"color: rgb(63, 28, 126);\">alloc</span>] <span style=\"color: rgb(63, 28, 126);\">initWithTarget</span>:<span style=\"color: rgb(194, 42, 159);\">self</span> <span style=\"color: rgb(63, 28, 126);\">action</span>:<span style=\"color: rgb(194, 42, 159);\">@selector</span>(handleSwipe:)];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[r4 <span style=\"color: rgb(63, 28, 126);\">setDelegate</span>:<span style=\"color: rgb(194, 42, 159);\">self</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;r4.</span><span style=\"color: rgb(116, 60, 166);\">direction</span><span style=\"color: rgb(0, 0, 0);\">=</span>UISwipeGestureRecognizerDirectionDown<span style=\"color: rgb(0, 0, 0);\">;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;[piece </span>addGestureRecognizer<span style=\"color: rgb(0, 0, 0);\">:r4];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[r4 <span style=\"color: rgb(63, 28, 126);\">release</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">void</span>) handleSwipe:(<span style=\"color: rgb(116, 60, 166);\">UISwipeGestureRecognizer</span> *)sender</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(63, 28, 126);\">NSLog</span><span style=\"color: rgb(0, 0, 0);\">(</span>@&quot;handleSwipe %d&quot;<span style=\"color: rgb(0, 0, 0);\">,sender.</span><span style=\"color: rgb(116, 60, 166);\">direction</span><span style=\"color: rgb(0, 0, 0);\">);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">void</span>) <span style=\"color: rgb(116, 60, 166);\"><span style=\"color: rgb(0, 0, 0);\">longPress</span><span style=\"color: rgb(0, 0, 0);\">Gesture</span></span>:(<span style=\"color: rgb(116, 60, 166);\">UILongPressGestureRecognizer</span> *)gestureRecognizer</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(194, 42, 159);\"> &nbsp;</span><span style=\"color: rgb(218, 46, 36);\"><span style=\"color: rgb(0, 0, 0);\"> </span></span><span style=\"color: rgb(218, 46, 36); font-family: Menlo; font-size: 11px;\"><span style=\"color: rgb(63, 28, 126);\">NSLog</span></span><span style=\"color: rgb(218, 46, 36); font-family: Menlo; font-size: 11px;\"><span style=\"color: rgb(0, 0, 0);\">(</span></span><span style=\"color: rgb(218, 46, 36); font-family: Menlo; font-size: 11px;\">@&quot;heheh...&quot;</span><span style=\"color: rgb(218, 46, 36); font-family: Menlo; font-size: 11px;\"><span style=\"color: rgb(0, 0, 0);\">);</span></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">// shift the piece&#39;s center by the pan amount</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">void</span>) panPiece:(<span style=\"color: rgb(116, 60, 166);\">UIPanGestureRecognizer</span> *)gestureRecognizer</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">UIView</span> *piece = [gestureRecognizer <span style=\"color: rgb(63, 28, 126);\">view</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(194, 42, 159);\">if</span><span style=\"color: rgb(0, 0, 0);\"> ([gestureRecognizer </span>state<span style=\"color: rgb(0, 0, 0);\">] == </span>UIGestureRecognizerStateBegan<span style=\"color: rgb(0, 0, 0);\"> || [gestureRecognizer </span>state<span style=\"color: rgb(0, 0, 0);\">] == </span>UIGestureRecognizerStateChanged<span style=\"color: rgb(0, 0, 0);\">) {</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">CGPoint</span> translation = [gestureRecognizer <span style=\"color: rgb(63, 28, 126);\">translationInView</span>:[piece <span style=\"color: rgb(63, 28, 126);\">superview</span>]];</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[piece <span style=\"color: rgb(63, 28, 126);\">setCenter</span>:<span style=\"color: rgb(63, 28, 126);\">CGPointMake</span>([piece <span style=\"color: rgb(63, 28, 126);\">center</span>].<span style=\"color: rgb(116, 60, 166);\">x</span> + translation.<span style=\"color: rgb(116, 60, 166);\">x</span>, [piece <span style=\"color: rgb(63, 28, 126);\">center</span>].<span style=\"color: rgb(116, 60, 166);\">y</span> + translation.<span style=\"color: rgb(116, 60, 166);\">y</span>)];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[gestureRecognizer <span style=\"color: rgb(63, 28, 126);\">setTranslation</span>:<span style=\"color: rgb(116, 60, 166);\">CGPointZero</span> <span style=\"color: rgb(63, 28, 126);\">inView</span>:[piece <span style=\"color: rgb(63, 28, 126);\">superview</span>]];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">// rotate the piece by the current rotation</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">void</span>) rotatePiece:(<span style=\"color: rgb(116, 60, 166);\">UIRotationGestureRecognizer</span> *)gestureRecognizer</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(194, 42, 159);\">if</span><span style=\"color: rgb(0, 0, 0);\"> ([gestureRecognizer </span>state<span style=\"color: rgb(0, 0, 0);\">] == </span>UIGestureRecognizerStateBegan<span style=\"color: rgb(0, 0, 0);\"> || [gestureRecognizer </span>state<span style=\"color: rgb(0, 0, 0);\">] == </span>UIGestureRecognizerStateChanged<span style=\"color: rgb(0, 0, 0);\">) {</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[gestureRecognizer <span style=\"color: rgb(63, 28, 126);\">view</span>].<span style=\"color: rgb(116, 60, 166);\">transform</span> = <span style=\"color: rgb(63, 28, 126);\">CGAffineTransformRotate</span>([[gestureRecognizer <span style=\"color: rgb(63, 28, 126);\">view</span>] <span style=\"color: rgb(63, 28, 126);\">transform</span>], [gestureRecognizer <span style=\"color: rgb(63, 28, 126);\">rotation</span>]);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[gestureRecognizer <span style=\"color: rgb(63, 28, 126);\">setRotation</span>:<span style=\"color: rgb(37, 38, 211);\">0</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">// scale the piece by the current scale</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">void</span>) scalePiece:(<span style=\"color: rgb(116, 60, 166);\">UIPinchGestureRecognizer</span> *)gestureRecognizer</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(194, 42, 159);\">if</span><span style=\"color: rgb(0, 0, 0);\"> ([gestureRecognizer </span>state<span style=\"color: rgb(0, 0, 0);\">] == </span>UIGestureRecognizerStateBegan<span style=\"color: rgb(0, 0, 0);\"> || [gestureRecognizer </span>state<span style=\"color: rgb(0, 0, 0);\">] == </span>UIGestureRecognizerStateChanged<span style=\"color: rgb(0, 0, 0);\">) {</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[gestureRecognizer <span style=\"color: rgb(63, 28, 126);\">view</span>].<span style=\"color: rgb(116, 60, 166);\">transform</span> = <span style=\"color: rgb(63, 28, 126);\">CGAffineTransformScale</span>([[gestureRecognizer <span style=\"color: rgb(63, 28, 126);\">view</span>] <span style=\"color: rgb(63, 28, 126);\">transform</span>], [gestureRecognizer <span style=\"color: rgb(63, 28, 126);\">scale</span>], [gestureRecognizer <span style=\"color: rgb(63, 28, 126);\">scale</span>]);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[gestureRecognizer <span style=\"color: rgb(63, 28, 126);\">setScale</span>:<span style=\"color: rgb(37, 38, 211);\">1</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p></p>','2013-12-11 07:14:43','2013-12-11 15:14:43'),(211,'114.247.232.56',3,'使用闪光灯','<p>/////////////////////////////////////////////////////////////////////////////////////////////////////////////<br/> &nbsp; &nbsp; Flashlight.h 文件<br/>/////////////////////////////////////////////////////////////////////////////////////////////////////////////<br/></p><p>&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(124, 73, 46);\">#import </span>&lt;Foundation/Foundation.h&gt;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(124, 73, 46);\">#import </span>&lt;AVFoundation/AVFoundation.h&gt;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">加入</span>AVFoundation.framework</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">/*********** demo *************</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">Flashlight* m_flashlight;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); min-height: 13px; font-size-adjust: none; font-stretch: normal;\">m_flashlight=[[Flashlight alloc] init];</p><p style=\"font: 11px/normal &quot;Heiti SC Light&quot;; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\"> //</span>检测是是否能用闪光灯</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">[m_flashlight checkDev];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal &quot;Heiti SC Light&quot;; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\"> //</span>打开闪光灯</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">[m_flashlight turnOn];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal &quot;Heiti SC Light&quot;; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\"> //</span>关闭闪光灯</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">[m_flashlight turnOff];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">[m_flashlight release];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">*/</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">@interface</span><span style=\"color: rgb(0, 0, 0);\"> Flashlight : </span>NSObject<span style=\"color: rgb(0, 0, 0);\">&lt;</span>UIApplicationDelegate<span style=\"color: rgb(0, 0, 0);\">&gt;{</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">AVCaptureSession</span> *torchSession;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(194, 42, 159); font-size-adjust: none; font-stretch: normal;\">@property<span style=\"color: rgb(0, 0, 0);\"> (</span>nonatomic<span style=\"color: rgb(0, 0, 0);\">, </span>retain<span style=\"color: rgb(0, 0, 0);\">) </span><span style=\"color: rgb(116, 60, 166);\">AVCaptureSession</span><span style=\"color: rgb(0, 0, 0);\"> * torchSession;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">-(<span style=\"color: rgb(194, 42, 159);\">void</span>) turnOn;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">-(<span style=\"color: rgb(194, 42, 159);\">void</span>) turnOff;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">-(<span style=\"color: rgb(116, 60, 166);\">Boolean</span>) checkDev;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(194, 42, 159); font-size-adjust: none; font-stretch: normal;\">@end</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(194, 42, 159); font-size-adjust: none; font-stretch: normal;\"><br/></p><p>/////////////////////////////////////////////////////////////////////////////////////////////////////////////<br/> &nbsp; &nbsp; Flashlight.m 文件<br/>/////////////////////////////////////////////////////////////////////////////////////////////////////////////<br/></p><p><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(124, 73, 46);\">#import </span>&quot;Flashlight.h&quot;</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(194, 42, 159); font-size-adjust: none; font-stretch: normal;\">@implementation<span style=\"color: rgb(0, 0, 0);\"> Flashlight</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">@synthesize</span> torchSession;</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">void</span>)dealloc {</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(63, 28, 126);\">NSLog</span><span style=\"color: rgb(0, 0, 0);\">(</span>@&quot;Flashlight dealloc&quot;<span style=\"color: rgb(0, 0, 0);\">);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(71, 129, 134); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;[</span>torchSession<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">release</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[<span style=\"color: rgb(194, 42, 159);\">super</span> <span style=\"color: rgb(63, 28, 126);\">dealloc</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">id</span>) init {</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">if</span> ((<span style=\"color: rgb(194, 42, 159);\">self</span> = [<span style=\"color: rgb(194, 42, 159);\">super</span> <span style=\"color: rgb(63, 28, 126);\">init</span>])) {</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span>// initialize flashlight</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span>// test if this class even exists to ensure flashlight is turned on ONLY for iOS 4 and above</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">Class</span> captureDeviceClass = <span style=\"color: rgb(63, 28, 126);\">NSClassFromString</span>(<span style=\"color: rgb(218, 46, 36);\">@&quot;AVCaptureDevice&quot;</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">if</span> (captureDeviceClass != <span style=\"color: rgb(194, 42, 159);\">nil</span>) {</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>AVCaptureDevice<span style=\"color: rgb(0, 0, 0);\"> *device = [</span>AVCaptureDevice<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">defaultDeviceWithMediaType</span><span style=\"color: rgb(0, 0, 0);\">:</span>AVMediaTypeVideo<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">if</span> ([device <span style=\"color: rgb(63, 28, 126);\">hasTorch</span>] &amp;&amp; [device <span style=\"color: rgb(63, 28, 126);\">hasFlash</span>]){</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">if</span> (device.<span style=\"color: rgb(116, 60, 166);\">torchMode</span> == <span style=\"color: rgb(63, 28, 126);\">AVCaptureTorchModeOff</span>) {</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(63, 28, 126);\">NSLog</span><span style=\"color: rgb(0, 0, 0);\">(</span>@&quot;Setting up flashlight for later use...&quot;<span style=\"color: rgb(0, 0, 0);\">);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">AVCaptureDeviceInput</span> *flashInput = [<span style=\"color: rgb(116, 60, 166);\">AVCaptureDeviceInput</span> <span style=\"color: rgb(63, 28, 126);\">deviceInputWithDevice</span>:device <span style=\"color: rgb(63, 28, 126);\">error</span>: <span style=\"color: rgb(194, 42, 159);\">nil</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>AVCaptureVideoDataOutput<span style=\"color: rgb(0, 0, 0);\"> *output = [[</span>AVCaptureVideoDataOutput<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">alloc</span><span style=\"color: rgb(0, 0, 0);\">] </span><span style=\"color: rgb(63, 28, 126);\">init</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">AVCaptureSession</span> *session = [[<span style=\"color: rgb(116, 60, 166);\">AVCaptureSession</span> <span style=\"color: rgb(63, 28, 126);\">alloc</span>] <span style=\"color: rgb(63, 28, 126);\">init</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[session <span style=\"color: rgb(63, 28, 126);\">beginConfiguration</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[device <span style=\"color: rgb(63, 28, 126);\">lockForConfiguration</span>:<span style=\"color: rgb(194, 42, 159);\">nil</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[session <span style=\"color: rgb(63, 28, 126);\">addInput</span>:flashInput];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[session <span style=\"color: rgb(63, 28, 126);\">addOutput</span>:output];</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[device <span style=\"color: rgb(63, 28, 126);\">unlockForConfiguration</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[output <span style=\"color: rgb(63, 28, 126);\">release</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[session <span style=\"color: rgb(63, 28, 126);\">commitConfiguration</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[session <span style=\"color: rgb(63, 28, 126);\">startRunning</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[<span style=\"color: rgb(194, 42, 159);\">self</span> <span style=\"color: rgb(43, 89, 93);\">setTorchSession</span>:session];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[session <span style=\"color: rgb(63, 28, 126);\">release</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(194, 42, 159); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;} </span>return<span style=\"color: rgb(0, 0, 0);\"> </span>self<span style=\"color: rgb(0, 0, 0);\">;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">-(<span style=\"color: rgb(194, 42, 159);\">void</span>) turnOn</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>// test if this class even exists to ensure flashlight is turned on ONLY for iOS 4 and above</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">Class</span> captureDeviceClass = <span style=\"color: rgb(63, 28, 126);\">NSClassFromString</span>(<span style=\"color: rgb(218, 46, 36);\">@&quot;AVCaptureDevice&quot;</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">if</span> (captureDeviceClass != <span style=\"color: rgb(194, 42, 159);\">nil</span>) {</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span>AVCaptureDevice<span style=\"color: rgb(0, 0, 0);\"> *device = [</span>AVCaptureDevice<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">defaultDeviceWithMediaType</span><span style=\"color: rgb(0, 0, 0);\">:</span>AVMediaTypeVideo<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;[device </span>lockForConfiguration<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">nil</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;[device </span>setTorchMode<span style=\"color: rgb(0, 0, 0);\">:</span>AVCaptureTorchModeOn<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;[device </span>setFlashMode<span style=\"color: rgb(0, 0, 0);\">:</span>AVCaptureFlashModeOn<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;[device </span>unlockForConfiguration<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">-(<span style=\"color: rgb(194, 42, 159);\">void</span>) turnOff</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>// test if this class even exists to ensure flashlight is turned on ONLY for iOS 4 and above</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">Class</span> captureDeviceClass = <span style=\"color: rgb(63, 28, 126);\">NSClassFromString</span>(<span style=\"color: rgb(218, 46, 36);\">@&quot;AVCaptureDevice&quot;</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">if</span> (captureDeviceClass != <span style=\"color: rgb(194, 42, 159);\">nil</span>) {</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span>AVCaptureDevice<span style=\"color: rgb(0, 0, 0);\"> *device = [</span>AVCaptureDevice<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">defaultDeviceWithMediaType</span><span style=\"color: rgb(0, 0, 0);\">:</span>AVMediaTypeVideo<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;[device </span>lockForConfiguration<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">nil</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;[device </span>setTorchMode<span style=\"color: rgb(0, 0, 0);\">:</span>AVCaptureTorchModeOff<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;[device </span>setFlashMode<span style=\"color: rgb(0, 0, 0);\">:</span>AVCaptureFlashModeOff<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;[device </span>unlockForConfiguration<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">-(<span style=\"color: rgb(116, 60, 166);\">Boolean</span>) checkDev</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>AVCaptureDevice<span style=\"color: rgb(0, 0, 0);\"> *device = [</span>AVCaptureDevice<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">defaultDeviceWithMediaType</span><span style=\"color: rgb(0, 0, 0);\">:</span>AVMediaTypeVideo<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">return</span> [device <span style=\"color: rgb(63, 28, 126);\">hasTorch</span>] &amp;&amp; [device <span style=\"color: rgb(63, 28, 126);\">hasFlash</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(194, 42, 159); font-size-adjust: none; font-stretch: normal;\">@end</p><p></p>','2013-12-11 07:15:14','2013-12-11 15:15:14'),(212,'114.247.232.56',3,'判断文件名','<p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">NSString s;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[s <span style=\"color: rgb(63, 28, 126);\">hasSuffix</span>:<span style=\"color: rgb(218, 46, 36);\">@&quot;jpg&quot;</span>];</p><p></p>','2013-12-11 07:15:30','2013-12-11 15:15:30'),(213,'114.247.232.56',3,'获取iphone的IMSI和设置飞行模式','<p><span style=\"color: rgb(50, 62, 50); line-height: 21px; font-family: simsun;\"><p style=\"border-width: 0px; margin: 0cm 0cm 0pt; padding: 0px; line-height: 21px; list-style-type: none; word-break: normal; word-wrap: normal;\"><span style=\"color: rgb(51, 51, 51); line-height: 26px; font-family: Arial; word-break: normal; word-wrap: normal; background-color: rgb(255, 255, 255);\"><span style=\"line-height: 19px; font-size: 13px; word-break: normal; word-wrap: normal;\"><span style=\"line-height: 19px; font-family: 宋体; word-break: normal; word-wrap: normal;\">在</span><span style=\"line-height: 19px; word-break: normal; word-wrap: normal;\" lang=\"EN-US\" xml:lang=\"EN-US\"><span style=\"line-height: 19px; font-family: Calibri; word-break: normal; word-wrap: normal;\">iphone</span></span><span style=\"line-height: 19px; font-family: 宋体; word-break: normal; word-wrap: normal;\">上使用动态库的多为</span><span style=\"line-height: 19px; word-break: normal; word-wrap: normal;\" lang=\"EN-US\" xml:lang=\"EN-US\"><span style=\"line-height: 19px; font-family: Calibri; word-break: normal; word-wrap: normal;\">dylib</span></span><span style=\"line-height: 19px; font-family: 宋体; word-break: normal; word-wrap: normal;\">文件，这些文件使用标准的</span><span style=\"line-height: 19px; word-break: normal; word-wrap: normal;\" lang=\"EN-US\" xml:lang=\"EN-US\"><span style=\"line-height: 19px; font-family: Calibri; word-break: normal; word-wrap: normal;\">dlopen</span></span><span style=\"line-height: 19px; font-family: 宋体; word-break: normal; word-wrap: normal;\">方式来使用是可以的。那相同的在使用</span><span style=\"line-height: 19px; word-break: normal; word-wrap: normal;\" lang=\"EN-US\" xml:lang=\"EN-US\"><span style=\"line-height: 19px; font-family: Calibri; word-break: normal; word-wrap: normal;\">framework</span></span><span style=\"line-height: 19px; font-family: 宋体; word-break: normal; word-wrap: normal;\">文件也可以当做动态库的方式来动态加载，这样就可以比较自由的使用</span><span style=\"line-height: 19px; word-break: normal; word-wrap: normal;\" lang=\"EN-US\" xml:lang=\"EN-US\"><span style=\"line-height: 19px; font-family: Calibri; word-break: normal; word-wrap: normal;\">apple</span></span><span style=\"line-height: 19px; font-family: 宋体; word-break: normal; word-wrap: normal;\">私有的</span><span style=\"line-height: 19px; word-break: normal; word-wrap: normal;\" lang=\"EN-US\" xml:lang=\"EN-US\"><span style=\"line-height: 19px; font-family: Calibri; word-break: normal; word-wrap: normal;\">framework</span></span><span style=\"line-height: 19px; font-family: 宋体; word-break: normal; word-wrap: normal;\">了。</span></span></span></p><p style=\"border-width: 0px; margin: 0cm 0cm 0pt; padding: 0px; line-height: 21px; list-style-type: none; word-break: normal; word-wrap: normal;\"><span style=\"line-height: 19px; font-size: 13px; word-break: normal; word-wrap: normal;\"><span style=\"line-height: 19px; word-break: normal; word-wrap: normal;\" lang=\"EN-US\" xml:lang=\"EN-US\"><span style=\"line-height: 19px; font-family: Calibri; word-break: normal; word-wrap: normal;\">dlopen</span></span><span style=\"line-height: 19px; font-family: 宋体; word-break: normal; word-wrap: normal;\">是打开库文件</span></span></p><p style=\"border-width: 0px; margin: 0cm 0cm 0pt; padding: 0px; line-height: 21px; list-style-type: none; word-break: normal; word-wrap: normal;\"><span style=\"line-height: 19px; font-size: 13px; word-break: normal; word-wrap: normal;\"><span style=\"line-height: 19px; word-break: normal; word-wrap: normal;\" lang=\"EN-US\" xml:lang=\"EN-US\"><span style=\"line-height: 19px; font-family: Calibri; word-break: normal; word-wrap: normal;\">dlsym</span></span><span style=\"line-height: 19px; font-family: 宋体; word-break: normal; word-wrap: normal;\">是获取函数地址</span></span></p><p style=\"border-width: 0px; margin: 0cm 0cm 0pt; padding: 0px; line-height: 21px; list-style-type: none; word-break: normal; word-wrap: normal;\"><span style=\"line-height: 19px; font-size: 13px; word-break: normal; word-wrap: normal;\"><span style=\"line-height: 19px; word-break: normal; word-wrap: normal;\" lang=\"EN-US\" xml:lang=\"EN-US\"><span style=\"line-height: 19px; font-family: Calibri; word-break: normal; word-wrap: normal;\">dlclose</span></span><span style=\"line-height: 19px; font-family: 宋体; word-break: normal; word-wrap: normal;\">是关闭。</span></span></p><p style=\"border-width: 0px; margin: 0cm 0cm 0pt; padding: 0px; line-height: 21px; list-style-type: none; word-break: normal; word-wrap: normal;\"><span style=\"line-height: 21px; word-break: normal; word-wrap: normal;\" lang=\"EN-US\" xml:lang=\"EN-US\"><span style=\"line-height: 19px; font-family: Calibri; font-size: 13px; word-break: normal; word-wrap: normal;\"> <wbr/></span></span></p><p style=\"border-width: 0px; margin: 0cm 0cm 0pt; padding: 0px; line-height: 21px; list-style-type: none; word-break: normal; word-wrap: normal;\"><span style=\"line-height: 21px; font-family: 宋体; word-break: normal; word-wrap: normal;\"><span style=\"line-height: 19px; font-size: 13px; word-break: normal; word-wrap: normal;\">当然，要使用这种方式也是有明显缺陷的，那就是你要知道函数名和参数，否则无法继续。</span></span></p><p style=\"border-width: 0px; margin: 0cm 0cm 0pt; padding: 0px; line-height: 21px; list-style-type: none; word-break: normal; word-wrap: normal;\"><span style=\"line-height: 19px; font-size: 13px; word-break: normal; word-wrap: normal;\"><span style=\"line-height: 19px; font-family: 宋体; word-break: normal; word-wrap: normal;\">私有库的头文件可以使用</span><span style=\"line-height: 19px; word-break: normal; word-wrap: normal;\" lang=\"EN-US\" xml:lang=\"EN-US\"><span style=\"line-height: 19px; font-family: Calibri; word-break: normal; word-wrap: normal;\">class dump</span></span><span style=\"line-height: 19px; font-family: 宋体; word-break: normal; word-wrap: normal;\">的方式导出来，这个详细的就需要</span><span style=\"line-height: 19px; word-break: normal; word-wrap: normal;\" lang=\"EN-US\" xml:lang=\"EN-US\"><span style=\"line-height: 19px; font-family: Calibri; word-break: normal; word-wrap: normal;\">google</span></span><span style=\"line-height: 19px; font-family: 宋体; word-break: normal; word-wrap: normal;\">了。</span></span></p><p style=\"border-width: 0px; margin: 0cm 0cm 0pt; padding: 0px; line-height: 21px; list-style-type: none; word-break: normal; word-wrap: normal;\"><span style=\"line-height: 21px; font-family: 宋体; word-break: normal; word-wrap: normal;\"><span style=\"line-height: 19px; font-size: 13px; word-break: normal; word-wrap: normal;\">下面是两个使用的例子</span></span></p><p style=\"border-width: 0px; margin: 0cm 0cm 0pt; padding: 0px; line-height: 21px; list-style-type: none; word-break: normal; word-wrap: normal;\"><span style=\"line-height: 19px; font-size: 13px; word-break: normal; word-wrap: normal;\"><span style=\"line-height: 19px; word-break: normal; word-wrap: normal;\" lang=\"EN-US\" xml:lang=\"EN-US\"><span style=\"line-height: 19px; font-family: Calibri; word-break: normal; word-wrap: normal;\">1:<wbr/></span></span><span style=\"line-height: 19px; font-family: 宋体; word-break: normal; word-wrap: normal;\">这是使用</span><span style=\"line-height: 19px; word-break: normal; word-wrap: normal;\" lang=\"EN-US\" xml:lang=\"EN-US\"><span style=\"line-height: 19px; font-family: Calibri; word-break: normal; word-wrap: normal;\">coreTelephony.framework</span></span><span style=\"line-height: 19px; font-family: 宋体; word-break: normal; word-wrap: normal;\">获取</span><span style=\"line-height: 19px; word-break: normal; word-wrap: normal;\" lang=\"EN-US\" xml:lang=\"EN-US\"><span style=\"line-height: 19px; font-family: Calibri; word-break: normal; word-wrap: normal;\">ims</span></span></span><span style=\"line-height: 19px; font-size: 13px; word-break: normal; word-wrap: normal;\"><span style=\"line-height: 19px; word-break: normal; word-wrap: normal;\" lang=\"EN-US\" xml:lang=\"EN-US\"><span style=\"line-height: 19px; font-family: Calibri; word-break: normal; word-wrap: normal;\">i</span></span></span></p><p style=\"border-width: 0px; margin: 0cm 0cm 0pt; padding: 0px; line-height: 21px; list-style-type: none; word-break: normal; word-wrap: normal;\"><span style=\"line-height: 19px; font-size: 13px; word-break: normal; word-wrap: normal;\"><span style=\"line-height: 19px; word-break: normal; word-wrap: normal;\" lang=\"EN-US\" xml:lang=\"EN-US\"><span style=\"line-height: 19px; font-family: Calibri; word-break: normal; word-wrap: normal;\">#define PRIVATE_PATH<wbr/>&quot;/System/Library/PrivateFrameworks/CoreTelephony.framework/CoreTelephony&quot;<br/><br/>// Implement viewDidLoad to do additional setup after loading the view, typically from a nib.<br/>- (void)viewDidLoad {<br/> <wbr/><wbr/><wbr/>[super viewDidLoad];<br/>#if !TARGET_IPHONE_SIMULATOR<br/> <wbr/><wbr/><wbr/>void *kit = dlopen(PRIVATE_PATH,RTLD_LAZY);<wbr/><wbr/><wbr/><wbr/><br/> <wbr/><wbr/><wbr/>NSString *imsi = nil;<br/> <wbr/><wbr/><wbr/>int (*CTSIMSupportCopyMobileSu<wbr/>bscriberIdentity)() = dlsym(kit, &quot;CTSIMSupportCopyMobileSu<wbr/>bscriberIdentity&quot;);<br/> <wbr/><wbr/><wbr/>imsi = (NSString*)CTSIMSupportCopyMobileSu<wbr/>bscriberIdentity(nil);<br/> <wbr/><wbr/><wbr/>dlclose(kit);<wbr/><wbr/><wbr/><wbr/><br/><br/> <wbr/><wbr/><wbr/>UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@&quot;IMSI&quot;<wbr/><br/> <wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/>message:imsi<wbr/><br/> <wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/>delegate:self<wbr/><br/> <wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/>cancelButtonTitle:@&quot;OK&quot;<wbr/><br/> <wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/><wbr/>otherButtonTitles:nil];<br/> <wbr/><wbr/><wbr/>[alert show];<br/> <wbr/><wbr/><wbr/>[alert release];<br/>#endif<br/>}</span></span></span></p><p style=\"border-width: 0px; margin: 0cm 0cm 0pt; padding: 0px; line-height: 21px; list-style-type: none; word-break: normal; word-wrap: normal;\"><span style=\"line-height: 19px; font-size: 13px; word-break: normal; word-wrap: normal;\"><span style=\"line-height: 19px; word-break: normal; word-wrap: normal;\" lang=\"EN-US\" xml:lang=\"EN-US\"><span style=\"line-height: 19px; font-family: Calibri; word-break: normal; word-wrap: normal;\"><br/></span></span></span></p><p style=\"border-width: 0px; margin: 0cm 0cm 0pt; padding: 0px; line-height: 21px; list-style-type: none; word-break: normal; word-wrap: normal;\"><wbr/></p><p style=\"border-width: 0px; margin: 0cm 0cm 0pt; padding: 0px; line-height: 21px; list-style-type: none; word-break: normal; word-wrap: normal;\"><span style=\"line-height: 19px; font-size: 13px; word-break: normal; word-wrap: normal;\"><span style=\"line-height: 19px; word-break: normal; word-wrap: normal;\" lang=\"EN-US\" xml:lang=\"EN-US\"><span style=\"line-height: 19px; font-family: Calibri; word-break: normal; word-wrap: normal;\">2</span></span><span style=\"line-height: 19px; font-family: 宋体; word-break: normal; word-wrap: normal;\">：这是使用</span><span style=\"line-height: 19px; word-break: normal; word-wrap: normal;\" lang=\"EN-US\" xml:lang=\"EN-US\"><span style=\"line-height: 19px; font-family: Calibri; word-break: normal; word-wrap: normal;\">SpringBoardServices.framework</span></span><span style=\"line-height: 19px; font-family: 宋体; word-break: normal; word-wrap: normal;\">来设置飞行模式开关</span></span></p><p style=\"border-width: 0px; margin: 0cm 0cm 0pt; padding: 0px; line-height: 21px; list-style-type: none; word-break: normal; word-wrap: normal;\"><span style=\"line-height: 19px; font-size: 13px; word-break: normal; word-wrap: normal;\"><span style=\"line-height: 19px; font-family: 宋体; word-break: normal; word-wrap: normal;\">#ifdef SUPPORTS_UNDOCUMENTED_API<br/>#define SBSERVPATH<wbr/>&quot;/System/Library/PrivateFrameworks/SpringBoardServices.framework/SpringBoardServices&quot;<br/>#define UIKITPATH &quot;/System/Library/Framework/UIKit.framework/UIKit&quot;<br/><br/>// Don&#39;t use this code in real life, boys and girls. It is not App Store friendly.<br/>// It is, however, really nice for testing callbacks<br/>+ (void) setAirplaneMode: (BOOL)status;<br/>{<br/> <wbr/><wbr/><wbr/>mach_port_t *thePort;<br/> <wbr/><wbr/><wbr/>void *uikit = dlopen(UIKITPATH, RTLD_LAZY);<br/> <wbr/><wbr/><wbr/>int (*SBSSpringBoardServerPort<wbr/>)() = dlsym(uikit, &quot;SBSSpringBoardServerPort<wbr/>&quot;);<br/> <wbr/><wbr/><wbr/>thePort = (mach_port_t *)SBSSpringBoardServerPort<wbr/>();<wbr/><br/> <wbr/><wbr/><wbr/>dlclose(uikit);<br/> <wbr/><wbr/><wbr/><wbr/><br/> <wbr/><wbr/><wbr/>// Link to SBSetAirplaneModeEnabled<wbr/><br/> <wbr/><wbr/><wbr/>void *sbserv = dlopen(SBSERVPATH, RTLD_LAZY);<br/> <wbr/><wbr/><wbr/>int (*setAPMode)(mach_port_t* port, BOOL status) = dlsym(sbserv, &quot;SBSetAirplaneModeEnabled<wbr/>&quot;);<br/> <wbr/><wbr/><wbr/>setAPMode(thePort, status);<br/> <wbr/><wbr/><wbr/>dlclose(sbserv);<br/>}<br/>#endif</span></span></p></span></p>','2013-12-11 07:15:50','2013-12-11 15:15:50'),(214,'114.247.232.56',3,'推送服务器架设流程','<p>/////////////////////////////////////////////////////////////////////////////////////////////////////////</p><p>本文作者为CocoaChina会员“marshluca”，帖子地址 <a href=\"http://www.cocoachina.com/bbs/read.php?tid-20723.html\" target=\"_blank\"></a><a href=\"http://www.cocoachina.com/bbs/read.php?tid\" target=\"_blank\"><a href=\"http://www.cocoachina.com/bbs/read.php?tid\" target=\"_blank\">http://www.cocoachina.com/bbs/read.php?tid</a>-20723.html</a></p><p>&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">&nbsp; &nbsp;[[UIApplication sharedApplication] registerForRemoteNotificationTypes:(UIRemoteNotificationTypeBadge | UIRemoteNotificationTypeSound|UIRemoteNotificationTypeAlert)];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">&nbsp; &nbsp;return YES;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (void)applicationDidBecomeActive:(UIApplication *)application</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal &quot;Heiti SC Light&quot;; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\"> &nbsp; &nbsp;</span><span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">//</span>重新激活窗体时</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">&nbsp; &nbsp;application.applicationIconBadgeNumber = 0;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p>&nbsp;</p><p>&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (void)application:(UIApplication *)application didRegisterForRemoteNotificationsWithDeviceToken:(NSData *)deviceToken {</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">NSLog(@&quot;deviceToken: %@&quot;, deviceToken);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (void)application:(UIApplication *)application didFailToRegisterForRemoteNotificationsWithError:(NSError *)error {</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">NSLog(@&quot;Error in registration. Error: %@&quot;, error);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (void)application:(UIApplication *)application didReceiveRemoteNotification:(NSDictionary *)userInfo</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">#if !TARGET_IPHONE_SIMULATOR</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p><span style=\"font-size: 11px;\"> &nbsp; &nbsp;</span><span style=\"font-size: 11px;\">SystemSoundID</span><span style=\"font-size: 11px;\"> soundId;</span></p><p style=\"font-size: 11px;\">&nbsp;</p><p style=\"font-size: 11px;\">&nbsp; &nbsp;NSLog(@&quot;remote notification: %@&quot;,[userInfo description]);</p><p style=\"font-size: 11px;\">NSDictionary *apsInfo = [userInfo objectForKey:@&quot;aps&quot;];</p><p style=\"font-size: 11px;\">&nbsp;</p><p style=\"font-size: 11px;\">NSString *alert = [apsInfo objectForKey:@&quot;alert&quot;];</p><p style=\"font-size: 11px;\">&nbsp; &nbsp;NSLog(@&quot;Received Push Alert: %@&quot;, alert);</p><p style=\"font-size: 11px;\">&nbsp;</p><p style=\"font-size: 11px;\">NSString *sound = [apsInfo objectForKey:@&quot;sound&quot;];</p><p style=\"font-size: 11px;\">&nbsp; &nbsp;NSLog(@&quot;Received Push Sound: %@&quot;, sound);</p><p style=\"font-size: 11px;\"><br/></p><p style=\"font-size: 11px;\">&nbsp; &nbsp;//播放声音</p><p style=\"font-size: 11px;\">&nbsp; &nbsp;NSString* path = [[NSBundle mainBundle] pathForResource:sound ofType:nil];</p><p style=\"font-size: 11px;\">if (path) {</p><p style=\"font-size: 11px;\">&nbsp; &nbsp; &nbsp; &nbsp;AudioServicesCreateSystemSoundID((CFURLRef)[NSURL fileURLWithPath:path],&amp;soundId);</p><p style=\"font-size: 11px;\">&nbsp; &nbsp; &nbsp; &nbsp;AudioServicesPlaySystemSound(soundId);</p><p style=\"font-size: 11px;\">}</p><p style=\"font-size: 11px;\">&nbsp;</p><p style=\"font-size: 11px;\">NSString *badge = [apsInfo objectForKey:@&quot;badge&quot;];</p><p style=\"font-size: 11px;\">&nbsp; &nbsp;NSLog(@&quot;Received Push Badge: %@&quot;, badge);</p><p style=\"font-size: 11px;\">application.applicationIconBadgeNumber = [[apsInfo objectForKey:@&quot;badge&quot;] integerValue];</p><p>&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">#endif</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p><br/></p><p>&nbsp;</p><p>启动程序，将app注册到通知项后，在console里面找到打印的deviceToken：<table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\"><tbody><tr><td><br/>deviceToken: &lt;6974ac11 870e09fa 00e2238e 8cfafc7d 2052e342 182f5b57 fabca445 42b72e1b&gt;<br/><br/><span style=\"color: rgb(0, 0, 255);\">1-&gt;在开发者网站里新建相应唯一的appids<br/>2-&gt;根据appids建立相应的provisioning下载并打开-&gt;调整好工程里的code signing identity<br/>3-&gt;钥匙访问串-&gt;从证书颁发机构求证书-&gt;生成信息<br/>4-&gt;将生成信息-&gt;上传到developer开发者网站里的指定appids里<br/>5-&gt;下载上传证书之后网站生成的aps_developer_identity.cer或者aps_product_identity.cer<br/>6-&gt;下载cer文件后双击打开<br/>7-&gt;转到钥匙访问串程序-&gt;选择登录-&gt;选择证书-&gt;找到Apple xxxxxxx Push Services<br/>8-&gt;右键xxxx Push Services证书(选中证书和钥匙两项),分别导出developer 和product 版本为.p12文件,名字为<span style=\"font-size: 14px;\">cert.p12</span><br/>9-&gt;打开终端-&gt;执行以下命令</span><br/><br/></td></tr></tbody></table><p>命令<br/>1. &nbsp; &nbsp; openssl pkcs12 -clcerts -nokeys -out cert.pem -in cert.p12<br/>2. &nbsp; &nbsp; openssl pkcs12 -nocerts -out key.pem -in cert.p12<br/>3. &nbsp; &nbsp; openssl rsa -in key.pem -out key.unencrypted.pem<br/>4. &nbsp; &nbsp; cat cert.pem key.unencrypted.pem &gt; ck.pem<br/></p><p>&nbsp;</p><p><br/></p><p>5.测试证书是否可用：<br/>openssl s_client -connect gateway.sandbox.push.apple.com:2195 -cert cert.pem -key ck.pem<br/></p><p><br/></p><p><br/></p><p>////////////////////////// &nbsp;php 页面 &nbsp;///////////与 ck.pem 放在同一个目录////////////////////</p><p>//请求一次 <a href=\"http://www.pooea.com/push.php?deviceToken=64个字符&amp;message=abc123&amp;badge=2&amp;sound=received5.caf\" target=\"_blank\"></a><a href=\"http://www.pooea.com/push.php?deviceToken=64\" target=\"_blank\"><a href=\"http://www.pooea.com/push.php?deviceToken=64\" target=\"_blank\">http://www.pooea.com/push.php?deviceToken=64</a>个字符&amp;message=abc123&amp;badge=2&amp;sound=received5.caf<br/>就会向APNS进行一次推送</a></p><p><br/></p><p>&lt;?php</p><p>$pass = &#39;123456&#39;; &nbsp; // Passphrase for the private key (ck.pem file)</p><p>// Get the parameters from http get or from command line</p><p>$deviceToken = $_REQUEST[&#39;deviceToken&#39;];<br/>$message = $_REQUEST[&#39;message&#39;] or $message = $argv[1] or $message = &#39;A test message from worldcup&#39;; <br/>$badge = (int)$_REQUEST[&#39;badge&#39;] or $badge = (int)$argv[2]; <br/>$sound = $_REQUEST[&#39;sound&#39;] or $sound = $argv[3];</p><p>print &quot;deviceToken=$deviceToken&lt;/br&gt;&quot;;<br/>print &quot;message=$message&lt;/br&gt;&quot;;<br/>print &quot;badge=$badge&lt;/br&gt;&quot;;<br/>print &quot;sound=$sound&lt;/br&gt;&quot;;</p><p>// Construct the notification payload</p><p>$body = array();<br/>$body[&#39;aps&#39;] = array(&#39;alert&#39; =&gt; $message);<br/>if ($badge)<br/> &nbsp;$body[&#39;aps&#39;][&#39;badge&#39;] = $badge;<br/>if ($sound)<br/> &nbsp;$body[&#39;aps&#39;][&#39;sound&#39;] = $sound;</p><p><br/>// End of Configurable Items<br/>$ctx = stream_context_create();<br/>$pem = dirname(__FILE__) . &#39;/&#39; . &#39;push_developer_ck.pem&#39;;<br/>stream_context_set_option($ctx, &#39;ssl&#39;, &#39;local_cert&#39;, $pem );</p><p>// assume the private key passphase was removed.<br/>stream_context_set_option($ctx, &#39;ssl&#39;, &#39;passphrase&#39;, $pass);</p><p>// connect to apns<br/>$fp = stream_socket_client(&#39;ssl://gateway.sandbox.push.apple.com:2195&#39;, $err, $errstr, 60, STREAM_CLIENT_CONNECT, $ctx);<br/>if (!$fp) {<br/> &nbsp; &nbsp;print &quot;Failed to connect $err $errstr\\n&quot;;<br/> &nbsp; &nbsp;return;<br/>}<br/>else {<br/> &nbsp; print &quot;Connection OK\\n&lt;br/&gt;&quot;;<br/>}</p><p>// send message</p><p>$payload = json_encode($body);</p><p>$msg = chr(0) . pack(&quot;n&quot;,32) . pack(&#39;H*&#39;, str_replace(&#39; &#39;, &#39;&#39;, $deviceToken)) . pack(&quot;n&quot;,strlen($payload)) . $payload;</p><p>print &quot;Sending message :&quot; . $payload . &quot;\\n&quot;;</p><p>fwrite($fp, $msg);</p><p>fclose($fp);</p><p>?&gt;</p><p></p><p></p><p></p></p>','2013-12-11 07:16:16','2013-12-11 15:16:16'),(216,'192.168.0.104',3,'UIView圆角和边框','<p><span style=\"line-height: 23px; font-family: Verdana, Geneva, sans-serif; font-size: 13px;\"></span></p><p><span style=\"line-height: 23px; font-family: Verdana, Geneva, sans-serif; font-size: 13px;\"></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 128, 0);\">//UIView</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(71, 129, 134);\"></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(112, 61, 170);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">imgHdr</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures\">layer</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures\">masksToBounds</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> =</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">YES</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(112, 61, 170);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">imgHdr</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures\">layer</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures\">cornerRadius</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> = </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">35</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">;</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #008400\">//</span><span style=\"line-height: normal; font-family: &#39;PingFang SC&#39;; font-variant-ligatures: no-common-ligatures; color: rgb(0, 132, 0);\">设置那个圆角的有多圆</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(112, 61, 170);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">imgHdr</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures\">layer</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures\">borderWidth</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> = </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">0</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">;</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #008400\">//</span><span style=\"line-height: normal; font-family: &#39;PingFang SC&#39;; font-variant-ligatures: no-common-ligatures; color: rgb(0, 132, 0);\">设置边框的宽度</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"line-height: 23px; font-family: Verdana, Geneva, sans-serif; font-size: 13px;\"><span style=\"color: rgb(116, 60, 166); line-height: normal; font-family: Menlo; font-size: 11px;\"><span style=\"font-family: 宋体;\"><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"></span></span></span></span><br/></p><p><span style=\"color: rgb(85, 85, 85); line-height: 23px; font-family: Verdana, Geneva, sans-serif; font-size: 13px;\"></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; min-height: 13px;\"><span style=\"font-variant-ligatures: no-common-ligatures\"></span>//</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">-(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">void</span><span style=\"font-variant-ligatures: no-common-ligatures\">)viewLayer:(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIView</span><span style=\"font-variant-ligatures: no-common-ligatures\"> *)view{</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(112, 61, 170);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; view.</span><span style=\"font-variant-ligatures: no-common-ligatures\">layer</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures\">masksToBounds</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> = </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">true</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(112, 61, 170);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; view.</span><span style=\"font-variant-ligatures: no-common-ligatures\">layer</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures\">borderWidth</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> = </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">1.5</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(112, 61, 170);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; view.</span><span style=\"font-variant-ligatures: no-common-ligatures\">layer</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures\">borderColor</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> = [</span><span style=\"font-variant-ligatures: no-common-ligatures\">UIColor</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">colorWithRed</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">238</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">/</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">255.0</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">green</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">238</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">/</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">255.0</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">blue</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">238</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">/</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">255.0</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">alpha</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">1</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">].</span><span style=\"font-variant-ligatures: no-common-ligatures\">CGColor</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(112, 61, 170);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; view.</span><span style=\"font-variant-ligatures: no-common-ligatures\">layer</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures\">cornerRadius</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> = </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">5</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">}</span></p><p><span style=\"font-variant-ligatures: no-common-ligatures\"><br/></span></p><p><span style=\"color: rgb(85, 85, 85); line-height: 23px; font-family: Verdana, Geneva, sans-serif; font-size: 13px;\"><br/></span></p><p><span style=\"color: rgb(85, 85, 85); line-height: 23px; font-family: Verdana, Geneva, sans-serif; font-size: 13px;\"><br/></span><br/></p><p><span style=\"color: rgb(85, 85, 85);\">UITextView圆角</span><br style=\"margin: 0px; padding: 0px; text-decoration: none;\"/><span style=\"color: rgb(85, 85, 85);\">#import &lt;QuartzCore/QuartzCore.h&gt;</span><br style=\"margin: 0px; padding: 0px; text-decoration: none;\"/><span style=\"color: rgb(85, 85, 85);\">[self.textview.layer setCornerRadius:8.5f];</span><br style=\"margin: 0px; padding: 0px; text-decoration: none;\"/><span style=\"color: rgb(85, 85, 85);\">textview.clipsToBounds = YES;</span></p><p><br/></p><p><span style=\"color: rgb(85, 85, 85); line-height: 23px; font-family: Verdana, Geneva, sans-serif; font-size: 13px;\"><br/></span></p><p><span style=\"color: rgb(85, 85, 85); line-height: 23px; font-family: Verdana, Geneva, sans-serif; font-size: 13px;\">UITextView边框<br style=\"margin: 0px; padding: 0px; text-decoration: none;\"/>#import &lt;QuartzCore/QuartzCore.h&gt;<br style=\"margin: 0px; padding: 0px; text-decoration: none;\"/>[self.textview.layer setBorderColor:[[UIColor grayColor] CGColor]];<br style=\"margin: 0px; padding: 0px; text-decoration: none;\"/>[self.textview.layer setBorderWidth:1.0];</span></p><p><br/></p>','2013-12-11 07:17:01','2017-07-20 00:56:58'),(217,'192.168.0.128',3,'UIActionSheet','<p>//UIActionSheetDelegate</p><p style=\"font: 11px/normal &quot;Heiti SC Light&quot;; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 11px/normal Menlo; color: rgb(0, 0, 0); font-size-adjust: none; font-stretch: normal;\"> &nbsp; &nbsp;</span><span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">// </span>创建时仅指定取消按钮<span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\"> </span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>UIActionSheet<span style=\"color: rgb(0, 0, 0);\"> *sheet = [[</span>UIActionSheet<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">alloc</span><span style=\"color: rgb(0, 0, 0);\">] </span><span style=\"color: rgb(63, 28, 126);\">initWithTitle</span><span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(218, 46, 36);\">@&quot;Dynamic UIActionSheet&quot;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">delegate</span>:<span style=\"color: rgb(194, 42, 159);\">self</span> </p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">cancelButtonTitle</span>:<span style=\"color: rgb(218, 46, 36);\">@&quot;Cancel&quot;</span> </p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">destructiveButtonTitle</span>:<span style=\"color: rgb(218, 46, 36);\">@&quot;AAAA&quot;</span> </p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">otherButtonTitles</span>:<span style=\"color: rgb(218, 46, 36);\">@&quot;BBBB&quot;</span>,<span style=\"color: rgb(194, 42, 159);\">nil</span>];</p><p style=\"font: 11px/normal &quot;Heiti SC Light&quot;; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 11px/normal Menlo; color: rgb(0, 0, 0); font-size-adjust: none; font-stretch: normal;\"> &nbsp; &nbsp;</span><span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">// </span>逐个添加按钮（比如可以是数组循环）</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;[sheet </span>addButtonWithTitle<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(218, 46, 36);\">@&quot;Item A&quot;</span><span style=\"color: rgb(0, 0, 0);\">]; </span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;[sheet </span>addButtonWithTitle<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(218, 46, 36);\">@&quot;Item B&quot;</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;[sheet </span>addButtonWithTitle<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(218, 46, 36);\">@&quot;Item C&quot;</span><span style=\"color: rgb(0, 0, 0);\">]; </span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>//[sheet showInView:self.view];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;[sheet </span>showFromRect<span style=\"color: rgb(0, 0, 0);\">:</span>CGRectMake<span style=\"color: rgb(0, 0, 0);\">(</span><span style=\"color: rgb(37, 38, 211);\">0</span><span style=\"color: rgb(0, 0, 0);\">, </span><span style=\"color: rgb(37, 38, 211);\">0</span><span style=\"color: rgb(0, 0, 0);\">,</span><span style=\"color: rgb(37, 38, 211);\">500</span><span style=\"color: rgb(0, 0, 0);\">,</span><span style=\"color: rgb(37, 38, 211);\">500</span><span style=\"color: rgb(0, 0, 0);\">) </span>inView<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">self</span><span style=\"color: rgb(0, 0, 0);\">.</span><span style=\"color: rgb(116, 60, 166);\">view</span><span style=\"color: rgb(0, 0, 0);\"> </span>animated<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">YES</span><span style=\"color: rgb(0, 0, 0);\">]; </span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[sheet <span style=\"color: rgb(63, 28, 126);\">release</span>];</p><p><br/></p><p><br/></p><p><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures\">//---------------</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">- (</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">void</span><span style=\"font-variant-ligatures: no-common-ligatures\">)actionSheet:(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIActionSheet</span><span style=\"font-variant-ligatures: no-common-ligatures\"> *)actionSheet clickedButtonAtIndex:(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSInteger</span><span style=\"font-variant-ligatures: no-common-ligatures\">)buttonIndex</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">{</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">NSLog</span><span style=\"font-variant-ligatures: no-common-ligatures\">(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;buttonIndex=%ld&quot;</span><span style=\"font-variant-ligatures: no-common-ligatures\">,buttonIndex);</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">switch</span><span style=\"font-variant-ligatures: no-common-ligatures\"> (buttonIndex) {</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">case</span><span style=\"font-variant-ligatures: no-common-ligatures\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">1</span><span style=\"font-variant-ligatures: no-common-ligatures\">:</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; min-height: 13px;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">break</span><span style=\"font-variant-ligatures: no-common-ligatures\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">case</span><span style=\"font-variant-ligatures: no-common-ligatures\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">2</span><span style=\"font-variant-ligatures: no-common-ligatures\">:</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; min-height: 13px;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">break</span><span style=\"font-variant-ligatures: no-common-ligatures\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; }</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">}</span></p><p><br/></p>','2013-12-11 07:17:18','2016-07-23 09:28:15'),(218,'114.247.232.56',3,'获得自己的当前坐标','<p><span style=\"color: rgb(51, 51, 51); line-height: 26px; font-family: mceinline;\">1。首先</span><span style=\"line-height: 26px;\"><p style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"font-family: mceinline;\"><span style=\"font-family: 宋体;\"> &nbsp; &nbsp; &nbsp; </span></span>#import &lt;CoreLocation/CoreLocation.h&gt;</p><p style=\"color: rgb(51, 51, 51); font-family: Arial;\"><br/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial;\">2。类里面定义两个变量：</p><p style=\"color: rgb(51, 51, 51); font-family: Arial;\">CLLocationManager * &nbsp;m_locationManager;</p><p style=\"color: rgb(51, 51, 51); font-family: Arial;\"></p><p style=\"color: rgb(51, 51, 51); font-family: Arial;\">&nbsp; &nbsp; CLLocationCoordinate2D &nbsp; &nbsp; &nbsp; &nbsp; m_curLocation;</p></span><span style=\"color: rgb(51, 51, 51); line-height: 26px; font-family: Arial;\"><p style=\"text-indent: 2em;\">&nbsp;</p><p><span style=\"color: rgb(51, 51, 51); line-height: 26px; font-family: Arial;\"><br/></span></p>3。 类 实现 CLLocationManagerDelegate &nbsp;代理。</span><span style=\"color: rgb(51, 51, 51); line-height: 26px; font-family: Arial;\">加入CoreLocation.framework到您的專案中</span><span style=\"line-height: 26px;\"><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"> </span><p style=\"color: rgb(51, 51, 51); font-family: Arial;\">4。实现代码：</p><p><a style=\"margin: 0px 10px 0px 0px; padding: 1px; width: 16px; height: 16px; color: rgb(160, 160, 160); text-indent: -2000px; font-size: 9px; text-decoration: none; display: inline-block; background-image: url(&quot;http://static.blog.csdn.net/scripts/SyntaxHighlighter/styles/images/default/ico_plain.gif&quot;); background-repeat: no-repeat no-repeat; background-color: inherit;\" class=\"ViewSource\" title=\"view plain\" href=\"http://blog.csdn.net/tangaowen/article/details/6527803#\" target=\"_blank\">view plain</a></p><p><span style=\"margin: 0px; padding: 0px; color: black; background-color: inherit;\"><span style=\"margin: 0px; padding: 0px; color: rgb(0, 130, 0); background-color: inherit;\">//获得自己的当前的位置信息</span><span style=\"margin: 0px; padding: 0px; color: black; background-color: inherit;\"> &nbsp;</span></span></p><p><span style=\"margin: 0px; padding: 0px; color: black; background-color: inherit;\">- (<span style=\"margin: 0px; padding: 0px; color: rgb(0, 102, 153); font-weight: bold; background-color: inherit;\">void</span><span style=\"margin: 0px; padding: 0px; color: black; background-color: inherit;\">) getCurPosition &nbsp;</span></span></p><p><span style=\"margin: 0px; padding: 0px; color: black; background-color: inherit;\">{ &nbsp;</span></p><p><span style=\"margin: 0px; padding: 0px; color: black; background-color: inherit;\">&nbsp;&nbsp;<span style=\"margin: 0px; padding: 0px; color: rgb(0, 130, 0); background-color: inherit;\">//开始探测自己的位置</span><span style=\"margin: 0px; padding: 0px; color: black; background-color: inherit;\"> &nbsp;</span></span></p><p><span style=\"margin: 0px; padding: 0px; color: black; background-color: inherit;\">&nbsp;m_locationManager =[[CLLocationManager alloc] init]; &nbsp;</span><span style=\"color: rgb(92, 92, 92);\"><span style=\"margin: 0px; padding: 0px; color: black; background-color: inherit;\"> &nbsp;</span></span></p><p><span style=\"margin: 0px; padding: 0px; color: black; background-color: inherit;\">&nbsp;&nbsp;&nbsp;<span style=\"margin: 0px; padding: 0px; color: rgb(0, 102, 153); font-weight: bold; background-color: inherit;\">if</span><span style=\"margin: 0px; padding: 0px; color: black; background-color: inherit;\"> ([CLLocationManager locationServicesEnabled]) &nbsp; </span></span></p><p><span style=\"margin: 0px; padding: 0px; color: black; background-color: inherit;\"> &nbsp; &nbsp;{ &nbsp;</span></p><p><span style=\"margin: 0px; padding: 0px; color: black; background-color: inherit;\"> &nbsp; &nbsp; &nbsp; &nbsp;<span style=\"margin: 0px; padding: 0px; color: black; background-color: inherit;\">m_</span>locationManager.delegate=self; &nbsp;</span></p><p><span style=\"margin: 0px; padding: 0px; color: black; background-color: inherit;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"margin: 0px; padding: 0px; color: black; background-color: inherit;\">m_</span>locationManager.desiredAccuracy=kCLLocationAccuracyBest; &nbsp;</span></p><p><span style=\"margin: 0px; padding: 0px; color: black; background-color: inherit;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"margin: 0px; padding: 0px; color: black; background-color: inherit;\">m_</span>locationManager.distanceFilter=1.0f; &nbsp;</span></p><p><span style=\"margin: 0px; padding: 0px; color: black; background-color: inherit;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span style=\"margin: 0px; padding: 0px; color: black; background-color: inherit;\">m_</span>locationManager startUpdatingLocation]; &nbsp;</span></p><p><span style=\"margin: 0px; padding: 0px; color: black; background-color: inherit;\"> &nbsp; &nbsp;} &nbsp;</span></p><p><span style=\"margin: 0px; padding: 0px; color: black; background-color: inherit;\">} &nbsp;</span></p><p style=\"color: rgb(51, 51, 51); font-family: Arial;\">&nbsp;</p><p style=\"color: rgb(51, 51, 51); font-family: Arial;\">startUpdatingLocation 是启动对当前位置的搜索，只要 当前位置移动的范围超过 distanceFilter指定的范围，那么就会重新收到</p><p style=\"color: rgb(51, 51, 51); font-family: Arial;\">最新的坐标位置信息。</p></span><span style=\"color: rgb(51, 51, 51); line-height: 26px; font-family: Arial;\"><p><span style=\"color: rgb(51, 51, 51); line-height: 26px; font-family: Arial;\"><br/></span></p>如果要关闭对位置的更新，需要调用 &nbsp;stopUpdatingLocation。</span><span style=\"line-height: 26px;\"><p style=\"color: rgb(51, 51, 51); font-family: Arial;\">&nbsp;</p></span></p><p><br/></p><p>5.如果获取到用户的当前位置，会有delegate的函数被调用</p><p><span style=\"line-height: 26px;\"></span><p style=\"color: rgb(51, 51, 51); font-family: Arial;\">&nbsp;</p><p></p><p style=\"text-indent: 2em;\">&nbsp;</p><p style=\"text-indent: 2em;\">&nbsp;</p><p style=\"text-indent: 2em;\">- (void) locationManager:(CLLocationManager *)manager didUpdateToLocation:(CLLocation *)newLocation</p><p style=\"text-indent: 2em;\">fromLocation:(CLLocation *)oldLocation</p><p style=\"text-indent: 2em;\">{</p><p>NSLog(@&quot;newLocation:%@&quot;,[newLocation description]);<br/>//保存新位置<br/><span style=\"line-height: 18px; font-family: Consolas, &quot;Courier New&quot;, Courier, mono, serif; font-size: 12px;\"><span style=\"margin: 0px; padding: 0px; color: black; background-color: inherit;\">m_</span></span>curLocation=newLocation.coordinate; &nbsp;<br/></p><p style=\"text-indent: 2em;\">}</p><p>&nbsp;</p><p style=\"color: rgb(51, 51, 51); line-height: 26px; font-family: Arial;\">&nbsp;</p><p></p><p></p></p>','2013-12-11 07:18:18','2013-12-11 15:18:18'),(219,'114.247.232.56',3,'badge红色提示圈','<p>item.badgeValue=@&quot;Fuck&quot;;</p>','2013-12-11 07:18:36','2013-12-11 15:18:36'),(220,'114.247.232.56',3,'获取文件属性','<p>要获得文件创建时间和大小，可以参考下面这行代码</p><p>NSDictionary *fileAttributes = [[NSFileManager defaultManager] fileAttributesAtPath:path traverseLink:YES];</p><p>//文件大小<br/> &nbsp; &nbsp;if (fileSize = [fileAttributes objectForKey:NSFileSize]) {<br/></p><p style=\"text-indent: 2em;\">NSLog(@&quot;File size: %qi\\n&quot;, [fileSize unsignedLongLongValue]);<br/> &nbsp; &nbsp;}</p><p style=\"text-indent: 2em;\">//文件创建日期<br/> &nbsp; &nbsp;if (creationDate = [fileAttributes objectForKey:NSFileCreationDate]) {<br/> &nbsp; &nbsp; &nbsp; &nbsp;NSLog(@&quot;File creationDate: <a rel=\"nofollow\" target=\"_blank\">%@\\n</a>&quot;, creationDate);<br/> &nbsp; &nbsp; &nbsp; &nbsp;//textField.text=NSFileCreationDate;<br/> &nbsp; &nbsp;}</p><p style=\"text-indent: 2em;\">//文件所有者<br/> &nbsp; &nbsp;if (fileOwner = [fileAttributes objectForKey:NSFileOwnerAccountName]) {<br/> &nbsp; &nbsp; &nbsp; &nbsp;NSLog(@&quot;Owner: <a rel=\"nofollow\" target=\"_blank\">%@\\n</a>&quot;, fileOwner);<br/> &nbsp; &nbsp;}</p><p style=\"text-indent: 2em;\">//文件修改日期<br/> &nbsp; &nbsp;if (fileModDate = [fileAttributes objectForKey:NSFileModificationDate]) {<br/> &nbsp; &nbsp; &nbsp; &nbsp;NSLog(@&quot;Modification date: <a rel=\"nofollow\" target=\"_blank\">%@\\n</a>&quot;, fileModDate);<br/> &nbsp; &nbsp;}</p><p style=\"text-indent: 2em;\"><br/></p><p style=\"text-indent: 2em;\">//////////////////////////////////////////////////////////////</p><p style=\"text-indent: 2em;\">&nbsp;</p><p style=\"text-indent: 2em;\">&nbsp;</p><p style=\"text-indent: 2em;\">//日期格式化<br/> &nbsp; &nbsp; &nbsp; NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];</p><p style=\"text-indent: 2em;\">[dateFormatter setDateStyle:NSDateFormatterMediumSty<wbr/>le];</p><p style=\"text-indent: 2em;\">[dateFormatter setTimeStyle:NSDateFormatterNoStyle];</p><p style=\"text-indent: 2em;\"><br/></p><p style=\"text-indent: 2em;\">//数字格式化</p><p style=\"text-indent: 2em;\">NSNumberFormatter *numberFormatter =[[NSNumberFormatter alloc] init];</p><p style=\"text-indent: 2em;\">[numberFormatter setPositiveFormat: @&quot;#,##0.## bytes&quot;];</p><p style=\"text-indent: 2em;\">//获取文件的创建日期</p><p style=\"text-indent: 2em;\">NSDate *modificationDate = (NSDate*)[fileAttributes objectForKey:NSFileModificationDate];</p><p style=\"text-indent: 2em;\">//获取文件的字节大小</p><p style=\"text-indent: 2em;\">NSNumber *fileSize = (NSNumber*)[fileAttributes objectForKey: NSFileSize];</p><p style=\"text-indent: 2em;\">//格式化文件大小</p><p style=\"text-indent: 2em;\">NSString* A = [numberFormatter stringFromNumber: fileSize];</p><p style=\"text-indent: 2em;\">//格式化文件创建日期</p><p style=\"text-indent: 2em;\">NSString* B =[dateFormatter stringFromDate: modificationDate];</p><p style=\"text-indent: 2em;\"><br/></p><p style=\"text-indent: 2em;\">[numberFormatter release];</p><p style=\"text-indent: 2em;\">[dateFormatter release];</p><p><br/></p><p>&nbsp;</p><p>&nbsp;</p><p><span style=\"line-height: 25px; font-family: Arial, Helvetica, simsun, u5b8bu4f53;\"><p>/////////////////////////////////////////////////////////////////////////</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><strong> &nbsp; &nbsp;NSFileCreationDate = &quot;2011-11-02 03:40:14 +0000&quot;;</strong></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><strong> &nbsp; &nbsp;NSFileExtensionHidden = 0;</strong></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><strong> &nbsp; &nbsp;NSFileGroupOwnerAccountID = 20;</strong></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><strong> &nbsp; &nbsp;NSFileGroupOwnerAccountName = staff;</strong></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><strong> &nbsp; &nbsp;NSFileModificationDate = &quot;2011-11-02 03:40:14 +0000&quot;;</strong></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><strong> &nbsp; &nbsp;NSFileOwnerAccountID = 501;</strong></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><strong> &nbsp; &nbsp;NSFileOwnerAccountName = sohn;</strong></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><strong> &nbsp; &nbsp;NSFilePosixPermissions = 493;</strong></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><strong> &nbsp; &nbsp;NSFileReferenceCount = 2;</strong></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><strong> &nbsp; &nbsp;NSFileSize = 68;</strong></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><strong> &nbsp; &nbsp;NSFileSystemFileNumber = 2488051;</strong></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><strong> &nbsp; &nbsp;NSFileSystemNumber = 234881026;</strong></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><strong> &nbsp; &nbsp;NSFileType = NSFileTypeDirectory;</strong></p></span></p><p></p>','2013-12-11 07:18:54','2013-12-11 15:18:54'),(221,'114.247.232.56',3,'遍历指定目录文件','<p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">-(<span style=\"color: rgb(194, 42, 159);\">void</span>)findProj</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">BOOL</span> isDir;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">NSString</span> *sTmpPath;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">NSError</span> *error = <span style=\"color: rgb(194, 42, 159);\">nil</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">NSArray</span> *lstFile=<span style=\"color: rgb(194, 42, 159);\">nil</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">NSString</span> *sDocDir;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">NSFileManager *fileManager;</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">fileManager= [<span style=\"color: rgb(116, 60, 166);\">NSFileManager</span> <span style=\"color: rgb(63, 28, 126);\">defaultManager</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">sDocDir = [<span style=\"color: rgb(71, 129, 134);\">m_publicSysMage</span> <span style=\"color: rgb(43, 89, 93);\">documentPath</span>:[<span style=\"color: rgb(116, 60, 166);\">NSString</span> <span style=\"color: rgb(63, 28, 126);\">stringWithUTF8String</span>:<span style=\"color: rgb(124, 73, 46);\">PROJECT_RC</span>]];</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>//find project_rc exist ,isn&#39;t</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">if</span> ([fileManager <span style=\"color: rgb(63, 28, 126);\">fileExistsAtPath</span>:sDocDir]) {</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">lstFile =[fileManager <span style=\"color: rgb(63, 28, 126);\">contentsOfDirectoryAtPath</span>:sDocDir <span style=\"color: rgb(63, 28, 126);\">error</span>:&amp;error];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">for</span> (<span style=\"color: rgb(116, 60, 166);\">NSString</span> *sFile <span style=\"color: rgb(194, 42, 159);\">in</span> lstFile) {</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">sTmpPath=[<span style=\"color: rgb(116, 60, 166);\">NSString</span> <span style=\"color: rgb(63, 28, 126);\">stringWithFormat</span>:<span style=\"color: rgb(218, 46, 36);\">@&quot;%@/%@&quot;</span>,sDocDir,sFile];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[fileManager <span style=\"color: rgb(63, 28, 126);\">fileExistsAtPath</span>:sTmpPath <span style=\"color: rgb(63, 28, 126);\">isDirectory</span>:(&amp;isDir)];</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(63, 28, 126);\">NSLog</span><span style=\"color: rgb(0, 0, 0);\">(</span>@&quot;find file=%@ is_folder=%d&quot;<span style=\"color: rgb(0, 0, 0);\">,sFile,isDir);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">if</span> (isDir) {</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(51, 153, 102);\">//[self addProjByPath:sDocDir :sFile];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">else</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span>//not exist,that create the &quot;PROJECT_RC&quot; folder</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;[[</span><span style=\"color: rgb(116, 60, 166);\">NSFileManager</span><span style=\"color: rgb(0, 0, 0);\"> </span>defaultManager<span style=\"color: rgb(0, 0, 0);\">]</span>createDirectoryAtPath<span style=\"color: rgb(0, 0, 0);\">:sDocDir </span>withIntermediateDirectories<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">YES</span><span style=\"color: rgb(0, 0, 0);\"> </span>attributes<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">nil</span><span style=\"color: rgb(0, 0, 0);\"> </span>error<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">nil</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">NSLog</span>(<span style=\"color: rgb(218, 46, 36);\">@&quot;create folder=%@&quot;</span>,sDocDir);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p></p>','2013-12-11 07:19:14','2013-12-11 15:19:14'),(222,'114.247.232.56',3,'获取IMSI判断运营商','<p style=\"text-indent: 2em;\">IMSI 共有 15 位，其结构如下：</p><p style=\"text-indent: 2em;\">　　 MCC+MNC+MSIN ，（ MNC+MSIN=NMSI ）</p><p style=\"text-indent: 2em;\">　　 MCC ： Mobile Country Code ，移动国家码， MCC 的资源由国际电联（ ITU ）统一分配和管理，唯一识别移动用户所属的国家，共 3 位，中国为 460;</p><p style=\"text-indent: 2em;\">　　 MNC:Mobile Network Code ，移动网络码，共 2 位，中国移动 TD 系统使用 00 ，中国联通 GSM 系统使用 01 ，中国移动 GSM 系统使用 02 ，中国电信 CDMA 系统使用 03 ，一个典型的 IMSI 号码为 460030912121001;</p><p style=\"text-indent: 2em;\">　　 MSIN:Mobile Subscriber Identification Number 共有 10 位，其结构如下：</p><p style=\"text-indent: 2em;\">　　 09+M0M1M2M3+ABCD</p><p style=\"text-indent: 2em;\">其中的 M0M1M2M3 和 MDN 号码中的 H0H1H2H3 可存在对应关系， ABCD 四位为自由分配。</p><p style=\"text-indent: 2em;\">这样就可以依据 IMSI 中的 MCC 和 MNC 来确定运营商了。当然知道编码规则同时还是需要知道对应编码的的国家和网络了。</p><p style=\"text-indent: 2em;\"><img alt=\"\" src=\"http://hi.csdn.net/attachment/201103/19/0_1300541905gzrQ.gif\" width=\"745\" height=\"218\"/> </p><p style=\"text-indent: 2em;\">&nbsp;</p><p style=\"text-indent: 2em;\">实现的代码如下：</p><p style=\"text-indent: 2em;\">/* China - CN<br/> * MCC &nbsp; &nbsp;MNC &nbsp; &nbsp;Brand &nbsp; &nbsp;Operator &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Status &nbsp; &nbsp; &nbsp; &nbsp;Bands (MHz) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;References and notes<br/> * 460 &nbsp; &nbsp;00 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;China Mobile &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Operational &nbsp; &nbsp;GSM 900/GSM 1800 UMTS (TD-SCDMA) 1880/2010<br/> * 460 &nbsp; &nbsp;01 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;China Unicom &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Operational &nbsp; &nbsp;GSM 900/GSM 1800/ UMTS 2100 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CDMA network sold to China Telecom, WCDMA commercial trial started in May 2009 and in full commercial operation as of October 2009.<br/> * 460 &nbsp; &nbsp;02 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;China Mobile &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Operational &nbsp; &nbsp;GSM 900/GSM 1800/ UMTS (TD-SCDMA) 1880/2010 &nbsp; &nbsp;<br/> * 460 &nbsp; &nbsp;03 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;China Telecom &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Operational &nbsp; &nbsp;CDMA 800/cdma evdo 2100 &nbsp; &nbsp;<br/> * 460 &nbsp; &nbsp;05 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;China Telecom &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Operational &nbsp; &nbsp; &nbsp; &nbsp;<br/> * 460 &nbsp; &nbsp;06 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;China Unicom &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Operational &nbsp; &nbsp;GSM 900/GSM 1800/UMTS 2100 &nbsp; &nbsp;<br/> * 460 &nbsp; &nbsp;07 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;China Mobile &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Operational &nbsp; &nbsp;GSM 900/GSM 1800/UMTS (TD-SCDMA) 1880/2010 &nbsp; &nbsp;<br/> * 460 &nbsp; &nbsp;20 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;China Tietong &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Operational &nbsp; &nbsp;GSM-R &nbsp; &nbsp;<br/> * NA &nbsp; &nbsp;NA &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;China Telecom&amp;China Unicom &nbsp; &nbsp;Operational &nbsp; &nbsp; &nbsp; &nbsp;<br/> */<br/>+ (NSString*)getCarrier:(NSString*)imsi<br/>{<br/> &nbsp; &nbsp;if (imsi == nil || [imsi isEqualToString:@&quot;SIM Not Inserted&quot;] ) {<br/> &nbsp; &nbsp; &nbsp; &nbsp;return @&quot;Unknown&quot;;<br/> &nbsp; &nbsp;}<br/> &nbsp; &nbsp;else {<br/> &nbsp; &nbsp; &nbsp; &nbsp;if ([[imsi substringWithRange:NSMakeRange(0, 3)] isEqualToString:@&quot;460&quot;]) {<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;NSInteger MNC = [[imsi substringWithRange:NSMakeRange(3, 2)] intValue];<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;switch (MNC) {<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;case 00:<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;case 02:<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;case 07:<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return @&quot;China Mobile&quot;;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;break;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;case 01:<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;case 06: &nbsp; &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return @&quot;China Unicom&quot;;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;break;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;case 03:<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;case 05: &nbsp; &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return @&quot;China Telecom&quot;;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;break;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;case 20:<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return @&quot;China Tietong&quot;;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;break;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default:<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;break;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br/> &nbsp; &nbsp; &nbsp; &nbsp;}<br/> &nbsp; &nbsp;}<br/> &nbsp; &nbsp;return @&quot;Unknown&quot;;<br/>}</p><p></p>','2013-12-11 07:19:37','2013-12-11 15:19:37'),(223,'192.168.0.119',3,'获取字符串格式时间','<pre class=\"brush:cpp;toolbar:false\">&nbsp;NSDateFormatter&nbsp;*formater&nbsp;=&nbsp;[[&nbsp;NSDateFormatter&nbsp;alloc]&nbsp;init];\r\n&nbsp;&nbsp;&nbsp;&nbsp;[formater&nbsp;setDateFormat:@&quot;yyyy-MM-dd&nbsp;HH:mm:ss&quot;];\r\nNSDate&nbsp;*date=[formater&nbsp;dateFromString:@&quot;2011-04-22&nbsp;11:03:38&quot;];\r\nNSLog(@&quot;%@&quot;,date);\r\n&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;[formater&nbsp;setDateFormat:@&quot;yyyy-MM-dd&nbsp;HH:mm:ss&quot;];//这里去掉&nbsp;具体时间&nbsp;保留日期\r\nNSString&nbsp;*&nbsp;curTime&nbsp;=&nbsp;[formater&nbsp;stringFromDate:[NSDate&nbsp;date]];\r\nNSLog(@&quot;%@&quot;,curTime);</pre><p>///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////</p><pre class=\"brush:cpp;toolbar:false\">//------------------------------------\r\n//当前设备的日期时间\r\nNSDate*date&nbsp;=&nbsp;[NSDate&nbsp;date];\r\nNSCalendar*calendar&nbsp;=&nbsp;[NSCalendar&nbsp;currentCalendar];\r\nNSDateComponents*comps;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\nNSInteger&nbsp;unitFlags&nbsp;=&nbsp;NSYearCalendarUnit&nbsp;|\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSMonthCalendarUnit&nbsp;|\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSDayCalendarUnit&nbsp;|\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSWeekdayCalendarUnit&nbsp;|\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSHourCalendarUnit&nbsp;|\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSMinuteCalendarUnit&nbsp;|&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSSecondCalendarUnit;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n//当前的时分秒获得\r\ncomps&nbsp;=[calendar&nbsp;components:(unitFlags)\r\nfromDate:date];\r\nNSInteger&nbsp;year&nbsp;=&nbsp;[comps&nbsp;year];\r\nNSInteger&nbsp;month&nbsp;=&nbsp;[comps&nbsp;month];\r\nNSInteger&nbsp;day&nbsp;=&nbsp;[comps&nbsp;day];\r\nNSInteger&nbsp;hour&nbsp;=&nbsp;[comps&nbsp;hour];\r\nNSInteger&nbsp;minute&nbsp;=&nbsp;[comps&nbsp;minute];\r\nNSInteger&nbsp;second&nbsp;=&nbsp;[comps&nbsp;second];\r\nNSLog(@&quot;hour:%ld&nbsp;minute:&nbsp;%ld&nbsp;second:&nbsp;%ld&quot;,&nbsp;hour,&nbsp;minute,&nbsp;second);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n//&nbsp;周几和星期几获得\r\ncomps&nbsp;=[calendar&nbsp;components:(NSWeekCalendarUnit&nbsp;|&nbsp;NSWeekdayCalendarUnit&nbsp;|NSWeekdayOrdinalCalendarUnit)&nbsp;fromDate:date];\r\nNSInteger&nbsp;weekday&nbsp;=&nbsp;[comps&nbsp;weekday];&nbsp;//&nbsp;星期几（注意，周日是“1”，周一是“2”。。。。）</pre><p><br/></p>','2013-12-11 07:19:56','2016-11-19 02:48:06'),(224,'114.247.232.56',3,'NSString转成urlencode','<p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">NSString</span><span style=\"color: rgb(0, 0, 0);\">*s=</span>@&quot;sdf &nbsp;asdf&quot;<span style=\"color: rgb(0, 0, 0);\">;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;s=[s </span>stringByAddingPercentEscapesUsingEncoding<span style=\"color: rgb(0, 0, 0);\">:</span>NSUTF8StringEncoding<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(63, 28, 126);\">NSLog</span><span style=\"color: rgb(0, 0, 0);\">(</span>@&quot;AAAAA%@&quot;<span style=\"color: rgb(0, 0, 0);\">,s);</span></p><p></p>','2013-12-11 07:20:13','2013-12-11 15:20:13'),(225,'114.247.232.56',3,'获取info.plist内容','<p><span style=\"color: rgb(116, 60, 166);\">NSDictionary</span>* infoDict = [[<span style=\"color: rgb(116, 60, 166);\">NSBundle</span> <span style=\"color: rgb(63, 28, 126);\">mainBundle</span>] <span style=\"color: rgb(63, 28, 126);\">infoDictionary</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>NSLog<span style=\"color: rgb(0, 0, 0);\">(</span><span style=\"color: rgb(218, 46, 36);\">@&quot;%i Keys: &nbsp;%@&quot;</span><span style=\"color: rgb(0, 0, 0);\">, [infoDict </span>count<span style=\"color: rgb(0, 0, 0);\">],[[infoDict </span>allKeys<span style=\"color: rgb(0, 0, 0);\">] </span>componentsJoinedByString<span style=\"color: rgb(0, 0, 0);\">: </span><span style=\"color: rgb(218, 46, 36);\">@&quot; ,&quot;</span><span style=\"color: rgb(0, 0, 0);\">]);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">NSString</span> *identity =[infoDict <span style=\"color: rgb(63, 28, 126);\">valueForKey</span>:<span style=\"color: rgb(218, 46, 36);\">@&quot;CFBundleIdentifier&quot;</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">NSString</span> *version =[infoDict <span style=\"color: rgb(63, 28, 126);\">valueForKey</span>:<span style=\"color: rgb(218, 46, 36);\">@&quot;CFBundleVersion&quot;</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(63, 28, 126);\">NSLog</span><span style=\"color: rgb(0, 0, 0);\">(</span>@&quot;identity=%@ version=%@&quot;<span style=\"color: rgb(0, 0, 0);\">,identity,version);</span></p><p></p>','2013-12-11 07:20:29','2013-12-11 15:20:29'),(226,'114.247.232.56',3,'MKMapKit地图组件','<p>//绘制运动轨迹</p><p>//<a href=\"http://blog.csdn.net/maquanhong/article/details/7330813\" target=\"_blank\">http://blog.csdn.net/maquanhong/article/details/7330813</a></p><p><br/></p><p>添加MapKit.framework,CoreLocation.framework</p><p><br/></p><p>&nbsp;</p><p>/////////////////////////////////////////</p><p>&nbsp;</p><p>//设置大头针</p><p>&nbsp;</p><p>-(void) setProjectCoodr</p><p>{</p><p>&nbsp;</p><p>CLLocationDegrees latitude =0;</p><p>CLLocationDegrees longitude = 0;</p><p>sscanf(&quot;23.134844&quot;,&quot;%lf&quot;,&amp;latitude);</p><p>sscanf(&quot;113.317290&quot;,&quot;%lf&quot;,&amp;longitude);</p><p>&nbsp;</p><p>//设置地图中心</p><p>CLLocationCoordinate2D coordinate;</p><p>coordinate.latitude = latitude;//这里小数不足6位会出错,只能为CLLocationDegrees类型</p><p>coordinate.longitude = longitude f;//这里小数不足6位会出错,只能为CLLocationDegrees类型</p><p>MKPointAnnotation *ann = [[MKPointAnnotation alloc] init];</p><p>ann.coordinate = coordinate;</p><p>[ann setTitle:@&quot;天河城&quot;];</p><p>[ann setSubtitle:@&quot;购物好去处&quot;];</p><p>[m_map addAnnotation:ann];</p><p>[ann release];</p><p>}</p><p>&nbsp;</p><p><br/></p><p>//移动到位置</p><p>&nbsp;</p><p>&nbsp;</p><p>-(IBAction) btnRefresh_click:(id)sender</p><p>{</p><p>&nbsp;</p><p>&nbsp;</p><p>CLLocationDegrees latitude =0;</p><p>CLLocationDegrees longitude = 0;</p><p>sscanf(&quot;23.134844&quot;,&quot;%lf&quot;,&amp;latitude);</p><p>sscanf(&quot;113.317290&quot;,&quot;%lf&quot;,&amp;longitude);</p><p>&nbsp;</p><p>//设置地图中心</p><p>CLLocationCoordinate2D coordinate;</p><p>coordinate.latitude = latitude;//这里小数不足6位会出错,只能为CLLocationDegrees类型</p><p>coordinate.longitude = longitude f;//这里小数不足6位会出错,只能为CLLocationDegrees类型</p><p>&nbsp;</p><p>&nbsp;</p><p>MKCoordinateSpan mapSpan;</p><p>mapSpan.latitudeDelta = 0.004;</p><p>mapSpan.longitudeDelta = 0.004;</p><p>&nbsp;</p><p>MKCoordinateRegion mapRegion;</p><p>mapRegion.center = coordinate;</p><p>mapRegion.span = mapSpan;</p><p>&nbsp;</p><p>MKCoordinateRegion fitRegion = [m_map regionThatFits:mapRegion];</p><p>if (isnan(fitRegion.center.latitude)) {</p><p>// iOS 6 will result in nan. 2012-10-15</p><p>fitRegion.center.latitude = mapRegion.center.latitude;</p><p>fitRegion.center.longitude = mapRegion.center.longitude;</p><p>fitRegion.span.latitudeDelta = mapRegion.span.latitudeDelta;</p><p>fitRegion.span.longitudeDelta = mapRegion.span.longitudeDelta;</p><p>}</p><p>[m_map setRegion:fitRegion animated:YES];</p><p>}</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p><br/></p><p>- (void)mapView:(MKMapView *)mapView didUpdateUserLocation:(MKUserLocation *)userLocation</p><p>{</p><p>NSLog(@&quot;didUpdateUserLocation %@&quot;,userLocation.location);</p><p>m_map.userTrackingMode=MKUserTrackingModeFollowWithHeading ;//指向针</p><p>//当前坐标</p><p>CLLocationCoordinate2D m_curLocal=[userLocation coordinate];</p><p>}</p><p><br/></p><p>&nbsp;</p><p><br/></p><p>- (MKAnnotationView *) mapView:(MKMapView *)mapView viewForAnnotation:(id &lt;MKAnnotation&gt;) annotation {</p><p><br/></p><p>MKPointAnnotation *ann=(MKPointAnnotation *)annotation;</p><p>[ann setTitle:@&quot;我是修改了之后的&quot;];</p><p><br/></p><p>MKPinAnnotationView * mkPin = [[MKPinAnnotationView alloc]</p><p>initWithAnnotation:annotation</p><p>reuseIdentifier:@&quot;XXXX&quot;];</p><p><br/></p><p>//大头针颜色</p><p>mkPin.pinColor=MKPinAnnotationColorRed;</p><p>//大头针图片更改,只能在MAP模式才能显示</p><p>mkPin.image=[UIImage imageNamed:@&quot;optionBtn_nor.png&quot;];</p><p>//弹出来的框左右VIEW</p><p>UIImageView*img1=[[UIImageView alloc] initWithImage:mkPin.image];</p><p>UIImageView*img2=[[UIImageView alloc] initWithImage:mkPin.image];</p><p>mkPin.leftCalloutAccessoryView=img1;</p><p>mkPin.rightCalloutAccessoryView=img2;</p><p>[img1 release];</p><p>[img2 release];</p><p>&nbsp;</p><p>&nbsp;</p><p>//落下来动画</p><p>mkPin.animatesDrop=NO;</p><p>//是否弹出提示框</p><p>mkPin.canShowCallout=YES;</p><p>return mkPin;</p><p>}</p><p><br/></p><p><br/></p><p>//移除大头针</p><p><span style=\"font-size: 12px;\">MKPointAnnotation *ann = (MKPointAnnotation *)an;</span><br style=\"font-size: 12px;\"/><span style=\"font-size: 12px;\">ann.title = nil; &nbsp; // 没有这２句直接remove就会内存泄露</span><br style=\"font-size: 12px;\"/><span style=\"font-size: 12px;\">ann.subtitle = nil;// 没有这２句remove就会内存泄露</span><br style=\"font-size: 12px;\"/><span style=\"font-size: 12px;\">[map removeAnnotation:an];</span></p><p></p>','2013-12-11 07:20:49','2013-12-11 15:20:49'),(227,'14.222.221.215',3,'获取系统版本,设备信息,唯一ID','<h2>idfv</h2><ul class=\" list-paddingleft-2\"><li><p>全名：identifierForVendor</p></li><li><p>代码：</p><pre>&nbsp;&nbsp;NSString&nbsp;*idfv&nbsp;=&nbsp;[[[UIDevice&nbsp;currentDevice]&nbsp;identifierForVendor]&nbsp;UUIDString];</pre></li><li><p>来源：iOS6.0及以后</p></li><li><p>说明：顾名思义，是给Vendor标识用户用的，每个设备在所属同一个Vender的应用里，都有相同的值。其中的Vender是指应用提供商，但准确点说，是通过BundleID的DNS反转的前两部分进行匹配，如果相同就是同一个Vender，例如对于com.somecompany.appone,com.somecompany.apptwo 这两个BundleID来说，就属于同一个Vender，共享同一个idfv的值。和idfa不同的是，idfv的值是一定能取到的，所以非常适合于作为内部用户行为分析的主id，来标识用户，替代OpenUDID。</p></li><li><p>注意：如果用户将属于此Vender的所有App卸载，则idfv的值会被重置，即再重装此Vender的App，idfv的值和之前不同。</p></li></ul><p><br/></p>','2013-12-11 07:21:30','2015-01-24 10:11:12'),(229,'27.44.202.78',3,'http-web异步加载数据','<p><span style=\"color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px;  background-color: rgb(255, 255, 255);\">编辑 info.plist，加入如下设置：</span><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal;\"/><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal;\"/></p><pre class=\"brush:cpp;toolbar:false\">&lt;plist&gt;\r\n&lt;dict&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;....\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;dict&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;true/&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;/dict&gt;\r\n&lt;/dict&gt;\r\n&lt;/plist&gt;</pre><p><br/></p><pre class=\"brush:cpp;toolbar:false\">///////////////////////////&nbsp;&nbsp;.h&nbsp;&nbsp;//////////////////////////////////////\r\n//\r\n//&nbsp;&nbsp;WebProc.h\r\n//\r\n//&nbsp;&nbsp;Created&nbsp;by&nbsp;Han&nbsp;Sohn&nbsp;on&nbsp;12-9-5.\r\n//&nbsp;&nbsp;Copyright&nbsp;(c)&nbsp;2012年&nbsp;Han.zhihong.&nbsp;All&nbsp;rights&nbsp;reserved.\r\n//\r\n\r\n\r\n#import&nbsp;&lt;Foundation/Foundation.h&gt;\r\n\r\n\r\n@protocol&nbsp;WebPocDelegate&nbsp;&lt;NSObject&gt;\r\n\r\n-(void)&nbsp;WebProcCallBackBegin:(NSURL*)url;\r\n-(void)&nbsp;WebProcCallBackCookies:(NSURL*)url&nbsp;:(NSString*)cookie;\r\n-(void)&nbsp;WebProcCallBackData:(NSURL*)url&nbsp;:(NSData*)data;\r\n-(void)&nbsp;WebProcCallBackFail:(NSURL*)url;\r\n\r\n@end\r\n\r\n@interface&nbsp;WebProc&nbsp;:&nbsp;NSObject\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;NSMutableData&nbsp;*m_btImgData;\r\n&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;m_nRecvTotal;\r\n&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;m_nByteTotal;\r\n&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;m_bResponse;\r\n}\r\n\r\n@property&nbsp;(nonatomic,assign)&nbsp;id&lt;WebPocDelegate&gt;&nbsp;delegate;\r\n\r\n-(void)&nbsp;sendData:(NSString*)url&nbsp;parameter:(NSString*)pram;\r\n-(void)&nbsp;sendData:(NSString*)url&nbsp;parameter:(NSString*)pram&nbsp;cookies:(NSString*)cookie;\r\n//获取纯UTF8内容的JSON结构DATA\r\n-(NSData*)getSafeJsonData:(NSData*)data;\r\n-(BOOL)&nbsp;isNotFoundPage:(NSString*)str;\r\n\r\n@end</pre><p class=\"p2\"><span class=\"s1\"></span><br/></p><pre class=\"brush:cpp;toolbar:false\">//////////////////////////////&nbsp;&nbsp;.m&nbsp;&nbsp;////////////////////////////////////\r\n//&nbsp;&nbsp;WebProc.m\r\n//&nbsp;&nbsp;lionsoa\r\n//\r\n//&nbsp;&nbsp;Created&nbsp;by&nbsp;Han&nbsp;Sohn&nbsp;on&nbsp;12-9-5.\r\n//&nbsp;&nbsp;Copyright&nbsp;(c)&nbsp;2012年&nbsp;Han.zhihong.&nbsp;All&nbsp;rights&nbsp;reserved.\r\n//\r\n\r\n#import&nbsp;&quot;WebProc.h&quot;\r\n\r\n@implementation&nbsp;WebProc\r\n@synthesize&nbsp;delegate;\r\n\r\n-(id)init\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;if((self=[super&nbsp;init]))\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_btImgData=[[NSMutableData&nbsp;alloc]init];\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self;\r\n}\r\n\r\n-(void)dealloc\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;delegate=nil;\r\n&nbsp;&nbsp;&nbsp;&nbsp;[m_btImgData&nbsp;release];\r\n&nbsp;&nbsp;&nbsp;&nbsp;[super&nbsp;dealloc];\r\n}\r\n\r\n-(void)&nbsp;sendData:(NSString*)url&nbsp;parameter:(NSString*)pram\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;[self&nbsp;sendData:url&nbsp;parameter:pram&nbsp;cookies:nil];\r\n}\r\n\r\n-(void)&nbsp;sendData:(NSString*)url&nbsp;parameter:(NSString*)pram&nbsp;cookies:(NSString*)cookie\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;[m_btImgData&nbsp;resetBytesInRange:NSMakeRange(0,&nbsp;[m_btImgData&nbsp;length])];\r\n&nbsp;&nbsp;&nbsp;&nbsp;[m_btImgData&nbsp;setLength:0];\r\n&nbsp;&nbsp;&nbsp;&nbsp;m_nRecvTotal=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;m_nByteTotal=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;NSMutableURLRequest&nbsp;*request=[[NSMutableURLRequest&nbsp;alloc]&nbsp;initWithURL:[NSURL&nbsp;URLWithString:url]];\r\n&nbsp;&nbsp;&nbsp;&nbsp;//无视本地缓存\r\n&nbsp;&nbsp;&nbsp;&nbsp;request.cachePolicy=NSURLRequestReloadIgnoringLocalCacheData;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//超时设置\r\n&nbsp;&nbsp;&nbsp;&nbsp;request.timeoutInterval&nbsp;=&nbsp;10;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(cookie)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{[request&nbsp;addValue:cookie&nbsp;forHTTPHeaderField:@&quot;Cookie&quot;];}\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//POST方式提交参数\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(pram)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSMutableData&nbsp;*postBody&nbsp;=&nbsp;[NSMutableData&nbsp;data];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[request&nbsp;setHTTPMethod:@&quot;POST&quot;];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[postBody&nbsp;appendData:[pram&nbsp;dataUsingEncoding:&nbsp;NSUTF8StringEncoding&nbsp;allowLossyConversion:YES]];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[request&nbsp;setHTTPBody:postBody];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;[delegate&nbsp;WebProcCallBackBegin:&nbsp;request.URL];\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;NSURLConnection&nbsp;*conn=[[NSURLConnection&nbsp;alloc]&nbsp;initWithRequest:request&nbsp;delegate:self];\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;[conn&nbsp;start];\r\n&nbsp;&nbsp;&nbsp;&nbsp;[conn&nbsp;release];\r\n&nbsp;&nbsp;&nbsp;&nbsp;[request&nbsp;release];\r\n&nbsp;&nbsp;&nbsp;&nbsp;request=nil;\r\n}\r\n\r\n-(void)connection:(NSURLConnection&nbsp;*)connection&nbsp;didReceiveResponse:(NSURLResponse&nbsp;*)response\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;//NSLog(@&quot;didReceiveResponse&nbsp;url=%@&quot;,[connection.originalRequest.URL&nbsp;relativeString]);\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;[m_btImgData&nbsp;resetBytesInRange:NSMakeRange(0,&nbsp;[m_btImgData&nbsp;length])];\r\n&nbsp;&nbsp;&nbsp;&nbsp;[m_btImgData&nbsp;setLength:0];\r\n&nbsp;&nbsp;&nbsp;&nbsp;m_nRecvTotal=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;m_nByteTotal=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//保存接收到的响应对象，以便响应完毕后的状态\r\n&nbsp;&nbsp;&nbsp;&nbsp;NSHTTPURLResponse&nbsp;*resp=(NSHTTPURLResponse&nbsp;*)response;\r\n&nbsp;&nbsp;&nbsp;&nbsp;m_bResponse=([resp&nbsp;statusCode]==200)?true:false;\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(m_bResponse)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSDictionary&nbsp;*respHeaderFields&nbsp;=&nbsp;[resp&nbsp;allHeaderFields];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_nByteTotal&nbsp;=&nbsp;[[respHeaderFields&nbsp;objectForKey:@&quot;Content-Length&quot;]&nbsp;intValue];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSString&nbsp;*cookie&nbsp;=&nbsp;[respHeaderFields&nbsp;valueForKey:@&quot;Set-Cookie&quot;];&nbsp;//&nbsp;It&nbsp;is&nbsp;your&nbsp;cookie\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[delegate&nbsp;WebProcCallBackCookies:resp.URL&nbsp;:cookie];\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}\r\n\r\n-(void)connection:(NSURLConnection&nbsp;*)connection&nbsp;didReceiveData:(NSData&nbsp;*)data\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;//NSLog(@&quot;didReceiveData&nbsp;url=%@&quot;,[connection.originalRequest.URL&nbsp;relativeString]);\r\n&nbsp;&nbsp;&nbsp;&nbsp;//_data为NSMutableData类型的私有属性，用于保存从网络上接收到的数据。\r\n&nbsp;&nbsp;&nbsp;&nbsp;//也可以从此委托中加载的进度\r\n&nbsp;&nbsp;&nbsp;&nbsp;m_nRecvTotal+=[data&nbsp;length];\r\n&nbsp;&nbsp;&nbsp;&nbsp;[m_btImgData&nbsp;appendData:data];\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//m_nRecvTotal接收了多少个字节&nbsp;m_nByteTotal一共的字节数\r\n&nbsp;&nbsp;&nbsp;&nbsp;//可以在这回调打印下载进度\r\n}\r\n-&nbsp;(void)connection:(NSURLConnection&nbsp;*)connection&nbsp;didFailWithError:(NSError&nbsp;*)error{\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//请求异常\r\n&nbsp;&nbsp;&nbsp;&nbsp;[delegate&nbsp;WebProcCallBackFail:connection.originalRequest.URL];\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n}\r\n-&nbsp;(void)connectionDidFinishLoading:(NSURLConnection&nbsp;*)connection\r\n\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;//加载成功，在此的加载成功并不代表图片加载成功，需要判断HTTP返回状态。\r\n&nbsp;&nbsp;&nbsp;&nbsp;//请求成功\r\n&nbsp;&nbsp;&nbsp;&nbsp;NSData&nbsp;*data=[NSData&nbsp;dataWithData:m_btImgData];\r\n&nbsp;&nbsp;&nbsp;&nbsp;[delegate&nbsp;WebProcCallBackData:connection.originalRequest.URL&nbsp;:data];\r\n}\r\n\r\n-(NSData*)getSafeJsonData:(NSData*)data\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;NSData&nbsp;*safeJsonData=nil;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//去除UTF8标记&nbsp;EF&nbsp;BB&nbsp;BF\r\n&nbsp;&nbsp;&nbsp;&nbsp;NSData*&nbsp;da&nbsp;=&nbsp;nil;\r\n&nbsp;&nbsp;&nbsp;&nbsp;if([data&nbsp;length]&gt;3)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;utf_h[]={0xEF,0xBB,0xBF};\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char*&nbsp;p=(char*)[data&nbsp;bytes];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(0==memcmp(p,&nbsp;utf_h,&nbsp;3))&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;da=[NSData&nbsp;dataWithBytes:p+3&nbsp;length:[data&nbsp;length]-3];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{da=data;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;{da=data;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;NSString&nbsp;*ss&nbsp;=&nbsp;[[NSString&nbsp;alloc]&nbsp;initWithData:da&nbsp;encoding:NSUTF8StringEncoding];\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(ss)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char*uuu=(char*)[ss&nbsp;UTF8String];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(uuu)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;size_t&nbsp;sslen=strlen(uuu);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;safeJsonData&nbsp;=&nbsp;[NSData&nbsp;dataWithBytes:uuu&nbsp;length:sslen];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSLog(@&quot;json&nbsp;len=%ld,%@&quot;,sslen,ss);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ss=nil;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;safeJsonData;\r\n}\r\n\r\n-(BOOL)isNotFoundPage:(NSString*)str\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(str==nil)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{return&nbsp;FALSE;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;//不存在页面\r\n&nbsp;&nbsp;&nbsp;&nbsp;NSRange&nbsp;range;\r\n&nbsp;&nbsp;&nbsp;&nbsp;range&nbsp;=&nbsp;[str&nbsp;rangeOfString:@&quot;&lt;html&gt;&lt;head&gt;[#ue_pole#n]&lt;title&gt;404&nbsp;Not&nbsp;Found&lt;/title&gt;&quot;];\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(range.location&nbsp;!=&nbsp;NSNotFound)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSLog(@&quot;Not&nbsp;Found&nbsp;Page&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;TRUE;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;FALSE;\r\n}\r\n\r\n@end</pre><p class=\"p1\"><span class=\"s1\"><br/></span><br/></p><p class=\"p4\"><span class=\"s1\"><br/></span></p><pre class=\"brush:cpp;toolbar:false\">////////////////////////////////////////////////////////////\r\n//初始化\r\n_web=[[WebProc&nbsp;alloc]&nbsp;init];\r\n_web.delegate=self;\r\n[_web&nbsp;sendData:@&quot;http://autoWater.team11.cn:9999/User/Create&quot;&nbsp;:nil];\r\n\r\n////////////////////////////////////////////////////////////\r\n//委托的几个回调函数\r\n-(void)&nbsp;WebProcCallBackBegin:(NSURL*)url\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n}\r\n-(void)&nbsp;WebProcCallBackCookies:(NSURL*)url&nbsp;:(NSString*)cookie\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n}\r\n-(void)&nbsp;WebProcCallBackData:(NSURL*)url&nbsp;:(NSData*)data\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;NSLog(@&quot;url=%@&quot;,[url&nbsp;relativeString]);\r\n&nbsp;&nbsp;&nbsp;&nbsp;NSString&nbsp;*page=[url&nbsp;lastPathComponent];\r\n&nbsp;&nbsp;&nbsp;&nbsp;NSLog(@&quot;page=%@&quot;,page);\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;NSData&nbsp;*safeJsonData&nbsp;=&nbsp;[_web&nbsp;getSafeJsonData:data];\r\n&nbsp;&nbsp;&nbsp;&nbsp;NSString&nbsp;*ss&nbsp;=&nbsp;[[NSString&nbsp;alloc]&nbsp;initWithData:safeJsonData&nbsp;encoding:NSUTF8StringEncoding];\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(0==[safeJsonData&nbsp;length])&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;if([page&nbsp;isEqualToString:@&quot;mod_phone.i.php&quot;])\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//解释data\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSDictionary&nbsp;*result&nbsp;=&nbsp;[safeJsonData&nbsp;objectFromJSONData];\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}\r\n-(void)&nbsp;WebProcCallBackFail:(NSURL*)url\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n}</pre><p><br/></p>','2013-12-11 07:22:25','2017-09-11 06:22:32'),(230,'114.247.232.56',3,'本地化APP名称','<p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">在InfoPlist.strings添加本地化选项</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">然后在里面添加内容:</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">CFBundleName=<span style=\"color: rgb(218, 46, 36);\">&quot;<span style=\"font-family: &quot;Heiti SC Light&quot;;\">我叫小鸿</span></span><span style=\"color: rgb(218, 46, 36);\">&quot;</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">CFBundleDisplayName=<span style=\"color: rgb(218, 46, 36);\">&quot;</span><span style=\"color: rgb(218, 46, 36); font-family: &quot;Heiti SC Light&quot;;\">我叫小鸿</span><span style=\"color: rgb(218, 46, 36);\">&quot;</span>;</p><p></p>','2013-12-11 07:22:44','2013-12-11 15:22:44'),(231,'114.247.232.56',3,'xml读取','<p style=\"font: 11px/normal &quot;Heiti SC Light&quot;; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">//</span>节点开始</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">-(<span style=\"color: rgb(194, 42, 159);\">void</span>)parser:(<span style=\"color: rgb(116, 60, 166);\">NSXMLParser</span> *)parser didStartElement:(<span style=\"color: rgb(116, 60, 166);\">NSString</span> *)elementName namespaceURI:(<span style=\"color: rgb(116, 60, 166);\">NSString</span> *) namespaceURI qualifiedName:</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">(<span style=\"color: rgb(116, 60, 166);\">NSString</span> *)qName attributes: (<span style=\"color: rgb(116, 60, 166);\">NSDictionary</span> *)attributeDict</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(63, 28, 126);\">NSLog</span><span style=\"color: rgb(0, 0, 0);\">(</span>@&quot;parser Start-&gt;node=%@ host=%@ port=%@&quot;<span style=\"color: rgb(0, 0, 0);\">,elementName,</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[attributeDict <span style=\"color: rgb(63, 28, 126);\">valueForKey</span>:<span style=\"color: rgb(218, 46, 36);\">@&quot;</span><span style=\"color: rgb(218, 46, 36);\">host</span><span style=\"color: rgb(218, 46, 36);\">&quot;</span>],</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[attributeDict <span style=\"color: rgb(63, 28, 126);\">valueForKey</span>:<span style=\"color: rgb(218, 46, 36);\">@&quot;</span><span style=\"color: rgb(218, 46, 36);\">port</span><span style=\"color: rgb(218, 46, 36);\">&quot;</span>]);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal &quot;Heiti SC Light&quot;; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">//</span>节点内容</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">-(<span style=\"color: rgb(194, 42, 159);\">void</span>)parser:(<span style=\"color: rgb(116, 60, 166);\">NSXMLParser</span> *)parser foundCharacters:(<span style=\"color: rgb(116, 60, 166);\">NSString</span> *)string</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(63, 28, 126);\">NSLog</span><span style=\"color: rgb(0, 0, 0);\">(</span>@&quot;parser-&gt;string=%@&quot;<span style=\"color: rgb(0, 0, 0);\">,string);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal &quot;Heiti SC Light&quot;; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">//</span>节点结束</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">-(<span style=\"color: rgb(194, 42, 159);\">void</span>)parser:(<span style=\"color: rgb(116, 60, 166);\">NSXMLParser</span> *)parser didEndElement:(<span style=\"color: rgb(116, 60, 166);\">NSString</span> *)elementName namespaceURI:(<span style=\"color: rgb(116, 60, 166);\">NSString</span> *)namespaceURI qualifiedName:(<span style=\"color: rgb(116, 60, 166);\">NSString</span> *)qName</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(63, 28, 126);\">NSLog</span><span style=\"color: rgb(0, 0, 0);\">(</span>@&quot;parser End-&gt;node=%@ &quot;<span style=\"color: rgb(0, 0, 0);\">,elementName);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal &quot;Heiti SC Light&quot;; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">//</span>文档存在问题</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">void</span>)parser:(<span style=\"color: rgb(116, 60, 166);\">NSXMLParser</span> *)parser parseErrorOccurred:(<span style=\"color: rgb(116, 60, 166);\">NSError</span> *)parseError</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(218, 46, 36);\"><span style=\"color: rgb(63, 28, 126);\">NSLog</span><span style=\"color: rgb(0, 0, 0);\">(</span>@&quot;xml error=%@&quot;<span style=\"color: rgb(0, 0, 0);\">,parseError);</span></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">UIAlertView</span> *alert = [[<span style=\"color: rgb(116, 60, 166);\">UIAlertView</span> <span style=\"color: rgb(63, 28, 126);\">alloc</span>] <span style=\"color: rgb(63, 28, 126);\">initWithTitle</span>:<span style=\"color: rgb(124, 73, 46);\">NSLocalizedString</span>(<span style=\"color: rgb(218, 46, 36);\">@&quot;error&quot;</span>,<span style=\"color: rgb(194, 42, 159);\">nil</span>)</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">message</span>:[<span style=\"color: rgb(116, 60, 166);\">NSString</span> <span style=\"color: rgb(63, 28, 126);\">stringWithFormat</span>:<span style=\"color: rgb(218, 46, 36);\">@&quot;%@&quot;</span>,parseError]</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">delegate</span>:<span style=\"color: rgb(194, 42, 159);\">self</span> </p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">cancelButtonTitle</span>:<span style=\"color: rgb(124, 73, 46);\">NSLocalizedString</span>(<span style=\"color: rgb(218, 46, 36);\">@&quot;ok&quot;</span>,<span style=\"color: rgb(194, 42, 159);\">nil</span>)</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">otherButtonTitles</span>: <span style=\"color: rgb(194, 42, 159);\">nil</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[alert <span style=\"color: rgb(63, 28, 126);\">show</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[alert <span style=\"color: rgb(63, 28, 126);\">release</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p><span style=\"color: rgb(0, 128, 0);\">///////////////////////////////////////////////////////////////////</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">//<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">解析</span>XML <span style=\"color: rgb(116, 60, 166);\">NSXMLParserDelegate</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">NSXMLParser</span>* xmlParser = [[<span style=\"color: rgb(116, 60, 166);\">NSXMLParser</span> <span style=\"color: rgb(63, 28, 126);\">alloc</span>] <span style=\"color: rgb(63, 28, 126);\">initWithData</span>: btWebData];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[xmlParser <span style=\"color: rgb(63, 28, 126);\">setDelegate</span>: <span style=\"color: rgb(194, 42, 159);\">self</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\">[xmlParser </span>setShouldResolveExternalEntities<span style=\"color: rgb(0, 0, 0);\">: </span><span style=\"color: rgb(194, 42, 159);\">YES</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[xmlParser <span style=\"color: rgb(63, 28, 126);\">parse</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[xmlParser <span style=\"color: rgb(63, 28, 126);\">release</span>];</p><p></p>','2013-12-11 07:23:04','2013-12-11 15:23:04'),(232,'114.247.232.56',3,'sqlite使用','<p>加入libsqlite3.dylib库</p><p>&nbsp;</p><p><br/>---------------------------- 头文件 Objc_Sqlite.h ----------------------</p><p>//</p><p>//&nbsp; Objc_Sqlite.h</p><p>//</p><p>//&nbsp; Created by Han Sohn on 12-6-9.</p><p>//&nbsp; Copyright (c) 2012年 Han.zhihong. All rights reserved.</p><p>//</p><p>&nbsp;</p><p><br/>/*//////////////////////////</p><p>&nbsp;</p><p><br/>&nbsp;例子:</p><p>&nbsp;</p><p><br/>&nbsp;Objc_Sqlite *sqlMage=[[Objc_Sqlite alloc] init];<br/>&nbsp;<br/>&nbsp;if ([sqlMage open:[sqlMage documentPath:@&quot;db.sqlite&quot;]]) {<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp; [sqlMage createTable];<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp; [sqlMage insertData:&quot;a&quot; :&quot;b&quot; :&quot;cde&quot; :4];<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp; int i=[sqlMage getLastInsertID:&quot;channels&quot;];<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp; NSLog(@&quot;i=%d&quot;,i);<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp; [sqlMage close];<br/>&nbsp;<br/>&nbsp;}<br/>&nbsp;<br/>&nbsp;[sqlMage release]</p><p>&nbsp;</p><p>//////////////////////////*/</p><p>#import &lt;Foundation/Foundation.h&gt;</p><p>#import &lt;sqlite3.h&gt;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>//首先要引入 libsqlite3.0.dylib 的lib库</p><p>@interface Objc_Sqlite : NSObject</p><p>{</p><p>&nbsp;&nbsp;&nbsp; sqlite3* m_database;</p><p>}</p><p>//获取文档路径</p><p>-(NSString*) documentPath:(NSString*)str;</p><p>//【1】打开和关闭数据库，如果没有，那么创建一个</p><p>-(BOOL) open:(NSString*)filepath;</p><p>-(void) close;</p><p>//【2】创建表格</p><p>-(BOOL) createTable;</p><p>//【3】向表格中插入一条记录</p><p>-(BOOL) insertData:(char*)cid :(char*)title :(unsigned char*)binary :(int)len;</p><p>//【4】数据库查询</p><p>-(BOOL) getData;</p><p>//获取最后插入的ID值</p><p>-(int) getLastInsertID:(char*)table;</p><p>@end</p><p>&nbsp;</p><p><br/>---------------------------- m文件 Objc_Sqlite.m ----------------------</p><p>//</p><p>//&nbsp; Objc_Sqlite.m</p><p>//</p><p>//&nbsp; Created by Han Sohn on 12-6-9.</p><p>//&nbsp; Copyright (c) 2012年 Han.zhihong. All rights reserved.</p><p>//</p><p>&nbsp;</p><p><br/>#import &quot;Objc_Sqlite.h&quot;</p><p>&nbsp;</p><p><br/>@implementation Objc_Sqlite</p><p>&nbsp;</p><p><br/>-(NSString*) documentPath:(NSString*)str</p><p>{</p><p>NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);</p><p>NSString *documentsDirectory = [paths objectAtIndex:0];</p><p>if (nil!=str) {</p><p>return [NSString stringWithFormat:@&quot;<a>%@/%@&quot;,documentsDirectory,str</a>];</p><p>}</p><p>return [NSString stringWithFormat:@&quot;<a href=\"mailto:%@&quot;,documentsDirectory\">%@&quot;,documentsDirectory</a>];</p><p>}</p><p>&nbsp;</p><p><br/>//【1】打开数据库，如果没有，那么创建一个</p><p>-(BOOL) open:(NSString*)filepath</p><p>{</p><p>&nbsp;&nbsp;&nbsp; if(sqlite3_open([filepath UTF8String], &amp;m_database) == SQLITE_OK) {</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return YES;</p><p>&nbsp;&nbsp;&nbsp; }</p><p>&nbsp;&nbsp;&nbsp; sqlite3_close(m_database);</p><p>&nbsp;&nbsp;&nbsp; NSLog(@&quot;Error: open database file.&quot;);</p><p>&nbsp;&nbsp;&nbsp; return NO;</p><p>}</p><p>-(void) close</p><p>{&nbsp;</p><p>&nbsp;&nbsp;&nbsp; sqlite3_close(m_database);</p><p>}</p><p>&nbsp;</p><p><br/>//【2】创建表格</p><p>//创建表格，假设有五个字段，（id，cid，title，imageData ，imageLen ）</p><p>//说明一下，id为表格的主键，自动步增,必须有。</p><p>//cid，和title都是字符串，imageData是二进制数据，imageLen 是该二进制数据的长度。</p><p>- (BOOL) createTable</p><p>{</p><p>&nbsp;&nbsp;&nbsp; char *sql = &quot;CREATE TABLE channels (id integer PRIMARY KEY, \\</p><p>&nbsp;&nbsp;&nbsp; cid varchar(20), \\</p><p>&nbsp;&nbsp;&nbsp; title text, \\</p><p>&nbsp;&nbsp;&nbsp; imageData BLOB, \\</p><p>&nbsp;&nbsp;&nbsp; imageLen integer DEFAULT 0)&quot;;</p><p>&nbsp;&nbsp;&nbsp;</p><p>&nbsp;&nbsp;&nbsp; sqlite3_stmt *statement;</p><p>&nbsp;&nbsp;&nbsp; if(sqlite3_prepare_v2(m_database, sql, -1, &amp;statement, nil) != SQLITE_OK) {</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NSLog(@&quot;Error: failed to prepare statement:create table&quot;);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return NO;</p><p>&nbsp;&nbsp;&nbsp; }</p><p>&nbsp;&nbsp;&nbsp; int success = sqlite3_step(statement);</p><p>&nbsp;&nbsp;&nbsp; sqlite3_finalize(statement);</p><p>&nbsp;&nbsp;&nbsp; if ( success != SQLITE_DONE) {</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NSLog(@&quot;Error: failed to dehydrate:CREATE TABLE channels&quot;);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return NO;</p><p>&nbsp;&nbsp;&nbsp; }</p><p>&nbsp;&nbsp;&nbsp; NSLog(@&quot;Create table &#39;channels&#39; successed.&quot;);</p><p>&nbsp;&nbsp;&nbsp; return YES;</p><p>}</p><p>&nbsp;</p><p><br/>//假设channle是一个数据结构体，保存了一条记录的内容。</p><p>- (BOOL) insertData:(char*)cid :(char*)title :(unsigned char*)binary :(int)len</p><p>{</p><p>&nbsp;&nbsp;&nbsp; sqlite3_stmt *statement;</p><p>&nbsp;&nbsp;&nbsp; char *sql = &quot;INSERT INTO channels (cid,title,imageData,imageLen) VALUES(?,?,?,?)&quot;;</p><p>&nbsp;&nbsp;&nbsp;</p><p>&nbsp;&nbsp;&nbsp; //问号的个数要和(cid,title,imageData,imageLen)里面字段的个数匹配，代表未知的值，将在下面将值和字段关联。</p><p>&nbsp;&nbsp;&nbsp; int success = sqlite3_prepare_v2(m_database, sql, -1, &amp;statement, NULL);</p><p>&nbsp;&nbsp;&nbsp; if (success != SQLITE_OK) {</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NSLog(@&quot;Error: failed to insert&quot;);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return NO;</p><p>&nbsp;&nbsp;&nbsp; }</p><p>&nbsp;&nbsp;&nbsp;</p><p>&nbsp;&nbsp;&nbsp; //这里的数字1，2，3，4代表第几个问号</p><p>&nbsp;&nbsp;&nbsp; sqlite3_bind_text(statement, 1, cid, -1, SQLITE_TRANSIENT);</p><p>&nbsp;&nbsp;&nbsp; sqlite3_bind_text(statement, 2, title, -1, SQLITE_TRANSIENT);</p><p>&nbsp;&nbsp;&nbsp; sqlite3_bind_blob(statement, 3, binary, len, SQLITE_TRANSIENT);</p><p>&nbsp;&nbsp;&nbsp; sqlite3_bind_int(statement, 4, len);&nbsp;&nbsp;&nbsp;</p><p>&nbsp;&nbsp;&nbsp;</p><p>&nbsp;&nbsp;&nbsp; success = sqlite3_step(statement);</p><p>&nbsp;&nbsp;&nbsp; sqlite3_finalize(statement);</p><p>&nbsp;&nbsp;&nbsp;</p><p>&nbsp;&nbsp;&nbsp; if (success == SQLITE_ERROR) {</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NSLog(@&quot;Error: failed to insert into the database with message.&quot;);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return NO;</p><p>&nbsp;&nbsp;&nbsp; }</p><p>&nbsp;&nbsp;&nbsp;</p><p>&nbsp;&nbsp;&nbsp; return YES;</p><p>}</p><p>&nbsp;</p><p><br/>//【4】数据库查询</p><p>//这里获取表格中所有的记录，放到数组fChannels中。</p><p>- (BOOL) getData</p><p>{</p><p>&nbsp;&nbsp;&nbsp; char *sql = &quot;SELECT * FROM channels&quot;;</p><p>&nbsp;&nbsp;&nbsp;</p><p>&nbsp;&nbsp;&nbsp; sqlite3_stmt *statement = nil;</p><p>&nbsp;&nbsp;&nbsp; if (sqlite3_prepare_v2(m_database, sql, -1, &amp;statement, NULL) != SQLITE_OK) {</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NSLog(@&quot;Error: failed to prepare statement with message:get channels.&quot;);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return false;</p><p>&nbsp;&nbsp;&nbsp; }</p><p>&nbsp;&nbsp;&nbsp; //查询结果集中一条一条的遍历所有的记录，这里的数字对应的是列值。</p><p>&nbsp;&nbsp;&nbsp; while (sqlite3_step(statement) == SQLITE_ROW) {</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int&nbsp;&nbsp; autoID&nbsp;&nbsp; = sqlite3_column_int(statement, 0);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char* cid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = (char*)sqlite3_column_text(statement, 1);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char* title&nbsp;&nbsp;&nbsp;&nbsp; = (char*)sqlite3_column_text(statement, 2);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Byte* imageData = (Byte*)sqlite3_column_blob(statement, 3);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int imageLen&nbsp;&nbsp;&nbsp; = sqlite3_column_int(statement, 4);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p>&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(cid)</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NSLog(@&quot;cid=%s&quot;,cid);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(title)</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NSLog(@&quot;title=%s&quot;,title);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(imageData){</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UIImage* image = [UIImage imageWithData:[NSData dataWithBytes:imageData length:imageLen]];</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p><p>&nbsp;&nbsp;&nbsp; }</p><p>&nbsp;&nbsp;&nbsp; sqlite3_finalize(statement);</p><p>&nbsp;&nbsp;&nbsp; return true;</p><p>}</p><p>&nbsp;</p><p><br/>//获取最后插入的ID值</p><p>-(int) getLastInsertID:(char*)table</p><p>{</p><p>&nbsp;&nbsp;&nbsp; int rowID;</p><p>&nbsp;&nbsp;&nbsp; char sql[256];</p><p>&nbsp;&nbsp;&nbsp; char *buf = &quot;select last_insert_rowid() from %s&quot;;</p><p>&nbsp;&nbsp;&nbsp;</p><p>&nbsp;&nbsp;&nbsp; if (NULL==table) {return 0;}</p><p>&nbsp;&nbsp;&nbsp;</p><p>&nbsp;&nbsp;&nbsp; rowID=0;</p><p>&nbsp;&nbsp;&nbsp; sprintf(sql, buf,table);</p><p>&nbsp;&nbsp;&nbsp; sqlite3_stmt *statement = nil;</p><p>&nbsp;&nbsp;&nbsp; if (sqlite3_prepare_v2(m_database, sql, -1, &amp;statement, NULL) != SQLITE_OK) {</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NSLog(@&quot;Error: failed to prepare statement with message:get last insert ID.&quot;);</p><p>&nbsp;&nbsp;&nbsp; }</p><p>&nbsp;&nbsp;&nbsp;</p><p>&nbsp;&nbsp;&nbsp; if (sqlite3_step(statement) == SQLITE_ROW) {</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rowID = sqlite3_column_int(statement, 0);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p>&nbsp;&nbsp;&nbsp; }</p><p>&nbsp;&nbsp;&nbsp; sqlite3_finalize(statement);</p><p>&nbsp;&nbsp;&nbsp; return rowID;</p><p>}</p><p>&nbsp;</p><p><br/>@end</p><p></p>','2013-12-11 07:23:36','2013-12-11 15:23:36'),(233,'114.247.232.56',3,'去除icon的光晕效果','<p>用Xcode创建英语程序的时候，系统会自动给你的icon四角添加圆角效果，并且在icon的上部添加光晕效果，有些时候会使得icon看不太清楚。圆角效果是系统默认的，无法改变。57*57的icon，四角圆角的半径是9、10这样子</p><p style=\"text-indent: 2em;\">&nbsp;</p><p style=\"text-indent: 2em;\">但是光晕效果是可选的，可以通过设置来去除，方法如下：</p><p style=\"text-indent: 2em;\">&nbsp;</p><p style=\"text-indent: 2em;\">用文本编辑工具打开info.plist, 在键值区域添加如下字段：</p><p style=\"text-indent: 2em;\">&nbsp;</p><pre>[Icon&nbsp;already&nbsp;includes&nbsp;gloss&nbsp;effects]=YES</pre><pre>保存即可。</pre><p></p>','2013-12-11 07:24:06','2013-12-11 15:24:06'),(234,'192.168.0.181',3,'播放声音','<p><span style=\"color: rgb(50, 62, 50); line-height: 21px; font-family: simsun;\"></span></p><p style=\"border-width: 0px; margin: 0px 0px 5px; padding: 0px; line-height: 21px; list-style-type: none; word-break: normal; word-wrap: normal;\"><strong style=\"font-weight: bold;\">方法一:使用AudioToolbox(不会与音乐播放器冲突)</strong></p><p style=\"border-width: 0px; margin: 0px 0px 5px; padding: 0px; line-height: 21px; list-style-type: none; word-break: normal; word-wrap: normal;\">１.导入文件和加载framwork</p><p style=\"border-width: 0px; margin: 0px 0px 5px; padding: 0px; line-height: 21px; list-style-type: none; word-break: normal; word-wrap: normal;\">　#import &lt;AudioToolbox/AudioToolbox.h&gt;</p><p style=\"border-width: 0px; margin: 0px 0px 5px; padding: 0px; line-height: 21px; list-style-type: none; word-break: normal; word-wrap: normal;\">　加载AudioToolbox.framework</p><p style=\"border-width: 0px; margin: 0px 0px 5px; padding: 0px; line-height: 21px; list-style-type: none; word-break: normal; word-wrap: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(124, 73, 46);\">#import </span>&lt;UIKit/UIKit.h&gt;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">@interface</span> Objc_AudioPlay : <span style=\"color: rgb(116, 60, 166);\">NSObject</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">+(<span style=\"color: rgb(194, 42, 159);\">void</span>)loadFile:(<span style=\"color: rgb(116, 60, 166);\">NSString</span>*)file :(<span style=\"color: rgb(116, 60, 166);\">SystemSoundID</span>*)soundId;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">+(<span style=\"color: rgb(194, 42, 159);\">void</span>)play:(<span style=\"color: rgb(116, 60, 166);\">SystemSoundID</span>)soundId;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(194, 42, 159); font-size-adjust: none; font-stretch: normal;\">@end</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(194, 42, 159); font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(194, 42, 159); font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(124, 73, 46);\"></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #78492a\">#import </span>&quot;Objc_AudioPlay.h&quot;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">@implementation</span> Objc_AudioPlay</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">+(<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">void</span>)loadFile:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span>*)file :(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">SystemSoundID</span>*)soundId</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span>//<span style=\"font-family: &#39;Heiti SC Light&#39;;\">加载声音文件</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> *path = [[</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSBundle</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>mainBundle<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">] </span>pathForResource<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:file </span>ofType<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">if</span> (path) {<span style=\"font-variant-ligatures: no-common-ligatures; color: #008400\">//</span><span style=\"font-family: &#39;Heiti SC Light&#39;; color: rgb(0, 132, 0);\">播放声音</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; </span>AudioServicesCreateSystemSoundID<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">((</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">__bridge</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">CFURLRef</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">)[</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSURL</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>fileURLWithPath<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:path],soundId);</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; }</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">+(<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">void</span>)play:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">SystemSoundID</span>) soundId</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span>AudioServicesPlaySystemSound<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">(soundId);</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(187, 44, 162);\">@end</p><p><br/></p><p><br/></p><p style=\"border-width: 0px; margin: 0px 0px 5px; padding: 0px; line-height: 21px; list-style-type: none; word-break: normal; word-wrap: normal;\"><strong style=\"font-weight: bold;\">方法二:使用AVAudioPlayer,这个支持多通道播放(会与音乐播放器冲突)</strong></p><p style=\"border-width: 0px; margin: 0px 0px 5px; padding: 0px; line-height: 21px; list-style-type: none; word-break: normal; word-wrap: normal;\">１.倒入头文件和加载framwork</p><p style=\"border-width: 0px; margin: 0px 0px 5px; padding: 0px; line-height: 21px; list-style-type: none; word-break: normal; word-wrap: normal;\">　#import &lt;AVFoundation/AVFoundation.h&gt;</p><p style=\"border-width: 0px; margin: 0px 0px 5px; padding: 0px; line-height: 21px; list-style-type: none; word-break: normal; word-wrap: normal;\">　加载AVFoundation.framework</p><p style=\"border-width: 0px; margin: 0px 0px 5px; padding: 0px; line-height: 21px; list-style-type: none; word-break: normal; word-wrap: normal;\">２.获取文件路径</p><p style=\"border-width: 0px; margin: 0px 0px 5px; padding: 0px; line-height: 21px; list-style-type: none; word-break: normal; word-wrap: normal;\">　NSString　*path = [[NSBundle mainBundle] pathForResource:@&quot;test&quot; ofType:@&quot;mp3&quot;];</p><p style=\"border-width: 0px; margin: 0px 0px 5px; padding: 0px; line-height: 21px; list-style-type: none; word-break: normal; word-wrap: normal;\">３.定义AVAudioPlayer对象并初始化</p><p style=\"border-width: 0px; margin: 0px 0px 5px; padding: 0px; line-height: 21px; list-style-type: none; word-break: normal; word-wrap: normal;\">&nbsp;</p><p style=\"font: 11px/normal &quot;Heiti SC Light&quot;; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">//</span>解析完数据后播放内容</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\">AVAudioPlayer<span style=\"color: rgb(0, 0, 0);\"> *player;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\">player = [[</span><span style=\"color: rgb(116, 60, 166);\">AVAudioPlayer</span><span style=\"color: rgb(0, 0, 0);\"> </span>alloc<span style=\"color: rgb(0, 0, 0);\">] </span>initWithContentsOfURL<span style=\"color: rgb(0, 0, 0);\">:(</span><span style=\"color: rgb(116, 60, 166);\">NSURL</span><span style=\"color: rgb(0, 0, 0);\">*)[</span><span style=\"color: rgb(116, 60, 166);\">NSURL</span><span style=\"color: rgb(0, 0, 0);\"> </span>fileURLWithPath<span style=\"color: rgb(0, 0, 0);\">:path] </span>error<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">nil</span><span style=\"color: rgb(0, 0, 0);\">]; &nbsp;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\">[player </span>prepareToPlay<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">if</span> (player)</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[player <span style=\"color: rgb(63, 28, 126);\">play</span>]; &nbsp; &nbsp; &nbsp;<span style=\"color: rgb(0, 132, 25);\">//</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">播放</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">//[player pause];<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">　</span>//<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">暂停</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">//[player stop];<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">　　</span>//<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">停止</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">//<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">更多强大功能</span>......</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p><span style=\"line-height: 21px; font-family: simsun;\"><p style=\"font: 11px/normal Menlo; margin: 0px; padding: 0px; color: rgb(50, 62, 50); font-size-adjust: none; font-stretch: normal;\">//播放完后回调</p><p style=\"font: 11px/normal Menlo; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; padding: 0px; color: rgb(50, 62, 50); font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">void</span>)audioPlayerDidFinishPlaying:(<span style=\"color: rgb(116, 60, 166);\">AVAudioPlayer</span> *)player successfully:(<span style=\"color: rgb(194, 42, 159);\">BOOL</span>)flag</p><p style=\"font: 11px/normal Menlo; margin: 0px; padding: 0px; color: rgb(50, 62, 50); font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; padding: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>NSLog<span style=\"color: rgb(0, 0, 0);\">(</span><span style=\"color: rgb(218, 46, 36);\">@&quot;player.filename=%@&quot;</span><span style=\"color: rgb(0, 0, 0);\">,[player.</span><span style=\"color: rgb(116, 60, 166);\">url</span><span style=\"color: rgb(0, 0, 0);\"> </span>lastPathComponent<span style=\"color: rgb(0, 0, 0);\">]);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; padding: 0px; color: rgb(50, 62, 50); font-size-adjust: none; font-stretch: normal;\">}</p><p>&nbsp;</p></span></p><p></p>','2013-12-11 07:25:13','2015-09-28 17:09:52'),(235,'114.247.232.56',3,'设置电池信号栏','<p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[[UIApplication sharedApplication]<span style=\"color: rgb(63, 28, 126);\"><span style=\"color: rgb(0, 0, 0);\"> </span>setStatusBarStyle<span style=\"color: rgb(0, 0, 0);\">:</span>UIStatusBarStyleBlackOpaque<span style=\"color: rgb(0, 0, 0);\"> </span>animated<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">YES</span><span style=\"color: rgb(0, 0, 0);\">];</span></span></p><p></p>','2013-12-11 07:25:33','2013-12-11 15:25:33'),(236,'192.168.0.181',3,'相册控件获取图片资源','<p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\">//id&lt;UINavigationControllerDelegate,UIImagePickerControllerDelegate&gt;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: &#39;Heiti SC Light&#39;; color: rgb(0, 132, 0);\"><span style=\"font-family: Menlo;\">//</span>保存图片到相册</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">UIImageWriteToSavedPhotosAlbum(<span style=\"font-family: &#39;Heiti SC Light&#39;;\">图片</span>, <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span>, <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span>, <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span>);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: &#39;Heiti SC Light&#39;; color: rgb(0, 132, 0);\"><span style=\"font-family: Menlo;\">//</span>打开相册</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">- (<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">IBAction</span>)btnCamera_click:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">id</span>)sender {</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; if ([</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIImagePickerController</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>isSourceTypeAvailable<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span>UIImagePickerControllerSourceTypePhotoLibrary<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">])</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; {</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(112, 61, 170);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; </span>UIImagePickerController<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> *picker = [[</span>UIImagePickerController<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">alloc</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">] </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">init</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; [picker <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">setDelegate</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">self</span>];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; [picker <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">setAllowsEditing</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">NO</span>];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: &#39;Heiti SC Light&#39;; color: rgb(0, 132, 0);\"><span style=\"font-family: Menlo; color: rgb(0, 0, 0);\">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-family: Menlo;\">//</span>数据源可以是相册又可以摄像头</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; picker.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">sourceType</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> = </span>UIImagePickerControllerSourceTypePhotoLibrary<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">self</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>presentViewController<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:picker </span>animated<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">YES</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>completion<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; picker=<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; }</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; else {</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIAlertView</span> *alert = [[<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIAlertView</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">alloc</span>]</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">initWithTitle</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;</span><span style=\"font-family: &#39;Heiti SC Light&#39;; color: rgb(209, 47, 27);\">访问图片库错误</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">&quot;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">message</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;&quot;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">delegate</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">cancelButtonTitle</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;OK!&quot;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">otherButtonTitles</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span>];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; [alert <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">show</span>];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; alert=<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; }</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\">//<span style=\"font-family: &#39;Heiti SC Light&#39;;\">从相册获取图片</span>/////////////</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">- (void)imagePickerController:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIImagePickerController</span> *)picker</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">didFinishPickingMediaWithInfo:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSDictionary</span> *)info</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIImage</span> *pkimg;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">NSLog</span>(<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;%@&quot;</span>,info);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; pkimg = [info </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">objectForKey</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span>@&quot;UIImagePickerControllerOriginalImage&quot;<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span>//pkimg=[info objectForKey: @&quot;UIImagePickerControllerEditedImage&quot;];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span>//<span style=\"font-family: &#39;Heiti SC Light&#39;;\">显示图片</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; resultImage.image = pkimg;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">self</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>dismissViewControllerAnimated<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">YES</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>completion<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">- (void)imagePickerControllerDidCancel:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIImagePickerController</span> *)picker</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">NSLog</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">(</span>@&quot;cancel&quot;<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">);</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">self</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>dismissViewControllerAnimated<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">YES</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>completion<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p><br/></p>','2013-12-11 07:25:52','2015-09-24 11:05:59'),(237,'114.247.232.56',3,'NSArry排序','<p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">-(<span style=\"color: rgb(194, 42, 159);\">void</span>) sortMoviesArray {</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span></span>NSSortDescriptor<span style=\"color: rgb(0, 0, 0);\"> *sorter;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span></span><span style=\"color: rgb(194, 42, 159);\">switch</span><span style=\"color: rgb(0, 0, 0);\"> (</span><span style=\"color: rgb(71, 129, 134);\">sortControl</span><span style=\"color: rgb(0, 0, 0);\">.</span>selectedSegmentIndex<span style=\"color: rgb(0, 0, 0);\">) {</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">		</span></span><span style=\"color: rgb(194, 42, 159);\">case</span><span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(37, 38, 211);\">0</span><span style=\"color: rgb(0, 0, 0);\">: </span>// sort alpha ascending</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">			</span>sorter = [[<span style=\"color: rgb(116, 60, 166);\">NSSortDescriptor</span> <span style=\"color: rgb(63, 28, 126);\">alloc</span>]</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">				</span></span>initWithKey<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(218, 46, 36);\">@&quot;title&quot;</span><span style=\"color: rgb(0, 0, 0);\"> </span>ascending<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">YES</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(194, 42, 159); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">			</span></span>break<span style=\"color: rgb(0, 0, 0);\">;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">		</span></span><span style=\"color: rgb(194, 42, 159);\">case</span><span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(37, 38, 211);\">1</span><span style=\"color: rgb(0, 0, 0);\">: &nbsp;</span>// sort alpha descending</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">			</span>sorter = [[<span style=\"color: rgb(116, 60, 166);\">NSSortDescriptor</span> <span style=\"color: rgb(63, 28, 126);\">alloc</span>]</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">				</span></span>initWithKey<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(218, 46, 36);\">@&quot;title&quot;</span><span style=\"color: rgb(0, 0, 0);\"> </span>ascending<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">NO</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(194, 42, 159); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">			</span></span>break<span style=\"color: rgb(0, 0, 0);\">;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">		</span><span style=\"color: rgb(194, 42, 159);\">case</span> <span style=\"color: rgb(37, 38, 211);\">2</span>:</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">		</span></span><span style=\"color: rgb(194, 42, 159);\">default</span><span style=\"color: rgb(0, 0, 0);\">: </span>// sort $$ ascending</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">			</span>sorter = [[<span style=\"color: rgb(116, 60, 166);\">NSSortDescriptor</span> <span style=\"color: rgb(63, 28, 126);\">alloc</span>]</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">				</span></span>initWithKey<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(218, 46, 36);\">@&quot;boxOfficeGross&quot;</span><span style=\"color: rgb(0, 0, 0);\"> </span>ascending<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">YES</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(194, 42, 159); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">			</span></span>break<span style=\"color: rgb(0, 0, 0);\">;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span>}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span><span style=\"color: rgb(116, 60, 166);\">NSArray</span> *sortDescriptors = [<span style=\"color: rgb(116, 60, 166);\">NSArray</span> <span style=\"color: rgb(63, 28, 126);\">arrayWithObject</span>: sorter];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span>[<span style=\"color: rgb(71, 129, 134);\">moviesArray</span> <span style=\"color: rgb(63, 28, 126);\">sortUsingDescriptors</span>:sortDescriptors];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span>[sorter <span style=\"color: rgb(63, 28, 126);\">release</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p></p>','2013-12-11 07:26:16','2013-12-11 15:26:16'),(238,'114.247.232.56',3,'&quot;编辑按钮&quot;的事件','<p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">//点击</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">void</span>)setEditing:(<span style=\"color: rgb(194, 42, 159);\">BOOL</span>)editing animated:(<span style=\"color: rgb(194, 42, 159);\">BOOL</span>)animated {</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[<span style=\"color: rgb(194, 42, 159);\">super</span> <span style=\"color: rgb(63, 28, 126);\">setEditing</span>:editing <span style=\"color: rgb(63, 28, 126);\">animated</span>:animated];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[<span style=\"color: rgb(71, 129, 134);\">tableView</span> <span style=\"color: rgb(63, 28, 126);\">setEditing</span>:editing <span style=\"color: rgb(63, 28, 126);\">animated</span>:animated];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">if</span> (editing) {</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">else</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">//开始循环设置记录编辑</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(116, 60, 166);\">UITableViewCellEditingStyle</span>)tableView:(<span style=\"color: rgb(116, 60, 166);\">UITableView</span> *)tableView editingStyleForRowAtIndexPath:(<span style=\"color: rgb(116, 60, 166);\">NSIndexPath</span> *)indexPath{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">if</span>( <span style=\"color: rgb(37, 38, 211);\">1</span> != indexPath.<span style=\"color: rgb(116, 60, 166);\">row</span> ){</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(194, 42, 159);\">return</span><span style=\"color: rgb(0, 0, 0);\"> </span>UITableViewCellEditingStyleDelete<span style=\"color: rgb(0, 0, 0);\">;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}<span style=\"color: rgb(194, 42, 159);\">else</span>{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(194, 42, 159);\">return</span><span style=\"color: rgb(0, 0, 0);\"> </span>UITableViewCellEditingStyleNone<span style=\"color: rgb(0, 0, 0);\">;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">//按钮事件</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">void</span>)tableView:(<span style=\"color: rgb(116, 60, 166);\">UITableView</span> *)tableView commitEditingStyle:(<span style=\"color: rgb(116, 60, 166);\">UITableViewCellEditingStyle</span>)editingStyle forRowAtIndexPath:(<span style=\"color: rgb(116, 60, 166);\">NSIndexPath</span> *)indexPath {</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(194, 42, 159);\">if</span><span style=\"color: rgb(0, 0, 0);\"> (editingStyle == </span>UITableViewCellEditingStyleDelete<span style=\"color: rgb(0, 0, 0);\">) {</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(63, 28, 126);\">NSLog</span><span style=\"color: rgb(0, 0, 0);\">(</span>@&quot;UITableViewCellEditingStyleDelete&quot;<span style=\"color: rgb(0, 0, 0);\">);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">UITableViewCell</span>*cell=[<span style=\"color: rgb(71, 129, 134);\">tbAddr</span> <span style=\"color: rgb(63, 28, 126);\">cellForRowAtIndexPath</span>:indexPath];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">NSLog</span>(<span style=\"color: rgb(218, 46, 36);\">@&quot;cell =%@&quot;</span>,cell.<span style=\"color: rgb(116, 60, 166);\">textLabel</span>.<span style=\"color: rgb(116, 60, 166);\">text</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;[cell </span>removeFromSuperview<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(194, 42, 159);\">else</span><span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(194, 42, 159);\">if</span><span style=\"color: rgb(0, 0, 0);\"> (editingStyle == </span>UITableViewCellEditingStyleInsert<span style=\"color: rgb(0, 0, 0);\">) {</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(63, 28, 126);\">NSLog</span><span style=\"color: rgb(0, 0, 0);\">(</span>@&quot;UITableViewCellEditingStyleInsert&quot;<span style=\"color: rgb(0, 0, 0);\">);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p></p>','2013-12-11 07:26:51','2013-12-11 15:26:51'),(239,'192.168.5.20',3,'UIWebView使用,HTML信息交互','<p style=\"font-family: STHeiti; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; line-height: 24px;\">编辑 info.plist，加入如下设置：</span><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; line-height: 24px;\"/><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; line-height: 24px;\"/></p><pre class=\"brush:cpp;toolbar:false\" style=\"font-size: 14px; background-color: rgb(255, 255, 255);\">&lt;plist&gt;\r\n&lt;dict&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;....\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;dict&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;true/&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;/dict&gt;\r\n&lt;/dict&gt;\r\n&lt;/plist&gt;</pre><p><br/></p><p>//////////////////// WEB VIEW ////////////////////////////////<br/></p><p><br/></p><p>-(void) loadWeb:(NSString*)url_str</p><p>{</p><p>if (0==strncmp([url_str UTF8String], &quot;http:&quot;, 5))</p><p>{ [web loadRequest:[NSURLRequest requestWithURL:[NSURL URLWithString:url_str]]]; }</p><p>else</p><p>{ [web loadRequest:[NSURLRequest requestWithURL:[NSURL fileURLWithPath:url_str]]]; }</p><p>}</p><p>-(BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType</p><p>{</p><p>NSString*s=[[request URL] absoluteString];</p><p>NSLog(@&quot;%@&quot;,s);</p><p>return TRUE;</p><p>}</p><p>//开始加载数据</p><p>- (void)webViewDidStartLoad:(UIWebView *)webView {</p><p>NSLog(@&quot;web start load&quot;);</p><p>[indLoading startAnimating];</p><p>//设置属性最好放到viewDidLoad函数里</p><p>&nbsp;</p><p>[indLoading setBounds:CGRectMake(0, 0, 130, 130)];</p><p>[indLoading setBackgroundColor:[UIColor grayColor]];</p><p>&nbsp;</p><p>indLoading.layer.cornerRadius = 10;//设置那个圆角的有多圆</p><p>indLoading.layer.borderWidth = 0;//设置边框的宽度</p><p>[indLoading setHidden:NO];</p><p>}</p><p>//数据加载完</p><p>- (void)webViewDidFinishLoad:(UIWebView *)webView {</p><p>NSLog(@&quot;web finish load&quot;);</p><p>[indLoading stopAnimating];</p><p>[indLoading setHidden:YES];</p><p>}</p><p><br/></p><p><br/></p><p>&nbsp;</p><p><br/></p><p>/////////////////////////////////////////////////////////</p><p>//HTML页面与APP交互扩展文件</p><pre class=\"brush:cpp;toolbar:false\">//\r\n//&nbsp;&nbsp;WebVIewAlertDelegate.m\r\n//&nbsp;&nbsp;discolor-led\r\n//\r\n//&nbsp;&nbsp;Created&nbsp;by&nbsp;Han.zh&nbsp;on&nbsp;15/4/13.\r\n//&nbsp;&nbsp;Copyright&nbsp;(c)&nbsp;2015年&nbsp;Han.zhihong.&nbsp;All&nbsp;rights&nbsp;reserved.\r\n//\r\n\r\n#import&nbsp;&lt;Foundation/Foundation.h&gt;\r\n\r\n////////////////////////////////////////\r\n\r\n/*&nbsp;测试例子\r\n&nbsp;\r\n&nbsp;&lt;script&gt;\r\n&nbsp;function&nbsp;aa(b)\r\n&nbsp;{\r\n&nbsp;document.write(b);\r\n&nbsp;}\r\n&nbsp;\r\n&nbsp;alert(&quot;message&nbsp;box&quot;);\r\n&nbsp;alert(&quot;cmd:close&quot;);\r\n&nbsp;cc=confirm(&quot;yes&nbsp;or&nbsp;no&quot;);\r\n&nbsp;aa(cc);\r\n&nbsp;\r\n&nbsp;cc=prompt(&quot;input&nbsp;box&quot;,&quot;!@#&quot;);\r\n&nbsp;aa(cc);\r\n&nbsp;&lt;/script&gt;\r\n&nbsp;*/\r\n\r\n@implementation&nbsp;UIWebView(JavaScriptAlertOfUIWebView)\r\n\r\nstatic&nbsp;BOOL&nbsp;diagStat&nbsp;=&nbsp;NO;\r\n//这是委托的回调,检测无刷新执行命令的\r\n//-(void)&nbsp;webView:(UIWebView&nbsp;*)sender&nbsp;CommandDelegate:(NSString*)cmd;\r\n-&nbsp;(void)webView:(UIWebView&nbsp;*)sender&nbsp;runJavaScriptAlertPanelWithMessage:(NSString&nbsp;*)message&nbsp;initiatedByFrame:(WebFrame&nbsp;*)frame&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(0==strncmp([message&nbsp;UTF8String],&nbsp;&quot;cmd:&quot;,&nbsp;4))\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//添加控制命令\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[self.delegate&nbsp;webView:sender&nbsp;CommandDelegate:[NSString&nbsp;stringWithUTF8String:[message&nbsp;UTF8String]+4]];\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UIAlertView*&nbsp;customAlert&nbsp;=&nbsp;[[UIAlertView&nbsp;alloc]&nbsp;initWithTitle:@&quot;&quot;&nbsp;message:message&nbsp;delegate:nil&nbsp;cancelButtonTitle:@&quot;确定&quot;&nbsp;otherButtonTitles:nil];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[customAlert&nbsp;show];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[customAlert&nbsp;release];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;customAlert=nil;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}\r\n\r\n\r\n-&nbsp;(BOOL)webView:(UIWebView&nbsp;*)sender&nbsp;runJavaScriptConfirmPanelWithMessage:(NSString&nbsp;*)message&nbsp;initiatedByFrame:(WebFrame&nbsp;*)frame\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;UIAlertView&nbsp;*confirmDiag&nbsp;=&nbsp;[[UIAlertView&nbsp;alloc]&nbsp;initWithTitle:nil\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message:message&nbsp;delegate:self\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cancelButtonTitle:@&quot;确定&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;otherButtonTitles:@&quot;取消&quot;,&nbsp;nil];\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;[confirmDiag&nbsp;show];\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(confirmDiag.hidden&nbsp;==&nbsp;NO&nbsp;&amp;&amp;&nbsp;confirmDiag.superview&nbsp;!=&nbsp;nil)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[NSRunLoop&nbsp;mainRunLoop]&nbsp;runUntilDate:[NSDate&nbsp;dateWithTimeIntervalSinceNow:0.01f]];\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;[confirmDiag&nbsp;release];\r\n&nbsp;&nbsp;&nbsp;&nbsp;confirmDiag=nil;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;diagStat;\r\n}\r\n\r\n-&nbsp;(NSString&nbsp;*)webView:(UIWebView&nbsp;*)sender&nbsp;runJavaScriptTextInputPanelWithPrompt:(NSString&nbsp;*)str&nbsp;defaultText:(NSString&nbsp;*)mes&nbsp;initiatedByFrame:(WebFrame&nbsp;*)frame\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;UIAlertView&nbsp;*promptDiag&nbsp;=&nbsp;[[UIAlertView&nbsp;alloc]&nbsp;initWithTitle:str\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message:@&quot;[#ue_pole#n][#ue_pole#n]&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delegate:self\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cancelButtonTitle:@&quot;OK&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;otherButtonTitles:@&quot;Cancel&quot;,nil];\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;UITextField&nbsp;*nameField&nbsp;=&nbsp;[[UITextField&nbsp;alloc]&nbsp;initWithFrame:CGRectMake(10,&nbsp;58,&nbsp;265,&nbsp;30)];\r\n&nbsp;&nbsp;&nbsp;&nbsp;//nameField.borderStyle&nbsp;=&nbsp;&nbsp;UITextBorderStyleRoundedRect;\r\n&nbsp;&nbsp;&nbsp;&nbsp;nameField.contentVerticalAlignment&nbsp;=&nbsp;UIControlContentVerticalAlignmentCenter;\r\n&nbsp;&nbsp;&nbsp;&nbsp;[nameField&nbsp;becomeFirstResponder];\r\n&nbsp;&nbsp;&nbsp;&nbsp;nameField.backgroundColor&nbsp;=&nbsp;[UIColor&nbsp;whiteColor];\r\n&nbsp;&nbsp;&nbsp;&nbsp;[nameField&nbsp;setText:mes];\r\n&nbsp;&nbsp;&nbsp;&nbsp;[promptDiag&nbsp;addSubview:nameField];\r\n&nbsp;&nbsp;&nbsp;&nbsp;[nameField&nbsp;release];\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;[promptDiag&nbsp;show];\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(promptDiag.hidden&nbsp;==&nbsp;NO&nbsp;&amp;&amp;&nbsp;promptDiag.superview&nbsp;!=&nbsp;nil)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[NSRunLoop&nbsp;mainRunLoop]&nbsp;runUntilDate:[NSDate&nbsp;dateWithTimeIntervalSinceNow:0.01f]];\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;[promptDiag&nbsp;release];\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(diagStat)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;nameField.text;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;nameField=nil;\r\n&nbsp;&nbsp;&nbsp;&nbsp;promptDiag=nil;\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;mes;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n}\r\n\r\n-&nbsp;(void)alertView:(UIAlertView&nbsp;*)alertView&nbsp;clickedButtonAtIndex:(NSInteger)buttonIndex{\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//index&nbsp;0&nbsp;:&nbsp;YES&nbsp;,&nbsp;1&nbsp;:&nbsp;NO\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(buttonIndex&nbsp;==&nbsp;0){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//return&nbsp;YES;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;diagStat&nbsp;=&nbsp;YES;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;if&nbsp;(buttonIndex&nbsp;==&nbsp;1)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//return&nbsp;NO;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;diagStat&nbsp;=&nbsp;NO;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}\r\n\r\n/*&nbsp;这是web.delegate=self&nbsp;的类回调的函数\r\n&nbsp;\r\n&nbsp;-(void)&nbsp;webView:(UIWebView&nbsp;*)sender&nbsp;CommandDelegate:(NSString*)cmd\r\n&nbsp;\r\n&nbsp;{\r\n&nbsp;NSLog(@&quot;Command=%@&quot;,cmd);\r\n&nbsp;if&nbsp;(0==strcasecmp([cmd&nbsp;UTF8String],&quot;close&quot;))\r\n&nbsp;{\r\n&nbsp;[self.navigationController&nbsp;popViewControllerAnimated:YES];\r\n&nbsp;}\r\n&nbsp;}\r\n&nbsp;*/\r\n\r\n@end</pre><p><br/></p>','2013-12-11 07:27:19','2016-08-12 12:27:01'),(240,'114.247.232.56',3,'Xib初始化的函数','<p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">void</span>)awakeFromNib {</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; </span><span style=\"color: rgb(194, 42, 159);\">self</span><span style=\"color: rgb(0, 0, 0);\">.</span>userInteractionEnabled<span style=\"color: rgb(0, 0, 0);\">=</span><span style=\"color: rgb(194, 42, 159);\">YES</span><span style=\"color: rgb(0, 0, 0);\">;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p></p>','2013-12-11 07:27:36','2013-12-11 15:27:36'),(241,'114.247.232.56',3,'支持多语言本地化处理','<p><span style=\"color: rgb(51, 51, 51); line-height: 26px; font-family: Arial;\"><span style=\"color: rgb(51, 51, 51); line-height: 24px; font-family: Georgia, &quot;Bitstream Charter&quot;, serif; font-size: 16px;\">1、在Supporting Files文件夹右键，NewFile… -&gt; iOS -&gt; Resources -&gt; String Files，命名为Localizable.strings(不要换成别的名字,我测试时,改成其它名字,不能实现本地化);<br/>2、选中Localizable.strings 点击 XCode-&gt; View-&gt; Utilities -&gt; File Inspector,在Localization中点+添加语言（zh-hans是简体中文 ）<br/>3、添加后,点击<span style=\"color: rgb(51, 51, 51); line-height: 24px; font-family: Georgia, &quot;Bitstream Charter&quot;, serif; font-size: 16px;\">Localizable.strings左边的三角形符号展开，分别编辑下面两个文件 </span><br/></span></span></p><p><span style=\"color: rgb(51, 51, 51); line-height: 24px; font-family: Georgia, &quot;Bitstream Charter&quot;, serif; font-size: 16px;\"><br/></span></p><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px;\"><p><span style=\"color: rgb(51, 51, 51); line-height: 24px; font-family: Georgia, &quot;Bitstream Charter&quot;, serif; font-size: 16px;\">Localizable.strings(English) &nbsp; 文件： 添加</span><span style=\"color: rgb(51, 51, 51); line-height: 24px; font-family: Georgia, &quot;Bitstream Charter&quot;, serif; font-size: 16px;\">“ok” = “OK”;</span></p></blockquote><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px;\"><p><span style=\"color: rgb(51, 51, 51); line-height: 24px; font-family: Georgia, &quot;Bitstream Charter&quot;, serif; font-size: 16px;\">Localizable.strings(Chinese) &nbsp;文件： 添加 </span><span style=\"color: rgb(51, 51, 51); line-height: 24px; font-family: Georgia, &quot;Bitstream Charter&quot;, serif; font-size: 16px;\">“ok” = “成功”; &nbsp; 注意双引号一定要是英文状态的双引号，否则编译会出错</span></p><p><span style=\"color: rgb(51, 51, 51); line-height: 24px; font-family: Georgia, &quot;Bitstream Charter&quot;, serif; font-size: 16px;\"><br/></span></p><p><span style=\"color: rgb(51, 51, 51); line-height: 24px; font-family: Georgia, &quot;Bitstream Charter&quot;, serif; font-size: 16px;\"><br/></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Georgia, &quot;Bitstream Charter&quot;, serif; font-size: 16px;\"><span style=\"line-height: 24px;\">然后在程序中就可以用</span></span><span style=\"color: rgb(118, 72, 46); font-family: Menlo; font-size: 11px;\">NSLocalizedString<span style=\"color: rgb(0, 0, 0);\">(</span><span style=\"color: rgb(204, 45, 36);\">@&quot;ok&quot;</span><span style=\"color: rgb(0, 0, 0);\">, </span><span style=\"color: rgb(183, 46, 159);\">nil</span><span style=\"color: rgb(0, 0, 0);\">)</span></span></p><p>&nbsp;</p><p style=\"text-indent: 2em;\"><br/></p><p style=\"text-indent: 2em;\"><br/></p></blockquote><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">//<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">系统获取本地化语言</span>////////////////////////////////////////////////////////////////////////////</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>NSUserDefaults<span style=\"color: rgb(0, 0, 0);\"> *defaults = [</span>NSUserDefaults<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">standardUserDefaults</span><span style=\"color: rgb(0, 0, 0);\">]; </span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">NSArray</span> *languages = [defaults <span style=\"color: rgb(63, 28, 126);\">objectForKey</span>:<span style=\"color: rgb(218, 46, 36);\">@&quot;AppleLanguages&quot;</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">NSString</span> *sCurlang = [languages <span style=\"color: rgb(63, 28, 126);\">objectAtIndex</span>:<span style=\"color: rgb(37, 38, 211);\">0</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(63, 28, 126);\">NSLog</span><span style=\"color: rgb(0, 0, 0);\">(</span>@&quot;currentLanguage=%@&quot;<span style=\"color: rgb(0, 0, 0);\">,sCurlang);</span></p><p></p>','2013-12-11 07:28:33','2013-12-11 15:28:33'),(242,'114.247.232.56',3,'iphone 简单MD5函数','<p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">-(<span style=\"color: rgb(116, 60, 166);\">NSString</span>*) MD5String:(<span style=\"color: rgb(116, 60, 166);\">NSString</span>*) str {</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">const</span> <span style=\"color: rgb(194, 42, 159);\">char</span> *cStr = [str <span style=\"color: rgb(63, 28, 126);\">UTF8String</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(124, 73, 46); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(194, 42, 159);\">unsigned</span><span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(194, 42, 159);\">char</span><span style=\"color: rgb(0, 0, 0);\"> result[</span>CC_MD5_DIGEST_LENGTH<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">CC_MD5</span>( cStr, <span style=\"color: rgb(63, 28, 126);\">strlen</span>(cStr), result );</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(194, 42, 159);\">return</span><span style=\"color: rgb(0, 0, 0);\"> [</span><span style=\"color: rgb(116, 60, 166);\">NSString</span><span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">stringWithFormat</span><span style=\"color: rgb(0, 0, 0);\">:</span>@&quot;%02X%02X%02X%02X%02X%02X%02X%02X%02X%02X%02X%02X%02X%02X%02X%02X&quot;<span style=\"color: rgb(0, 0, 0);\">,</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">result[<span style=\"color: rgb(37, 38, 211);\">0</span>], result[<span style=\"color: rgb(37, 38, 211);\">1</span>], result[<span style=\"color: rgb(37, 38, 211);\">2</span>], result[<span style=\"color: rgb(37, 38, 211);\">3</span>],</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">result[<span style=\"color: rgb(37, 38, 211);\">4</span>], result[<span style=\"color: rgb(37, 38, 211);\">5</span>], result[<span style=\"color: rgb(37, 38, 211);\">6</span>], result[<span style=\"color: rgb(37, 38, 211);\">7</span>],</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">result[<span style=\"color: rgb(37, 38, 211);\">8</span>], result[<span style=\"color: rgb(37, 38, 211);\">9</span>], result[<span style=\"color: rgb(37, 38, 211);\">10</span>], result[<span style=\"color: rgb(37, 38, 211);\">11</span>],</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">result[<span style=\"color: rgb(37, 38, 211);\">12</span>], result[<span style=\"color: rgb(37, 38, 211);\">13</span>], result[<span style=\"color: rgb(37, 38, 211);\">14</span>], result[<span style=\"color: rgb(37, 38, 211);\">15</span>]];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(124, 73, 46); font-size-adjust: none; font-stretch: normal;\">#define CHUNK_SIZE <span style=\"color: rgb(37, 38, 211);\">1024</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">-(<span style=\"color: rgb(116, 60, 166);\">NSString</span> *)file_md5:(<span style=\"color: rgb(116, 60, 166);\">NSString</span>*) path {</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(116, 60, 166);\">NSFileHandle</span><span style=\"color: rgb(0, 0, 0);\">* handle = [</span><span style=\"color: rgb(116, 60, 166);\">NSFileHandle</span><span style=\"color: rgb(0, 0, 0);\"> </span>fileHandleForReadingAtPath<span style=\"color: rgb(0, 0, 0);\">:path];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">if</span>(handle == <span style=\"color: rgb(194, 42, 159);\">nil</span>)</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">return</span> <span style=\"color: rgb(194, 42, 159);\">nil</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">CC_MD5_CTX</span> md5_ctx;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">CC_MD5_Init</span>(&amp;md5_ctx);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">NSData</span>* filedata;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">do</span> {filedata = [handle <span style=\"color: rgb(63, 28, 126);\">readDataOfLength</span>:<span style=\"color: rgb(124, 73, 46);\">CHUNK_SIZE</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">CC_MD5_Update</span>(&amp;md5_ctx, [filedata <span style=\"color: rgb(63, 28, 126);\">bytes</span>], [filedata <span style=\"color: rgb(63, 28, 126);\">length</span>]);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">while</span>([filedata <span style=\"color: rgb(63, 28, 126);\">length</span>]);</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(124, 73, 46); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(194, 42, 159);\">unsigned</span><span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(194, 42, 159);\">char</span><span style=\"color: rgb(0, 0, 0);\"> result[</span>CC_MD5_DIGEST_LENGTH<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">CC_MD5_Final</span>(result, &amp;md5_ctx);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[handle <span style=\"color: rgb(63, 28, 126);\">closeFile</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(194, 42, 159);\">return</span><span style=\"color: rgb(0, 0, 0);\"> [</span><span style=\"color: rgb(116, 60, 166);\">NSString</span><span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">stringWithFormat</span><span style=\"color: rgb(0, 0, 0);\">:</span>@&quot;%02X%02X%02X%02X%02X%02X%02X%02X%02X%02X%02X%02X%02X%02X%02X%02X&quot;<span style=\"color: rgb(0, 0, 0);\">,</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">result[<span style=\"color: rgb(37, 38, 211);\">0</span>], result[<span style=\"color: rgb(37, 38, 211);\">1</span>], result[<span style=\"color: rgb(37, 38, 211);\">2</span>], result[<span style=\"color: rgb(37, 38, 211);\">3</span>],</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">result[<span style=\"color: rgb(37, 38, 211);\">4</span>], result[<span style=\"color: rgb(37, 38, 211);\">5</span>], result[<span style=\"color: rgb(37, 38, 211);\">6</span>], result[<span style=\"color: rgb(37, 38, 211);\">7</span>],</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">result[<span style=\"color: rgb(37, 38, 211);\">8</span>], result[<span style=\"color: rgb(37, 38, 211);\">9</span>], result[<span style=\"color: rgb(37, 38, 211);\">10</span>], result[<span style=\"color: rgb(37, 38, 211);\">11</span>],</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">result[<span style=\"color: rgb(37, 38, 211);\">12</span>], result[<span style=\"color: rgb(37, 38, 211);\">13</span>], result[<span style=\"color: rgb(37, 38, 211);\">14</span>], result[<span style=\"color: rgb(37, 38, 211);\">15</span>]</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p></p>','2013-12-11 07:28:50','2013-12-11 15:28:50'),(243,'114.247.232.56',3,'View动画,弹出窗体和横竖屏改变','<p>UIView *<span style=\"color: rgb(71, 129, 134);\">login_frm;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(43, 89, 93); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">		</span></span><span style=\"color: rgb(71, 129, 134);\">login_frm</span><span style=\"color: rgb(0, 0, 0);\">.</span><span style=\"color: rgb(116, 60, 166);\">transform</span><span style=\"color: rgb(0, 0, 0);\"> = </span><span style=\"color: rgb(63, 28, 126);\">CGAffineTransformScale</span><span style=\"color: rgb(0, 0, 0);\">([</span><span style=\"color: rgb(194, 42, 159);\">self</span><span style=\"color: rgb(0, 0, 0);\"> </span>transformForOrientation<span style=\"color: rgb(0, 0, 0);\">], </span><span style=\"color: rgb(37, 38, 211);\">0.001</span><span style=\"color: rgb(0, 0, 0);\">, </span><span style=\"color: rgb(37, 38, 211);\">0.001</span><span style=\"color: rgb(0, 0, 0);\">);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">		</span>[</span><span style=\"color: rgb(116, 60, 166);\">UIView</span><span style=\"color: rgb(0, 0, 0);\"> </span>beginAnimations<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">nil</span><span style=\"color: rgb(0, 0, 0);\"> </span>context<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">nil</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">		</span>[</span><span style=\"color: rgb(116, 60, 166);\">UIView</span><span style=\"color: rgb(0, 0, 0);\"> </span>setAnimationDuration<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(37, 38, 211);\">0.2</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">		</span>[</span><span style=\"color: rgb(116, 60, 166);\">UIView</span><span style=\"color: rgb(0, 0, 0);\"> </span>setAnimationDelegate<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">self</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">		</span>[<span style=\"color: rgb(116, 60, 166);\">UIView</span> <span style=\"color: rgb(63, 28, 126);\">setAnimationDidStopSelector</span>:<span style=\"color: rgb(194, 42, 159);\">@selector</span>(bounce1AnimationStopped)];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(43, 89, 93); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">		</span></span><span style=\"color: rgb(71, 129, 134);\">login_frm</span><span style=\"color: rgb(0, 0, 0);\">.</span><span style=\"color: rgb(116, 60, 166);\">transform</span><span style=\"color: rgb(0, 0, 0);\"> = </span><span style=\"color: rgb(63, 28, 126);\">CGAffineTransformScale</span><span style=\"color: rgb(0, 0, 0);\">([</span><span style=\"color: rgb(194, 42, 159);\">self</span><span style=\"color: rgb(0, 0, 0);\"> </span>transformForOrientation<span style=\"color: rgb(0, 0, 0);\">], </span><span style=\"color: rgb(37, 38, 211);\">1.1</span><span style=\"color: rgb(0, 0, 0);\">, </span><span style=\"color: rgb(37, 38, 211);\">1.1</span><span style=\"color: rgb(0, 0, 0);\">);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(71, 129, 134); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">		</span>[</span>LoginFrm<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">setAlpha</span><span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(37, 38, 211);\">1.0f</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">		</span>[</span><span style=\"color: rgb(116, 60, 166);\">UIView</span><span style=\"color: rgb(0, 0, 0);\"> </span>commitAnimations<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><br/></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><br/></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\">///////////////////////////////////////////////////</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><br/></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><br/></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><br/></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(116, 60, 166);\">CGAffineTransform</span>)transformForOrientation {</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span></span>UIInterfaceOrientation<span style=\"color: rgb(0, 0, 0);\"> orientation = [</span>UIApplication<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">sharedApplication</span><span style=\"color: rgb(0, 0, 0);\">].</span>statusBarOrientation<span style=\"color: rgb(0, 0, 0);\">;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span></span><span style=\"color: rgb(194, 42, 159);\">if</span><span style=\"color: rgb(0, 0, 0);\"> (orientation == </span>UIInterfaceOrientationLandscapeLeft<span style=\"color: rgb(0, 0, 0);\">) {</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">		</span></span><span style=\"color: rgb(194, 42, 159);\">return</span><span style=\"color: rgb(0, 0, 0);\"> </span>CGAffineTransformMakeRotation<span style=\"color: rgb(0, 0, 0);\">(</span><span style=\"color: rgb(124, 73, 46);\">M_PI</span><span style=\"color: rgb(0, 0, 0);\">*</span><span style=\"color: rgb(37, 38, 211);\">1.5</span><span style=\"color: rgb(0, 0, 0);\">);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span>} </span><span style=\"color: rgb(194, 42, 159);\">else</span><span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(194, 42, 159);\">if</span><span style=\"color: rgb(0, 0, 0);\"> (orientation == </span>UIInterfaceOrientationLandscapeRight<span style=\"color: rgb(0, 0, 0);\">) {</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">		</span></span><span style=\"color: rgb(194, 42, 159);\">return</span><span style=\"color: rgb(0, 0, 0);\"> </span>CGAffineTransformMakeRotation<span style=\"color: rgb(0, 0, 0);\">(</span><span style=\"color: rgb(124, 73, 46);\">M_PI</span><span style=\"color: rgb(0, 0, 0);\">/</span><span style=\"color: rgb(37, 38, 211);\">2</span><span style=\"color: rgb(0, 0, 0);\">);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span>} </span><span style=\"color: rgb(194, 42, 159);\">else</span><span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(194, 42, 159);\">if</span><span style=\"color: rgb(0, 0, 0);\"> (orientation == </span>UIInterfaceOrientationPortraitUpsideDown<span style=\"color: rgb(0, 0, 0);\">) {</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">		</span></span><span style=\"color: rgb(194, 42, 159);\">return</span><span style=\"color: rgb(0, 0, 0);\"> </span>CGAffineTransformMakeRotation<span style=\"color: rgb(0, 0, 0);\">(-</span><span style=\"color: rgb(124, 73, 46);\">M_PI</span><span style=\"color: rgb(0, 0, 0);\">);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span>} <span style=\"color: rgb(194, 42, 159);\">else</span> {</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">		</span></span><span style=\"color: rgb(194, 42, 159);\">return</span><span style=\"color: rgb(0, 0, 0);\"> </span>CGAffineTransformIdentity<span style=\"color: rgb(0, 0, 0);\">;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span>}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">void</span>)bounce1AnimationStopped{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span>[</span><span style=\"color: rgb(116, 60, 166);\">UIView</span><span style=\"color: rgb(0, 0, 0);\"> </span>beginAnimations<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">nil</span><span style=\"color: rgb(0, 0, 0);\"> </span>context<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">nil</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span>[</span><span style=\"color: rgb(116, 60, 166);\">UIView</span><span style=\"color: rgb(0, 0, 0);\"> </span>setAnimationDuration<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(37, 38, 211);\">0.12</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span>[</span><span style=\"color: rgb(116, 60, 166);\">UIView</span><span style=\"color: rgb(0, 0, 0);\"> </span>setAnimationDelegate<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">self</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span>[<span style=\"color: rgb(116, 60, 166);\">UIView</span> <span style=\"color: rgb(63, 28, 126);\">setAnimationDidStopSelector</span>:<span style=\"color: rgb(194, 42, 159);\">@selector</span>(bounce2AnimationStopped)];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(43, 89, 93); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span></span><span style=\"color: rgb(71, 129, 134);\">login_frm</span><span style=\"color: rgb(0, 0, 0);\">.</span><span style=\"color: rgb(116, 60, 166);\">transform</span><span style=\"color: rgb(0, 0, 0);\"> = </span><span style=\"color: rgb(63, 28, 126);\">CGAffineTransformScale</span><span style=\"color: rgb(0, 0, 0);\">([</span><span style=\"color: rgb(194, 42, 159);\">self</span><span style=\"color: rgb(0, 0, 0);\"> </span>transformForOrientation<span style=\"color: rgb(0, 0, 0);\">], </span><span style=\"color: rgb(37, 38, 211);\">0.9</span><span style=\"color: rgb(0, 0, 0);\">, </span><span style=\"color: rgb(37, 38, 211);\">0.9</span><span style=\"color: rgb(0, 0, 0);\">);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span>[</span><span style=\"color: rgb(116, 60, 166);\">UIView</span><span style=\"color: rgb(0, 0, 0);\"> </span>commitAnimations<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">void</span>)bounce2AnimationStopped{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span>[</span><span style=\"color: rgb(116, 60, 166);\">UIView</span><span style=\"color: rgb(0, 0, 0);\"> </span>beginAnimations<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">nil</span><span style=\"color: rgb(0, 0, 0);\"> </span>context<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">nil</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span>[</span><span style=\"color: rgb(116, 60, 166);\">UIView</span><span style=\"color: rgb(0, 0, 0);\"> </span>setAnimationDuration<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(37, 38, 211);\">0.1</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(43, 89, 93); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span></span><span style=\"color: rgb(71, 129, 134);\">login_frm</span><span style=\"color: rgb(0, 0, 0);\">.</span><span style=\"color: rgb(116, 60, 166);\">transform</span><span style=\"color: rgb(0, 0, 0);\"> = [</span><span style=\"color: rgb(194, 42, 159);\">self</span><span style=\"color: rgb(0, 0, 0);\"> </span>transformForOrientation<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span>[</span><span style=\"color: rgb(116, 60, 166);\">UIView</span><span style=\"color: rgb(0, 0, 0);\"> </span>commitAnimations<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p></p>','2013-12-11 07:29:13','2013-12-11 15:29:13'),(245,'114.247.232.56',3,'UILabel','<p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">//<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">域名</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(116, 60, 166);\">UILabel</span><span style=\"color: rgb(0, 0, 0);\"> *lb1=[[</span><span style=\"color: rgb(116, 60, 166);\">UILabel</span><span style=\"color: rgb(0, 0, 0);\"> </span>alloc<span style=\"color: rgb(0, 0, 0);\">] </span>initWithFrame<span style=\"color: rgb(0, 0, 0);\">:</span>CGRectMake<span style=\"color: rgb(0, 0, 0);\">(</span><span style=\"color: rgb(37, 38, 211);\">20</span><span style=\"color: rgb(0, 0, 0);\">, </span><span style=\"color: rgb(37, 38, 211);\">50</span><span style=\"color: rgb(0, 0, 0);\">, </span><span style=\"color: rgb(37, 38, 211);\">50</span><span style=\"color: rgb(0, 0, 0);\">,</span><span style=\"color: rgb(37, 38, 211);\">30</span><span style=\"color: rgb(0, 0, 0);\">)];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;[lb1 </span>setText<span style=\"color: rgb(0, 0, 0);\">:[</span><span style=\"color: rgb(71, 129, 134);\">g_lang</span><span style=\"color: rgb(0, 0, 0);\"> </span>objectAtIndex<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(37, 38, 211);\">35</span><span style=\"color: rgb(0, 0, 0);\">]];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;[lb1 </span>setTextAlignment<span style=\"color: rgb(0, 0, 0);\">:</span>UITextAlignmentCenter<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(71, 129, 134); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;[</span>alertAddPlane<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">addSubview</span><span style=\"color: rgb(0, 0, 0);\">:lb1];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[lb1 <span style=\"color: rgb(63, 28, 126);\">release</span>];</p><p></p>','2013-12-11 07:45:58','2013-12-11 15:45:58'),(246,'114.247.232.56',3,'UIPickerView','<p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 128, 0);\">//设定选定行</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\">[</span><span style=\"color: rgb(71, 129, 134);\">pikType</span><span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">selectRow</span><span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(37, 38, 211);\">3</span><span style=\"color: rgb(0, 128, 0);\">/*第几行*/</span><span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">inComponent</span><span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(37, 38, 211);\">0</span><span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">animated</span><span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">YES</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p>&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(124, 73, 46); font-size-adjust: none; font-stretch: normal;\">//////////////////////////////</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(124, 73, 46); font-size-adjust: none; font-stretch: normal;\">NSArray *<span style=\"color: rgb(71, 129, 134);\">permission;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(124, 73, 46); font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(124, 73, 46); font-size-adjust: none; font-stretch: normal;\">#pragma mark -</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(124, 73, 46); font-size-adjust: none; font-stretch: normal;\">#pragma mark Picker View Data Source Methods</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(116, 60, 166);\">NSInteger</span>)numberOfComponentsInPickerView:(<span style=\"color: rgb(116, 60, 166);\">UIPickerView</span> *)pickerView</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">NSLog</span>(<span style=\"color: rgb(218, 46, 36);\">@&quot;1&quot;</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">return</span> <span style=\"color: rgb(37, 38, 211);\">1</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(116, 60, 166);\">NSInteger</span>)pickerView:(<span style=\"color: rgb(116, 60, 166);\">UIPickerView</span> *)pickerView numberOfRowsInComponent:(<span style=\"color: rgb(116, 60, 166);\">NSInteger</span>)component</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">NSLog</span>(<span style=\"color: rgb(218, 46, 36);\">@&quot;2&quot;</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">return</span> [<span style=\"color: rgb(71, 129, 134);\">permission</span> <span style=\"color: rgb(63, 28, 126);\">count</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(124, 73, 46); font-size-adjust: none; font-stretch: normal;\">#pragma mark -</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(124, 73, 46); font-size-adjust: none; font-stretch: normal;\">#pragma mark Picker View Delegate Methods</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(116, 60, 166);\">NSString</span> *)pickerView:(<span style=\"color: rgb(116, 60, 166);\">UIPickerView</span> *)pickerView titleForRow:(<span style=\"color: rgb(116, 60, 166);\">NSInteger</span>)row forComponent:(<span style=\"color: rgb(116, 60, 166);\">NSInteger</span>)component</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">NSLog</span>(<span style=\"color: rgb(218, 46, 36);\">@&quot;3&quot;</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">return</span> [<span style=\"color: rgb(71, 129, 134);\">permission</span> <span style=\"color: rgb(63, 28, 126);\">objectAtIndex</span>:row];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">void</span>)pickerView:(<span style=\"color: rgb(116, 60, 166);\">UIPickerView</span> *)pickerView didSelectRow:(<span style=\"color: rgb(116, 60, 166);\">NSInteger</span>)row inComponent:(<span style=\"color: rgb(116, 60, 166);\">NSInteger</span>)component</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>NSLog<span style=\"color: rgb(0, 0, 0);\">(</span><span style=\"color: rgb(218, 46, 36);\">@&quot;%@&quot;</span><span style=\"color: rgb(0, 0, 0);\">,</span><span style=\"color: rgb(0, 0, 0);\">[<span style=\"color: rgb(71, 129, 134);\">permission</span> <span style=\"color: rgb(63, 28, 126);\">objectAtIndex</span>:row]</span><span style=\"color: rgb(0, 0, 0);\">);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p>&nbsp;</p><p><br/></p><p><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(71, 129, 134);\">pikPermission</span><span style=\"color: rgb(0, 0, 0);\">=[[</span><span style=\"color: rgb(116, 60, 166);\">UIPickerView</span><span style=\"color: rgb(0, 0, 0);\"> </span>alloc<span style=\"color: rgb(0, 0, 0);\">]</span>initWithFrame<span style=\"color: rgb(0, 0, 0);\">:</span>CGRectMake<span style=\"color: rgb(0, 0, 0);\">(</span><span style=\"color: rgb(37, 38, 211);\">7</span><span style=\"color: rgb(0, 0, 0);\">, </span><span style=\"color: rgb(37, 38, 211);\">50</span><span style=\"color: rgb(0, 0, 0);\">, </span><span style=\"color: rgb(37, 38, 211);\">270</span><span style=\"color: rgb(0, 0, 0);\">, </span><span style=\"color: rgb(37, 38, 211);\">0</span><span style=\"color: rgb(0, 0, 0);\">)];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(71, 129, 134);\">pikPermission</span>.<span style=\"color: rgb(116, 60, 166);\">delegate</span> = <span style=\"color: rgb(194, 42, 159);\">self</span>; &nbsp;<span style=\"color: rgb(0, 132, 25);\">//</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">指定</span><span style=\"color: rgb(0, 132, 25);\">Delegate</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(71, 129, 134);\">pikPermission</span><span style=\"color: rgb(0, 0, 0);\">.</span>showsSelectionIndicator<span style=\"color: rgb(0, 0, 0);\"> = </span><span style=\"color: rgb(194, 42, 159);\">YES</span><span style=\"color: rgb(0, 0, 0);\">; </span><span style=\"color: rgb(0, 132, 25);\">//</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">显示选中框</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(71, 129, 134); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\">[</span>alertLoginFrm<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">addSubview</span><span style=\"color: rgb(0, 0, 0);\">:</span>pikPermission<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(71, 129, 134); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\">[</span>pikPermission<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">release</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p><span style=\"color: rgb(0, 0, 0);\"><br/></span></p><p><span style=\"color: rgb(0, 0, 0);\"><br/></span></p><p><span style=\"color: rgb(0, 0, 0);\">//改变大小</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">CGColorSpaceRef</span><span style=\"color: rgb(0, 0, 0);\"> rgb = </span>CGColorSpaceCreateDeviceRGB<span style=\"color: rgb(0, 0, 0);\">();</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 0); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">CGColorRef</span> layerBounderColor = <span style=\"color: rgb(63, 28, 126);\">CGColorCreate</span>(rgb, <span style=\"color: rgb(37, 38, 211);\">0</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\">CGColorSpaceRelease<span style=\"color: rgb(0, 0, 0);\">(rgb);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 0); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">CALayer</span> *viewLayer = <span style=\"color: rgb(71, 129, 134);\">pikPermission</span>.<span style=\"color: rgb(116, 60, 166);\">layer</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 0); font-size-adjust: none; font-stretch: normal;\">[viewLayer <span style=\"color: rgb(63, 28, 126);\">setBounds</span>:<span style=\"color: rgb(63, 28, 126);\">CGRectMake</span>(<span style=\"color: rgb(37, 38, 211);\">0</span>, <span style=\"color: rgb(37, 38, 211);\">0</span>, <span style=\"color: rgb(37, 38, 211);\">200</span>, <span style=\"color: rgb(37, 38, 211);\">200</span>)];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 0); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">CGColorRelease</span>(layerBounderColor);</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 0); font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 0); font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 0); font-size-adjust: none; font-stretch: normal;\">//修改样式---------------------------------------------------</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 0); font-size-adjust: none; font-stretch: normal;\">//////////////////////////////////</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 0); font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 0); min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(124, 73, 46);\">#import </span>&lt;UIKit/UIKit.h&gt;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 0); min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 0); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">@interface</span> MyPicker : <span style=\"color: rgb(116, 60, 166);\">UIPickerView</span> {</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 0); font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(194, 42, 159); font-size-adjust: none; font-stretch: normal;\">@end</p><p><br/></p><p>////////////////////////////////</p><p style=\"color: rgb(0, 0, 0);\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(124, 73, 46);\">#import </span>&quot;MyPicker.h&quot;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 0); min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(194, 42, 159); font-size-adjust: none; font-stretch: normal;\">@implementation<span style=\"color: rgb(0, 0, 0);\"> MyPicker</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 0); min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 0); font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">id</span>)initWithFrame:(<span style=\"color: rgb(116, 60, 166);\">CGRect</span>)frame {</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 0); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">if</span> (<span style=\"color: rgb(194, 42, 159);\">self</span> = [<span style=\"color: rgb(194, 42, 159);\">super</span> <span style=\"color: rgb(63, 28, 126);\">initWithFrame</span>:frame]) {</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span>// Initialization code</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 0); min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">		</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 0); font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(194, 42, 159); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>return<span style=\"color: rgb(0, 0, 0);\"> </span>self<span style=\"color: rgb(0, 0, 0);\">;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 0); font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 0); min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 0); font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">void</span>)drawRect:(<span style=\"color: rgb(116, 60, 166);\">CGRect</span>)rect {</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 0); min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal &quot;Heiti SC Light&quot;; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 11px/normal Menlo; color: rgb(0, 0, 0); font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span></span><span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">//4-</span>选择区域的背景颜色<span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">; 0-</span>大背景的颜色<span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">; 1-</span>选择框左边的颜色<span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">; 2-</span>白色块<span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\"> ;3-?; 5-</span>滚动区域的颜色<span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\"> </span>回覆盖数据</p><p style=\"font: 11px/normal &quot;Heiti SC Light&quot;; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 11px/normal Menlo; color: rgb(0, 0, 0); font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span></span><span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">//6-</span>选择框的背景颜色<span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\"> 7-</span>选择框左边的颜色<span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\"> 8-</span>整个<span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">View</span>的颜色<span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\"> </span>会覆盖所有的图片</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span></span><span style=\"color: rgb(116, 60, 166);\">UIView</span><span style=\"color: rgb(0, 0, 0);\"> *v = [[</span><span style=\"color: rgb(194, 42, 159);\">self</span><span style=\"color: rgb(0, 0, 0);\"> </span>subviews<span style=\"color: rgb(0, 0, 0);\">] </span>objectAtIndex<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(37, 38, 211);\">2</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span>[v </span>setBackgroundColor<span style=\"color: rgb(0, 0, 0);\">:[</span><span style=\"color: rgb(116, 60, 166);\">UIColor</span><span style=\"color: rgb(0, 0, 0);\"> </span>clearColor<span style=\"color: rgb(0, 0, 0);\">]];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span></span>UIImageView<span style=\"color: rgb(0, 0, 0);\"> *bgimg = [[</span>UIImageView<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">alloc</span><span style=\"color: rgb(0, 0, 0);\">] </span><span style=\"color: rgb(63, 28, 126);\">initWithImage</span><span style=\"color: rgb(0, 0, 0);\">:[</span>UIImage<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">imageNamed</span><span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(218, 46, 36);\">@&quot;frm_bg.png&quot;</span><span style=\"color: rgb(0, 0, 0);\">]];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span></span>//bgimg.frame = CGRectMake(0, 0, 200, 55);</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span><span style=\"color: rgb(63, 28, 126); white-space: pre;\"><span style=\"color: rgb(0, 0, 0);\">[v </span>setClipsToBounds<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">YES</span><span style=\"color: rgb(0, 0, 0);\">];</span></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span>[v <span style=\"color: rgb(63, 28, 126);\">addSubview</span>:bgimg];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 0); font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span>[bgimg <span style=\"color: rgb(63, 28, 126);\">release</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 0); min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span>[</span><span style=\"color: rgb(194, 42, 159);\">self</span><span style=\"color: rgb(0, 0, 0);\"> </span>setNeedsDisplay<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 0); min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 0); font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 0); min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 0); font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">void</span>)dealloc {</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 0); font-size-adjust: none; font-stretch: normal;\">[<span style=\"color: rgb(194, 42, 159);\">super</span> <span style=\"color: rgb(63, 28, 126);\">dealloc</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 0); font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 0); min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(194, 42, 159); font-size-adjust: none; font-stretch: normal;\">@end</p><p style=\"color: rgb(0, 0, 0);\">&nbsp;</p><p></p>','2013-12-11 07:46:19','2013-12-11 15:46:19'),(247,'14.217.213.30',3,'presentModalViewController','<p><span style=\\\"color: rgb(51, 153, 102); line-height: 21px; font-family: 宋体, Verdana, Arial, Helvetica, sans-serif; -webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px;\\\">// 这里按钮按下的时候退出 ModalViewController<br style=\\\"line-height: 1.5; font-family: 宋体, Verdana, Arial, Helvetica, sans-serif;\\\"/>-(void)dismiss:(id)inSender {<br style=\\\"line-height: 1.5; font-family: 宋体, Verdana, Arial, Helvetica, sans-serif;\\\"/> &nbsp; &nbsp;// 如果是被 presentModalViewController 以外的实例调用，parentViewController 将是nil，下面的调用无效<br style=\\\"line-height: 1.5; font-family: 宋体, Verdana, Arial, Helvetica, sans-serif;\\\"/> &nbsp; &nbsp;[self.parentViewController dismissModalViewControllerAnimated:YES];<br style=\\\"line-height: 1.5; font-family: 宋体, Verdana, Arial, Helvetica, sans-serif;\\\"/>}</span></p><p><span style=\\\"color: rgb(51, 153, 102); line-height: 21px; font-family: 宋体, Verdana, Arial, Helvetica, sans-serif; -webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px;\\\"><br/></span></p><p><span style=\\\"color: rgb(51, 153, 102); line-height: 21px; font-family: 宋体, Verdana, Arial, Helvetica, sans-serif; -webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px;\\\"><br/></span></p><p><span style=\\\"color: rgb(51, 153, 102); line-height: 21px; font-family: 宋体, Verdana, Arial, Helvetica, sans-serif; -webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px;\\\">- (void)applicationDidFinishLaunching:(UIApplication *)application {<br style=\\\"line-height: 1.5; font-family: 宋体, Verdana, Arial, Helvetica, sans-serif;\\\"/> &nbsp; &nbsp;controller = [[CustomViewController alloc] init];</span></p><p><span style=\\\"color: rgb(51, 153, 102); line-height: 21px; font-family: 宋体, Verdana, Arial, Helvetica, sans-serif; -webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px;\\\"><span style=\\\"color: rgb(0, 0, 0);\\\"> &nbsp;//一定要先添加窗体后才能添加管理 ,按顺序<br style=\\\"line-height: 1.5; font-family: 宋体, Verdana, Arial, Helvetica, sans-serif;\\\"/> &nbsp; &nbsp;[window addSubview:controller.view];</span><br style=\\\"line-height: 1.5; font-family: 宋体, Verdana, Arial, Helvetica, sans-serif;\\\"/> &nbsp; &nbsp;[window makeKeyAndVisible];<br style=\\\"line-height: 1.5; font-family: 宋体, Verdana, Arial, Helvetica, sans-serif;\\\"/> &nbsp; &nbsp;// 生成 ModalViewController<br style=\\\"line-height: 1.5; font-family: 宋体, Verdana, Arial, Helvetica, sans-serif;\\\"/> &nbsp; &nbsp;CustomViewController* controllerB = [[CustomViewController alloc] init];<br style=\\\"line-height: 1.5; font-family: 宋体, Verdana, Arial, Helvetica, sans-serif;\\\"/> &nbsp; &nbsp;// 设置 view 的背景为红色<br style=\\\"line-height: 1.5; font-family: 宋体, Verdana, Arial, Helvetica, sans-serif;\\\"/> &nbsp; &nbsp;controllerB.view.backgroundColor = [UIColor redColor];<br style=\\\"line-height: 1.5; font-family: 宋体, Verdana, Arial, Helvetica, sans-serif;\\\"/> &nbsp; &nbsp;// 显示 ModalViewController view<br style=\\\"line-height: 1.5; font-family: 宋体, Verdana, Arial, Helvetica, sans-serif;\\\"/> <span style=\\\"color: rgb(0, 0, 0);\\\"> &nbsp; [controller presentModalViewController:controllerB animated:YES];</span><br style=\\\"line-height: 1.5; font-family: 宋体, Verdana, Arial, Helvetica, sans-serif;\\\"/> &nbsp; &nbsp;// presentModalViewController 已经被 controller 管理，这里可以释放该实例了<br style=\\\"line-height: 1.5; font-family: 宋体, Verdana, Arial, Helvetica, sans-serif;\\\"/> &nbsp; &nbsp;[controllerB release];<br style=\\\"line-height: 1.5; font-family: 宋体, Verdana, Arial, Helvetica, sans-serif;\\\"/>}</span></p><p><br/></p><p><br/></p><p>//////////////////</p><p>//切换效果</p><p><span style=\\\"line-height: 24px; font-family: verdana, sans-serif;\\\"></span></p><p style=\\\"font: 11px/normal Menlo; margin: 0px; padding: 0px; color: rgb(71, 129, 134); font-size-adjust: none; font-stretch: normal;\\\">FlashLightInterface<span style=\\\"color: rgb(0, 0, 0);\\\">* frm;</span></p><p style=\\\"font: 11px/normal Menlo; margin: 0px; padding: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\\\"><span style=\\\"color: rgb(0, 0, 0);\\\">frm.</span><span style=\\\"color: rgb(116, 60, 166);\\\">modalTransitionStyle</span><span style=\\\"color: rgb(0, 0, 0);\\\"> = </span>UIModalTransitionStylePartialCurl<span style=\\\"color: rgb(0, 0, 0);\\\">;</span></p><p style=\\\"font: 11px/normal Menlo; margin: 0px; padding: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\\\"><span style=\\\"color: rgb(0, 0, 0);\\\"></span></p><p style=\\\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\\\"><span style=\\\"color: rgb(0, 0, 0);\\\">//frm.</span><span style=\\\"color: rgb(116, 60, 166);\\\">modalPresentationStyle</span><span style=\\\"color: rgb(0, 0, 0);\\\">=</span>UIModalPresentationFormSheet<span style=\\\"color: rgb(0, 0, 0);\\\">;</span></p><p><br/></p><p><br/></p><p>&nbsp;</p><p style=\\\"font: 11px/normal Menlo; margin: 0px; padding: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\\\"><span style=\\\"color: rgb(0, 0, 0);\\\">[</span><span style=\\\"color: rgb(194, 42, 159);\\\">self</span><span style=\\\"color: rgb(0, 0, 0);\\\"> </span>presentModalViewController<span style=\\\"color: rgb(0, 0, 0);\\\">:frm </span>animated<span style=\\\"color: rgb(0, 0, 0);\\\">:</span><span style=\\\"color: rgb(194, 42, 159);\\\">YES</span><span style=\\\"color: rgb(0, 0, 0);\\\">];</span></p><p style=\\\"font: 11px/normal Menlo; margin: 0px; padding: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\\\"><span style=\\\"color: rgb(0, 0, 0);\\\">//返回</span></p><p style=\\\"font: 11px/normal Menlo; margin: 0px; padding: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\\\"><span style=\\\"color: rgb(0, 0, 0);\\\"></span></p><p style=\\\"font: 11px/normal Menlo; margin: 0px; padding: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\\\"><span style=\\\"color: rgb(0, 0, 0);\\\">[</span><span style=\\\"color: rgb(194, 42, 159);\\\">self</span><span style=\\\"color: rgb(0, 0, 0);\\\"> </span>dismissModalViewControllerAnimated<span style=\\\"color: rgb(0, 0, 0);\\\">:</span><span style=\\\"color: rgb(194, 42, 159);\\\">YES</span><span style=\\\"color: rgb(0, 0, 0);\\\">];</span></p><p><br/></p><p><br/></p><p><br/></p><p></p><p></p>','2013-12-11 07:46:44','2014-08-07 11:49:14'),(248,'14.217.213.30',3,'使用UIPopoverController','<p><span style=\\\"color: rgb(70, 70, 70); line-height: 21px; font-family: simsun;\\\"></span></p><p style=\\\"border-width: 0px; margin: 0px 0px 5px; padding: 0px; line-height: 21px; list-style-type: none; word-break: normal; word-wrap: normal;\\\">UIPopoverController是苹果sdk中自带的一个弹出其它视图的Controller,使用方法如下：</p><p style=\\\"border-width: 0px; margin: 0px 0px 5px; padding: 0px; line-height: 21px; list-style-type: none; word-break: normal; word-wrap: normal;\\\">1.定义该Controller</p><p style=\\\"border-width: 0px; margin: 0px 0px 5px; padding: 0px; line-height: 21px; list-style-type: none; word-break: normal; word-wrap: normal;\\\">UIPopoverController *popoverController;</p><p style=\\\"border-width: 0px; margin: 0px 0px 5px; padding: 0px; line-height: 21px; list-style-type: none; word-break: normal; word-wrap: normal;\\\">popoverController=[[UIPopoverController alloc]initWithContentViewContr<wbr/>oller:<span style=\\\"color: rgb(255, 0, 0);\\\">#</span><span style=\\\"line-height: 25px; font-family: SimSun, Tahoma, Helvetica, sans-serif, Hei; border-collapse: collapse;\\\"><span style=\\\"color: rgb(255, 0, 0);\\\">ViewController</span></span><span style=\\\"color: rgb(255, 0, 0);\\\">#</span>];<br/>popoverController.delegate = self;<br/>popoverController.popoverContentSize=CGSizeMake(350, 650);</p><p style=\\\"border-width: 0px; margin: 0px 0px 5px; padding: 0px; line-height: 21px; list-style-type: none; word-break: normal; word-wrap: normal;\\\">2.弹出视图</p><p style=\\\"border-width: 0px; margin: 0px 0px 5px; padding: 0px; line-height: 21px; list-style-type: none; word-break: normal; word-wrap: normal;\\\">&nbsp;</p><p style=\\\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\\\">UIBarButtonItem<span style=\\\"color: rgb(0, 0, 0);\\\"> *righttomItem = [[</span>UIBarButtonItem<span style=\\\"color: rgb(0, 0, 0);\\\"> </span><span style=\\\"color: rgb(63, 28, 126);\\\">alloc</span><span style=\\\"color: rgb(0, 0, 0);\\\">] </span><span style=\\\"color: rgb(63, 28, 126);\\\">initWithCustomView</span><span style=\\\"color: rgb(0, 0, 0);\\\">:btn];//</span><span style=\\\"color: rgb(255, 0, 0); line-height: 21px; font-family: simsun; font-size: 14px;\\\">self.navigationItem.rightBarButtonItem</span></p><p style=\\\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\\\">&nbsp;</p><p style=\\\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\\\">[popoverController <span style=\\\"color: rgb(63, 28, 126);\\\">presentPopoverFromBarButtonItem</span>:righttomItem</p><p style=\\\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\\\"><span style=\\\"color: rgb(0, 0, 0);\\\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>permittedArrowDirections<span style=\\\"color: rgb(0, 0, 0);\\\">:</span>UIPopoverArrowDirectionRight<span style=\\\"color: rgb(0, 0, 0);\\\"> </span>animated<span style=\\\"color: rgb(0, 0, 0);\\\">:</span><span style=\\\"color: rgb(194, 42, 159);\\\">YES</span><span style=\\\"color: rgb(0, 0, 0);\\\">]; </span></p><p style=\\\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\\\">&nbsp;</p><p style=\\\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\\\">[righttomItem <span style=\\\"color: rgb(63, 28, 126);\\\">release</span>];</p><p>&nbsp;</p><p style=\\\"border-width: 0px; margin: 0px 0px 5px; padding: 0px; line-height: 21px; list-style-type: none; word-break: normal; word-wrap: normal;\\\">3.实现UIPopoverControllerDeleg<wbr/>ate，接收视图关闭事件。</p><p style=\\\"border-width: 0px; margin: 0px 0px 5px; padding: 0px; line-height: 21px; list-style-type: none; word-break: normal; word-wrap: normal;\\\">- (void)popoverControllerDidDism<wbr/>issPopover:(UIPopoverController *)popoverController<br/>{</p><p style=\\\"border-width: 0px; margin: 0px 0px 5px; padding: 0px; line-height: 21px; list-style-type: none; word-break: normal; word-wrap: normal;\\\"><wbr/><wbr/><wbr/><wbr/>// add your code here</p><p style=\\\"border-width: 0px; margin: 0px 0px 5px; padding: 0px; line-height: 21px; list-style-type: none; word-break: normal; word-wrap: normal;\\\">}</p><p></p>','2013-12-11 08:07:43','2014-08-07 11:49:46'),(249,'114.247.232.56',3,'UISearchBar','<p style=\"margin: 0px 0px 10px; padding: 0px; text-decoration: none;\">UISearchBar是个很不错的东东，集成了搜索输入框和搜索按钮，使用起来也灰常方便。</p><pre style=\"margin: 0px 0px 10px; padding: 2px 2px 2px 6px; color: rgb(122, 90, 66); font-family: Verdana, Geneva, sans-serif; text-decoration: none; border-left-color: rgb(239, 117, 57); border-left-width: 5px; border-left-style: solid; white-space: pre-wrap; word-wrap: break-word; background-color: rgb(255, 255, 236);\"><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">void</span>)searchBarTextDidBeginEditing:(<span style=\"color: rgb(116, 60, 166);\">UISearchBar</span> *)searchBar</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;[searchBar </span>setShowsCancelButton<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">YES</span><span style=\"color: rgb(0, 0, 0);\"> </span>animated<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">YES</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">void</span>)searchBarTextDidEndEditing:(<span style=\"color: rgb(116, 60, 166);\">UISearchBar</span> *)searchBar</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;[searchBar </span>setShowsCancelButton<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">NO</span><span style=\"color: rgb(0, 0, 0);\"> </span>animated<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">YES</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p></pre><pre style=\"margin: 0px 0px 10px; padding: 2px 2px 2px 6px; color: rgb(122, 90, 66); font-family: Verdana, Geneva, sans-serif; text-decoration: none; border-left-color: rgb(239, 117, 57); border-left-width: 5px; border-left-style: solid; white-space: pre-wrap; word-wrap: break-word; background-color: rgb(255, 255, 236);\">/*搜索按钮*/\r\n-&nbsp;(void)searchBarCancelButtonClicked:(UISearchBar&nbsp;*)searchBar{\r\n	[self&nbsp;doSearch:searchBar];\r\n}\r\n\r\n/*键盘搜索按钮*/\r\n-&nbsp;(void)searchBarSearchButtonClicked:(UISearchBar&nbsp;*)searchBar{\r\n	[searchBar&nbsp;resignFirstResponder];\r\n	[self&nbsp;doSearch:searchBar];\r\n}\r\n\r\n/*搜索*/\r\n-&nbsp;(void)doSearch:(UISearchBar&nbsp;*)searchBar{\r\n	NSString&nbsp;*email&nbsp;=&nbsp;searchBar.text;\r\n	...\r\n}</pre><p style=\"margin: 0px 0px 10px; padding: 0px; text-decoration: none;\">UISearchBar上按钮的默认文字为Cancel，如果想改为其他文字请调用一下代码：</p><pre style=\"margin: 0px 0px 10px; padding: 2px 2px 2px 6px; color: rgb(122, 90, 66); font-family: Verdana, Geneva, sans-serif; text-decoration: none; border-left-color: rgb(239, 117, 57); border-left-width: 5px; border-left-style: solid; white-space: pre-wrap; word-wrap: break-word; background-color: rgb(255, 255, 236);\">for(id&nbsp;cc&nbsp;in&nbsp;[searchtext&nbsp;subviews]){\r\n&nbsp;&nbsp;&nbsp;if([cc&nbsp;isKindOfClass:[UIButton&nbsp;class]]){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UIButton&nbsp;*btn&nbsp;=&nbsp;(UIButton&nbsp;*)cc;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[btn&nbsp;setTitle:@&quot;Search&quot;&nbsp;&nbsp;forState:UIControlStateNormal];\r\n&nbsp;&nbsp;&nbsp;}\r\n}</pre><p></p>','2013-12-11 08:09:09','2013-12-11 16:09:09'),(252,'114.247.232.56',3,'NSString 显示中文 gb2312','<p><span style=\"font-family: Tahoma, Verdana; font-size: 18px;\">NSStringEncoding enc = CFStringConvertEncodingToNSStringEncoding (kCFStringEncodingGB_18030_2000);<br/><br/>NSLog (@&quot;nstr: %@&quot;, [NSString stringWithCString:&quot;你好，苹果！&quot; encoding: enc]);</span></p>','2013-12-11 08:11:38','2013-12-11 16:11:38'),(253,'114.247.232.56',3,'删除目录和文件','<p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\">[[</span><span style=\"color: rgb(112, 61, 170);\">NSFileManager</span><span style=\"color: rgb(0, 0, 0);\"> </span>defaultManager<span style=\"color: rgb(0, 0, 0);\">]</span>removeItemAtPath<span style=\"color: rgb(0, 0, 0);\">:[</span><span style=\"color: rgb(112, 61, 170);\">NSString</span><span style=\"color: rgb(0, 0, 0);\"> </span>stringWithUTF8String<span style=\"color: rgb(0, 0, 0);\">:szbuf] </span>error<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(186, 45, 162);\">nil</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p></p>','2013-12-11 08:11:57','2013-12-11 16:11:57'),(254,'192.168.3.1',3,'所有目录,相对路径,文档目录,document','<p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">//document目录</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">-(NSString*) documentPath:(NSString*)str</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">	NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">	NSString *documentsDir = [paths objectAtIndex:0];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">	if (nil!=str) {</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">return [documentsDir <span style=\"color: rgb(63, 28, 126);\">stringByAppendingPathComponent</span>:str];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">	}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">	return documentsDir;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p>&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p>------------------------------<span style=\"font-size: 11px;\">-----------------------</span></p><p>获取资源相对路径<br/>NSString *path = [[NSBundle mainBundle] pathForResource:@&quot;Axlm&quot; ofType:@&quot;png&quot;];</p><p><br/></p><p>程序目录</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">*sAppPath=[[</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSBundle</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>mainBundle<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">] </span>bundlePath<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p>&nbsp;</p><p>------------------------------<span style=\"font-size: 11px;\">-----------------------</span></p><p>//这是隐藏文件夹,就算在info.plist文件里启用了ITUNES的文件共享功能也不会暴露出来,用来存放非共享的隐藏文件.则document目录用来存放其它可以共享的文件</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">//临时文件目录</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[NSString stringWithFormat:@&quot;%@/myFolder&quot;, NSTemporaryDirectory()]</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"font-size: 11px;\"><br/></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"font-size: 11px;\">-----------------------</span>----------------------</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"font-size: 11px;\">//document目录的上一级目录</span></p><p><span style=\"font-size: 11px;\">[</span><span style=\"font-size: 11px;\">NSString</span><span style=\"font-size: 11px;\"> </span><span style=\"font-size: 11px;\">stringWithFormat</span><span style=\"font-size: 11px;\">:</span><span style=\"font-size: 11px;\">@&quot;%@/myFolder&quot;</span><span style=\"font-size: 11px;\">, </span><span style=\"font-size: 11px;\">NSHomeDirectory</span><span style=\"font-size: 11px;\">()]</span></p><p><br/></p>','2013-12-11 08:12:43','2015-06-07 00:46:33'),(255,'114.247.232.56',3,'Reachability网络区分','<table cellspacing=\"0\" cellpadding=\"5\" width=\"100%\" align=\"center\"><tbody><tr><td height=\"520\" valign=\"top\"><p>加入SystemConfiguration.framework<br/></p><p>&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">//////////////////////// &nbsp;使用函数 &nbsp;///////////////////////////////</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">void</span>) networkConfigure :(<span style=\"color: rgb(71, 129, 134);\">Reachability</span>*) curReach :(<span style=\"color: rgb(194, 42, 159);\">int</span>)income</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(71, 129, 134);\">NetworkStatus</span> netStatus = [curReach <span style=\"color: rgb(43, 89, 93);\">currentReachabilityStatus</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">BOOL</span> connectionRequired= [curReach <span style=\"color: rgb(43, 89, 93);\">connectionRequired</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(0, 132, 25);\">//NSLog(@&quot;curReach=%p netStatus=%d income=%d&quot;,curReach,netStatus,income);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 132, 25);\"><br/></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">switch</span> (netStatus)</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(43, 89, 93); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(194, 42, 159);\">case</span><span style=\"color: rgb(0, 0, 0);\"> </span>NotReachable<span style=\"color: rgb(0, 0, 0);\">:</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 132, 25);\">//</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">网络不可用</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">connectionRequired= <span style=\"color: rgb(194, 42, 159);\">NO</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span> &nbsp; &nbsp;<span style=\"color: rgb(218, 46, 36);\"><span style=\"color: rgb(63, 28, 126);\">NSLog</span><span style=\"color: rgb(0, 0, 0);\">(</span>@&quot;<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">网络不可用</span>&quot;<span style=\"color: rgb(0, 0, 0);\">);</span></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">break</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(43, 89, 93); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(194, 42, 159);\">case</span><span style=\"color: rgb(0, 0, 0);\"> </span>ReachableViaWiFi<span style=\"color: rgb(0, 0, 0);\">:</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 132, 25);\">//WIFI</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">网络</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">NSLog</span>(<span style=\"color: rgb(218, 46, 36);\">@&quot;使用WIFI<span style=\"font-family: &quot;Heiti SC Light&quot;;\">网络</span></span><span style=\"color: rgb(218, 46, 36);\">&quot;</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">break</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(43, 89, 93); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(194, 42, 159);\">case</span><span style=\"color: rgb(0, 0, 0);\"> </span>ReachableViaWWAN<span style=\"color: rgb(0, 0, 0);\">:</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>//Reachable WWAN<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">蜂窝网络</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">NSLog</span>(<span style=\"color: rgb(218, 46, 36);\">@&quot;使用WWAN</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\">蜂窝网络</span><span style=\"color: rgb(218, 46, 36);\">&quot;</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">break</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">if</span>(connectionRequired)</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span>//<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">正常接入互联网</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">NSLog</span>(<span style=\"color: rgb(218, 46, 36);\">@&quot;</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\">正常接入网络</span><span style=\"color: rgb(218, 46, 36);\">&quot;</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal &quot;Heiti SC Light&quot;; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">//</span>当前网络状态改变后</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">//Called by Reachability whenever status changes.</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">void</span>) reachabilityChanged: (<span style=\"color: rgb(116, 60, 166);\">NSNotification</span>* )note</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">&nbsp;&nbsp;&nbsp; </span><span style=\"color: rgb(71, 129, 134);\">Reachability</span>* curReach = [note <span style=\"color: rgb(63, 28, 126);\">object</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[<span style=\"color: rgb(194, 42, 159);\">self</span> <span style=\"color: rgb(43, 89, 93);\">networkConfigure</span>:curReach :<span style=\"color: rgb(37, 38, 211);\">2</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">id</span>)init</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;if((self==[</span><span style=\"color: rgb(194, 42, 159);\">super</span><span style=\"color: rgb(0, 0, 0);\"> </span>init<span style=\"color: rgb(0, 0, 0);\">])</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal &quot;Heiti SC Light&quot;; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 11px/normal Menlo; color: rgb(0, 0, 0); font-size-adjust: none; font-stretch: normal;\"> &nbsp; &nbsp;</span><span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">//</span>当前网络状态改变的事件</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>// Observe the kNetworkReachabilityChangedNotification. When that notification is posted, the</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>// method &quot;reachabilityChanged&quot; will be called.</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[[<span style=\"color: rgb(116, 60, 166);\">NSNotificationCenter</span> <span style=\"color: rgb(63, 28, 126);\">defaultCenter</span>] <span style=\"color: rgb(63, 28, 126);\">addObserver</span>: <span style=\"color: rgb(194, 42, 159);\">self</span> <span style=\"color: rgb(63, 28, 126);\">selector</span>: <span style=\"color: rgb(194, 42, 159);\">@selector</span>(reachabilityChanged:) <span style=\"color: rgb(63, 28, 126);\">name</span>: <span style=\"color: rgb(124, 73, 46);\">kReachabilityChangedNotification</span> <span style=\"color: rgb(63, 28, 126);\">object</span>: <span style=\"color: rgb(194, 42, 159);\">nil</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal &quot;Heiti SC Light&quot;; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 11px/normal Menlo; color: rgb(0, 0, 0); font-size-adjust: none; font-stretch: normal;\"> &nbsp; &nbsp;</span><span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">//</span>通过服务器判断网络是否正常</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>//netStatus<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">值</span>,<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">启用蜂窝网络时值为</span>2,<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">启用</span>WIFI<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">为</span>1,<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">什么网络都没有为</span>0</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">&nbsp;&nbsp;&nbsp; </span><span style=\"color: rgb(0, 132, 25);\">//m_hostReach = [[Reachability reachabilityWithHostName: @&quot;www.apple.com&quot;] retain];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">&nbsp;&nbsp;&nbsp; </span><span style=\"color: rgb(0, 132, 25);\">//[</span><span style=\"color: rgb(0, 132, 25);\">m_</span><span style=\"color: rgb(0, 132, 25);\">hostReach startNotifier];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>//[self networkConfigure: m_hostReach :1];</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>//<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">判断是否正在使用</span>WIFI<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">连接</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>//netStatus<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">值</span>,<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">启用蜂窝网络时值为</span>0,<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">启用</span>WIFI<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">时为</span>1,<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">什么网络都没有为</span>0</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>//m_wifiReach = [[Reachability reachabilityForLocalWiFi] retain];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">&nbsp;&nbsp;&nbsp; </span><span style=\"color: rgb(0, 132, 25);\">//[</span><span style=\"color: rgb(0, 132, 25);\">m_</span><span style=\"color: rgb(0, 132, 25);\">wifiReach startNotifier];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">&nbsp;&nbsp;&nbsp; </span><span style=\"color: rgb(0, 132, 25);\">//[self networkConfigure: </span><span style=\"color: rgb(0, 132, 25);\">m_</span><span style=\"color: rgb(0, 132, 25);\">wifiReach :1]; </span></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal &quot;Heiti SC Light&quot;; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 11px/normal Menlo; color: rgb(0, 0, 0); font-size-adjust: none; font-stretch: normal;\"> &nbsp; &nbsp;</span><span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">//</span>判断是否已经接入某个网络</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>//netStatus<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">值</span>,<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">启用蜂窝网络时值为</span>2,<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">启用</span>WIFI<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">为</span>1,<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">什么网络都没有为</span>0</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(43, 89, 93); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(0, 132, 25);\">m_</span><span style=\"color: rgb(71, 129, 134);\">internetReach</span><span style=\"color: rgb(0, 0, 0);\"> = [[</span><span style=\"color: rgb(71, 129, 134);\">Reachability</span><span style=\"color: rgb(0, 0, 0);\"> </span>reachabilityForInternetConnection<span style=\"color: rgb(0, 0, 0);\">] </span><span style=\"color: rgb(63, 28, 126);\">retain</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(71, 129, 134); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span>[</span><span style=\"color: rgb(0, 132, 25);\">m_</span>internetReach<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(43, 89, 93);\">startNotifier</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(43, 89, 93); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span>[</span><span style=\"color: rgb(194, 42, 159);\">self</span><span style=\"color: rgb(0, 0, 0);\"> </span>networkConfigure<span style=\"color: rgb(0, 0, 0);\">: </span><span style=\"color: rgb(0, 132, 25);\">m_</span><span style=\"color: rgb(71, 129, 134);\">internetReach</span><span style=\"color: rgb(0, 0, 0);\"> :</span><span style=\"color: rgb(37, 38, 211);\">1</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(43, 89, 93); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;}</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(43, 89, 93); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;return self;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">-(void)dealloc</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[super dealloc];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">//[<span style=\"color: rgb(0, 132, 25);\">m_hostReach release];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 132, 25);\"> &nbsp; //</span><span style=\"color: rgb(0, 132, 25);\">m_hostReach=nil;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 132, 25);\"> &nbsp; //[</span><span style=\"color: rgb(0, 132, 25);\">m_</span><span style=\"color: rgb(0, 132, 25);\">wifiReach release];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 132, 25);\"> &nbsp; //</span><span style=\"color: rgb(0, 132, 25);\">m_</span><span style=\"font-family: Menlo; font-size: 11px;\"><span style=\"color: rgb(0, 132, 25);\">wifiReach=nil;</span></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[m_<span style=\"color: rgb(71, 129, 134);\">internetReach release];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(71, 129, 134);\"> &nbsp; </span>m_<span style=\"font-family: Menlo; font-size: 11px;\"><span style=\"color: rgb(71, 129, 134);\">internetReach=nil;</span></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p>&nbsp;</p><p><span style=\"color: rgb(255, 0, 0);\">///////////////////////////////// &nbsp;Reachability.h &nbsp; ////////////////////////////////</span></p><p>#import &lt;Foundation/Foundation.h&gt;</p><p>#import &lt;SystemConfiguration/SystemConfiguration.h&gt;</p><p>&nbsp;</p><p>typedef enum {</p><p>NotReachable = 0,</p><p>ReachableViaWiFi,</p><p>ReachableViaWWAN</p><p>} NetworkStatus;</p><p>#define kReachabilityChangedNotification @&quot;kNetworkReachabilityChangedNotification&quot;</p><p>&nbsp;</p><p>@interface Reachability: NSObject</p><p>{</p><p>BOOL localWiFiRef;</p><p>SCNetworkReachabilityRef reachabilityRef;</p><p>}</p><p>&nbsp;</p><p>//reachabilityWithHostName- Use to check the reachability of a particular host name.</p><p>+ (Reachability*) reachabilityWithHostName: (NSString*) hostName;</p><p>&nbsp;</p><p>//reachabilityWithAddress- Use to check the reachability of a particular IP address.</p><p>+ (Reachability*) reachabilityWithAddress: (const struct sockaddr_in*) hostAddress;</p><p>&nbsp;</p><p>//reachabilityForInternetConnection- checks whether the default route is available.</p><p>// &nbsp;Should be used by applications that do not connect to a particular host</p><p>+ (Reachability*) reachabilityForInternetConnection;</p><p>&nbsp;</p><p>//reachabilityForLocalWiFi- checks whether a local wifi connection is available.</p><p>+ (Reachability*) reachabilityForLocalWiFi;</p><p>&nbsp;</p><p>//Start listening for reachability notifications on the current run loop</p><p>- (BOOL) startNotifier;</p><p>- (void) stopNotifier;</p><p>&nbsp;</p><p>- (NetworkStatus) currentReachabilityStatus;</p><p>//WWAN may be available, but not active until a connection has been established.</p><p>//WiFi may require a connection for VPN on Demand.</p><p>- (BOOL) connectionRequired;</p><p>@end</p><p>&nbsp;</p><p><span style=\"color: rgb(255, 0, 0);\">/////////////////////////////// &nbsp; Reachability.m &nbsp; /////////////////////////////////////</span></p><p>#import &lt;sys/socket.h&gt;</p><p>#import &lt;netinet/in.h&gt;</p><p>#import &lt;netinet6/in6.h&gt;</p><p>#import &lt;arpa/inet.h&gt;</p><p>#import &lt;ifaddrs.h&gt;</p><p>#import &lt;netdb.h&gt;</p><p>&nbsp;</p><p>#import &lt;CoreFoundation/CoreFoundation.h&gt;</p><p>&nbsp;</p><p>#import &quot;Reachability.h&quot;</p><p>&nbsp;</p><p>#define kShouldPrintReachabilityFlags 1</p><p>&nbsp;</p><p>static void PrintReachabilityFlags(SCNetworkReachabilityFlags &nbsp; &nbsp;flags, const char* comment)</p><p>{</p><p>#if kShouldPrintReachabilityFlags</p><p>/*NSLog(@&quot;Reachability Flag Status: %c%c %c%c%c%c%c%c%c %s\\n&quot;,</p><p>(flags &amp; kSCNetworkReachabilityFlagsIsWWAN) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ? &#39;W&#39; : &#39;-&#39;,</p><p>(flags &amp; kSCNetworkReachabilityFlagsReachable) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;? &#39;R&#39; : &#39;-&#39;,</p><p>(flags &amp; kSCNetworkReachabilityFlagsTransientConnection) &nbsp;? &#39;t&#39; : &#39;-&#39;,</p><p>(flags &amp; kSCNetworkReachabilityFlagsConnectionRequired) &nbsp; ? &#39;c&#39; : &#39;-&#39;,</p><p>(flags &amp; kSCNetworkReachabilityFlagsConnectionOnTraffic) &nbsp;? &#39;C&#39; : &#39;-&#39;,</p><p>(flags &amp; kSCNetworkReachabilityFlagsInterventionRequired) ? &#39;i&#39; : &#39;-&#39;,</p><p>(flags &amp; kSCNetworkReachabilityFlagsConnectionOnDemand) &nbsp; ? &#39;D&#39; : &#39;-&#39;,</p><p>(flags &amp; kSCNetworkReachabilityFlagsIsLocalAddress) &nbsp; &nbsp; &nbsp; ? &#39;l&#39; : &#39;-&#39;,</p><p>(flags &amp; kSCNetworkReachabilityFlagsIsDirect) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ? &#39;d&#39; : &#39;-&#39;,</p><p>comment</p><p>);*/</p><p>#endif</p><p>}</p><p>&nbsp;</p><p>@implementation Reachability</p><p>static void ReachabilityCallback(SCNetworkReachabilityRef target, SCNetworkReachabilityFlags flags, void* info)</p><p>{</p><p>#pragma unused (target, flags)</p><p>NSCAssert(info != NULL, @&quot;info was NULL in ReachabilityCallback&quot;);</p><p>NSCAssert([(NSObject*) info isKindOfClass: [Reachability class]], @&quot;info was wrong class in ReachabilityCallback&quot;);</p><p>//We&#39;re on the main RunLoop, so an NSAutoreleasePool is not necessary, but is added defensively</p><p>// in case someon uses the Reachablity object in a different thread.</p><p>NSAutoreleasePool* myPool = [[NSAutoreleasePool alloc] init];</p><p>Reachability* noteObject = (Reachability*) info;</p><p>// Post a notification to notify the client that the network reachability changed.</p><p>[[NSNotificationCenter defaultCenter] postNotificationName: kReachabilityChangedNotification object: noteObject];</p><p>[myPool release];</p><p>}</p><p>&nbsp;</p><p>- (BOOL) startNotifier</p><p>{</p><p>BOOL retVal = NO;</p><p>SCNetworkReachabilityContext &nbsp; &nbsp;context = {0, self, NULL, NULL, NULL};</p><p>if(SCNetworkReachabilitySetCallback(reachabilityRef, ReachabilityCallback, &amp;context))</p><p>{</p><p>if(SCNetworkReachabilityScheduleWithRunLoop(reachabilityRef, CFRunLoopGetCurrent(), kCFRunLoopDefaultMode))</p><p>{</p><p>retVal = YES;</p><p>}</p><p>}</p><p>return retVal;</p><p>}</p><p>&nbsp;</p><p>- (void) stopNotifier</p><p>{</p><p>if(reachabilityRef!= NULL)</p><p>{</p><p>SCNetworkReachabilityUnscheduleFromRunLoop(reachabilityRef, CFRunLoopGetCurrent(), kCFRunLoopDefaultMode);</p><p>}</p><p>}</p><p>&nbsp;</p><p>- (void) dealloc</p><p>{</p><p>[self stopNotifier];</p><p>if(reachabilityRef!= NULL)</p><p>{</p><p>CFRelease(reachabilityRef);</p><p>}</p><p>[super dealloc];</p><p>}</p><p>&nbsp;</p><p>+ (Reachability*) reachabilityWithHostName: (NSString*) hostName;</p><p>{</p><p>Reachability* retVal = NULL;</p><p>SCNetworkReachabilityRef reachability = SCNetworkReachabilityCreateWithName(NULL, [hostName UTF8String]);</p><p>if(reachability!= NULL)</p><p>{</p><p>retVal= [[[self alloc] init] autorelease];</p><p>if(retVal!= NULL)</p><p>{</p><p>retVal-&gt;reachabilityRef = reachability;</p><p>retVal-&gt;localWiFiRef = NO;</p><p>}</p><p>}</p><p>return retVal;</p><p>}</p><p>&nbsp;</p><p>+ (Reachability*) reachabilityWithAddress: (const struct sockaddr_in*) hostAddress;</p><p>{</p><p>SCNetworkReachabilityRef reachability = SCNetworkReachabilityCreateWithAddress(kCFAllocatorDefault, (const struct sockaddr*)hostAddress);</p><p>Reachability* retVal = NULL;</p><p>if(reachability!= NULL)</p><p>{</p><p>retVal= [[[self alloc] init] autorelease];</p><p>if(retVal!= NULL)</p><p>{</p><p>retVal-&gt;reachabilityRef = reachability;</p><p>retVal-&gt;localWiFiRef = NO;</p><p>}</p><p>}</p><p>return retVal;</p><p>}</p><p>&nbsp;</p><p>+ (Reachability*) reachabilityForInternetConnection;</p><p>{</p><p>struct sockaddr_in zeroAddress;</p><p>bzero(&amp;zeroAddress, sizeof(zeroAddress));</p><p>zeroAddress.sin_len = sizeof(zeroAddress);</p><p>zeroAddress.sin_family = AF_INET;</p><p>return [self reachabilityWithAddress: &amp;zeroAddress];</p><p>}</p><p>&nbsp;</p><p>+ (Reachability*) reachabilityForLocalWiFi;</p><p>{</p><p>struct sockaddr_in localWifiAddress;</p><p>bzero(&amp;localWifiAddress, sizeof(localWifiAddress));</p><p>localWifiAddress.sin_len = sizeof(localWifiAddress);</p><p>localWifiAddress.sin_family = AF_INET;</p><p>// IN_LINKLOCALNETNUM is defined in &lt;netinet/in.h&gt; as 169.254.0.0</p><p>localWifiAddress.sin_addr.s_addr = htonl(IN_LINKLOCALNETNUM);</p><p>Reachability* retVal = [self reachabilityWithAddress: &amp;localWifiAddress];</p><p>if(retVal!= NULL)</p><p>{</p><p>retVal-&gt;localWiFiRef = YES;</p><p>}</p><p>return retVal;</p><p>}</p><p>&nbsp;</p><p>#pragma mark Network Flag Handling</p><p>&nbsp;</p><p>- (NetworkStatus) localWiFiStatusForFlags: (SCNetworkReachabilityFlags) flags</p><p>{</p><p>PrintReachabilityFlags(flags, &quot;localWiFiStatusForFlags&quot;);</p><p>BOOL retVal = NotReachable;</p><p>if((flags &amp; kSCNetworkReachabilityFlagsReachable) &amp;&amp; (flags &amp; kSCNetworkReachabilityFlagsIsDirect))</p><p>{</p><p>retVal = ReachableViaWiFi;</p><p>}</p><p>return retVal;</p><p>}</p><p>&nbsp;</p><p>- (NetworkStatus) networkStatusForFlags: (SCNetworkReachabilityFlags) flags</p><p>{</p><p>PrintReachabilityFlags(flags, &quot;networkStatusForFlags&quot;);</p><p>if ((flags &amp; kSCNetworkReachabilityFlagsReachable) == 0)</p><p>{</p><p>// if target host is not reachable</p><p>return NotReachable;</p><p>}</p><p>BOOL retVal = NotReachable;</p><p>if ((flags &amp; kSCNetworkReachabilityFlagsConnectionRequired) == 0)</p><p>{</p><p>// if target host is reachable and no connection is required</p><p>// &nbsp;then we&#39;ll assume (for now) that your on Wi-Fi</p><p>retVal = ReachableViaWiFi;</p><p>}</p><p>if ((((flags &amp; kSCNetworkReachabilityFlagsConnectionOnDemand ) != 0) ||</p><p>(flags &amp; kSCNetworkReachabilityFlagsConnectionOnTraffic) != 0))</p><p>{</p><p>// ... and the connection is on-demand (or on-traffic) if the</p><p>// &nbsp; &nbsp; calling application is using the CFSocketStream or higher APIs</p><p>if ((flags &amp; kSCNetworkReachabilityFlagsInterventionRequired) == 0)</p><p>{</p><p>// ... and no [user] intervention is needed</p><p>retVal = ReachableViaWiFi;</p><p>}</p><p>}</p><p>&nbsp;</p><p>if ((flags &amp; kSCNetworkReachabilityFlagsIsWWAN) == kSCNetworkReachabilityFlagsIsWWAN)</p><p>{</p><p>// ... but WWAN connections are OK if the calling application</p><p>// &nbsp; &nbsp; is using the CFNetwork (CFSocketStream?) APIs.</p><p>retVal = ReachableViaWWAN;</p><p>}</p><p>return retVal;</p><p>}</p><p>&nbsp;</p><p>- (BOOL) connectionRequired;</p><p>{</p><p>NSAssert(reachabilityRef != NULL, @&quot;connectionRequired called with NULL reachabilityRef&quot;);</p><p>SCNetworkReachabilityFlags flags;</p><p>if (SCNetworkReachabilityGetFlags(reachabilityRef, &amp;flags))</p><p>{</p><p>return (flags &amp; kSCNetworkReachabilityFlagsConnectionRequired);</p><p>}</p><p>return NO;</p><p>}</p><p>&nbsp;</p><p>- (NetworkStatus) currentReachabilityStatus</p><p>{</p><p>NSAssert(reachabilityRef != NULL, @&quot;currentNetworkStatus called with NULL reachabilityRef&quot;);</p><p>NetworkStatus retVal = NotReachable;</p><p>SCNetworkReachabilityFlags flags;</p><p>if (SCNetworkReachabilityGetFlags(reachabilityRef, &amp;flags))</p><p>{</p><p>if(localWiFiRef)</p><p>{</p><p>retVal = [self localWiFiStatusForFlags: flags];</p><p>}</p><p>else</p><p>{</p><p>retVal = [self networkStatusForFlags: flags];</p><p>}</p><p>}</p><p>return retVal;</p><p>}</p><p>@end</p><p>&nbsp;</p></td></tr></tbody></table><p>&nbsp;</p><p></p>','2013-12-11 08:14:25','2013-12-11 16:14:25'),(256,'114.247.232.56',3,'NSMutableDictionary','<p style=\"font: 11px/normal &quot;Heiti SC Light&quot;; margin: 0px; color: rgb(0, 132, 0); font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">//</span>逻辑数组</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">NSMutableDictionary *proj_rows;</p><p style=\"font: 11px/normal &quot;Heiti SC Light&quot;; margin: 0px; color: rgb(0, 132, 0); font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">//</span>目录的控制服务器信息</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(186, 45, 162);\">typedef</span> <span style=\"color: rgb(186, 45, 162);\">struct</span> _TagConfigInfoTxt {</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span><span style=\"color: rgb(186, 45, 162);\">char</span> proj_name[<span style=\"color: rgb(37, 43, 216);\">128</span>];<span style=\"color: rgb(0, 132, 0);\">//</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(0, 132, 0); font-size-adjust: none; font-stretch: normal;\">即目录名字</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span><span style=\"color: rgb(186, 45, 162);\">char</span> host[<span style=\"color: rgb(37, 43, 216);\">164</span>];<span style=\"color: rgb(0, 132, 0);\">//</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(0, 132, 0); font-size-adjust: none; font-stretch: normal;\">域名或者</span><span style=\"color: rgb(0, 132, 0);\">IP</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 0); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span></span><span style=\"color: rgb(186, 45, 162);\">int</span><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span> port;</span>//<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">控制服务器的端口</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}TagConfigInfoTxt;</p><p>&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><br/></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\">//添加</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"></span></p><p><span style=\"color: rgb(0, 0, 0);\"><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(112, 61, 170); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(79, 129, 135);\">proj_rows</span><span style=\"color: rgb(0, 0, 0);\">=[[</span>NSMutableDictionary<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(61, 30, 129);\">alloc</span><span style=\"color: rgb(0, 0, 0);\">] </span><span style=\"color: rgb(61, 30, 129);\">init</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 128, 0);\">//proj_rows=[NSMutableDictionary &nbsp;dictionary];</span><span style=\"color: rgb(0, 128, 0);\">这句使用完后会自动释放内存无需release</span></p></span></p><p>&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\">[</span><span style=\"color: rgb(79, 129, 135);\">proj_rows</span><span style=\"color: rgb(0, 0, 0);\"> </span>setObject<span style=\"color: rgb(0, 0, 0);\">:[</span><span style=\"color: rgb(112, 61, 170);\">NSData</span><span style=\"color: rgb(0, 0, 0);\"> </span>dataWithBytes<span style=\"color: rgb(0, 0, 0);\">:&amp;info </span>length<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(186, 45, 162);\">sizeof</span><span style=\"color: rgb(0, 0, 0);\">(info)]</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\">forKey<span style=\"color: rgb(0, 0, 0);\">:[</span><span style=\"color: rgb(112, 61, 170);\">NSString</span><span style=\"color: rgb(0, 0, 0);\"> </span>stringWithFormat<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(209, 46, 27);\">@&quot;%d&quot;</span><span style=\"color: rgb(0, 0, 0);\">,[</span><span style=\"color: rgb(79, 129, 135);\">proj_rows</span><span style=\"color: rgb(0, 0, 0);\"> </span>count<span style=\"color: rgb(0, 0, 0);\">]]];</span></p><p>&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(79, 129, 135); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\">[</span>proj_rows<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(61, 30, 129);\">release</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p>&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"><br/></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"><span style=\"white-space: normal;\"><span style=\"color: rgb(0, 132, 0);\">/</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(0, 132, 0); font-size-adjust: none; font-stretch: normal;\">快速枚举</span></span></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(186, 45, 162);\">for</span>(<span style=\"color: rgb(112, 61, 170);\">NSString</span> *key <span style=\"color: rgb(186, 45, 162);\">in</span> <span style=\"color: rgb(79, 129, 135);\">proj_rows</span>)<span style=\"color: rgb(0, 132, 0);\">/</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(112, 61, 170);\">NSData</span><span style=\"color: rgb(0, 0, 0);\">*data=</span><span style=\"color: rgb(0, 0, 0);\">[</span><span style=\"color: rgb(79, 129, 135);\">proj_rows</span><span style=\"color: rgb(0, 0, 0);\"> </span>objectForKey<span style=\"color: rgb(0, 0, 0);\">:key];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(79, 129, 135); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span></span>TagConfigInfoTxt<span style=\"color: rgb(0, 0, 0);\"> *info=(</span>TagConfigInfoTxt<span style=\"color: rgb(0, 0, 0);\">*)[data bytes];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(209, 46, 27); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span></span><span style=\"color: rgb(61, 30, 129);\">NSLog</span><span style=\"color: rgb(0, 0, 0);\">(</span>@&quot;config name=%@ host=%s port=%d&quot;<span style=\"color: rgb(0, 0, 0);\">,[</span><span style=\"color: rgb(112, 61, 170);\">NSString</span><span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(61, 30, 129);\">stringWithUTF8String</span><span style=\"color: rgb(0, 0, 0);\">:info-&gt;proj_name],</span><span style=\"color: rgb(0, 0, 0);\">info-&gt;<span style=\"color: rgb(79, 129, 135);\">host</span>,info-&gt;<span style=\"color: rgb(79, 129, 135);\">port</span>);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">/* <span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">快速枚举</span>2</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">NSMutableDictionary *dict;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">//Create the dictionary.</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">NSArray *keys = [dict allKeys];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">id aKey = [keys objectAtIndex:0];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">id anObject = [dict objectForKey:aKey];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">*/</p><p></p>','2013-12-11 08:14:59','2013-12-11 16:14:59'),(257,'114.247.232.56',3,'获取IMEI,序列号','<p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(112, 61, 170); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(61, 30, 129);\">NSLog</span><span style=\"color: rgb(0, 0, 0);\">(</span><span style=\"color: rgb(209, 46, 27);\">@&quot;</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(209, 46, 27); font-size-adjust: none; font-stretch: normal;\">序列号</span><span style=\"color: rgb(209, 46, 27);\">=%d&quot;</span><span style=\"color: rgb(0, 0, 0);\">,[</span>UIDevice<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(61, 30, 129);\">currentDevice</span><span style=\"color: rgb(0, 0, 0);\">].</span>uniqueIdentifier<span style=\"color: rgb(0, 0, 0);\">);</span></p><p></p>','2013-12-11 08:15:14','2013-12-11 16:15:14'),(258,'114.247.232.56',3,'UIImage缩放，截取','<p><span style=\"color: rgb(120, 73, 42);\"><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(208, 0, 162); line-height: 16px;\">@interface</span> UIImage(UIImageScale)</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\">-(<span style=\"color: rgb(126, 34, 172); line-height: 16px;\">UIImage</span>*)getSubImage:(<span style=\"color: rgb(126, 34, 172); line-height: 16px;\">CGRect</span>)rect;</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\">-(<span style=\"color: rgb(126, 34, 172); line-height: 16px;\">UIImage</span>*)scaleToSize:(<span style=\"color: rgb(126, 34, 172); line-height: 16px;\">CGSize</span>)size;</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; color: rgb(208, 0, 162); font-size-adjust: none; font-stretch: normal;\">@end</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; color: rgb(208, 0, 162); font-size-adjust: none; font-stretch: normal;\"><br style=\"line-height: 16px;\"/></p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; color: rgb(208, 0, 162); font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(208, 0, 162); line-height: 16px;\">@implementation</span> UIImage(UIImageScale)</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; min-height: 14px; font-size-adjust: none; font-stretch: normal;\"><br style=\"line-height: 16px;\"/></p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; min-height: 14px; font-size-adjust: none; font-stretch: normal;\">//截取部分图像</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\">-(<span style=\"color: rgb(126, 34, 172); line-height: 16px;\">UIImage</span>*)getSubImage:(<span style=\"color: rgb(126, 34, 172); line-height: 16px;\">CGRect</span>)rect</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(126, 34, 172); line-height: 16px;\">CGImageRef</span> subImageRef = <span style=\"color: rgb(73, 0, 132); line-height: 16px;\">CGImageCreateWithImageInRect</span>(<span style=\"color: rgb(208, 0, 162); line-height: 16px;\">self</span>.CGImage, rect);</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"line-height: 16px; white-space: pre;\">	</span><span style=\"color: rgb(126, 34, 172); line-height: 16px;\">CGRect</span> smallBounds = <span style=\"color: rgb(73, 0, 132); line-height: 16px;\">CGRectMake</span>(<span style=\"color: rgb(63, 0, 221); line-height: 16px;\">0</span>, <span style=\"color: rgb(63, 0, 221); line-height: 16px;\">0</span>, <span style=\"color: rgb(73, 0, 132); line-height: 16px;\">CGImageGetWidth</span>(subImageRef), <span style=\"color: rgb(73, 0, 132); line-height: 16px;\">CGImageGetHeight</span>(subImageRef));</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; min-height: 14px; font-size-adjust: none; font-stretch: normal;\"><span style=\"line-height: 16px; white-space: pre;\">	</span></p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; color: rgb(73, 0, 132); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0); line-height: 16px;\"> &nbsp; &nbsp;</span>UIGraphicsBeginImageContext<span style=\"color: rgb(0, 0, 0); line-height: 16px;\">(smallBounds.</span><span style=\"color: rgb(126, 34, 172); line-height: 16px;\">size</span><span style=\"color: rgb(0, 0, 0); line-height: 16px;\">);</span></p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; color: rgb(73, 0, 132); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0); line-height: 16px;\"> &nbsp; &nbsp;</span><span style=\"color: rgb(126, 34, 172); line-height: 16px;\">CGContextRef</span><span style=\"color: rgb(0, 0, 0); line-height: 16px;\"> context = </span>UIGraphicsGetCurrentContext<span style=\"color: rgb(0, 0, 0); line-height: 16px;\">();</span></p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(73, 0, 132); line-height: 16px;\">CGContextDrawImage</span>(context, smallBounds, subImageRef);</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(126, 34, 172); line-height: 16px;\">UIImage</span>* smallImage = [<span style=\"color: rgb(126, 34, 172); line-height: 16px;\">UIImage</span> <span style=\"color: rgb(73, 0, 132); line-height: 16px;\">imageWithCGImage</span>:subImageRef];</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; color: rgb(73, 0, 132); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0); line-height: 16px;\"> &nbsp; &nbsp;</span>UIGraphicsEndImageContext<span style=\"color: rgb(0, 0, 0); line-height: 16px;\">();</span></p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; min-height: 14px; font-size-adjust: none; font-stretch: normal;\"><span style=\"line-height: 16px; white-space: pre;\">	</span></p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(208, 0, 162); line-height: 16px;\">return</span> smallImage;</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; min-height: 14px; font-size-adjust: none; font-stretch: normal;\"><br style=\"line-height: 16px;\"/></p><p style=\"font: 10px/normal &quot;Heiti SC Light&quot;; margin: 0px; padding: 0px; color: rgb(0, 139, 0); font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 10px/normal Monaco; font-size-adjust: none; font-stretch: normal;\">//</span>等比例缩放</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\">-(<span style=\"color: rgb(126, 34, 172); line-height: 16px;\">UIImage</span>*)scaleToSize:(<span style=\"color: rgb(126, 34, 172); line-height: 16px;\">CGSize</span>)size</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"line-height: 16px; white-space: pre;\">	</span><span style=\"color: rgb(126, 34, 172); line-height: 16px;\">CGFloat</span> width = <span style=\"color: rgb(73, 0, 132); line-height: 16px;\">CGImageGetWidth</span>(<span style=\"color: rgb(208, 0, 162); line-height: 16px;\">self</span>.CGImage);</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(126, 34, 172); line-height: 16px;\">CGFloat</span> height = <span style=\"color: rgb(73, 0, 132); line-height: 16px;\">CGImageGetHeight</span>(<span style=\"color: rgb(208, 0, 162); line-height: 16px;\">self</span>.CGImage);</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; min-height: 14px; font-size-adjust: none; font-stretch: normal;\"><span style=\"line-height: 16px; white-space: pre;\">	</span></p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"line-height: 16px; white-space: pre;\">	</span><span style=\"color: rgb(208, 0, 162); line-height: 16px;\">float</span> verticalRadio = size.<span style=\"color: rgb(126, 34, 172); line-height: 16px;\">height</span>*<span style=\"color: rgb(63, 0, 221); line-height: 16px;\">1.0</span>/height;</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"line-height: 16px; white-space: pre;\">	</span><span style=\"color: rgb(208, 0, 162); line-height: 16px;\">float</span> horizontalRadio = size.<span style=\"color: rgb(126, 34, 172); line-height: 16px;\">width</span>*<span style=\"color: rgb(63, 0, 221); line-height: 16px;\">1.0</span>/width;</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; min-height: 14px; font-size-adjust: none; font-stretch: normal;\"><span style=\"line-height: 16px; white-space: pre;\">	</span></p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"line-height: 16px; white-space: pre;\">	</span><span style=\"color: rgb(208, 0, 162); line-height: 16px;\">float</span> radio = <span style=\"color: rgb(63, 0, 221); line-height: 16px;\">1</span>;</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"line-height: 16px; white-space: pre;\">	</span><span style=\"color: rgb(208, 0, 162); line-height: 16px;\">if</span>(verticalRadio&gt;<span style=\"color: rgb(63, 0, 221); line-height: 16px;\">1</span> &amp;&amp; horizontalRadio&gt;<span style=\"color: rgb(63, 0, 221); line-height: 16px;\">1</span>)</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"line-height: 16px; white-space: pre;\">	</span>{</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"line-height: 16px; white-space: pre;\">		</span>radio = verticalRadio &gt; horizontalRadio ? horizontalRadio : verticalRadio;<span style=\"line-height: 16px; white-space: pre;\">	</span></p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"line-height: 16px; white-space: pre;\">	</span>}</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; color: rgb(208, 0, 162); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0); line-height: 16px;\"><span style=\"line-height: 16px; white-space: pre;\">	</span></span>else</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"line-height: 16px; white-space: pre;\">	</span>{</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"line-height: 16px; white-space: pre;\">		</span>radio = verticalRadio &lt; horizontalRadio ? verticalRadio : horizontalRadio;<span style=\"line-height: 16px; white-space: pre;\">	</span></p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"line-height: 16px; white-space: pre;\">	</span>}</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; min-height: 14px; font-size-adjust: none; font-stretch: normal;\"><span style=\"line-height: 16px; white-space: pre;\">	</span></p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"line-height: 16px; white-space: pre;\">	</span>width = width*radio;</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"line-height: 16px; white-space: pre;\">	</span>height = height*radio;</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; min-height: 14px; font-size-adjust: none; font-stretch: normal;\"><span style=\"line-height: 16px; white-space: pre;\">	</span></p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"line-height: 16px; white-space: pre;\">	</span><span style=\"color: rgb(208, 0, 162); line-height: 16px;\">int</span> xPos = (size.<span style=\"color: rgb(126, 34, 172); line-height: 16px;\">width</span> - width)/<span style=\"color: rgb(63, 0, 221); line-height: 16px;\">2</span>;</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"line-height: 16px; white-space: pre;\">	</span><span style=\"color: rgb(208, 0, 162); line-height: 16px;\">int</span> yPos = (size.<span style=\"color: rgb(126, 34, 172); line-height: 16px;\">height</span>-height)/<span style=\"color: rgb(63, 0, 221); line-height: 16px;\">2</span>;</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; min-height: 14px; font-size-adjust: none; font-stretch: normal;\"><span style=\"line-height: 16px; white-space: pre;\">	</span></p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; color: rgb(0, 139, 0); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0); line-height: 16px;\"><span style=\"line-height: 16px; white-space: pre;\">	</span></span>// <span style=\"font: 10px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">创建一个</span>bitmap<span style=\"font: 10px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">的</span>context</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; color: rgb(0, 139, 0); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0); line-height: 16px;\"> &nbsp; &nbsp;</span>// <span style=\"font: 10px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">并把它设置成为当前正在使用的</span>context</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; color: rgb(73, 0, 132); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0); line-height: 16px;\"> &nbsp; &nbsp;</span>UIGraphicsBeginImageContext<span style=\"color: rgb(0, 0, 0); line-height: 16px;\">(size); &nbsp;</span></p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; min-height: 14px; font-size-adjust: none; font-stretch: normal;\"><span style=\"line-height: 16px; white-space: pre;\">	</span></p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; color: rgb(0, 139, 0); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0); line-height: 16px;\"> &nbsp; &nbsp;</span>// <span style=\"font: 10px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">绘制改变大小的图片</span> &nbsp;</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\">[<span style=\"color: rgb(208, 0, 162); line-height: 16px;\">self</span> <span style=\"color: rgb(73, 0, 132); line-height: 16px;\">drawInRect</span>:<span style=\"color: rgb(73, 0, 132); line-height: 16px;\">CGRectMake</span>(xPos, yPos, width, height)];</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; min-height: 14px; font-size-adjust: none; font-stretch: normal;\"><span style=\"line-height: 16px; white-space: pre;\">	</span></p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; color: rgb(0, 139, 0); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0); line-height: 16px;\"> &nbsp; &nbsp;</span>// <span style=\"font: 10px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">从当前</span>context<span style=\"font: 10px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">中创建一个改变大小后的图片</span> &nbsp;</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; color: rgb(73, 0, 132); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0); line-height: 16px;\"> &nbsp; &nbsp;</span><span style=\"color: rgb(126, 34, 172); line-height: 16px;\">UIImage</span><span style=\"color: rgb(0, 0, 0); line-height: 16px;\">* scaledImage = </span>UIGraphicsGetImageFromCurrentImageContext<span style=\"color: rgb(0, 0, 0); line-height: 16px;\">(); &nbsp;</span></p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; min-height: 14px; font-size-adjust: none; font-stretch: normal;\"><span style=\"line-height: 16px; white-space: pre;\">	</span></p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; color: rgb(0, 139, 0); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0); line-height: 16px;\"> &nbsp; &nbsp;</span>// <span style=\"font: 10px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">使当前的</span>context<span style=\"font: 10px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">出堆栈</span> &nbsp;</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; color: rgb(73, 0, 132); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0); line-height: 16px;\"> &nbsp; &nbsp;</span>UIGraphicsEndImageContext<span style=\"color: rgb(0, 0, 0); line-height: 16px;\">(); &nbsp;</span></p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; min-height: 14px; font-size-adjust: none; font-stretch: normal;\"><span style=\"line-height: 16px; white-space: pre;\">	</span></p><p style=\"font: 10px/normal &quot;Heiti SC Light&quot;; margin: 0px; padding: 0px; color: rgb(0, 139, 0); font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 10px/normal Monaco; color: rgb(0, 0, 0); font-size-adjust: none; font-stretch: normal;\"> &nbsp; &nbsp;</span><span style=\"font: 10px/normal Monaco; font-size-adjust: none; font-stretch: normal;\">// </span>返回新的改变大小后的图片<span style=\"font: 10px/normal Monaco; font-size-adjust: none; font-stretch: normal;\"> &nbsp;</span></p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(208, 0, 162); line-height: 16px;\">return</span> scaledImage;</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 10px/normal Monaco; margin: 0px; padding: 0px; color: rgb(208, 0, 162); font-size-adjust: none; font-stretch: normal;\">@end</p></span></p>','2013-12-11 08:15:35','2013-12-11 16:15:35'),(259,'114.247.232.56',3,'UIPageCtrl使用','<p>//<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">初始化</span>pageCtrl</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(112, 61, 170); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span></span>UIPageControl<span style=\"color: rgb(0, 0, 0);\">*</span><span style=\"color: rgb(79, 129, 135);\">pageCtrl</span><span style=\"color: rgb(0, 0, 0);\">=[[</span>UIPageControl<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(61, 30, 129);\">alloc</span><span style=\"color: rgb(0, 0, 0);\">]</span><span style=\"color: rgb(61, 30, 129);\">init</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(37, 43, 216); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span></span><span style=\"color: rgb(79, 129, 135);\">pageCtrl</span><span style=\"color: rgb(0, 0, 0);\">.</span><span style=\"color: rgb(112, 61, 170);\">backgroundColor</span><span style=\"color: rgb(0, 0, 0);\"> = [</span><span style=\"color: rgb(112, 61, 170);\">UIColor</span><span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(61, 30, 129);\">colorWithRed</span><span style=\"color: rgb(0, 0, 0);\">:</span>80.0f<span style=\"color: rgb(0, 0, 0);\">/</span>255.0f<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(61, 30, 129);\">green</span><span style=\"color: rgb(0, 0, 0);\">:</span>80.0f<span style=\"color: rgb(0, 0, 0);\">/</span>255.0f<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(61, 30, 129);\">blue</span><span style=\"color: rgb(0, 0, 0);\">:</span>80.0f<span style=\"color: rgb(0, 0, 0);\">/</span>255.0f<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(61, 30, 129);\">alpha</span><span style=\"color: rgb(0, 0, 0);\">:</span>0.5f<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span>[</span><span style=\"color: rgb(79, 129, 135);\">pageCtrl</span><span style=\"color: rgb(0, 0, 0);\"> </span>addTarget<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(186, 45, 162);\">self</span><span style=\"color: rgb(0, 0, 0);\"> </span>action<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(186, 45, 162);\">@selector</span><span style=\"color: rgb(0, 0, 0);\">(</span><span style=\"color: rgb(49, 89, 94);\">pageCtrl_Change</span><span style=\"color: rgb(0, 0, 0);\">:) </span>forControlEvents<span style=\"color: rgb(0, 0, 0);\">:</span>UIControlEventValueChanged<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"></span><p style=\"font: 14px/normal Times; margin: 0px; padding: 0px; color: rgb(79, 129, 135); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(112, 61, 170);\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span>pageCtrl.</span>numberOfPages<span style=\"color: rgb(0, 0, 0);\">=</span><span style=\"color: rgb(37, 43, 216);\">3</span><span style=\"color: rgb(0, 0, 0);\">;</span></span></p><p style=\"font: 14px/normal Times; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span>pageCtrl.<span style=\"color: rgb(112, 61, 170);\">currentPage</span>=<span style=\"color: rgb(37, 43, 216);\">2</span>;</p><p><br/></p><p>&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span>[</span><span style=\"color: rgb(186, 45, 162);\">self</span><span style=\"color: rgb(0, 0, 0);\">.</span><span style=\"color: rgb(112, 61, 170);\">view</span><span style=\"color: rgb(0, 0, 0);\"> </span>addSubview<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(79, 129, 135);\">pageCtrl</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(79, 129, 135); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span>[</span>pageCtrl<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(61, 30, 129);\">release</span><span style=\"color: rgb(0, 0, 0);\">];<span style=\"white-space: pre;\">	</span></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(79, 129, 135); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\"><br/></span></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(79, 129, 135); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\"><br/></span></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 0); font-size-adjust: none; font-stretch: normal;\">//<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">改变</span>pageCtrl</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">-(<span style=\"color: rgb(186, 45, 162);\">void</span>)pageCtrl_Change:(<span style=\"color: rgb(186, 45, 162);\">id</span>)sender</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(209, 46, 27); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span></span><span style=\"color: rgb(61, 30, 129);\">NSLog</span><span style=\"color: rgb(0, 0, 0);\">(</span>@&quot;pageCtrl)Change currentPage=%d&quot;<span style=\"color: rgb(0, 0, 0);\">,pageCtrl.</span><span style=\"color: rgb(112, 61, 170);\">currentPage</span><span style=\"color: rgb(0, 0, 0);\">);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p></p><p></p><p></p><p></p><p></p></p></p>','2013-12-11 08:15:55','2013-12-11 16:15:55'),(260,'114.247.232.56',3,'屏幕截图','<p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\">(对UIView截图)</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(255, 0, 0);\">#import &lt;QuartzCore/QuartzCore.h&gt; &nbsp; </span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(255, 0, 0);\">add QuartzCore.framework to your project.</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(255, 0, 0);\"><br/></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(255, 0, 0);\"></span></p><p style=\"font: 11px/normal &quot;Heiti SC Light&quot;; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 128, 0);\"><span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">//在程序运行时</span>随便初始化一次这个函数<span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">.</span>以防止在程序运行时第一次截图保存时会卡几秒</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 128, 0);\">//UIImageWriteToSavedPhotosAlbum(nil, nil, nil, nil);</span></p><p>&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\">UIGraphicsBeginImageContext<span style=\"color: rgb(0, 0, 0);\">(</span>CGSizeMake<span style=\"color: rgb(0, 0, 0);\">(</span><span style=\"color: rgb(37, 43, 216);\">100</span><span style=\"color: rgb(0, 0, 0);\">,</span><span style=\"color: rgb(37, 43, 216);\">100</span><span style=\"color: rgb(0, 0, 0);\">)); </span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\">[self.view</span><span style=\"color: rgb(0, 0, 0);\">.</span><span style=\"color: rgb(112, 61, 170);\">layer</span><span style=\"color: rgb(0, 0, 0);\"> </span>renderInContext<span style=\"color: rgb(0, 0, 0);\">:</span>UIGraphicsGetCurrentContext<span style=\"color: rgb(0, 0, 0);\">()];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(112, 61, 170);\">UIImage</span><span style=\"color: rgb(0, 0, 0);\"> *viewImage = </span>UIGraphicsGetImageFromCurrentImageContext<span style=\"color: rgb(0, 0, 0);\">();</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\">UIGraphicsEndImageContext<span style=\"color: rgb(0, 0, 0);\">();</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\">//保存到相册</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\">UIImageWriteToSavedPhotosAlbum<span style=\"color: rgb(0, 0, 0);\">(viewImage<span style=\"color: rgb(63, 28, 126);\"><span style=\"color: rgb(0, 0, 0);\">, </span><span style=\"color: rgb(194, 42, 159);\">nil</span><span style=\"color: rgb(0, 0, 0);\">, </span><span style=\"color: rgb(194, 42, 159);\">nil</span><span style=\"color: rgb(0, 0, 0);\">, </span><span style=\"color: rgb(194, 42, 159);\">nil</span><span style=\"color: rgb(0, 0, 0);\">);</span></span></span></p><p>&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><br/></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"color: rgb(51, 51, 51); line-height: 20px; font-family: Arial; font-size: 14px; -webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px;\">(上面方法经过证明，只能对UIView之上的控键有效，对UIImagePicker照相的图像无效)</span></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"color: rgb(51, 51, 51); line-height: 20px; font-family: Arial; font-size: 14px; -webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px;\"><br/></span></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"color: rgb(51, 51, 51); line-height: 20px; font-family: Arial; font-size: 14px; -webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px;\">----------------------------------------------------------------------------------------------------------------</span></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 4px;\"><span style=\"line-height: 20px; font-size: 14px; -webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px;\">下面通用，</span></span><span style=\"color: rgb(68, 68, 68); line-height: 21px; font-family: Tahoma, &quot;Microsoft Yahei&quot;, Simsun; font-size: 14px; border-collapse: collapse;\">UIGetScreenImage()</span><span style=\"color: rgb(68, 68, 68); line-height: 21px; font-family: Tahoma, &quot;Microsoft Yahei&quot;, Simsun; font-size: 14px; border-collapse: collapse;\">这个在iOS 4上可以正常使用,但是其它的会被当成private api而被拒绝</span></p><p><span style=\"color: rgb(68, 68, 68); font-family: Tahoma, &quot;Microsoft Yahei&quot;, Simsun;\"><span style=\"line-height: 21px; border-collapse: collapse;\"><br/></span></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"color: rgb(51, 51, 51); line-height: 20px; font-family: Arial; font-size: 14px; -webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px;\"></span></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">CGImageRef UIGetScreenImage(<span style=\"color: rgb(186, 45, 162);\">void</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(186, 45, 162);\">void</span> SaveScreenImage(<span style=\"color: rgb(112, 61, 170);\">NSString</span> *path)</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(112, 61, 170); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>NSAutoreleasePool<span style=\"color: rgb(0, 0, 0);\"> *pool = [[</span>NSAutoreleasePool<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(61, 30, 129);\">alloc</span><span style=\"color: rgb(0, 0, 0);\">] </span><span style=\"color: rgb(61, 30, 129);\">init</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(112, 61, 170);\">CGImageRef</span> cgImage = <span style=\"color: rgb(49, 89, 94);\">UIGetScreenImage</span>();</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span><span style=\"color: rgb(186, 45, 162);\">void</span> *imageBytes = <span style=\"color: rgb(186, 45, 162);\">NULL</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span><span style=\"color: rgb(186, 45, 162);\">if</span> (cgImage == <span style=\"color: rgb(186, 45, 162);\">NULL</span>) {</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">		</span></span><span style=\"color: rgb(112, 61, 170);\">CGColorSpaceRef</span><span style=\"color: rgb(0, 0, 0);\"> colorspace = </span>CGColorSpaceCreateDeviceRGB<span style=\"color: rgb(0, 0, 0);\">();</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">		</span>imageBytes = <span style=\"color: rgb(61, 30, 129);\">malloc</span>(<span style=\"color: rgb(37, 43, 216);\">320</span> * <span style=\"color: rgb(37, 43, 216);\">480</span> * <span style=\"color: rgb(37, 43, 216);\">4</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">		</span></span><span style=\"color: rgb(112, 61, 170);\">CGContextRef</span><span style=\"color: rgb(0, 0, 0);\"> context = </span>CGBitmapContextCreate<span style=\"color: rgb(0, 0, 0);\">(imageBytes, </span><span style=\"color: rgb(37, 43, 216);\">320</span><span style=\"color: rgb(0, 0, 0);\">, </span><span style=\"color: rgb(37, 43, 216);\">480</span><span style=\"color: rgb(0, 0, 0);\">, </span><span style=\"color: rgb(37, 43, 216);\">8</span><span style=\"color: rgb(0, 0, 0);\">, </span><span style=\"color: rgb(37, 43, 216);\">320</span><span style=\"color: rgb(0, 0, 0);\"> * </span><span style=\"color: rgb(37, 43, 216);\">4</span><span style=\"color: rgb(0, 0, 0);\">, colorspace, </span>kCGImageAlphaNoneSkipFirst<span style=\"color: rgb(0, 0, 0);\"> | </span>kCGBitmapByteOrder32Big<span style=\"color: rgb(0, 0, 0);\">);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">		</span></span>CGColorSpaceRelease<span style=\"color: rgb(0, 0, 0);\">(colorspace);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">		</span></span><span style=\"color: rgb(186, 45, 162);\">for</span><span style=\"color: rgb(0, 0, 0);\"> (</span><span style=\"color: rgb(112, 61, 170);\">UIWindow</span><span style=\"color: rgb(0, 0, 0);\"> *window </span><span style=\"color: rgb(186, 45, 162);\">in</span><span style=\"color: rgb(0, 0, 0);\"> [[</span><span style=\"color: rgb(112, 61, 170);\">UIApplication</span><span style=\"color: rgb(0, 0, 0);\"> </span>sharedApplication<span style=\"color: rgb(0, 0, 0);\">] </span>windows<span style=\"color: rgb(0, 0, 0);\">]) {</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">			</span><span style=\"color: rgb(112, 61, 170);\">CGRect</span> bounds = [window <span style=\"color: rgb(61, 30, 129);\">bounds</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">			</span><span style=\"color: rgb(112, 61, 170);\">CALayer</span> *layer = [window <span style=\"color: rgb(61, 30, 129);\">layer</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">			</span></span>CGContextSaveGState<span style=\"color: rgb(0, 0, 0);\">(context);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">			</span></span><span style=\"color: rgb(186, 45, 162);\">if</span><span style=\"color: rgb(0, 0, 0);\"> ([layer </span>contentsAreFlipped<span style=\"color: rgb(0, 0, 0);\">]) {</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">				</span><span style=\"color: rgb(61, 30, 129);\">CGContextTranslateCTM</span>(context, <span style=\"color: rgb(37, 43, 216);\">0.0f</span>, bounds.<span style=\"color: rgb(112, 61, 170);\">size</span>.<span style=\"color: rgb(112, 61, 170);\">height</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">				</span><span style=\"color: rgb(61, 30, 129);\">CGContextScaleCTM</span>(context, <span style=\"color: rgb(37, 43, 216);\">1.0f</span>, -<span style=\"color: rgb(37, 43, 216);\">1.0f</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">			</span>}</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">			</span>[layer </span>renderInContext<span style=\"color: rgb(0, 0, 0);\">:(</span><span style=\"color: rgb(112, 61, 170);\">CGContextRef</span><span style=\"color: rgb(0, 0, 0);\">)</span>context<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">			</span></span>CGContextRestoreGState<span style=\"color: rgb(0, 0, 0);\">(context);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">		</span>}</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">		</span>cgImage = </span>CGBitmapContextCreateImage<span style=\"color: rgb(0, 0, 0);\">(context);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">		</span></span>CGContextRelease<span style=\"color: rgb(0, 0, 0);\">(context);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span>}</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(112, 61, 170);\">NSData</span><span style=\"color: rgb(0, 0, 0);\"> *pngData = </span>UIImagePNGRepresentation<span style=\"color: rgb(0, 0, 0);\">([</span><span style=\"color: rgb(112, 61, 170);\">UIImage</span><span style=\"color: rgb(0, 0, 0);\"> </span>imageWithCGImage<span style=\"color: rgb(0, 0, 0);\">:cgImage]);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(61, 30, 129);\">CGImageRelease</span>(cgImage);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span><span style=\"color: rgb(186, 45, 162);\">if</span> (imageBytes)</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">		</span><span style=\"color: rgb(61, 30, 129);\">free</span>(imageBytes);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[pngData <span style=\"color: rgb(61, 30, 129);\">writeToFile</span>:path <span style=\"color: rgb(61, 30, 129);\">atomically</span>:<span style=\"color: rgb(186, 45, 162);\">YES</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[pool <span style=\"color: rgb(61, 30, 129);\">release</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p>&nbsp;</p><p></p>','2013-12-11 08:16:17','2013-12-11 16:16:17');
INSERT INTO `tbnote` VALUES (261,'114.247.232.56',3,'重写UIPageControl实现自定义','<p>@interface MyPageControl : UIPageControl<br/>{<br/> &nbsp; &nbsp;UIImage *imagePageStateNormal;<br/> &nbsp; &nbsp;UIImage *imagePageStateHighlighted;<br/>}<br/>- (id)initWithFrame:(CGRect)frame;<br/>@property (nonatomic, retain) UIImage *imagePageStateNormal;<br/>@property (nonatomic, retain) UIImage *imagePageStateHighlighted;<br/>@end</p><p><br/></p><p><br/></p><p><br/>用了两个UIImage保存两张图片, 大家知道的, UIPageCotrol的按钮分为两态, 一个是正常, 一个是高亮<br/><br/></p><p>@interface MyPageControl(private) &nbsp;// 声明一个私有方法, 该方法不允许对象直接使用<br/>- (void)updateDots;<br/>@end<br/>@implementation MyPageControl &nbsp;// 实现部分<br/>@synthesize imagePageStateNormal;<br/>@synthesize imagePageStateHighlighted;<br/>- (id)initWithFrame:(CGRect)frame { // 初始化<br/> &nbsp; &nbsp;self = [super initWithFrame:frame];<br/> &nbsp; &nbsp;return self;<br/>}<br/>- (void)setImagePageStateNormal:(UIImage *)image { &nbsp;// 设置正常状态点按钮的图片<br/> &nbsp; &nbsp;[imagePageStateHighlighted release];<br/> &nbsp; &nbsp;imagePageStateHighlighted = [image retain];<br/> &nbsp; &nbsp;[self updateDots];<br/>}<br/>- (void)setImagePageStateHighlighted:(UIImage *)image { // 设置高亮状态点按钮图片<br/> &nbsp; &nbsp;[imagePageStateNormal release];<br/> &nbsp; &nbsp;imagePageStateNormal = [image retain];<br/> &nbsp; &nbsp;[self updateDots];<br/>}<br/>- (void)endTrackingWithTouch:(UITouch *)touch withEvent:(UIEvent *)event { // 点击事件<br/> &nbsp; &nbsp;[super endTrackingWithTouch:touch withEvent:event];<br/> &nbsp; &nbsp;[self updateDots];<br/>}<br/>- (void)updateDots { // 更新显示所有的点按钮<br/> &nbsp; &nbsp;if (imagePageStateNormal || imagePageStateHighlighted)<br/> &nbsp; &nbsp;{<br/> &nbsp; &nbsp; &nbsp; &nbsp;NSArray *subview = self.subviews; &nbsp;// 获取所有子视图<br/> &nbsp; &nbsp; &nbsp; &nbsp;for (NSInteger i = 0; i &lt; [subview count]; i++)<br/> &nbsp; &nbsp; &nbsp; &nbsp;{<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UIImageView *dot = [subview objectAtIndex:i]; &nbsp;// 以下不解释, 看了基本明白<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;dot.image = self.currentPage == i ? imagePageStateNormal : imagePageStateHighlighted;<br/> &nbsp; &nbsp; &nbsp; &nbsp;}<br/> &nbsp; &nbsp;}<br/>}<br/>- (void)dealloc { // 释放内存<br/> &nbsp; &nbsp;[imagePageStateNormal release], imagePageStateNormal = nil;<br/> &nbsp; &nbsp;[imagePageStateHighlighted release], imagePageStateHighlighted = nil;<br/> &nbsp; &nbsp;[super dealloc];<br/>}<br/>@end</p><p><br/></p><p><br/></p><p><br/></p><p><br/>MyPageControl *pageControl = [[MyPageControl alloc] initWithFrame:CGRectMake(0,0, 200, 30)];<br/>pageControl.backgroundColor = [UIColor clearColor];<br/>pageControl.numberOfPages = 5;<br/>pageControl.currentPage = 0;<br/>[pageControl setImagePageStateNormal:[UIImage imageNamed:@&quot;pageControlStateNormal.png&quot;]];<br/>[pageControl setImagePageStateHighlighted:[UIImage imageNamed:@&quot;pageControlStateHighlighted.png&quot;]];<br/><span style=\"color: rgb(70, 128, 135); line-height: 15px; font-family: menlo; font-size: x-small; border-collapse: collapse;\"><span style=\"color: rgb(0, 0, 0); outline-style: none;\"><span style=\"line-height: normal; font-family: Times; font-size: 14px; border-collapse: separate;\">//添加方法</span></span></span></p><p><span style=\"color: rgb(70, 128, 135); line-height: 15px; font-family: menlo; font-size: x-small; border-collapse: collapse;\"><span style=\"color: rgb(0, 0, 0); outline-style: none;\">[</span><span style=\"color: rgb(0, 0, 0); outline-style: none;\"><span style=\"line-height: normal; font-family: Times; font-size: 14px; border-collapse: separate;\">pageControl addTarget:self action:@selector(<span style=\"font-family: Menlo; font-size: 11px;\">pageCtrl_Change</span>:) &nbsp; forControlEvents:UIControlEventValueChanged];</span></span></span></p><p>[self.view addSubview:pageControl];<br/>[pageControl release];</p><p><br/></p><p><br/></p><p><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 0); font-size-adjust: none; font-stretch: normal;\">//<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">改变</span>pageCtrl</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">-(<span style=\"color: rgb(186, 45, 162);\">void</span>)pageCtrl_Change:(<span style=\"color: rgb(186, 45, 162);\">id</span>)sender</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(209, 46, 27); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span></span><span style=\"color: rgb(61, 30, 129);\">NSLog</span><span style=\"color: rgb(0, 0, 0);\">(</span>@&quot;pageCtrl)Change currentPage=%d&quot;<span style=\"color: rgb(0, 0, 0);\">,</span><span style=\"color: rgb(79, 129, 135);\">pageCtrl</span><span style=\"color: rgb(0, 0, 0);\">.</span><span style=\"color: rgb(112, 61, 170);\">currentPage</span><span style=\"color: rgb(0, 0, 0);\">);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p></p>','2013-12-11 08:16:36','2013-12-11 16:16:36'),(262,'114.247.232.56',3,'UIScreen屏幕大小','<p>CGRect rx = [ UIScreen mainScreen ].applicationFrame;</p><p>rx=0，20，320，460</p><p>CGRect rx = [ UIScreen mainScreen ].bounds;</p><p>rx=0，0，320，480</p><p></p>','2013-12-11 08:16:53','2013-12-11 16:16:53'),(263,'114.247.232.56',3,'定制UIBarItem','<p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(112, 61, 170);\">UIButton</span> &nbsp; *btn = [[<span style=\"color: rgb(112, 61, 170);\">UIButton</span> <span style=\"color: rgb(61, 30, 129);\">alloc</span>] <span style=\"color: rgb(61, 30, 129);\">init</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(37, 43, 216); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\">btn.</span><span style=\"color: rgb(112, 61, 170);\">frame</span><span style=\"color: rgb(0, 0, 0);\"> = </span><span style=\"color: rgb(61, 30, 129);\">CGRectMake</span><span style=\"color: rgb(0, 0, 0);\">(</span>10.0f<span style=\"color: rgb(0, 0, 0);\">, </span>8.0f<span style=\"color: rgb(0, 0, 0);\">, </span>28.0f<span style=\"color: rgb(0, 0, 0);\">, </span>28.0f<span style=\"color: rgb(0, 0, 0);\">);<span style=\"white-space: pre;\">	</span></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\">[btn </span>setTitle<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(209, 46, 27);\">@&quot;</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(209, 46, 27); font-size-adjust: none; font-stretch: normal;\">登录</span><span style=\"color: rgb(209, 46, 27);\">&quot;</span><span style=\"color: rgb(0, 0, 0);\"> </span>forState<span style=\"color: rgb(0, 0, 0);\">:</span>UIControlStateNormal<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(112, 61, 170); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\">btn.</span>showsTouchWhenHighlighted<span style=\"color: rgb(0, 0, 0);\"> = </span><span style=\"color: rgb(186, 45, 162);\">YES</span><span style=\"color: rgb(0, 0, 0);\">;//发光效果</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\">[btn.</span><span style=\"color: rgb(112, 61, 170);\">titleLabel</span><span style=\"color: rgb(0, 0, 0);\"> </span>setFont<span style=\"color: rgb(0, 0, 0);\">:[</span><span style=\"color: rgb(112, 61, 170);\">UIFont</span><span style=\"color: rgb(0, 0, 0);\"> </span>boldSystemFontOfSize<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(37, 43, 216);\">10.0f</span><span style=\"color: rgb(0, 0, 0);\">]];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\">[btn </span>setTitleColor<span style=\"color: rgb(0, 0, 0);\">:[</span><span style=\"color: rgb(112, 61, 170);\">UIColor</span><span style=\"color: rgb(0, 0, 0);\"> </span>whiteColor<span style=\"color: rgb(0, 0, 0);\">] </span>forState<span style=\"color: rgb(0, 0, 0);\">:</span>UIControlStateNormal<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\">[btn </span>setBackgroundImage<span style=\"color: rgb(0, 0, 0);\">:[</span><span style=\"color: rgb(112, 61, 170);\">UIImage</span><span style=\"color: rgb(0, 0, 0);\"> </span>imageNamed<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(209, 46, 27);\">@&quot;Earth (Americas).gif&quot;</span><span style=\"color: rgb(0, 0, 0);\">] </span>forState<span style=\"color: rgb(0, 0, 0);\">:</span>UIControlStateNormal<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(112, 61, 170); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\">btn.</span>backgroundColor<span style=\"color: rgb(0, 0, 0);\"> = [</span>UIColor<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(61, 30, 129);\">clearColor</span><span style=\"color: rgb(0, 0, 0);\">];<span style=\"white-space: pre;\">				</span> </span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\">[btn </span>addTarget<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(186, 45, 162);\">self</span><span style=\"color: rgb(0, 0, 0);\"> </span>action<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(186, 45, 162);\">@selector</span><span style=\"color: rgb(0, 0, 0);\">(</span><span style=\"color: rgb(49, 89, 94);\">buttonOnClick</span><span style=\"color: rgb(0, 0, 0);\">:) </span>forControlEvents<span style=\"color: rgb(0, 0, 0);\">:</span>UIControlEventTouchUpInside<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(112, 61, 170); font-size-adjust: none; font-stretch: normal;\">UIBarButtonItem<span style=\"color: rgb(0, 0, 0);\"> *righttomItem = [[</span>UIBarButtonItem<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(61, 30, 129);\">alloc</span><span style=\"color: rgb(0, 0, 0);\">] </span><span style=\"color: rgb(61, 30, 129);\">initWithCustomView</span><span style=\"color: rgb(0, 0, 0);\">:btn];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[btn <span style=\"color: rgb(61, 30, 129);\">release</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">//加入到栏里</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(112, 61, 170); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(186, 45, 162);\">self</span><span style=\"color: rgb(0, 0, 0);\">.</span>navigationItem<span style=\"color: rgb(0, 0, 0);\">.</span>rightBarButtonItem<span style=\"color: rgb(0, 0, 0);\"> = righttomItem;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(112, 61, 170); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\">[righttomItem release];</span></p><p></p>','2013-12-11 08:17:09','2013-12-11 16:17:09'),(264,'114.247.232.56',3,'UIToolBar使用','<p><span style=\"line-height: 26px; font-family: Arial; border-collapse: collapse;\"><span style=\"color: rgb(51, 51, 51); font-size: small;\">1.新建一个继续自</span><span style=\"color: rgb(51, 51, 51); line-height: 1.5em; font-family: menlo; outline-style: none;\"><span style=\"font-size: small;\">UIViewController的类;</span></span><span style=\"color: rgb(51, 51, 51); line-height: 1.5em; font-family: menlo; outline-style: none;\"><span style=\"font-size: small;\"><br style=\"outline-style: none;\"/></span></span><span style=\"color: rgb(51, 51, 51); font-size: small;\"><span style=\"line-height: 1.5em; font-family: menlo; outline-style: none;\"></span></span><span style=\"color: rgb(51, 51, 51); line-height: 1.5em; font-family: menlo; outline-style: none;\"><span style=\"font-size: small;\">2.在实现文件的 </span></span><span style=\"color: rgb(51, 51, 51); line-height: 1.5em; font-family: menlo; outline-style: none;\"><span style=\"font-size: small;\">viewDidLoad方法里面添加如下代码:</span></span><span style=\"line-height: 1.5em; font-family: menlo; outline-style: none;\"><span style=\"font-size: small;\"><br style=\"outline-style: none;\"/><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(112, 61, 170);\"><br/></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(112, 61, 170);\"></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 0); font-size-adjust: none; font-stretch: normal;\">//<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">添加</span>UIToolbar</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span><span style=\"color: rgb(112, 61, 170);\">UIBarButtonItem</span>* systemItem,*cancelItem,*flexItem;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(112, 61, 170); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span></span>CGFloat<span style=\"color: rgb(0, 0, 0);\"> width = &nbsp;</span><span style=\"color: rgb(186, 45, 162);\">self</span><span style=\"color: rgb(0, 0, 0);\">.</span>view<span style=\"color: rgb(0, 0, 0);\">.</span>frame<span style=\"color: rgb(0, 0, 0);\">.</span>size<span style=\"color: rgb(0, 0, 0);\">.</span><span style=\"color: rgb(79, 129, 135);\">width</span><span style=\"color: rgb(0, 0, 0);\">;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span><span style=\"color: rgb(112, 61, 170);\">UIToolbar</span>* toolBar = [[<span style=\"color: rgb(112, 61, 170);\">UIToolbar</span> <span style=\"color: rgb(61, 30, 129);\">alloc</span>] <span style=\"color: rgb(61, 30, 129);\">initWithFrame</span>:<span style=\"color: rgb(61, 30, 129);\">CGRectMake</span>(<span style=\"color: rgb(37, 43, 216);\">0</span>, <span style=\"color: rgb(37, 43, 216);\">20</span>, width, <span style=\"color: rgb(37, 43, 216);\">40</span>)];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span>toolBar.</span><span style=\"color: rgb(112, 61, 170);\">barStyle</span><span style=\"color: rgb(0, 0, 0);\"> = </span>UIBarButtonItemStyleBordered<span style=\"color: rgb(0, 0, 0);\">;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span>[toolBar <span style=\"color: rgb(61, 30, 129);\">sizeToFit</span>];<span style=\"white-space: pre;\">	</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span>toolBar.</span><span style=\"color: rgb(112, 61, 170);\">autoresizingMask</span><span style=\"color: rgb(0, 0, 0);\"> = </span>UIViewAutoresizingFlexibleWidth<span style=\"color: rgb(0, 0, 0);\">;</span><span style=\"color: rgb(0, 132, 0);\">//</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(0, 132, 0); font-size-adjust: none; font-stretch: normal;\">这句作用是切换时宽度自适应</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span>systemItem = [[<span style=\"color: rgb(112, 61, 170);\">UIBarButtonItem</span> <span style=\"color: rgb(61, 30, 129);\">alloc</span>]</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">				</span> &nbsp;</span>initWithBarButtonSystemItem<span style=\"color: rgb(0, 0, 0);\">:</span>UIBarButtonSystemItemAction</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">				</span> &nbsp;<span style=\"color: rgb(61, 30, 129);\">target</span>:<span style=\"color: rgb(186, 45, 162);\">self</span> <span style=\"color: rgb(61, 30, 129);\">action</span>:<span style=\"color: rgb(186, 45, 162);\">@selector</span>(<span style=\"color: rgb(49, 89, 94);\">AddCtrlPlane</span>::)];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span>cancelItem = [[<span style=\"color: rgb(112, 61, 170);\">UIBarButtonItem</span> <span style=\"color: rgb(61, 30, 129);\">alloc</span>]</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">				</span> &nbsp;</span>initWithBarButtonSystemItem<span style=\"color: rgb(0, 0, 0);\">:</span>UIBarButtonSystemItemCancel</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">				</span> &nbsp;<span style=\"color: rgb(61, 30, 129);\">target</span>:<span style=\"color: rgb(186, 45, 162);\">self</span> <span style=\"color: rgb(61, 30, 129);\">action</span>:<span style=\"color: rgb(186, 45, 162);\">@selector</span>(<span style=\"color: rgb(49, 89, 94);\">AddCtrlPlane</span>::)];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">		</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span>flexItem = [[</span><span style=\"color: rgb(112, 61, 170);\">UIBarButtonItem</span><span style=\"color: rgb(0, 0, 0);\"> </span>alloc<span style=\"color: rgb(0, 0, 0);\">] </span>initWithBarButtonSystemItem<span style=\"color: rgb(0, 0, 0);\">:</span>UIBarButtonSystemItemFlexibleSpace</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">																			</span> &nbsp;<span style=\"color: rgb(61, 30, 129);\">target</span>:<span style=\"color: rgb(186, 45, 162);\">nil</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">																			</span> &nbsp;<span style=\"color: rgb(61, 30, 129);\">action</span>:<span style=\"color: rgb(186, 45, 162);\">nil</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">		</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span><span style=\"color: rgb(112, 61, 170);\">NSArray</span> *items = [<span style=\"color: rgb(112, 61, 170);\">NSArray</span> <span style=\"color: rgb(61, 30, 129);\">arrayWithObjects</span>:systemItem,flexItem,cancelItem,<span style=\"color: rgb(186, 45, 162);\">nil</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span>[toolBar <span style=\"color: rgb(61, 30, 129);\">setItems</span>:items <span style=\"color: rgb(61, 30, 129);\">animated</span>:<span style=\"color: rgb(186, 45, 162);\">NO</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span>[systemItem <span style=\"color: rgb(61, 30, 129);\">release</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span>[cancelItem <span style=\"color: rgb(61, 30, 129);\">release</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span>[flexItem <span style=\"color: rgb(61, 30, 129);\">release</span>];<span style=\"white-space: pre;\">	</span> </p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span>[<span style=\"color: rgb(186, 45, 162);\">self</span>.<span style=\"color: rgb(112, 61, 170);\">view</span> <span style=\"color: rgb(61, 30, 129);\">addSubview</span>:toolBar];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span>[toolBar <span style=\"color: rgb(61, 30, 129);\">release</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 128, 0);\">//////////////////// 简单使用 //////////////////////////////////</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\"><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">UIBarButtonItem</span><span style=\"color: rgb(0, 0, 0);\"> *btn=[[</span><span style=\"color: rgb(116, 60, 166);\">UIBarButtonItem</span><span style=\"color: rgb(0, 0, 0);\"> </span>alloc<span style=\"color: rgb(0, 0, 0);\">] </span>initWithTitle<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(218, 46, 36);\">@&quot;TAG&quot;</span><span style=\"color: rgb(0, 0, 0);\"> </span>style<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(37, 38, 211);\">0</span><span style=\"color: rgb(0, 0, 0);\"> </span>target<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">self</span><span style=\"color: rgb(0, 0, 0);\"> </span>action<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">@selector</span><span style=\"color: rgb(0, 0, 0);\">(tagAccout)];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\">NSMutableArray<span style=\"color: rgb(0, 0, 0);\">* aryBtn = [[</span>NSMutableArray<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">alloc</span><span style=\"color: rgb(0, 0, 0);\">] </span><span style=\"color: rgb(63, 28, 126);\">initWithCapacity</span><span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(37, 38, 211);\">1</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[aryBtn <span style=\"color: rgb(63, 28, 126);\">addObject</span>:btn];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[toolbar setItems:aryBtn];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[btn <span style=\"color: rgb(63, 28, 126);\">release</span>];</p><p>&nbsp;</p><p></p><p></p></p></span></span></span></p>','2013-12-11 08:17:42','2013-12-11 16:17:42'),(265,'114.247.232.56',3,'动画效果','<p>[UIView beginAnimations:nil context:nil];<br/>[UIView setAnimationDuration:0.5f];<br/>[UIView setAnimationCurve:UIViewAnimationCurveEaseInOut];<br/>[UIView setAnimationRepeatAutoreverses:NO];<br/>//[UIView setAnimationDelegate:self];<br/>//[UIView setAnimationDidStopSelector:@selector(AnimationStopped)];<br/>[UIView setAnimationTransition:UIViewAnimationTransitionCurlDown forView:viw5 cache:YES];	<br/>[UIView commitAnimations];<br/></p><p><br/></p><p>////////////////// 改变窗体大小 动画///////////////////////////////////////</p><p>[UIView beginAnimations:nil context:nil];</p><p>[UIView setAnimationDuration:0.2];</p><p>frm.transform = CGAffineTransformScale([self transformForOrientation], 0.001,0.001);</p><p>//动画完成后执行的函数</p><p>//[UIView setAnimationDelegate:self];</p><p>//[UIView setAnimationDidStopSelector:@selector(AnimationStopped)];</p><p>[UIView commitAnimations];</p><p style=\"text-indent: 2em;\">&nbsp;</p><p style=\"text-indent: 2em;\">&nbsp;</p><p style=\"text-indent: 2em;\"><br/></p><p style=\"text-indent: 2em;\">&nbsp;</p><p style=\"text-indent: 2em;\">&nbsp;</p><p style=\"text-indent: 2em;\">&nbsp;</p><p><br/></p><p style=\"text-indent: 2em;\">//////////////////移动动画///////////////////////////////</p><p style=\"text-indent: 2em;\">&nbsp;</p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(0, 0, 255);\">需要在frameworks中添加QuartzCore.framework</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(0, 0, 255);\">在接口程序中加上头文件 &nbsp; #import &lt;QuartzCore/QuartzCore.h&gt;</span></p><p>&nbsp;</p><p>&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"text-indent: 2em;\"><br/></p><p><span style=\"line-height: 26px; font-family: Arial;\"></span><p style=\"color: rgb(51, 51, 51);\">CATransition *transition = [CATransition animation];<br/> &nbsp; &nbsp;transition.duration = 1.0f; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"color: rgb(255, 0, 0);\">/* 间隔时间*/</span> <br/> &nbsp; &nbsp;transition.timingFunction = [CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionEaseInEaseOut]; /* 动画的开始与结束的快慢*/<br/> &nbsp; &nbsp;transition.type = @&quot;rippleEffect&quot;; <span style=\"color: rgb(255, 0, 0);\">/* 各种动画效果*/</span></p><p style=\"color: rgb(51, 51, 51);\"><span style=\"color: rgb(255, 0, 0);\">//@&quot;cube&quot; @&quot;moveIn&quot; @&quot;reveal&quot; @&quot;fade&quot;(default) @&quot;pageCurl&quot; @&quot;pageUnCurl&quot; @&quot;suckEffect&quot; @&quot;rippleEffect&quot; @&quot;oglFlip&quot;</span></p><p style=\"color: rgb(51, 51, 51);\">transition.subtype = kCATransitionFromRight; &nbsp; <span style=\"color: rgb(255, 0, 0);\">/* 动画方向*/</span> <br/> &nbsp; &nbsp;transition.delegate = self;<br/> &nbsp; &nbsp;[navigationController.view.layer <span style=\"color: rgb(255, 0, 0);\">/* 在想添加CA动画的VIEW的层上添加此代码*/</span> addAnimation:transition forKey:nil];</p><p style=\"color: rgb(51, 51, 51);\"><br/></p><p style=\"color: rgb(51, 51, 51);\"><br/></p><p style=\"color: rgb(51, 51, 51);\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">/********<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">翻页效果</span>************************************/</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\">-(<span style=\"color: rgb(116, 60, 166);\">NSString</span> *) TransitionForm</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>UIInterfaceOrientation<span style=\"color: rgb(0, 0, 0);\"> orientation = [</span>UIApplication<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">sharedApplication</span><span style=\"color: rgb(0, 0, 0);\">].</span>statusBarOrientation<span style=\"color: rgb(0, 0, 0);\">;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(194, 42, 159);\">if</span><span style=\"color: rgb(0, 0, 0);\"> (orientation == </span>UIInterfaceOrientationLandscapeLeft<span style=\"color: rgb(0, 0, 0);\">) {</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(194, 42, 159);\">return</span><span style=\"color: rgb(0, 0, 0);\"> </span>kCATransitionFromRight<span style=\"color: rgb(0, 0, 0);\">;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\">} <span style=\"color: rgb(194, 42, 159);\">else</span> &nbsp;{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(194, 42, 159);\">return</span><span style=\"color: rgb(0, 0, 0);\"> </span>kCATransitionFromLeft<span style=\"color: rgb(0, 0, 0);\">;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal &quot;Heiti SC Light&quot;; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">//</span>翻页向左</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\">-(<span style=\"color: rgb(194, 42, 159);\">void</span>)performTransitionLeft:(<span style=\"color: rgb(116, 60, 166);\">UIView</span> *)viw{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">&nbsp;&nbsp;&nbsp; </span><span style=\"color: rgb(116, 60, 166);\">CATransition<span style=\"color: rgb(0, 0, 0);\"> *transition = [</span>CATransition<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">animation</span><span style=\"color: rgb(0, 0, 0);\">];</span></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">&nbsp;&nbsp;&nbsp; </span>transition.<span style=\"color: rgb(116, 60, 166);\">duration</span> = <span style=\"color: rgb(37, 38, 211);\">0.75</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">&nbsp;&nbsp;&nbsp; </span>transition.<span style=\"color: rgb(116, 60, 166);\">type</span> = <span style=\"color: rgb(218, 46, 36);\">@&quot;pageUnCurl&quot;</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">&nbsp;&nbsp;&nbsp; </span>transition.<span style=\"color: rgb(116, 60, 166);\">subtype</span> = [<span style=\"color: rgb(194, 42, 159);\">self</span> <span style=\"color: rgb(43, 89, 93);\">TransitionForm</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(51, 51, 51);\"><span style=\"white-space: pre;\">&nbsp;&nbsp;&nbsp; </span>[viw.</span><span style=\"color: rgb(116, 60, 166);\">layer</span> <span style=\"color: rgb(63, 28, 126);\">addAnimation</span><span style=\"color: rgb(51, 51, 51);\">:transition </span><span style=\"color: rgb(63, 28, 126);\">forKey</span><span style=\"color: rgb(51, 51, 51);\">:</span><span style=\"color: rgb(194, 42, 159);\">nil</span><span style=\"color: rgb(51, 51, 51);\">];</span><span style=\"color: rgb(51, 51, 51); white-space: pre;\">	</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal &quot;Heiti SC Light&quot;; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">//</span>翻页向右</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\">-(<span style=\"color: rgb(194, 42, 159);\">void</span>)performTransitionRight:(<span style=\"color: rgb(116, 60, 166);\">UIView</span> *)viw{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span></span>CATransition<span style=\"color: rgb(0, 0, 0);\"> *transition = [</span>CATransition<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">animation</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span>transition.<span style=\"color: rgb(116, 60, 166);\">duration</span> = <span style=\"color: rgb(37, 38, 211);\">0.75</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span>transition.<span style=\"color: rgb(116, 60, 166);\">type</span> = <span style=\"color: rgb(218, 46, 36);\">@&quot;pageCurl&quot;</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span>transition.<span style=\"color: rgb(116, 60, 166);\">subtype</span> = [<span style=\"color: rgb(194, 42, 159);\">self</span> <span style=\"color: rgb(43, 89, 93);\">TransitionForm</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span>[<span style=\"color: rgb(116, 60, 166);\">viw</span>.<span style=\"color: rgb(116, 60, 166);\">layer</span> <span style=\"color: rgb(63, 28, 126);\">addAnimation</span>:transition <span style=\"color: rgb(63, 28, 126);\">forKey</span>:<span style=\"color: rgb(194, 42, 159);\">nil</span>];<span style=\"white-space: pre;\">	</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">	</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(51, 51, 51); font-size-adjust: none; font-stretch: normal;\">//移出来</p><p style=\"color: rgb(51, 51, 51);\">&nbsp;</p><p></p><p>&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">-(<span style=\"color: rgb(194, 42, 159);\">void</span>)performTransitionUp:(<span style=\"color: rgb(116, 60, 166);\">UIView</span> *)viw</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">&nbsp;&nbsp;&nbsp; </span><span style=\"color: rgb(116, 60, 166);\">CATransition<span style=\"color: rgb(0, 0, 0);\"> *transition = [</span>CATransition<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">animation</span><span style=\"color: rgb(0, 0, 0);\">];</span></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">&nbsp;&nbsp;&nbsp; </span>transition.<span style=\"color: rgb(116, 60, 166);\">duration</span> = <span style=\"color: rgb(37, 38, 211);\">0.25</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">&nbsp;&nbsp;&nbsp; </span>transition.<span style=\"color: rgb(116, 60, 166);\">type</span> = <span style=\"color: rgb(218, 46, 36);\">@&quot;moveIn&quot;</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;transition.</span>subtype<span style=\"color: rgb(0, 0, 0);\"> = </span>kCATransitionFromTop<span style=\"color: rgb(0, 0, 0);\">;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">&nbsp;&nbsp;&nbsp; </span>[viw.<span style=\"color: rgb(116, 60, 166);\">layer</span> <span style=\"color: rgb(63, 28, 126);\">addAnimation</span>:transition <span style=\"color: rgb(63, 28, 126);\">forKey</span>:<span style=\"color: rgb(194, 42, 159);\">nil</span>];<span style=\"white-space: pre;\">	</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">//缩回去</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">-(<span style=\"color: rgb(194, 42, 159);\">void</span>)performTransitionDown:(<span style=\"color: rgb(116, 60, 166);\">UIView</span> *)viw</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">&nbsp;&nbsp;&nbsp; </span><span style=\"color: rgb(116, 60, 166);\">CATransition<span style=\"color: rgb(0, 0, 0);\"> *transition = [</span>CATransition<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">animation</span><span style=\"color: rgb(0, 0, 0);\">];</span></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">&nbsp;&nbsp;&nbsp; </span>transition.<span style=\"color: rgb(116, 60, 166);\">duration</span> = <span style=\"color: rgb(37, 38, 211);\">0.25</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">&nbsp;&nbsp;&nbsp; </span>transition.<span style=\"color: rgb(116, 60, 166);\">type</span> = <span style=\"color: rgb(218, 46, 36);\">@&quot;reveal&quot;</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;transition.</span>subtype<span style=\"color: rgb(0, 0, 0);\"> = </span>kCATransitionFromBottom<span style=\"color: rgb(0, 0, 0);\">;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\">&nbsp;&nbsp;&nbsp; </span>[viw.<span style=\"color: rgb(116, 60, 166);\">layer</span> <span style=\"color: rgb(63, 28, 126);\">addAnimation</span>:transition <span style=\"color: rgb(63, 28, 126);\">forKey</span>:<span style=\"color: rgb(194, 42, 159);\">nil</span>];<span style=\"white-space: pre;\">	</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p><br/></p><p></p><p></p></p>','2013-12-11 08:19:36','2013-12-11 16:19:36'),(266,'114.247.232.56',3,'屏幕触摸事件','<p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">直接加到类里面去</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">void</span>)touchesBegan:(<span style=\"color: rgb(116, 60, 166);\">NSSet</span> *)touches withEvent:(<span style=\"color: rgb(116, 60, 166);\">UIEvent</span> *)event</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>//<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">调整坐标</span> &nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">UITouch</span> *touch = [touches <span style=\"color: rgb(63, 28, 126);\">anyObject</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">CGPoint</span> location = [touch <span style=\"color: rgb(63, 28, 126);\">locationInView</span>:<span style=\"color: rgb(194, 42, 159);\">self</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(71, 129, 134);\">culPoint</span><span style=\"color: rgb(0, 0, 0);\">.</span><span style=\"color: rgb(116, 60, 166);\">x</span><span style=\"color: rgb(0, 0, 0);\">=location.</span><span style=\"color: rgb(116, 60, 166);\">x</span><span style=\"color: rgb(0, 0, 0);\">;</span>//(location.x-self.frame.origin.x-self.frame.size.width/2);</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(71, 129, 134);\">culPoint</span><span style=\"color: rgb(0, 0, 0);\">.</span><span style=\"color: rgb(116, 60, 166);\">y</span><span style=\"color: rgb(0, 0, 0);\">=location.</span><span style=\"color: rgb(116, 60, 166);\">x</span><span style=\"color: rgb(0, 0, 0);\">;</span>//(location.y-self.frame.origin.y-self.frame.size.height/2);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">void</span>)touchesMoved:(<span style=\"color: rgb(116, 60, 166);\">NSSet</span> *)touches withEvent:(<span style=\"color: rgb(116, 60, 166);\">UIEvent</span> *)event</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(124, 73, 46); font-size-adjust: none; font-stretch: normal;\">#define inddd <span style=\"color: rgb(37, 38, 211);\">75</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">if</span> (<span style=\"color: rgb(71, 129, 134);\">g_pdvr</span>) {</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">UITouch</span> *touch = [touches <span style=\"color: rgb(63, 28, 126);\">anyObject</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">CGPoint</span> location = [touch <span style=\"color: rgb(63, 28, 126);\">locationInView</span>:<span style=\"color: rgb(194, 42, 159);\">self</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">if</span>(location.<span style=\"color: rgb(116, 60, 166);\">x</span>&gt;<span style=\"color: rgb(71, 129, 134);\">culPoint</span>.<span style=\"color: rgb(116, 60, 166);\">x</span>)<span style=\"color: rgb(0, 132, 25);\">//</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">右</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">if</span> (location.<span style=\"color: rgb(116, 60, 166);\">x</span>-<span style=\"color: rgb(71, 129, 134);\">culPoint</span>.<span style=\"color: rgb(116, 60, 166);\">x</span>&gt;<span style=\"color: rgb(124, 73, 46);\">inddd</span>) {</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(71, 129, 134);\">culPoint</span>.<span style=\"color: rgb(116, 60, 166);\">x</span>=location.<span style=\"color: rgb(116, 60, 166);\">x</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">NSLog</span>(<span style=\"color: rgb(218, 46, 36);\">@&quot;</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\">右</span><span style=\"color: rgb(218, 46, 36);\">&quot;</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(71, 129, 134);\">g_pdvr</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">return</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">if</span>(location.<span style=\"color: rgb(116, 60, 166);\">x</span>&lt;=<span style=\"color: rgb(71, 129, 134);\">culPoint</span>.<span style=\"color: rgb(116, 60, 166);\">x</span>)<span style=\"color: rgb(0, 132, 25);\">//</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">左</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">if</span> (<span style=\"color: rgb(71, 129, 134);\">culPoint</span>.<span style=\"color: rgb(116, 60, 166);\">x</span>-location.<span style=\"color: rgb(116, 60, 166);\">x</span>&gt;<span style=\"color: rgb(124, 73, 46);\">inddd</span>) {</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(71, 129, 134);\">culPoint</span>.<span style=\"color: rgb(116, 60, 166);\">x</span>=location.<span style=\"color: rgb(116, 60, 166);\">x</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">NSLog</span>(<span style=\"color: rgb(218, 46, 36);\">@&quot;</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\">左</span><span style=\"color: rgb(218, 46, 36);\">&quot;</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">return</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">if</span>(location.<span style=\"color: rgb(116, 60, 166);\">y</span>&lt;=<span style=\"color: rgb(71, 129, 134);\">culPoint</span>.<span style=\"color: rgb(116, 60, 166);\">y</span>)<span style=\"color: rgb(0, 132, 25);\">//</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">上</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">if</span> (<span style=\"color: rgb(71, 129, 134);\">culPoint</span>.<span style=\"color: rgb(116, 60, 166);\">y</span>-location.<span style=\"color: rgb(116, 60, 166);\">y</span>&gt;<span style=\"color: rgb(124, 73, 46);\">inddd</span>) {</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(71, 129, 134);\">culPoint</span>.<span style=\"color: rgb(116, 60, 166);\">y</span>=location.<span style=\"color: rgb(116, 60, 166);\">y</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">NSLog</span>(<span style=\"color: rgb(218, 46, 36);\">@&quot;</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\">上</span><span style=\"color: rgb(218, 46, 36);\">&quot;</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">return</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">if</span>(location.<span style=\"color: rgb(116, 60, 166);\">y</span>&gt;<span style=\"color: rgb(71, 129, 134);\">culPoint</span>.<span style=\"color: rgb(116, 60, 166);\">y</span>)<span style=\"color: rgb(0, 132, 25);\">//</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">下</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">if</span> (location.<span style=\"color: rgb(116, 60, 166);\">y</span>-<span style=\"color: rgb(71, 129, 134);\">culPoint</span>.<span style=\"color: rgb(116, 60, 166);\">y</span>&gt;<span style=\"color: rgb(124, 73, 46);\">inddd</span>) {</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(71, 129, 134);\">culPoint</span>.<span style=\"color: rgb(116, 60, 166);\">y</span>=location.<span style=\"color: rgb(116, 60, 166);\">y</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">NSLog</span>(<span style=\"color: rgb(218, 46, 36);\">@&quot;</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\">下</span><span style=\"color: rgb(218, 46, 36);\">&quot;</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">return</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">void</span>)touchesEnded:(<span style=\"color: rgb(116, 60, 166);\">NSSet</span> *)touches withEvent:(<span style=\"color: rgb(116, 60, 166);\">UIEvent</span> *)event</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p></p>','2013-12-11 08:19:57','2013-12-11 16:19:57'),(267,'114.247.232.56',3,'定时执行一个函数','<p><span style=\"white-space: pre;\">[self performSelector:@selector(btn_1_click</span>:<span style=\"white-space: pre;\">) withObject:nil afterDelay:1/*秒数*/];	</span></p><p><br/></p><p><span style=\"white-space: pre;\"></span>[NSObject cancelPreviousPerformRequestsWithTarget:self</p><p>selector:@selector(<span style=\"white-space: pre;\">btn_1_click</span>:)</p><p>object:nil];</p><p></p>','2013-12-11 08:20:29','2013-12-11 16:20:29'),(268,'14.217.214.234',3,'NSData转其它类型','<p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(79, 129, 135);\">imgView</span><span style=\"color: rgb(0, 0, 0);\">.</span><span style=\"color: rgb(112, 61, 170);\">image</span><span style=\"color: rgb(0, 0, 0);\"> = [</span><span style=\"color: rgb(112, 61, 170);\">UIImage</span><span style=\"color: rgb(0, 0, 0);\"> </span>imageWithData<span style=\"color: rgb(0, 0, 0);\">:[</span><span style=\"color: rgb(112, 61, 170);\">NSData</span><span style=\"color: rgb(0, 0, 0);\"> </span>dataWithBytes<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(79, 129, 135);\">mjpg</span><span style=\"color: rgb(0, 0, 0);\">.</span><span style=\"color: rgb(79, 129, 135);\">btJpg</span><span style=\"color: rgb(0, 0, 0);\"> </span>length<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(120, 73, 42);\">MJPG_JPG_SIZE</span><span style=\"color: rgb(0, 0, 0);\">]];</span></p><p><br/></p><p><span style=\"font-family: Verdana; font-size: 13px;  background-color: rgb(255, 255, 255);\">NSString *result = [[NSString alloc] initWithData:data encoding:NSUTF8StringEncoding];</span></p>','2013-12-11 08:20:46','2014-08-19 12:07:48'),(269,'114.247.232.56',3,'iphone 新建类变量','<p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\">ControllFrom *ctrlfrm=[[[ControllFrom </span>alloc<span style=\"color: rgb(0, 0, 0);\">]</span>initWithNibName<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(209, 46, 27);\">@&quot;ControllFrom&quot;</span><span style=\"color: rgb(0, 0, 0);\"> </span>bundle<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(186, 45, 162);\">nil</span><span style=\"color: rgb(0, 0, 0);\">]</span>autorelease<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[window <span style=\"color: rgb(61, 30, 129);\">addSubview</span>:ctrlfrm.<span style=\"color: rgb(61, 30, 129);\">view</span>];</p><p></p>','2013-12-11 08:21:10','2013-12-11 16:21:10'),(270,'114.247.232.56',3,'view 设为最上层 最前面','<p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\">[</span><span style=\"color: rgb(186, 45, 162);\">self</span><span style=\"color: rgb(0, 0, 0);\">.</span><span style=\"color: rgb(112, 61, 170);\">view</span><span style=\"color: rgb(0, 0, 0);\"> </span>bringSubviewToFront<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(79, 129, 135);\">Project</span><span style=\"color: rgb(0, 0, 0);\">.</span>view<span style=\"color: rgb(0, 0, 0);\">];</span></p><p></p>','2013-12-11 08:21:24','2013-12-11 16:21:24'),(271,'192.168.0.181',3,'UITextField使用','<p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">//转换成整数</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[<span style=\"color: rgb(79, 129, 135);\">txt2</span>.<span style=\"color: rgb(112, 61, 170);\">text</span> <span style=\"color: rgb(61, 30, 129);\">intValue</span>]</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">//转成char</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">(<span style=\"color: rgb(186, 45, 162);\">char</span>*)[<span style=\"color: rgb(79, 129, 135);\">user</span>.<span style=\"color: rgb(112, 61, 170);\">text</span> UTF8String]</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">//密码显示</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(112, 61, 170); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(79, 129, 135);\">txtStr</span><span style=\"color: rgb(0, 0, 0);\">.</span>secureTextEntry<span style=\"color: rgb(0, 0, 0);\">=</span><span style=\"color: rgb(186, 45, 162);\">YES</span><span style=\"color: rgb(0, 0, 0);\">;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">//左边插入文字</p><p><span style=\"font-family: verdana, sans-serif; font-size: 3px;\"></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> </span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">-(<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">void</span>)leftText:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UITextField</span>*)target :(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span>*)title</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span>//<span style=\"font-family: &#39;Heiti SC Light&#39;;\">左边插入</span>LABEL<span style=\"font-family: &#39;Heiti SC Light&#39;;\">文字</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UILabel</span> *lb1;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; lb1=[[</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UILabel</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>alloc<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">] </span>initWithFrame<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span>CGRectMake<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">0</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">, </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">0</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">, </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">90</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">, </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">24</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">)];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; [lb1 <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">setText</span>:title];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; [lb1 </span>setTextAlignment<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span>NSTextAlignmentRight<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; target.<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">leftView</span> = lb1;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; target.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">leftViewMode</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> = </span>UITextFieldViewModeAlways<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; lb1=<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"color: rgb(0, 0, 0);\"></span><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">//去掉前后空格</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">- (<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">IBAction</span>)editEnd:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">id</span>)sender</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(112, 61, 170);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span>UITextField<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">*txt=(</span>UITextField<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">*)sender;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; txt.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">text</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">=[txt.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">text</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>stringByTrimmingCharactersInSet<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:[</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSCharacterSet</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>whitespaceCharacterSet<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">]];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><br/></span><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><br/></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 132, 25);\">/*/</span><span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">插入图片</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">UIImageView *imgv1=[[UIImageView alloc] initWithImage:[UIImage imageNamed:@&quot;button_white.png&quot;]];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">txtHost.leftView = imgv1;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">txtHost.leftViewMode = UITextFieldViewModeAlways;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\">[imgv1 release];*/</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(71, 129, 134); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;[</span>alertAddPlane<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">addSubview</span><span style=\"color: rgb(0, 0, 0);\">:</span>txtHost<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[<span style=\"color: rgb(71, 129, 134);\">txtHost</span> <span style=\"color: rgb(63, 28, 126);\">release</span>];</p><p><br/></p><p>&nbsp;</p><p>&nbsp;</p><p>retun key改成done<br/>did on exit的时候调用一个函数，<br/>- (IBAction)onEndEdit:(id)sender {<br/> &nbsp; &nbsp;[sender resignFirstResponder];<br/>}</p><p><br/>打开[txtHost becomeFirstResponder];</p><p><br/></p>','2013-12-11 08:22:33','2015-10-01 14:20:29'),(272,'114.247.232.56',3,'处理程序URL请求','<p>应用程序委托在<code><a href=\"http://developer.apple.com/iphone/library/documentation/UIKit/Reference/UIApplicationDelegate_Protocol/Reference/Reference.html#//apple_ref/occ/intfm/UIApplicationDelegate/application:handleOpenURL:\" target=\"_blank\">application:handleOpenURL:</a></code>方法中处理传递给应用程序的URL请求。如果您已经为自己的应用程序注册了定制的URL模式，则务必在<dfn><span data-header=\"委托\" data-contents=\"委托是一种简单而强大的模式\"><a href=\"http://www.apple.com.cn/developer/iphone/library/documentation/General/Conceptual/DevPedia-CocoaCore/Delegation.html#//apple_ref/doc/uid/TP40008195-CH14\" target=\"_blank\">委托</a></span></dfn>中实现这个方法。</p><p>基于定制模式的URL采用的协议是请求服务的应用程序能够理解的。URL中包含一些注册模式的应用程序期望得到的信息，这些信息是该程序在处理或响应URL请求时需要的。传递给<code>application:handleOpenURL:</code>方法的<code><a href=\"http://developer.apple.com/iphone/library/documentation/Cocoa/Reference/Foundation/Classes/NSURL_Class/Reference/Reference.html#//apple_ref/occ/cl/NSURL\" target=\"_blank\">NSURL</a></code>对象表示的是Cocoa Touch框架中的URL。<code>NSURL</code>遵循RFC 1808规范，该类中包含一些方法，用于返回RFC 1808定义的各个URL要素，包括用户名、密码、请求、片断、和参数字符串。与您注册的定制模式相对应的“协议”可以使用这些URL要素来传递各种信息。</p><p>在程序清单1-2显示的<code>application:handleOpenURL:</code>方法实现中，传入的URL对象在其请求和片断部分带有具体应用程序的信息。应用程序委托抽出这些信息—在这个例子中，是指一个to-do任务的名称和到期日—并根据这些信息创建应用程序的模型对象。</p><p><a title=\"Listing 1-2Handling a URL request based on a custom scheme\" target=\"_blank\"></a></p><p><strong>程序清单1-2 &nbsp;</strong>处理基于定制模式的URL请求</p><table style=\"width: 668px;\"><tbody><tr><td scope=\"row\"><pre>-&nbsp;(BOOL)application:(UIApplication&nbsp;*)application&nbsp;handleOpenURL:(NSURL&nbsp;*)url&nbsp;{</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;([[url&nbsp;scheme]&nbsp;isEqualToString:@&quot;todolist&quot;])&nbsp;{</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ToDoItem&nbsp;*item&nbsp;=&nbsp;[[ToDoItem&nbsp;alloc]&nbsp;init];</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSString&nbsp;*taskName&nbsp;=&nbsp;[url&nbsp;query];</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!taskName&nbsp;||&nbsp;![self&nbsp;isValidTaskString:taskName])&nbsp;{&nbsp;//&nbsp;must&nbsp;have&nbsp;a&nbsp;task&nbsp;name</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[item&nbsp;release];</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;NO;</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;taskName&nbsp;=&nbsp;[taskName&nbsp;stringByReplacingPercentEscapesUsingEncoding:NSUTF8StringEncoding];</pre></td></tr><tr><td scope=\"row\"></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;item.toDoTask&nbsp;=&nbsp;taskName;</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSString&nbsp;*dateString&nbsp;=&nbsp;[url&nbsp;fragment];</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!dateString&nbsp;||&nbsp;[dateString&nbsp;isEqualToString:@&quot;today&quot;])&nbsp;{</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;item.dateDue&nbsp;=&nbsp;[NSDate&nbsp;date];</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(![self&nbsp;isValidDateString:dateString])&nbsp;{</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[item&nbsp;release];</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;NO;</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;format:&nbsp;yyyymmddhhmm&nbsp;(24-hour&nbsp;clock)</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSString&nbsp;*curStr&nbsp;=&nbsp;[dateString&nbsp;substringWithRange:NSMakeRange(0,&nbsp;4)];</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSInteger&nbsp;yeardigit&nbsp;=&nbsp;[curStr&nbsp;integerValue];</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;curStr&nbsp;=&nbsp;[dateString&nbsp;substringWithRange:NSMakeRange(4,&nbsp;2)];</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSInteger&nbsp;monthdigit&nbsp;=&nbsp;[curStr&nbsp;integerValue];</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;curStr&nbsp;=&nbsp;[dateString&nbsp;substringWithRange:NSMakeRange(6,&nbsp;2)];</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSInteger&nbsp;daydigit&nbsp;=&nbsp;[curStr&nbsp;integerValue];</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;curStr&nbsp;=&nbsp;[dateString&nbsp;substringWithRange:NSMakeRange(8,&nbsp;2)];</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSInteger&nbsp;hourdigit&nbsp;=&nbsp;[curStr&nbsp;integerValue];</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;curStr&nbsp;=&nbsp;[dateString&nbsp;substringWithRange:NSMakeRange(10,&nbsp;2)];</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSInteger&nbsp;minutedigit&nbsp;=&nbsp;[curStr&nbsp;integerValue];</pre></td></tr><tr><td scope=\"row\"></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSDateComponents&nbsp;*dateComps&nbsp;=&nbsp;[[NSDateComponents&nbsp;alloc]&nbsp;init];</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[dateComps&nbsp;setYear:yeardigit];</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[dateComps&nbsp;setMonth:monthdigit];</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[dateComps&nbsp;setDay:daydigit];</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[dateComps&nbsp;setHour:hourdigit];</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[dateComps&nbsp;setMinute:minutedigit];</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSCalendar&nbsp;*calendar&nbsp;=&nbsp;[NSCalendar&nbsp;currentCalendar];</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSDate&nbsp;*itemDate&nbsp;=&nbsp;[calendar&nbsp;dateFromComponents:dateComps];</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!itemDate)&nbsp;{</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[dateComps&nbsp;release];</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[item&nbsp;release];</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;NO;</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;item.dateDue&nbsp;=&nbsp;itemDate;</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[dateComps&nbsp;release];</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</pre></td></tr><tr><td scope=\"row\"></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[(NSMutableArray&nbsp;*)self.list&nbsp;addObject:item];</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[item&nbsp;release];</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;YES;</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;}</pre></td></tr><tr><td scope=\"row\"><pre>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;NO;</pre></td></tr><tr><td scope=\"row\"><pre>}</pre></td></tr></tbody></table><p>请务必对传入的URL输入进行验证。如果您希望了解如何避免URL处理的相关问题，请参见<em><a href=\"http://developer.apple.com/iphone/library/documentation/Security/Conceptual/SecureCodingGuide/index.html#//apple_ref/doc/uid/TP40002415\" target=\"_blank\">安全编码指南</a></em>文档中的<a href=\"http://developer.apple.com/iphone/library/documentation/Security/Conceptual/SecureCodingGuide/Articles/ValidatingInput.html#//apple_ref/doc/uid/TP40007246\" target=\"_blank\">验证输入</a>部分。如果要了解苹果定义的URL模式，请参见<em><a href=\"http://developer.apple.com/iphone/library/featuredarticles/iPhoneURLScheme_Reference/index.html#//apple_ref/doc/uid/TP40007899\" target=\"_blank\">苹果的URL模式参考</a></em>。</p><p></p>','2013-12-11 08:22:55','2013-12-11 16:22:55'),(274,'114.247.232.56',3,'调用其它程序及openURL命令','<p>openURL tel://电话号码&nbsp;&nbsp;&nbsp; 在屏幕锁定的时候没有反应<br/>&nbsp;<br/>openURL http://网址&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 在safari打开网页<br/>&nbsp;<br/>openURL <a href=\"mailto://EMAIL\">mailto://EMAIL</a>地址<br/>&nbsp;<br/>openURL sms://电话号码 <br/>&nbsp;<br/>&nbsp;<br/>&nbsp;<br/>打开GOOGLE MAP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maps://maps.google.com&nbsp;&nbsp;&nbsp; 或&nbsp;&nbsp;&nbsp; <a href=\"http://maps.google.com/maps?q=${QUERY_STRING\">http://maps.google.com/maps?q=${QUERY_STRING</a>}</p><p>打开APPSTORE&nbsp;&nbsp;&nbsp;&nbsp; <a href=\"http://phobos.apple.com/WebObjects/MZStore.woa/wa/viewSoftware?id=291586600&amp;mt=8\">http://phobos.apple.com/WebObjects/MZStore.woa/wa/viewSoftware?id=291586600&amp;mt=8</a><br/>&nbsp;<br/>&nbsp;<br/>&nbsp;<br/>代码使用:<br/>&nbsp;<br/>在info.plist里加一项urltype<br/>&nbsp;<br/>然后出现item0 子节点url identifier&nbsp;&nbsp; 格式就是com.xxx.aapp(这也是可变)<br/>&nbsp;<br/>这时再顺着这个加一顶<br/>&nbsp;<br/>url schemes出现item 0<br/>&nbsp;<br/>这个aapp我一开始就打的和那个com.xxx.aapp一样,所以我也没改过,估计不一样也行<br/>&nbsp;<br/>代码就是<br/>&nbsp;<br/>[[UIApplication sharedApplication] openURL:[NSURL URLWithString:@&quot;aapp://你应用程序的路径/xx.app]];<br/>&nbsp;<br/>注意那个aapp<br/>&nbsp;<br/>就是我们那个最后定的名字<br/>&nbsp;<br/>&nbsp;<br/>&nbsp;<br/>&nbsp;<br/>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>[问题描述]<br/>&nbsp;<br/>1:在程序B中检测手机中是否安装A程序.<br/>&nbsp;<br/>2:在程序B中打开应用程序A.<br/>&nbsp;<br/>[解决办法]<br/>&nbsp;<br/>步骤一:<br/>&nbsp;<br/>首先在程序A的plist的source code中添加url types<br/>&nbsp;<br/>&lt;key&gt;CFBundleURLTypes&lt;/key&gt;<br/>&nbsp;<br/>&lt;array&gt;<br/>&nbsp;<br/>&lt;dict&gt;<br/>&nbsp;<br/>&lt;key&gt;CFBundleURLSchemes&lt;/key&gt;<br/>&nbsp;<br/>&lt;array&gt;<br/>&nbsp;<br/>&lt;string&gt;testA&lt;/string&gt;<br/>&nbsp;<br/>&lt;/array&gt;<br/>&nbsp;<br/>&lt;/dict&gt;<br/>&nbsp;<br/>&lt;/array&gt;</p><p>&nbsp;</p><p><br/>或</p><p><br/>打开info.plist，添加一项URL types<br/>1.展开URL types，再展开Item0，</p><p>2.在URL types-&gt;Item0 下再添加一项URL Schemes，将URL Schemes-&gt;Item0的内容修改为testA<br/>其他程序可通过testA://访问此自定义URL</p><p>&nbsp;</p><p><br/>/*注:*/</p><p>URL Scheme-&gt;Item0 这项是打开程序的标识,可以多个,名字不能带&quot;_&quot;符号,不区分大小写</p><p>&nbsp;</p><p><br/>然后在程序打开的函数里加入获取打开参数</p><p><br/>- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions<br/>&nbsp;<br/>{<br/>&nbsp;<br/>&nbsp;&nbsp; ...<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp; NSString*str=[NSString stringWithFormat:@&quot;source=%@ parm=%@&quot;,<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [launchOptions objectForKey:UIApplicationLaunchOptionsSourceApplicationKey],<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [launchOptions objectForKey:UIApplicationLaunchOptionsURLKey]];<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp; //显示信息<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp; UIAlertView *alertView;<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp; alertView = [[UIAlertView alloc] initWithTitle:@&quot;Error&quot; message:str delegate:nil cancelButtonTitle:@&quot;OK&quot; otherButtonTitles:nil];<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp; [alertView show];<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp; [alertView release];<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp; return YES;<br/>&nbsp;<br/>}</p><p>&nbsp;</p><p><br/>&nbsp;<br/>步骤二:<br/>&nbsp;<br/>在程序B中调用A程序的地方添加代码<br/>&nbsp;<br/>NSURL * myURL_APP_A = [NSURL URLWithString:@&quot;testA://i_am_parameter&quot;];<br/>&nbsp;<br/>if ([[UIApplication sharedApplication] canOpenURL:myURL_APP_A]) {<br/>&nbsp;<br/>NSLog(@&quot;canOpenURL&quot;);<br/>&nbsp;<br/>[[UIApplication sharedApplication] openURL:myURL_APP_A];<br/>&nbsp;<br/>}<br/>&nbsp;<br/>注:<br/>&nbsp;<br/>这里通过canOpenURL就可以通过URL检查机器是否安装有程序A<br/>&nbsp;<br/>通过openURL打开程序A<br/>&nbsp;<br/></p><p></p>','2013-12-11 08:23:49','2013-12-11 16:23:49'),(275,'114.247.232.56',3,'直接退出不后台运行的方法','<p>iOS 4 引入了多任务支持，所以用户按下 “Home” 键以后程序可能并没有退出而是转入了后台运行。如果您想让应用直接退出，最简单的方法是：在 info－plist 里面找到 Application does not run in background 一项，勾选即可。</p>','2013-12-11 08:24:09','2013-12-11 16:24:09'),(276,'114.247.232.56',3,'iphone HOOK','<p><a href=\"http://www.ipodtouchfans.com/forums/showthread.php?t=103558\" target=\"_blank\">http://www.ipodtouchfans.com/forums/showthread.php?t=103558</a></p><p>&nbsp;</p><p>&nbsp;</p><p>ExampleHookProtocol.h<br itxtvisited=\"1\"/></p><p style=\"text-indent: 2em;\">Code:</p><p style=\"text-indent: 2em;\">&nbsp;</p><pre style=\"margin: 0px; padding: 6px; border: 1px inset currentColor; width: 640px; height: 225px; text-align: left; overflow: auto;\" dir=\"ltr\" itxtvisited=\"1\">/*\r\n&nbsp;*&nbsp;&nbsp;ExampleHookProtocol.h\r\n&nbsp;*&nbsp;&nbsp;\r\n&nbsp;*\r\n&nbsp;*&nbsp;&nbsp;Created&nbsp;by&nbsp;John&nbsp;on&nbsp;10/4/08.\r\n&nbsp;*&nbsp;&nbsp;Copyright&nbsp;2008&nbsp;Gojohnnyboi.&nbsp;All&nbsp;rights&nbsp;reserved.\r\n&nbsp;*\r\n&nbsp;*/\r\n\r\n#import&nbsp;&lt;UIKit/UIKit.h&gt;\r\n#import&nbsp;&lt;Foundation/Foundation.h&gt;\r\n#import&nbsp;&lt;SpringBoard/SBApplicationIcon.h&gt;\r\n#import&nbsp;&lt;objc/runtime.h&gt;\r\n#import&nbsp;&quot;substrate.h&quot;\r\n\r\n//&nbsp;We&nbsp;import&nbsp;our&nbsp;headers,&nbsp;&quot;SpringBoard&quot;&nbsp;being&nbsp;the&nbsp;dumped&nbsp;headers&nbsp;placed&nbsp;in&nbsp;your&nbsp;include&nbsp;directory.\r\n\r\n@protocol&nbsp;ExampleHook\r\n\r\n//&nbsp;When&nbsp;we&nbsp;redirect&nbsp;the&nbsp;&quot;launch&quot;&nbsp;method,&nbsp;we&nbsp;will&nbsp;specify&nbsp;this&nbsp;prefix,&nbsp;which\r\n//&nbsp;will&nbsp;allow&nbsp;us&nbsp;to&nbsp;call&nbsp;the&nbsp;original&nbsp;method&nbsp;if&nbsp;desired.\r\n-&nbsp;(void)__OriginalMethodPrefix_launch;\r\n\r\n@end</pre><p>&nbsp;</p><p>&nbsp;</p><p>ExampleHookLibrary.h (Our header file)</p><p>Code:</p><pre style=\"margin: 0px; padding: 6px; border: 1px inset currentColor; width: 640px; height: 225px; text-align: left; overflow: auto;\" dir=\"ltr\" itxtvisited=\"1\" lc=\"928\">/*\r\n&nbsp;*&nbsp;&nbsp;ExampleHookLibrary.h\r\n&nbsp;*&nbsp;&nbsp;\r\n&nbsp;*\r\n&nbsp;*&nbsp;&nbsp;Created&nbsp;by&nbsp;John&nbsp;on&nbsp;10/4/08.\r\n&nbsp;*&nbsp;&nbsp;Copyright&nbsp;2008&nbsp;Gojohnnyboi.&nbsp;All&nbsp;rights&nbsp;reserved.\r\n&nbsp;*\r\n&nbsp;*/\r\n\r\n#import&nbsp;&quot;ExampleHookProtocol.h&quot;\r\n\r\n//&nbsp;Our&nbsp;method&nbsp;to&nbsp;override&nbsp;the&nbsp;launch&nbsp;of&nbsp;the&nbsp;icon\r\nstatic&nbsp;void&nbsp;__$ExampleHook_AppIcon_Launch(SBApplicationIcon&lt;ExampleHook&gt;&nbsp;*_SBApplicationIcon);\r\n\r\n//&nbsp;Our&nbsp;intiialization&nbsp;point&nbsp;that&nbsp;will&nbsp;be&nbsp;called&nbsp;when&nbsp;the&nbsp;dylib&nbsp;is&nbsp;loaded\r\nextern&nbsp;&quot;C&quot;&nbsp;void&nbsp;ExampleHookInitialize();</pre><p>ExampleHookLibrary.h (Our header file)<br itxtvisited=\"1\"/></p><p>Code:</p><pre style=\"margin: 0px; padding: 6px; border: 1px inset currentColor; width: 640px; height: 274px; text-align: left; overflow: auto;\" dir=\"ltr\" itxtvisited=\"1\" lc=\"928\">/*\r\n&nbsp;*&nbsp;&nbsp;ExampleHookLibrary.h\r\n&nbsp;*&nbsp;&nbsp;\r\n&nbsp;*\r\n&nbsp;*&nbsp;&nbsp;Created&nbsp;by&nbsp;John&nbsp;on&nbsp;10/4/08.\r\n&nbsp;*&nbsp;&nbsp;Copyright&nbsp;2008&nbsp;Gojohnnyboi.&nbsp;All&nbsp;rights&nbsp;reserved.\r\n&nbsp;*\r\n&nbsp;*/\r\n\r\n#import&nbsp;&quot;ExampleHookProtocol.h&quot;\r\n\r\n//&nbsp;Our&nbsp;method&nbsp;to&nbsp;override&nbsp;the&nbsp;launch&nbsp;of&nbsp;the&nbsp;icon\r\nstatic&nbsp;void&nbsp;__$ExampleHook_AppIcon_Launch(SBApplicationIcon&lt;ExampleHook&gt;&nbsp;*_SBApplicationIcon);\r\n\r\n//&nbsp;Our&nbsp;intiialization&nbsp;point&nbsp;that&nbsp;will&nbsp;be&nbsp;called&nbsp;when&nbsp;the&nbsp;dylib&nbsp;is&nbsp;loaded\r\nextern&nbsp;&quot;C&quot;&nbsp;void&nbsp;ExampleHookInitialize();</pre><p>ExampleHookLibrary.mm (Our main code file, [.mm allows all versions of C])<br itxtvisited=\"1\"/></p><p>Code:</p><pre style=\"margin: 0px; padding: 6px; border: 1px inset currentColor; width: 640px; height: 229px; text-align: left; overflow: auto;\" dir=\"ltr\" itxtvisited=\"1\" lc=\"120\">/*\r\n&nbsp;*&nbsp;&nbsp;ExampleHookLibrary.mm\r\n&nbsp;*&nbsp;&nbsp;\r\n&nbsp;*\r\n&nbsp;*&nbsp;&nbsp;Created&nbsp;by&nbsp;John&nbsp;on&nbsp;10/4/08.\r\n&nbsp;*&nbsp;&nbsp;Copyright&nbsp;2008&nbsp;Gojohnnyboi.&nbsp;All&nbsp;rights&nbsp;reserved.\r\n&nbsp;*\r\n&nbsp;*/\r\n\r\n#import&nbsp;&quot;ExampleHookLibrary.h&quot;</pre><p></p>','2013-12-11 08:24:33','2013-12-11 16:24:33'),(277,'114.247.232.56',3,'获取一个图片像素点RGB值的代码','<p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">int</span>)getImageData:(<span style=\"color: rgb(116, 60, 166);\">UIImage</span>*)image :(<span style=\"color: rgb(194, 42, 159);\">char</span>*)outbuf_w_h_4</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">int</span> len=image.<span style=\"color: rgb(116, 60, 166);\">size</span>.<span style=\"color: rgb(116, 60, 166);\">width</span>*image.<span style=\"color: rgb(116, 60, 166);\">size</span>.<span style=\"color: rgb(116, 60, 166);\">height</span>*<span style=\"color: rgb(37, 38, 211);\">4</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">if</span> (outbuf_w_h_4 == <span style=\"color: rgb(194, 42, 159);\">NULL</span>)</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">return</span> <span style=\"color: rgb(37, 38, 211);\">0</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(116, 60, 166);\">CGColorSpaceRef</span><span style=\"color: rgb(0, 0, 0);\"> cref = </span>CGColorSpaceCreateDeviceRGB<span style=\"color: rgb(0, 0, 0);\">();</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">CGContextRef</span> gc = <span style=\"color: rgb(63, 28, 126);\">CGBitmapContextCreate</span>(outbuf_w_h_4,</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">image.<span style=\"color: rgb(116, 60, 166);\">size</span>.<span style=\"color: rgb(116, 60, 166);\">width</span>,image.<span style=\"color: rgb(116, 60, 166);\">size</span>.<span style=\"color: rgb(116, 60, 166);\">height</span>,</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(37, 38, 211);\">8</span>,image.<span style=\"color: rgb(116, 60, 166);\">size</span>.<span style=\"color: rgb(116, 60, 166);\">width</span>*<span style=\"color: rgb(37, 38, 211);\">4</span>,</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">cref,<span style=\"color: rgb(63, 28, 126);\">kCGImageAlphaNoneSkipLast</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>CGColorSpaceRelease<span style=\"color: rgb(0, 0, 0);\">(cref);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>UIGraphicsPushContext<span style=\"color: rgb(0, 0, 0);\">(gc);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;[image </span>drawAtPoint<span style=\"color: rgb(0, 0, 0);\">:</span>CGPointMake<span style=\"color: rgb(0, 0, 0);\">(</span><span style=\"color: rgb(37, 38, 211);\">0.0f</span><span style=\"color: rgb(0, 0, 0);\">, </span><span style=\"color: rgb(37, 38, 211);\">0.0f</span><span style=\"color: rgb(0, 0, 0);\">)];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>UIGraphicsPopContext<span style=\"color: rgb(0, 0, 0);\">();</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>CGContextRelease<span style=\"color: rgb(0, 0, 0);\">(gc);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">return</span> len;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p></p>','2013-12-11 08:24:51','2013-12-11 16:24:51'),(278,'114.247.232.56',3,'实现iPhone 启动项','<p>如果想让程序自动启动,则需要使用4个方法,一个用来获取启动项的列表,一个用于向里面增加启动项,一个用来从里面移除一个启动项,还有一个用来<br/>&nbsp;<br/>将里面的启动项解析为URL.<br/>&nbsp;<br/>&nbsp;<br/>&nbsp;<br/>下面的方法用于获取启动项列表:<br/>&nbsp;</p><p>==================<br/>&nbsp;<br/>LSSharedFileListCreate(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CFAllocatorRef&nbsp;&nbsp; inAllocator,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CFStringRef&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; inListType,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CFTypeRef&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; listOptions<br/>&nbsp;)</p><p>==================<br/>&nbsp;</p><p>参数:<br/>&nbsp;</p><p>&nbsp;&nbsp; 1.&nbsp;&nbsp;&nbsp; inAllocator - CFAllocatorRef,用于创建LSSharedFileListRef . 如果使用NULL则意思是采用默认的创建方法<br/>&nbsp;&nbsp; 2.&nbsp;&nbsp;&nbsp; inListType&nbsp;&nbsp;&nbsp; - 创建的列表类型 (在这里会是 kLSSharedFileListSessionLoginItems(当前用户的启动项列表) 或者</p><p>kLSSharedFileListGlobalLoginItems (所有用户的启动项列表)).<br/>&nbsp;&nbsp; 3.&nbsp;&nbsp;&nbsp; listOptions&nbsp; -其他选项,一般来说就是NULL啦~<br/>&nbsp;<br/>==================<br/>&nbsp;</p><p>第二个方法会在启动项列表中插入一个新的启动项,如果该项已存在,则会根据 insertAfterThisItem 参数指定的位置移动项目<br/>&nbsp;<br/>&nbsp;extern LSSharedFileListItemRef<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LSSharedFileListInsertItemURL(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LSSharedFileListRef&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; inList,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LSSharedFileListItemRef&nbsp;&nbsp;&nbsp;&nbsp; insertAfterThisItem,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CFStringRef&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; inDisplayName, <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IconRef&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; inIconRef, <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CFURLRef&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; inURL, <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CFDictionaryRef&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; inPropertiesToSet, <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CFArrayRef&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; inPropertiesToClear<br/>&nbsp;)<br/>&nbsp;<br/>&nbsp;</p><p>==================<br/>&nbsp;<br/>参数<br/>&nbsp;<br/>&nbsp;&nbsp; 1.&nbsp;&nbsp;&nbsp; inList - 我们想要插入启动项的列表.<br/>&nbsp;&nbsp; 2.&nbsp;&nbsp;&nbsp; insertAfterThisItem - 指定在哪插,kLSSharedFileListItemBeforeFirst表示最前,kLSSharedFileListItemLast表示最后<br/>&nbsp;&nbsp; 3.&nbsp;&nbsp;&nbsp; inDisplayName – 项目的显示明,如果是NULL的话则为应用程序的名字<br/>&nbsp;&nbsp; 4.&nbsp;&nbsp;&nbsp; inIconRef –项目的显示图标,如果是NULL的话则为应用程序的图标<br/>&nbsp;&nbsp; 5.&nbsp;&nbsp;&nbsp; inURL – 项目的URL,即程序XXX.app的完整地址,包括XXX.app<br/>&nbsp;&nbsp; 6.&nbsp;&nbsp;&nbsp; 另外两个你大可不管,留个NULL就好了<br/>&nbsp;</p><p>===================<br/>&nbsp;<br/>第三个方法用于删除<br/>&nbsp; <br/>extern OSStatus<br/>&nbsp;&nbsp; LSSharedFileListItemRemove(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LSSharedFileListRef&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; inList,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LSSharedFileListItemRef&nbsp;&nbsp; inItem<br/>&nbsp;)<br/>&nbsp;<br/>&nbsp;</p><p>===================<br/>&nbsp;<br/>参数:<br/>&nbsp;<br/>&nbsp;&nbsp; 1. inList – 我们想要删除启动项的列表.<br/>&nbsp;&nbsp; 2. inItem – 要删除的项<br/>&nbsp;<br/>===================<br/>&nbsp;<br/>最后一个方法用来解析启动项的 URL,用来检索启动项列表里的东西<br/>&nbsp; <br/>extern OSStatus<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LSSharedFileListItemResolve(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LSSharedFileListItemRef&nbsp;&nbsp; inItem,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UInt32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; inFlags,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CFURLRef *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; outURL,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FSRef *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; outRef<br/>&nbsp;)<br/>&nbsp;</p><p><br/>===================<br/>&nbsp;<br/>参数:<br/>&nbsp;<br/>&nbsp;&nbsp; 1. inItem – 我们想要解析的项.<br/>&nbsp;&nbsp; 2. inFlags – 只管留空(NULL)就好了.<br/>&nbsp;&nbsp; 3. outURL –想要输出的解析项的URL<br/>&nbsp;&nbsp; 4. outRef –原始项的 FSRef . 您就继续留空(NULL)吧<br/>&nbsp;<br/>====================<br/>&nbsp;</p><p>那么到了这里我们就可以开始写代码啦~下面的例子让你的程序可以将自己添加到启动项(第一个方法)或者从中删除(第二个方法)<br/>&nbsp;<br/>&nbsp; <br/>-(void) addAppAsLoginItem{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NSString * appPath = [[NSBundle mainBundle] bundlePath];<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //获取程序的路径<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 比如, /Applications/test.app<br/>&nbsp; <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CFURLRef url = (CFURLRef)[NSURL fileURLWithPath:appPath];<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 创建路径的引用<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 我们只为当前用户添加启动项,所以我们用kLSSharedFileListSessionLoginItems<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 如果要为全部用户添加,则替换为kLSSharedFileListGlobalLoginItems<br/>&nbsp; <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LSSharedFileListRef loginItems = LSSharedFileListCreate(NULL,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; kLSSharedFileListSessionLoginItems, NULL);<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (loginItems) {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //将项目插入启动表中.<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LSSharedFileListItemRef item = LSSharedFileListInsertItemURL(loginItems,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; kLSSharedFileListItemLast, NULL, NULL,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; url, NULL, NULL);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (item){<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CFRelease(item);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CFRelease(loginItems); <br/>}<br/>&nbsp;<br/>&nbsp;<br/>-(void) deleteAppFromLoginItem{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NSString * appPath = [[NSBundle mainBundle] bundlePath];<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //获取程序的路径 <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 比如, /Applications/test.app<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CFURLRef url = (CFURLRef)[NSURL fileURLWithPath:appPath];<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 创建引用. <br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LSSharedFileListRef loginItems = LSSharedFileListCreate(NULL,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; kLSSharedFileListSessionLoginItems, NULL);<br/>&nbsp; <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (loginItems) {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UInt32 seedValue;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //获取启动项列表并转换为NSArray,这样方便取其中的项<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NSArray&nbsp; *loginItemsArray = (NSArray *)LSSharedFileListCopySnapshot(loginItems, &amp;seedValue);<br/>&nbsp; <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int i = 0;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i ; i&lt; [loginItemsArray count]; i++){<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LSSharedFileListItemRef itemRef = (LSSharedFileListItemRef)[loginItemsArray<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; objectAtIndex:i];<br/>&nbsp; <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //用URL来解析项<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (LSSharedFileListItemResolve(itemRef, 0, (CFURLRef*) &amp;url, NULL) == noErr) {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NSString * urlPath = [(NSURL*)url path];<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ([urlPath compare:appPath] == NSOrderedSame){<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LSSharedFileListItemRemove(loginItems,itemRef);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [loginItemsArray release];<br/>&nbsp;&nbsp;&nbsp;&nbsp; } <br/>}<br/>&nbsp;</p><p><br/>====================<br/>&nbsp;</p><p>这就是全部了,那么祝你好运~<br/>&nbsp;</p><p>====================<br/>&nbsp;</p><p>后记:<br/>&nbsp;</p><p>这应该讲非常清楚了,我就不多说了,不过代码还是有可以改进的地方,比如说最后for循环那一段,其实可以用Obj-C中的快速枚举机制来替代,写成下<br/>&nbsp;<br/>面这个样子:<br/>&nbsp; <br/>for(id itemRef in loginItemsArray){<br/>&nbsp;&nbsp;&nbsp;&nbsp; if (LSSharedFileListItemResolve((LSSharedFileListItemRef)itemRef, 0, (CFURLRef*) &amp;url, NULL) == noErr) {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NSString * urlPath = [(NSURL*)url path];<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ([urlPath compare:appPath] == NSOrderedSame){ <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LSSharedFileListItemRemove(loginItems,itemRef); <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } <br/>&nbsp;&nbsp;&nbsp;&nbsp; } <br/>&nbsp;}<br/>&nbsp;</p><p>&nbsp;这样既用到了Obj-C给的方便的方法,又省去了一个i变量,代码还显得更优雅,何乐而不为呢?</p><p>原文地址：<a href=\"http://cocoatutorial.grapewave.com/2010/02/creating-andor-removing-a-login-item/\">http://cocoatutorial.grapewave.com/2010/02/creating-andor-removing-a-login-item/</a></p><p>&nbsp;</p><p></p>','2013-12-11 08:25:35','2013-12-11 16:25:35'),(279,'114.247.232.56',3,'IPhone从目录搜索扩展名为jpg的','<p><span style=\"color: rgb(98, 91, 73);\">/*******************************************************************************************<br style=\"line-height: normal;\"/>从目录搜索扩展名为jpg的文件<br style=\"line-height: normal;\"/>*******************************************************************************************/<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//NSFileManager *fileManager = [NSFileManager defaultManager];<br style=\"line-height: normal;\"/>NSString *home;<br style=\"line-height: normal;\"/>home = @&quot;../Users/&quot;;<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>NSDirectoryEnumerator *direnum;<br style=\"line-height: normal;\"/>direnum = [fileManager enumeratorAtPath: home];<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>NSMutableArray *files = [[NSMutableArray alloc] init];<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//枚举<br style=\"line-height: normal;\"/>NSString *filename;<br style=\"line-height: normal;\"/>while (filename = [direnum nextObject]) {<br style=\"line-height: normal;\"/>if([[filename pathExtension] hasSuffix:@&quot;jpg&quot;]){<br style=\"line-height: normal;\"/>[files addObject:filename];<br style=\"line-height: normal;\"/>}<br style=\"line-height: normal;\"/>}<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//快速枚举<br style=\"line-height: normal;\"/>//for(NSString *filename in direnum)<br style=\"line-height: normal;\"/>//{<br style=\"line-height: normal;\"/>// &nbsp; &nbsp;if([[filename pathExtension] isEqualToString:@&quot;jpg&quot;]){<br style=\"line-height: normal;\"/>// &nbsp; &nbsp; &nbsp; &nbsp;[files addObject:filename];<br style=\"line-height: normal;\"/>// &nbsp; &nbsp;}<br style=\"line-height: normal;\"/>//}<br style=\"line-height: normal;\"/>NSLog(@&quot;files:%@&quot;,files);<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//枚举<br style=\"line-height: normal;\"/>NSEnumerator *filenum;<br style=\"line-height: normal;\"/>filenum = [files objectEnumerator];<br style=\"line-height: normal;\"/>while (filename = [filenum nextObject]) {<br style=\"line-height: normal;\"/>NSLog(@&quot;filename:%@&quot;,filename);<br style=\"line-height: normal;\"/>}<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//快速枚举<br style=\"line-height: normal;\"/>//for(id object in files)<br style=\"line-height: normal;\"/>//{<br style=\"line-height: normal;\"/>// &nbsp; &nbsp;NSLog(@&quot;object:%@&quot;,object);<br style=\"line-height: normal;\"/>//}</span></p>','2013-12-11 08:25:55','2013-12-11 16:25:55'),(280,'114.247.232.56',3,'NSDictionary常用方法','<p>/*******************************************************************************************<br/>NSDictionary<br/>*******************************************************************************************/<br/><br/>NSDictionary *dictionary = [[NSDictionary alloc] initWithObjectsAndKeys:@&quot;One&quot;,@&quot;1&quot;,@&quot;Two&quot;,@&quot;2&quot;,@&quot;Three&quot;,@&quot;3&quot;,nil];<br/>NSString *string = [dictionary objectForKey:@&quot;1&quot;];<br/>NSLog(@&quot;string:%@&quot;,string);<br/>NSLog(@&quot;dictionary:%@&quot;,dictionary);<br/>[dictionary release];</p><p><br/></p><p style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">/<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">快速枚举</span></p><p style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">for(NSString *key in <span style=\"font-size: 14px;\">dictionary</span>)</p><p style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">id anObject =[<span style=\"font-size: 14px;\">dictionary</span> objectForKey:key];</p><p style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">/* <span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">快速枚举</span>2</p><p style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">//Create the dictionary.</p><p style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">&nbsp; NSArray *keys = [dictionary allKeys];</p><p style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">id aKey = [keys objectAtIndex:0];</p><p style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">id anObject = [dictionary objectForKey:aKey];</p><p style=\"font: 11px/normal Menlo; font-size-adjust: none; font-stretch: normal;\">*/</p><p></p>','2013-12-11 08:26:13','2013-12-11 16:26:13'),(281,'114.247.232.56',3,'NSMutableArray常用方法','<pre>//Copy\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;//id&nbsp;obj;\r\n&nbsp;&nbsp;&nbsp;&nbsp;NSMutableArray&nbsp;*newArray&nbsp;=&nbsp;［NSMutableArray&nbsp;alloc]&nbsp;init];\r\n&nbsp;&nbsp;&nbsp;&nbsp;NSArray&nbsp;*oldArray&nbsp;=&nbsp;[NSArray&nbsp;arrayWithObjects:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@&quot;a&quot;,@&quot;b&quot;,@&quot;c&quot;,@&quot;d&quot;,@&quot;e&quot;,@&quot;f&quot;,@&quot;g&quot;,@&quot;h&quot;,nil];\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;NSLog(@&quot;oldArray:%@&quot;,oldArray);\r\n&nbsp;&nbsp;&nbsp;&nbsp;for(int&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;[oldArray&nbsp;count];&nbsp;i++)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;obj&nbsp;=&nbsp;[[oldArray&nbsp;objectAtIndex:i]&nbsp;copy];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[newArray&nbsp;addObject:&nbsp;obj];\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;NSLog(@&quot;newArray:%@&quot;,&nbsp;newArray);\r\n&nbsp;&nbsp;&nbsp;&nbsp;[newArray&nbsp;release];</pre><p><br/></p><p><br style=\"line-height: normal;\"/><span style=\"color: rgb(98, 91, 73);\">/*******************************************************************************************<br style=\"line-height: normal;\"/>NSMutableArray<br style=\"line-height: normal;\"/>*******************************************************************************************/<br style=\"line-height: normal;\"/>/*---------------给数组分配容量----------------*/<br style=\"line-height: normal;\"/>//NSArray *array;<br style=\"line-height: normal;\"/>array = [NSMutableArray arrayWithCapacity:20];<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>/*--------------在数组末尾添加对象----------------*/<br style=\"line-height: normal;\"/>//- (void) addObject: (id) anObject;<br style=\"line-height: normal;\"/>//NSMutableArray *array = [NSMutableArray arrayWithObjects:<br style=\"line-height: normal;\"/>@&quot;One&quot;,@&quot;Two&quot;,@&quot;Three&quot;,nil];<br style=\"line-height: normal;\"/>[array addObject:@&quot;Four&quot;];<br style=\"line-height: normal;\"/>NSLog(@&quot;array:%@&quot;,array);<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>/*--------------删除数组中指定索引处对象----------------*/ &nbsp; &nbsp;<br style=\"line-height: normal;\"/>//-(void) removeObjectAtIndex: (unsigned) index; &nbsp; &nbsp;<br style=\"line-height: normal;\"/>//NSMutableArray *array = [NSMutableArray arrayWithObjects:<br style=\"line-height: normal;\"/>@&quot;One&quot;,@&quot;Two&quot;,@&quot;Three&quot;,nil];<br style=\"line-height: normal;\"/>[array removeObjectAtIndex:1];<br style=\"line-height: normal;\"/>NSLog(@&quot;array:%@&quot;,array);<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>/*-------------数组枚举---------------*/ &nbsp; &nbsp;<br style=\"line-height: normal;\"/>//- (NSEnumerator *)objectEnumerator;从前向后<br style=\"line-height: normal;\"/>//NSMutableArray *array = [NSMutableArray arrayWithObjects:<br style=\"line-height: normal;\"/>@&quot;One&quot;,@&quot;Two&quot;,@&quot;Three&quot;,nil];<br style=\"line-height: normal;\"/>NSEnumerator *enumerator;<br style=\"line-height: normal;\"/>enumerator = [array objectEnumerator];<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>id thingie;<br style=\"line-height: normal;\"/>while (thingie = [enumerator nextObject]) {<br style=\"line-height: normal;\"/>NSLog(@&quot;thingie:%@&quot;,thingie);<br style=\"line-height: normal;\"/>}<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//- (NSEnumerator *)reverseObjectEnumerator;从后向前<br style=\"line-height: normal;\"/>//NSMutableArray *array = [NSMutableArray arrayWithObjects:<br style=\"line-height: normal;\"/>@&quot;One&quot;,@&quot;Two&quot;,@&quot;Three&quot;,nil];<br style=\"line-height: normal;\"/>NSEnumerator *enumerator;<br style=\"line-height: normal;\"/>enumerator = [array reverseObjectEnumerator];<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>id object;<br style=\"line-height: normal;\"/>while (object = [enumerator nextObject]) {<br style=\"line-height: normal;\"/>NSLog(@&quot;object:%@&quot;,object);<br style=\"line-height: normal;\"/>}<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//快速枚举<br style=\"line-height: normal;\"/>//NSMutableArray *array = [NSMutableArray arrayWithObjects:<br style=\"line-height: normal;\"/>@&quot;One&quot;,@&quot;Two&quot;,@&quot;Three&quot;,nil];<br style=\"line-height: normal;\"/>for(NSString *string in array)<br style=\"line-height: normal;\"/>{<br style=\"line-height: normal;\"/>NSLog(@&quot;string:%@&quot;,string);<br style=\"line-height: normal;\"/>}</span><br style=\"line-height: normal;\"/></p><p></p>','2013-12-11 08:26:38','2013-12-11 16:26:38'),(282,'114.247.232.56',3,'NSArray常用方法','<p><span style=\"color: rgb(98, 91, 73);\">/*******************************************************************************************<br style=\"line-height: normal;\"/>NSArray<br style=\"line-height: normal;\"/>*******************************************************************************************/<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>/*---------------------------创建数组------------------------------*/<br style=\"line-height: normal;\"/>//NSArray *array = [[NSArray alloc] initWithObjects:<br style=\"line-height: normal;\"/>@&quot;One&quot;,@&quot;Two&quot;,@&quot;Three&quot;,@&quot;Four&quot;,nil];<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>self.dataArray = array;<br style=\"line-height: normal;\"/>[array release];<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//- (unsigned) Count;数组所包含对象个数；<br style=\"line-height: normal;\"/>NSLog(@&quot;self.dataArray cound:%d&quot;,[self.dataArray count]);<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//- (id) objectAtIndex: (unsigned int) index;获取指定索引处的对象;<br style=\"line-height: normal;\"/>NSLog(@&quot;self.dataArray cound 2:%@&quot;,[self.dataArray objectAtIndex:2]);<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>/*--------------------------从一个数组拷贝数据到另一数组(可变数级)----------------------------*/ &nbsp; &nbsp;<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//arrayWithArray:<br style=\"line-height: normal;\"/>//NSArray *array1 = [[NSArray alloc] init];<br style=\"line-height: normal;\"/>NSMutableArray *MutableArray = [[NSMutableArray alloc] init];<br style=\"line-height: normal;\"/>NSArray *array = [NSArray arrayWithObjects:<br style=\"line-height: normal;\"/>@&quot;a&quot;,@&quot;b&quot;,@&quot;c&quot;,nil];<br style=\"line-height: normal;\"/>NSLog(@&quot;array:%@&quot;,array);<br style=\"line-height: normal;\"/>MutableArray = [NSMutableArray arrayWithArray:array];<br style=\"line-height: normal;\"/>NSLog(@&quot;MutableArray:%@&quot;,MutableArray);<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>array1 = [NSArray arrayWithArray:array];<br style=\"line-height: normal;\"/>NSLog(@&quot;array1:%@&quot;,array1);<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//Copy<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//id obj;<br style=\"line-height: normal;\"/>NSMutableArray *newArray = [[NSMutableArray alloc] init];<br style=\"line-height: normal;\"/>NSArray *oldArray = [NSArray arrayWithObjects:<br style=\"line-height: normal;\"/>@&quot;a&quot;,@&quot;b&quot;,@&quot;c&quot;,@&quot;d&quot;,@&quot;e&quot;,@&quot;f&quot;,@&quot;g&quot;,@&quot;h&quot;,nil];<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>NSLog(@&quot;oldArray:%@&quot;,oldArray);<br style=\"line-height: normal;\"/>for(int i = 0; i &lt; [oldArray count]; i++)<br style=\"line-height: normal;\"/>{ &nbsp; &nbsp; &nbsp; &nbsp;<br style=\"line-height: normal;\"/>obj = [[oldArray objectAtIndex:i] copy];<br style=\"line-height: normal;\"/>[newArray addObject: obj];<br style=\"line-height: normal;\"/>}<br style=\"line-height: normal;\"/>// &nbsp; &nbsp; <br style=\"line-height: normal;\"/>NSLog(@&quot;newArray:%@&quot;, newArray);<br style=\"line-height: normal;\"/>[newArray release];<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//快速枚举<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//NSMutableArray *newArray = [[NSMutableArray alloc] init];<br style=\"line-height: normal;\"/>NSArray *oldArray = [NSArray arrayWithObjects:<br style=\"line-height: normal;\"/>@&quot;a&quot;,@&quot;b&quot;,@&quot;c&quot;,@&quot;d&quot;,@&quot;e&quot;,@&quot;f&quot;,@&quot;g&quot;,@&quot;h&quot;,nil]; &nbsp; &nbsp;<br style=\"line-height: normal;\"/>NSLog(@&quot;oldArray:%@&quot;,oldArray);<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>for(id obj in oldArray)<br style=\"line-height: normal;\"/>{<br style=\"line-height: normal;\"/>[newArray addObject: obj];<br style=\"line-height: normal;\"/>}<br style=\"line-height: normal;\"/>// &nbsp; &nbsp; <br style=\"line-height: normal;\"/>NSLog(@&quot;newArray:%@&quot;, newArray);<br style=\"line-height: normal;\"/>[newArray release]; &nbsp; &nbsp;<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//Deep copy<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//NSMutableArray *newArray = [[NSMutableArray alloc] init];<br style=\"line-height: normal;\"/>NSArray *oldArray = [NSArray arrayWithObjects:<br style=\"line-height: normal;\"/>@&quot;a&quot;,@&quot;b&quot;,@&quot;c&quot;,@&quot;d&quot;,@&quot;e&quot;,@&quot;f&quot;,@&quot;g&quot;,@&quot;h&quot;,nil]; &nbsp; &nbsp;<br style=\"line-height: normal;\"/>NSLog(@&quot;oldArray:%@&quot;,oldArray); &nbsp; &nbsp;<br style=\"line-height: normal;\"/>newArray = (NSMutableArray*)CFPropertyListCreateDeepCopy(kCFAllocatorDefault, (CFPropertyListRef)oldArray, kCFPropertyListMutableContainers);<br style=\"line-height: normal;\"/>NSLog(@&quot;newArray:%@&quot;, newArray);<br style=\"line-height: normal;\"/>[newArray release]; &nbsp; &nbsp;<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//Copy and sort<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//NSMutableArray *newArray = [[NSMutableArray alloc] init];<br style=\"line-height: normal;\"/>NSArray *oldArray = [NSArray arrayWithObjects:<br style=\"line-height: normal;\"/>@&quot;b&quot;,@&quot;a&quot;,@&quot;e&quot;,@&quot;d&quot;,@&quot;c&quot;,@&quot;f&quot;,@&quot;h&quot;,@&quot;g&quot;,nil]; &nbsp; &nbsp;<br style=\"line-height: normal;\"/>NSLog(@&quot;oldArray:%@&quot;,oldArray);<br style=\"line-height: normal;\"/>NSEnumerator *enumerator;<br style=\"line-height: normal;\"/>enumerator = [oldArray objectEnumerator];<br style=\"line-height: normal;\"/>id obj;<br style=\"line-height: normal;\"/>while(obj = [enumerator nextObject])<br style=\"line-height: normal;\"/>{<br style=\"line-height: normal;\"/>[newArray addObject: obj];<br style=\"line-height: normal;\"/>}<br style=\"line-height: normal;\"/>[newArray sortUsingSelector:@selector(compare:)];<br style=\"line-height: normal;\"/>NSLog(@&quot;newArray:%@&quot;, newArray);<br style=\"line-height: normal;\"/>[newArray release];<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>/*---------------------------切分数组------------------------------*/<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//从字符串分割到数组－ componentsSeparatedByString:<br style=\"line-height: normal;\"/>NSString *string = [[NSString alloc] initWithString:@&quot;One,Two,Three,Four&quot;];<br style=\"line-height: normal;\"/>NSLog(@&quot;string:%@&quot;,string); &nbsp; &nbsp;<br style=\"line-height: normal;\"/>NSArray *array = [string componentsSeparatedByString:@&quot;,&quot;];<br style=\"line-height: normal;\"/>NSLog(@&quot;array:%@&quot;,array);<br style=\"line-height: normal;\"/>[string release];<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//从数组合并元素到字符串- componentsJoinedByString:<br style=\"line-height: normal;\"/>NSArray *array = [[NSArray alloc] initWithObjects:@&quot;One&quot;,@&quot;Two&quot;,@&quot;Three&quot;,@&quot;Four&quot;,nil];<br style=\"line-height: normal;\"/>NSString *string = [array componentsJoinedByString:@&quot;,&quot;];<br style=\"line-height: normal;\"/>NSLog(@&quot;string:%@&quot;,string);</span><br style=\"line-height: normal;\"/></p>','2013-12-11 08:27:03','2013-12-11 16:27:03'),(283,'114.247.232.56',3,'NSMutableString常用方法','<p><span style=\"color: rgb(98, 91, 73);\">/*******************************************************************************************<br style=\"line-height: normal;\"/>NSMutableString<br style=\"line-height: normal;\"/>*******************************************************************************************/ &nbsp; &nbsp;<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>/*---------------给字符串分配容量----------------*/<br style=\"line-height: normal;\"/>//stringWithCapacity:<br style=\"line-height: normal;\"/>NSMutableString *String;<br style=\"line-height: normal;\"/>String = [NSMutableString stringWithCapacity:40];<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>/*---------------在已有字符串后面添加字符----------------*/ &nbsp; &nbsp;<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//appendString: and appendFormat:<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>NSMutableString *String1 = [[NSMutableString alloc] initWithString:@&quot;This is a NSMutableString&quot;];<br style=\"line-height: normal;\"/>//[String1 appendString:@&quot;, I will be adding some character&quot;];<br style=\"line-height: normal;\"/>[String1 appendFormat:[NSString stringWithFormat:@&quot;, I will be adding some character&quot;]];<br style=\"line-height: normal;\"/>NSLog(@&quot;String1:%@&quot;,String1);<br style=\"line-height: normal;\"/>*/<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>/*--------在已有字符串中按照所给出范围和长度删除字符------*/ &nbsp; &nbsp;<br style=\"line-height: normal;\"/>/*<br style=\"line-height: normal;\"/>//deleteCharactersInRange:<br style=\"line-height: normal;\"/>NSMutableString *String1 = [[NSMutableString alloc] initWithString:@&quot;This is a NSMutableString&quot;];<br style=\"line-height: normal;\"/>[String1 deleteCharactersInRange:NSMakeRange(0, 5)];<br style=\"line-height: normal;\"/>NSLog(@&quot;String1:%@&quot;,String1);<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>/*--------在已有字符串后面在所指定的位置中插入给出的字符串------*/<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//-insertString: atIndex:<br style=\"line-height: normal;\"/>NSMutableString *String1 = [[NSMutableString alloc] initWithString:@&quot;This is a NSMutableString&quot;];<br style=\"line-height: normal;\"/>[String1 insertString:@&quot;Hi! &quot; atIndex:0];<br style=\"line-height: normal;\"/>NSLog(@&quot;String1:%@&quot;,String1);<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>/*--------将已有的空符串换成其它的字符串------*/<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//-setString:<br style=\"line-height: normal;\"/>NSMutableString *String1 = [[NSMutableString alloc] initWithString:@&quot;This is a NSMutableString&quot;];<br style=\"line-height: normal;\"/>[String1 setString:@&quot;Hello Word!&quot;];<br style=\"line-height: normal;\"/>NSLog(@&quot;String1:%@&quot;,String1);<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>/*--------按照所给出的范围，和字符串替换的原有的字符------*/<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//-setString:<br style=\"line-height: normal;\"/>NSMutableString *String1 = [[NSMutableString alloc] initWithString:@&quot;This is a NSMutableString&quot;];<br style=\"line-height: normal;\"/>[String1 replaceCharactersInRange:NSMakeRange(0, 4) withString:@&quot;That&quot;];<br style=\"line-height: normal;\"/>NSLog(@&quot;String1:%@&quot;,String1);<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>/*-------------判断字符串内是否还包含别的字符串(前缀，后缀)-------------*/<br style=\"line-height: normal;\"/>//01：检查字符串是否以另一个字符串开头- (BOOL) hasPrefix: (NSString *) aString;<br style=\"line-height: normal;\"/>NSString *String1 = @&quot;NSStringInformation.txt&quot;;<br style=\"line-height: normal;\"/>[String1 hasPrefix:@&quot;NSString&quot;] = = 1 ? &nbsp;NSLog(@&quot;YES&quot;) : NSLog(@&quot;NO&quot;);<br style=\"line-height: normal;\"/>[String1 hasSuffix:@&quot;.txt&quot;] = = 1 ? &nbsp;NSLog(@&quot;YES&quot;) : NSLog(@&quot;NO&quot;);<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//02：查找字符串某处是否包含其它字符串 - (NSRange) rangeOfString: (NSString *) aString，这一点前面在串中搜索子串用到过;</span><br style=\"line-height: normal;\"/></p>','2013-12-11 08:27:23','2013-12-11 16:27:23'),(284,'114.247.232.56',3,'NSString字符串常用方法','<p><span style=\"line-height: 20px; -webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px;\"><span style=\"color: rgb(98, 91, 73);\">/*******************************************************************************************<br style=\"line-height: normal;\"/>NSString<br style=\"line-height: normal;\"/>*******************************************************************************************/<br style=\"line-height: normal;\"/>//一、NSString &nbsp; &nbsp;<br style=\"line-height: normal;\"/>/*----------------创建字符串的方法----------------*/<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//1、创建常量字符串。<br style=\"line-height: normal;\"/>NSString *astring = @&quot;This is a String!&quot;;<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//2、创建空字符串，给予赋值。<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>NSString *astring = [[NSString alloc] init];<br style=\"line-height: normal;\"/>astring = @&quot;This is a String!&quot;;<br style=\"line-height: normal;\"/>[astring release];<br style=\"line-height: normal;\"/>NSLog(@&quot;astring:%@&quot;,astring);<br style=\"line-height: normal;\"/>//<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>NSString *astring = [[NSString alloc] init];<br style=\"line-height: normal;\"/>NSLog(@&quot;0x%.8x&quot;, astring);<br style=\"line-height: normal;\"/>astring=@&quot;This is a String!&quot;;<br style=\"line-height: normal;\"/>NSLog(@&quot;0x%.8x&quot;, astring);<br style=\"line-height: normal;\"/>[astring release];<br style=\"line-height: normal;\"/>NSLog(@&quot;astring:%@&quot;,astring);<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//3、在以上方法中，提升速度:initWithString方法<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>NSString *astring = [[NSString alloc] initWithString:@&quot;This is a String!&quot;];<br style=\"line-height: normal;\"/>NSLog(@&quot;astring:%@&quot;,astring);<br style=\"line-height: normal;\"/>[astring release];<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//4、用标准c创建字符串:initWithCString方法<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>char *Cstring = &quot;This is a String!&quot;;<br style=\"line-height: normal;\"/>NSString *astring = [[NSString alloc] initWithCString:Cstring];<br style=\"line-height: normal;\"/>NSLog(@&quot;astring:%@&quot;,astring);<br style=\"line-height: normal;\"/>[astring release];<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//5、创建格式化字符串:占位符（由一个%加一个字符组成）<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>int i = 1;<br style=\"line-height: normal;\"/>int j = 2;<br style=\"line-height: normal;\"/>NSString *astring = [[NSString alloc] initWithString:[NSString stringWithFormat:@&quot;%d.This is %i string!&quot;,i,j]];<br style=\"line-height: normal;\"/>NSLog(@&quot;astring:%@&quot;,astring);<br style=\"line-height: normal;\"/>[astring release];<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//6、创建临时字符串<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>NSString *astring;<br style=\"line-height: normal;\"/>astring = [NSString stringWithCString:&quot;This is a temporary string&quot;];<br style=\"line-height: normal;\"/>NSLog(@&quot;astring:%@&quot;,astring);<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>/*----------------从文件读取字符串:initWithContentsOfFile方法----------------*/ &nbsp; &nbsp;<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>NSString *path = @&quot;astring.text&quot;;<br style=\"line-height: normal;\"/>NSString *astring = [[NSString alloc] initWithContentsOfFile:path];<br style=\"line-height: normal;\"/>NSLog(@&quot;astring:%@&quot;,astring);<br style=\"line-height: normal;\"/>[astring release];<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>/*----------------写字符串到文件:writeToFile方法----------------*/ &nbsp; &nbsp;<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>NSString *astring = [[NSString alloc] initWithString:@&quot;This is a String!&quot;];<br style=\"line-height: normal;\"/>NSLog(@&quot;astring:%@&quot;,astring);<br style=\"line-height: normal;\"/>NSString *path = @&quot;astring.text&quot;; &nbsp; &nbsp;<br style=\"line-height: normal;\"/>[astring writeToFile: path atomically: YES];<br style=\"line-height: normal;\"/>[astring release]; &nbsp; &nbsp;<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>/*----------------比较两个字符串----------------*/ &nbsp; &nbsp; &nbsp; &nbsp;<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//用C比较:strcmp函数<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>char string1[] = &quot;string!&quot;;<br style=\"line-height: normal;\"/>char string2[] = &quot;string!&quot;;<br style=\"line-height: normal;\"/>if(strcmp(string1, string2) = = 0)<br style=\"line-height: normal;\"/>{<br style=\"line-height: normal;\"/>NSLog(@&quot;1&quot;);<br style=\"line-height: normal;\"/>}<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//isEqualToString方法 &nbsp; &nbsp;<br style=\"line-height: normal;\"/>NSString *astring01 = @&quot;This is a String!&quot;;<br style=\"line-height: normal;\"/>NSString *astring02 = @&quot;This is a String!&quot;;<br style=\"line-height: normal;\"/>BOOL result = [astring01 isEqualToString:astring02];<br style=\"line-height: normal;\"/>NSLog(@&quot;result:%d&quot;,result);<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//compare方法(comparer返回的三种值) &nbsp; &nbsp;<br style=\"line-height: normal;\"/>NSString *astring01 = @&quot;This is a String!&quot;;<br style=\"line-height: normal;\"/>NSString *astring02 = @&quot;This is a String!&quot;; &nbsp; &nbsp;<br style=\"line-height: normal;\"/>BOOL result = [astring01 compare:astring02] = = NSOrderedSame; &nbsp; &nbsp;<br style=\"line-height: normal;\"/>NSLog(@&quot;result:%d&quot;,result); &nbsp; &nbsp;<br style=\"line-height: normal;\"/>//NSOrderedSame判断两者内容是否相同<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>NSString *astring01 = @&quot;This is a String!&quot;;<br style=\"line-height: normal;\"/>NSString *astring02 = @&quot;this is a String!&quot;;<br style=\"line-height: normal;\"/>BOOL result = [astring01 compare:astring02] = = NSOrderedAscending; &nbsp; &nbsp;<br style=\"line-height: normal;\"/>NSLog(@&quot;result:%d&quot;,result);<br style=\"line-height: normal;\"/>//NSOrderedAscending判断两对象值的大小(按字母顺序进行比较，astring02大于astring01为真)<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>NSString *astring01 = @&quot;this is a String!&quot;;<br style=\"line-height: normal;\"/>NSString *astring02 = @&quot;This is a String!&quot;;<br style=\"line-height: normal;\"/>BOOL result = [astring01 compare:astring02] = = NSOrderedDescending; &nbsp; &nbsp;<br style=\"line-height: normal;\"/>NSLog(@&quot;result:%d&quot;,result); &nbsp; &nbsp; <br style=\"line-height: normal;\"/>//NSOrderedDescending判断两对象值的大小(按字母顺序进行比较，astring02小于astring01为真)<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//不考虑大小写比较字符串1<br style=\"line-height: normal;\"/>NSString *astring01 = @&quot;this is a String!&quot;;<br style=\"line-height: normal;\"/>NSString *astring02 = @&quot;This is a String!&quot;;<br style=\"line-height: normal;\"/>BOOL result = [astring01 caseInsensitiveCompare:astring02] = = NSOrderedSame; &nbsp; &nbsp;<br style=\"line-height: normal;\"/>NSLog(@&quot;result:%d&quot;,result); &nbsp; &nbsp; <br style=\"line-height: normal;\"/>//NSOrderedDescending判断两对象值的大小(按字母顺序进行比较，astring02小于astring01为真)<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//不考虑大小写比较字符串2<br style=\"line-height: normal;\"/>NSString *astring01 = @&quot;this is a String!&quot;;<br style=\"line-height: normal;\"/>NSString *astring02 = @&quot;This is a String!&quot;;<br style=\"line-height: normal;\"/>BOOL result = [astring01 compare:astring02<br style=\"line-height: normal;\"/>options:NSCaseInsensitiveSearch | NSNumericSearch] = = NSOrderedSame; &nbsp; &nbsp;<br style=\"line-height: normal;\"/>NSLog(@&quot;result:%d&quot;,result); &nbsp; &nbsp; <br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//NSCaseInsensitiveSearch:不区分大小写比较 NSLiteralSearch:进行完全比较，区分大小写 NSNumericSearch:比较字符串的字符个数，而不是字符值。<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>/*----------------改变字符串的大小写----------------*/ &nbsp; &nbsp;<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>NSString *string1 = @&quot;A String&quot;; <br style=\"line-height: normal;\"/>NSString *string2 = @&quot;String&quot;; <br style=\"line-height: normal;\"/>NSLog(@&quot;string1:%@&quot;,[string1 uppercaseString]);//大写<br style=\"line-height: normal;\"/>NSLog(@&quot;string2:%@&quot;,[string2 lowercaseString]);//小写<br style=\"line-height: normal;\"/>NSLog(@&quot;string2:%@&quot;,[string2 capitalizedString]);//首字母大小<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>/*----------------在串中搜索子串----------------*/ &nbsp; &nbsp; &nbsp; &nbsp;<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>NSString *string1 = @&quot;This is a string&quot;;<br style=\"line-height: normal;\"/>NSString *string2 = @&quot;string&quot;;<br style=\"line-height: normal;\"/>NSRange range = [string1 rangeOfString:string2];<br style=\"line-height: normal;\"/>int location = range.location;<br style=\"line-height: normal;\"/>int leight = range.length;<br style=\"line-height: normal;\"/>NSString *astring = [[NSString alloc] initWithString:[NSString stringWithFormat:@&quot;Location:%i,Leight:%i&quot;,location,leight]];<br style=\"line-height: normal;\"/>NSLog(@&quot;astring:%@&quot;,astring);<br style=\"line-height: normal;\"/>[astring release];<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>/*----------------抽取子串 ----------------*/ &nbsp; &nbsp; &nbsp; &nbsp;<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//-substringToIndex: 从字符串的开头一直截取到指定的位置，但不包括该位置的字符<br style=\"line-height: normal;\"/>NSString *string1 = @&quot;This is a string&quot;;<br style=\"line-height: normal;\"/>NSString *string2 = [string1 substringToIndex:3];<br style=\"line-height: normal;\"/>NSLog(@&quot;string2:%@&quot;,string2);<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//-substringFromIndex: 以指定位置开始（包括指定位置的字符），并包括之后的全部字符<br style=\"line-height: normal;\"/>NSString *string1 = @&quot;This is a string&quot;;<br style=\"line-height: normal;\"/>NSString *string2 = [string1 substringFromIndex:3];<br style=\"line-height: normal;\"/>NSLog(@&quot;string2:%@&quot;,string2);<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//-substringWithRange: //按照所给出的位置，长度，任意地从字符串中截取子串<br style=\"line-height: normal;\"/>NSString *string1 = @&quot;This is a string&quot;;<br style=\"line-height: normal;\"/>NSString *string2 = [string1 substringWithRange:NSMakeRange(0, 4)];<br style=\"line-height: normal;\"/>NSLog(@&quot;string2:%@&quot;,string2);<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//扩展路径<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>NSString *Path = @&quot;~/NSData.txt&quot;;<br style=\"line-height: normal;\"/>NSString *absolutePath = [Path stringByExpandingTildeInPath];<br style=\"line-height: normal;\"/>NSLog(@&quot;absolutePath:%@&quot;,absolutePath);<br style=\"line-height: normal;\"/>NSLog(@&quot;Path:%@&quot;,[absolutePath stringByAbbreviatingWithTildeInPath]);<br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/><br style=\"line-height: normal;\"/>//文件扩展名<br style=\"line-height: normal;\"/>NSString *Path = @&quot;~/NSData.txt&quot;;<br style=\"line-height: normal;\"/>NSLog(@&quot;Extension:%@&quot;,[Path pathExtension]);</span></span></p>','2013-12-11 08:27:52','2013-12-11 16:27:52'),(285,'114.247.232.56',3,'IPHONE正则表达式判断','<p><span style=\"color: rgb(0, 51, 0);\">//判斷username是由數字,大小寫字母及下畫線所組成<br/> &nbsp; &nbsp;if (![usernameField.text matches:@&quot;^[0-9A-Za-z_]+$&quot; withSubstring:nil]) {<br/> &nbsp; &nbsp; &nbsp; &nbsp;[[TestAppDelegate getAppDelegate] alert:@&quot;Invalid username&quot; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;message:@&quot;Username can only contain letters, numbers and &#39;_&#39;&quot;];<br/> &nbsp; &nbsp;}<br/> &nbsp; &nbsp;else {<br/> &nbsp; &nbsp; &nbsp; &nbsp;。。。<br/> &nbsp; &nbsp;}</span></p>','2013-12-11 08:28:08','2013-12-11 16:28:08'),(286,'114.247.232.56',3,'获取本机内网IP','<p><span style=\"color: rgb(0, 0, 255);\">IPAdress.h</span></p><p><br/></p><p style=\"font-size: 11px;\">#ifndef zh_ipAddress_h</p><p style=\"font-size: 11px;\">#define zh_ipAddress_h</p><p style=\"font-size: 11px;\"><br/></p><p style=\"font-size: 11px;\">#define MAXADDRS &nbsp; &nbsp;32</p><p style=\"font-size: 11px;\">extern char *if_names[MAXADDRS];</p><p style=\"font-size: 11px;\">extern char *ip_names[MAXADDRS];</p><p style=\"font-size: 11px;\">extern char *hw_addrs[MAXADDRS];</p><p style=\"font-size: 11px;\">extern unsigned long ip_addrs[MAXADDRS];</p><p style=\"font-size: 11px;\">void InitAddresses();</p><p style=\"font-size: 11px;\">void FreeAddresses();</p><p style=\"font-size: 11px;\">void GetIPAddresses();</p><p style=\"font-size: 11px;\">void GetHWAddresses();</p><p style=\"font-size: 11px;\"><br/></p><p style=\"font-size: 11px;\">#endif</p><p><br/></p><p><span style=\"color: rgb(0, 0, 255);\">IPAddress.c</span></p><p>#include &lt;stdio.h&gt;</p><p>#include &lt;stdlib.h&gt;</p><p>#include &lt;string.h&gt;</p><p>#include &lt;unistd.h&gt;</p><p>#include &lt;sys/ioctl.h&gt;</p><p>#include &lt;sys/types.h&gt;</p><p>#include &lt;sys/socket.h&gt;</p><p>#include &lt;netinet/in.h&gt;</p><p>#include &lt;netdb.h&gt;</p><p>#include &lt;arpa/inet.h&gt;</p><p>#include &lt;sys/sockio.h&gt;</p><p>#include &lt;net/if.h&gt;</p><p>#include &lt;errno.h&gt;</p><p>#include &lt;net/if_dl.h&gt;</p><p>#include &quot;IPAddress.h&quot;</p><p><br/></p><p>#define min(a,b) &nbsp; &nbsp;((a) &lt; (b) ? (a) : (b))</p><p>#define max(a,b) &nbsp; &nbsp;((a) &gt; (b) ? (a) : (b))</p><p>#define BUFFERSIZE &nbsp;4000</p><p>char *if_names[MAXADDRS];</p><p>char *ip_names[MAXADDRS];</p><p>char *hw_addrs[MAXADDRS];</p><p>unsigned long ip_addrs[MAXADDRS];</p><p>static int &nbsp; nextAddr = 0;</p><p>void InitAddresses()</p><p>{</p><p>int i;</p><p>nextAddr = 0;</p><p>for (i=0; i&lt;MAXADDRS; ++i)</p><p>{</p><p>if_names[i] = ip_names[i] = hw_addrs[i] = NULL;</p><p>ip_addrs[i] = 0;</p><p>}</p><p>}</p><p>void FreeAddresses()</p><p>{</p><p>int i;</p><p>&nbsp;&nbsp; for (i=0; i&lt;MAXADDRS; ++i)</p><p>{</p><p>if (if_names[i] != 0) free(if_names[i]);</p><p>if (ip_names[i] != 0) free(ip_names[i]);</p><p>if (hw_addrs[i] != 0) free(hw_addrs[i]);</p><p>ip_addrs[i] = 0;</p><p>}</p><p>InitAddresses();</p><p>}</p><p>void GetIPAddresses()</p><p>{</p><p>int &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; i, len, flags;</p><p>char &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;buffer[BUFFERSIZE], *ptr, lastname[IFNAMSIZ], *cptr;</p><p>struct ifconf &nbsp; &nbsp; &nbsp; ifc;</p><p>struct ifreq &nbsp; &nbsp; &nbsp; &nbsp;*ifr, ifrcopy;</p><p>struct sockaddr_in &nbsp;*sin;</p><p>char temp[80];</p><p>int sockfd;</p><p>for (i=0; i&lt;MAXADDRS; ++i)</p><p>{</p><p>if_names[i] = ip_names[i] = NULL;</p><p>ip_addrs[i] = 0;</p><p>}</p><p>sockfd = socket(AF_INET, SOCK_DGRAM, 0);</p><p>if (sockfd &lt; 0)</p><p>{</p><p>perror(&quot;socket failed&quot;);</p><p>return;</p><p>}</p><p><br/></p><p>ifc.ifc_len = BUFFERSIZE;</p><p>ifc.ifc_buf = buffer;</p><p><br/></p><p>if (ioctl(sockfd, SIOCGIFCONF, &amp;ifc) &lt; 0)</p><p>{</p><p>perror(&quot;ioctl error&quot;);</p><p>return;</p><p>}</p><p><br/></p><p>lastname[0] = 0;</p><p><br/></p><p>for (ptr = buffer; ptr &lt; buffer + ifc.ifc_len; )</p><p>{</p><p>ifr = (struct ifreq *)ptr;</p><p>len = max(sizeof(struct sockaddr), ifr-&gt;ifr_addr.sa_len);</p><p>ptr += sizeof(ifr-&gt;ifr_name) + len; &nbsp;// for next one in buffer</p><p><br/></p><p>&nbsp;&nbsp; &nbsp; if (ifr-&gt;ifr_addr.sa_family != AF_INET)</p><p>continue; &nbsp; // ignore if not desired address family</p><p><br/></p><p>if ((cptr = (char *)strchr(ifr-&gt;ifr_name, &#39;:&#39;)) != NULL)</p><p>*cptr = 0; &nbsp; &nbsp; &nbsp;// replace colon will null</p><p>&nbsp;&nbsp; &nbsp; &nbsp;</p><p>if (strncmp(lastname, ifr-&gt;ifr_name, IFNAMSIZ) == 0)</p><p>continue; &nbsp; /* already processed this interface */</p><p><br/></p><p>memcpy(lastname, ifr-&gt;ifr_name, IFNAMSIZ);</p><p>ifrcopy = *ifr;</p><p>ioctl(sockfd, SIOCGIFFLAGS, &amp;ifrcopy);</p><p>flags = ifrcopy.ifr_flags;</p><p>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;if ((flags &amp; IFF_UP) == 0)</p><p>continue; &nbsp; // ignore if interface not up</p><p>if_names[nextAddr] = (char *)malloc(strlen(ifr-&gt;ifr_name)+1);</p><p>if (if_names[nextAddr] == NULL)</p><p>return;</p><p>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;strcpy(if_names[nextAddr], ifr-&gt;ifr_name);</p><p><br/></p><p>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;sin = (struct sockaddr_in *)&amp;ifr-&gt;ifr_addr;</p><p>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;strcpy(temp, inet_ntoa(sin-&gt;sin_addr));</p><p></p><p>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;ip_names[nextAddr] = (char *)malloc(strlen(temp)+1);</p><p>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;if (ip_names[nextAddr] == NULL)</p><p>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return;</p><p>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;strcpy(ip_names[nextAddr], temp);</p><p>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;ip_addrs[nextAddr] = sin-&gt;sin_addr.s_addr;</p><p>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;++nextAddr;</p><p>&nbsp;}</p><p>&nbsp;close(sockfd);</p><p>}</p><p>void GetHWAddresses()</p><p>{</p><p>struct ifconf ifc;</p><p>struct ifreq *ifr;</p><p>int i, sockfd;</p><p>char buffer[BUFFERSIZE], *cp, *cplim;</p><p>char temp[80];</p><p>for (i=0; i&lt;MAXADDRS; ++i)</p><p>{</p><p>hw_addrs[i] = NULL;</p><p>}</p><p>sockfd = socket(AF_INET, SOCK_DGRAM, 0);</p><p>if (sockfd &lt; 0)</p><p>{</p><p>perror(&quot;socket failed&quot;);</p><p>return;</p><p>}</p><p>ifc.ifc_len = BUFFERSIZE;</p><p>ifc.ifc_buf = buffer;</p><p>&nbsp;&nbsp; if (ioctl(sockfd, SIOCGIFCONF, (char *)&amp;ifc) &lt; 0)</p><p>&nbsp;&nbsp; {</p><p>perror(&quot;ioctl error&quot;);</p><p>close(sockfd);</p><p>return;</p><p>&nbsp;&nbsp; }</p><p>ifr = ifc.ifc_req;</p><p>cplim = buffer + ifc.ifc_len;</p><p>for (cp=buffer; cp &lt; cplim; )</p><p>{</p><p>ifr = (struct ifreq *)cp;</p><p>if (ifr-&gt;ifr_addr.sa_family == AF_LINK)</p><p>{</p><p>struct sockaddr_dl *sdl = (struct sockaddr_dl *)&amp;ifr-&gt;ifr_addr;</p><p>int a,b,c,d,e,f;</p><p>int i;</p><p>strcpy(temp, (char *)ether_ntoa(LLADDR(sdl)));</p><p>sscanf(temp, &quot;%x:%x:%x:%x:%x:%x&quot;, &amp;a, &amp;b, &amp;c, &amp;d, &amp;e, &amp;f);</p><p>sprintf(temp, &quot;%02X:%02X:%02X:%02X:%02X:%02X&quot;,a,b,c,d,e,f);</p><p>&nbsp;&nbsp; &nbsp; &nbsp; for (i=0; i&lt;MAXADDRS; ++i)</p><p>{</p><p>if ((if_names[i] != NULL) &amp;&amp; (strcmp(ifr-&gt;ifr_name, if_names[i]) == 0))</p><p>{</p><p>if (hw_addrs[i] == NULL)</p><p>{</p><p>hw_addrs[i] = (char *)malloc(strlen(temp)+1);</p><p>strcpy(hw_addrs[i], temp);</p><p>break;</p><p>}</p><p>}</p><p>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;}</p><p>&nbsp;&nbsp; &nbsp; &nbsp;}</p><p>cp += sizeof(ifr-&gt;ifr_name) + max(sizeof(ifr-&gt;ifr_addr), ifr-&gt;ifr_addr.sa_len);</p><p>}</p><p>&nbsp;&nbsp; close(sockfd);</p><p>}</p><p><br/></p><p><span style=\"color: rgb(0, 0, 255);\">MyAppDelegate.m &nbsp;IPHONE使用</span></p><p><br/></p><p><span style=\"font-family: Menlo; font-size: 3px;\"><span style=\"font-size: 11px;\"></span></span><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">-(char*)deviceIPAdress:(char*)ip</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">&nbsp; &nbsp;InitAddresses();</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">&nbsp; &nbsp;GetIPAddresses();</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">&nbsp; &nbsp;GetHWAddresses();</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">if(ip)</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">if(ip_names[1])</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{strcpy(ip,ip_names[1]); }</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">else</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{strcpy(ip,&quot;&quot;);}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">&nbsp; &nbsp;FreeAddresses();</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">&nbsp; &nbsp;/*if_names[1]*/</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">&nbsp; &nbsp;/*hw_addrs[1] //<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">网卡</span>MAC<span style=\"font: 11px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\">地址</span>*/</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">return ip;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p></p><p></p><p></p></p>','2013-12-11 08:28:33','2013-12-11 16:28:33'),(287,'114.247.232.56',3,'关闭自动锁屏 iphone','<ul class=\" list-paddingleft-2\"><li><p>[UIApplication sharedApplication].idleTimerDisabled=YES;不自动锁屏</p></li><li><p>&nbsp;</p></li><li><p>[UIApplication sharedApplication].idleTimerDisabled=NO;自动锁屏</p></li></ul><p></p>','2013-12-11 08:28:55','2013-12-11 16:28:55'),(288,'114.247.232.56',3,'字符串比较 忽略大小写','<p>//不考虑大小写比较字符串1</p><p>&nbsp; &nbsp;NSString *astring01 = @&quot;this is a String!&quot;;<br/> &nbsp; &nbsp;NSString *astring02 = @&quot;This is a String!&quot;;<br/> &nbsp; &nbsp;BOOL result = [astring01 caseInsensitiveCompare:astring02] = = NSOrderedSame; &nbsp; &nbsp;<br/> &nbsp; &nbsp;NSLog(@&quot;result:%d&quot;,result); &nbsp; &nbsp; <br/> &nbsp; &nbsp;//NSOrderedDescending判断两对象值的大小(按字母顺序进行比较，astring02小于astring01为真)<br/><br/> &nbsp; &nbsp;//不考虑大小写比较字符串2<br/> &nbsp; &nbsp;NSString *astring01 = @&quot;this is a String!&quot;;<br/> &nbsp; &nbsp;NSString *astring02 = @&quot;This is a String!&quot;;<br/> &nbsp; &nbsp;BOOL result = [astring01 compare:astring02<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;options:NSCaseInsensitiveSearch | NSNumericSearch] = = NSOrderedSame; &nbsp; &nbsp;<br/> &nbsp; &nbsp;NSLog(@&quot;result:%d&quot;,result); &nbsp; &nbsp; <br/><br/> &nbsp; &nbsp;//NSCaseInsensitiveSearch:不区分大小写比较 NSLiteralSearch:进行完全比较，区分大小写 NSNumericSearch:比较字符串的字符个数，而不是字符值。</p><p></p>','2013-12-11 08:29:15','2013-12-11 16:29:15'),(289,'114.247.232.56',3,'IPHONE获取HOME键事件','<p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">void</span>)applicationWillResignActive:(<span style=\"color: rgb(116, 60, 166);\">UIApplication</span> *)application</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; </span>// exit(0); //第一个执行</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">void</span>)applicationDidEnterBackground:(<span style=\"color: rgb(116, 60, 166);\">UIApplication</span> *)application</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(63, 28, 126);\">exit</span>(<span style=\"color: rgb(37, 38, 211);\">0</span>); &nbsp;//第二个执行</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p>&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">放到XXXAppDelegate.m这类里面去</p><p></p>','2013-12-11 08:29:31','2013-12-11 16:29:31'),(290,'192.168.2.184',3,'UIAlertView提示框','<p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(112, 61, 170); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"><span style=\"font-family: Menlo; font-size: 11px;\">/////////////////////////////////////// 样式1 ////////////////////////</span></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp;[[[</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIAlertView</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">alloc</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">]</span><span style=\"font-variant-ligatures: no-common-ligatures\">initWithTitle</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">message</span><span style=\"font-variant-ligatures: no-common-ligatures\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #78492a\">NSLocalizedString</span><span style=\"font-variant-ligatures: no-common-ligatures\">(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;apSsidIsNULL&quot;</span><span style=\"font-variant-ligatures: no-common-ligatures\">, </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span><span style=\"font-variant-ligatures: no-common-ligatures\">)</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">delegate</span><span style=\"font-variant-ligatures: no-common-ligatures\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">cancelButtonTitle</span><span style=\"font-variant-ligatures: no-common-ligatures\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #78492a\">NSLocalizedString</span><span style=\"font-variant-ligatures: no-common-ligatures\">(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;ok&quot;</span><span style=\"font-variant-ligatures: no-common-ligatures\">, </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span><span style=\"font-variant-ligatures: no-common-ligatures\">)</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">otherButtonTitles</span><span style=\"font-variant-ligatures: no-common-ligatures\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span><span style=\"font-variant-ligatures: no-common-ligatures\">]</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">show</span><span style=\"font-variant-ligatures: no-common-ligatures\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"></span><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"></span><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(112, 61, 170); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"></span><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(112, 61, 170); font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(112, 61, 170); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\">/////////////////////////////////////// 样式2 ////////////////////////</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIAlertView</span> *alert = [[<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIAlertView</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">alloc</span>] <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">initWithTitle</span>:title</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">message</span>:msg</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">delegate</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">self</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">cancelButtonTitle</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;</span><span style=\"font-family: &#39;Heiti SC Light&#39;; color: rgb(209, 47, 27);\">否</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">&quot;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">otherButtonTitles</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;</span><span style=\"font-family: &#39;Heiti SC Light&#39;; color: rgb(209, 47, 27);\">是</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">&quot;</span>, <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span>];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; alert.<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">tag</span> = <span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">1999</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; [alert <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">show</span>];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\"><span style=\"font-family: Menlo; font-size: 11px;\">&nbsp; &nbsp; &nbsp; &nbsp; //[alert release];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\"><span style=\"font-family: Menlo; font-size: 11px;\">&nbsp; &nbsp; &nbsp; &nbsp; alert=nil;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(120, 73, 42);\"><span style=\"font-family: Menlo; font-size: 11px;\"></span><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(120, 73, 42);\">///////////////////////////////////////<span style=\"font-family: Menlo; font-size: 11px;\">&nbsp;样式3 ////////////////////////</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(120, 73, 42);\"><br/></p><p class=\"p1\"><span class=\"s1\">NSLog</span><span class=\"s2\">(</span><span class=\"s3\">@&quot;</span><span class=\"s4\">打开密码输入窗体</span><span class=\"s3\">&quot;</span><span class=\"s2\">);</span></p><p style=\"text-indent: 0em;\"><span class=\"s3\">&nbsp;</span><span class=\"s5\">//</span><span class=\"s6\">输入设备密码的框</span></p><p style=\"text-indent: 0em;\"><span class=\"s7\">UIAlertView</span><span class=\"s3\"> *alert = [[</span><span class=\"s7\">UIAlertView</span><span class=\"s3\"> </span><span class=\"s1\">alloc</span><span class=\"s3\">] </span><span class=\"s1\">initWithTitle</span><span class=\"s3\">:</span><span class=\"s8\">NSLocalizedString</span><span class=\"s3\">(</span><span class=\"s9\">@&quot;alert&quot;</span><span class=\"s3\">, </span><span class=\"s10\">nil</span><span class=\"s3\">)</span></p><p style=\"text-indent: 0em;\"><span class=\"s3\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class=\"s1\">message</span><span class=\"s3\">:</span><span class=\"s8\">NSLocalizedString</span><span class=\"s3\">(</span><span class=\"s9\">@&quot;</span><span class=\"s11\">要输入硬件的控制密码哟</span><span class=\"s9\">~&quot;</span><span class=\"s3\">, </span><span class=\"s10\">nil</span><span class=\"s3\">)</span></p><p style=\"text-indent: 0em;\"><span class=\"s3\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class=\"s1\">delegate</span><span class=\"s3\">:</span><span class=\"s10\">self</span></p><p style=\"text-indent: 0em;\"><span class=\"s3\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class=\"s1\">cancelButtonTitle</span><span class=\"s3\">:</span><span class=\"s8\">NSLocalizedString</span><span class=\"s3\">(</span><span class=\"s9\">@&quot;cancel&quot;</span><span class=\"s3\">, </span><span class=\"s10\">nil</span><span class=\"s3\">)</span></p><p style=\"text-indent: 0em;\"><span class=\"s3\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class=\"s1\">otherButtonTitles</span><span class=\"s3\">:</span><span class=\"s8\">NSLocalizedString</span><span class=\"s3\">(</span><span class=\"s9\">@&quot;ok&quot;</span><span class=\"s3\">, </span><span class=\"s10\">nil</span><span class=\"s3\">),</span><span class=\"s10\">nil</span><span class=\"s3\">];</span></p><p style=\"text-indent: 0em;\"><span class=\"s2\">[alert </span><span class=\"s3\">setAlertViewStyle</span><span class=\"s2\">:</span><span class=\"s3\">UIAlertViewStyleSecureTextInput</span><span class=\"s2\">];</span></p><p style=\"text-indent: 0em;\"><span class=\"s7\">UITextField</span><span class=\"s3\"> *nameField = [alert </span><span class=\"s1\">textFieldAtIndex</span><span class=\"s3\">:</span><span class=\"s12\">0</span><span class=\"s3\">];</span></p><p style=\"text-indent: 0em;\"><span class=\"s3\">nameField.</span><span class=\"s7\">placeholder</span><span class=\"s3\"> = </span><span class=\"s9\">@&quot;</span><span class=\"s11\">请输入密码</span><span class=\"s9\">&quot;</span><span class=\"s3\">;</span></p><p style=\"text-indent: 0em;\"><span class=\"s3\">alert.</span><span class=\"s7\">tag</span><span class=\"s3\">=</span><span class=\"s12\">1000</span><span class=\"s3\">;</span></p><p style=\"text-indent: 0em;\"><span class=\"s3\">[alert </span><span class=\"s1\">show</span><span class=\"s3\">];</span></p><p style=\"text-indent: 0em;\"><span class=\"s3\">alert=</span><span class=\"s10\">NULL</span><span class=\"s3\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(120, 73, 42);\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(120, 73, 42);\">/////////////////////////////////////////////////////</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><span style=\"font-family: Menlo; font-size: 11px;\">//回调</span></p><p style=\"margin: 0px; padding: 10px 0px; font-size: 9pt;\"><span style=\"color: rgb(0, 0, 255);\">解除UIAlertView的显示<br style=\"margin: 0px; padding: 0px;\"/>因为这个AlertView没有按钮，所以就不能通过点击按钮将这个提示框去掉。可以通过程序的方式，将这个窗口关掉。</span></p><p><pre=\"objc\" style=\"margin: 0px; padding: 0px;\"><span style=\"color: rgb(0, 0, 255);\">[alert dismissWithClickedButtonIndex:0 animated:YES];</span></pre=\"objc\"></p><p><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(194, 42, 159);\">void</span>)willPresentAlertView:(<span style=\"color: rgb(116, 60, 166);\">UIAlertView</span> *)alertView</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"font-family: sans-serif; font-size: 16px;\">&nbsp;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">//重载的函数</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">- (<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">void</span>)alertView:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIAlertView</span> *)alertView didDismissWithButtonIndex:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSInteger</span>)buttonIndex {</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">switch</span> (alertView.<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">tag</span>) {</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">case</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">1999</span>:</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">if</span>(buttonIndex==<span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">1</span>)</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-family: &#39;Heiti SC Light&#39;;\"><span style=\"color: rgb(51, 51, 51); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; white-space: pre; background-color: rgba(128, 128, 128, 0.0470588);\">UITextField *nameField = [alertView textFieldAtIndex:</span><span class=\"hljs-number\" style=\"color: rgb(0, 102, 102); box-sizing: border-box; font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; white-space: pre;\">0</span><span style=\"color: rgb(51, 51, 51); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; white-space: pre; background-color: rgba(128, 128, 128, 0.0470588);\">]; &nbsp;</span></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">break</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; }</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">///////////////////////////////////////////////</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">8.0以上新语法</p><p style=\"margin-top: 0px; margin-bottom: 0px; white-space: normal; font-size: 11px; font-family: Menlo; color: rgb(120, 73, 42);\">#if __IPHONE_OS_VERSION_MAX_ALLOWED &gt;=&nbsp;<span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(39, 42, 216);\">80000</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; white-space: normal; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(0, 0, 0);\">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(112, 61, 170);\">UIAlertController</span><span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(0, 0, 0);\">&nbsp;*alertController = [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(112, 61, 170);\">UIAlertController</span><span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(0, 0, 0);\">&nbsp;</span>alertControllerWithTitle<span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(0, 0, 0);\">:title&nbsp;</span>message<span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(0, 0, 0);\">:msg&nbsp;</span>preferredStyle<span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(0, 0, 0);\">:</span>UIAlertControllerStyleAlert<span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(0, 0, 0);\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; white-space: normal; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; white-space: normal; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; [alertController&nbsp;<span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(61, 29, 129);\">addAction</span>:[<span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(112, 61, 170);\">UIAlertAction</span>&nbsp;<span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(61, 29, 129);\">actionWithTitle</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(209, 47, 27);\">@&quot;</span><span style=\"font-family: &#39;Heiti SC Light&#39;; color: rgb(209, 47, 27);\">否</span><span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(209, 47, 27);\">&quot;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; white-space: normal; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(61, 29, 129);\">style</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(61, 29, 129);\">UIAlertActionStyleCancel</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; white-space: normal; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(61, 29, 129);\">handler</span>:^(<span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(112, 61, 170);\">UIAlertAction</span>&nbsp;*action) {</p><p style=\"margin-top: 0px; margin-bottom: 0px; white-space: normal; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }]];</p><p style=\"margin-top: 0px; margin-bottom: 0px; white-space: normal; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; white-space: normal; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; [alertController&nbsp;<span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(61, 29, 129);\">addAction</span>:[<span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(112, 61, 170);\">UIAlertAction</span>&nbsp;<span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(61, 29, 129);\">actionWithTitle</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(209, 47, 27);\">@&quot;</span><span style=\"font-family: &#39;Heiti SC Light&#39;; color: rgb(209, 47, 27);\">是</span><span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(209, 47, 27);\">&quot;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; white-space: normal; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(61, 29, 129);\">style</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(61, 29, 129);\">UIAlertActionStyleDefault</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; white-space: normal; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(61, 29, 129);\">handler</span>:^(<span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(112, 61, 170);\">UIAlertAction</span>&nbsp;*action) {</p><p style=\"margin-top: 0px; margin-bottom: 0px; white-space: normal; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(0, 132, 0);\">//</span><span style=\"font-family: &#39;Heiti SC Light&#39;; color: rgb(0, 132, 0);\">动作</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; white-space: normal; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [<span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(187, 44, 162);\">self</span>&nbsp;<span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(61, 29, 129);\">performSegueWithIdentifier</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(209, 47, 27);\">@&quot;segueLogin&quot;</span>&nbsp;<span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(61, 29, 129);\">sender</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(187, 44, 162);\">self</span>];</p><p style=\"margin-top: 0px; margin-bottom: 0px; white-space: normal; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }]];</p><p style=\"margin-top: 0px; margin-bottom: 0px; white-space: normal; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; white-space: normal; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; white-space: normal; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(0, 0, 0);\">&nbsp; &nbsp; &nbsp; &nbsp; [[</span><span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(112, 61, 170);\">UIApplication</span><span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(0, 0, 0);\">&nbsp;</span>sharedApplication<span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(0, 0, 0);\">].</span><span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(112, 61, 170);\">keyWindow</span><span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(0, 0, 0);\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(112, 61, 170);\">rootViewController</span><span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(0, 0, 0);\">&nbsp;</span>presentViewController<span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(0, 0, 0);\">:alertController&nbsp;</span>animated<span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(0, 0, 0);\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(187, 44, 162);\">YES</span><span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(0, 0, 0);\">&nbsp;</span>completion<span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(0, 0, 0);\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(187, 44, 162);\">nil</span><span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(0, 0, 0);\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; white-space: normal; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(0, 0, 0);\">&nbsp; &nbsp; &nbsp; &nbsp; [<span style=\"font-size: 11px;\">alertController release];</span></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; white-space: normal; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: rgb(0, 0, 0);\"><span style=\"font-size: 11px;\">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style=\"font-size: 11px;\">alertController=nil;</span></span></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; white-space: normal; font-size: 11px; font-family: Menlo; color: rgb(120, 73, 42);\">#endif</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\"><br/></p>','2013-12-11 08:29:49','2017-01-11 00:45:03'),(291,'114.247.232.56',3,'Http请求(POST GET)的方法','<p><strong>1.Get方法<br/></strong></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">-(<span style=\"color: rgb(116, 60, 166);\">NSData</span> *)getUrlData:(<span style=\"color: rgb(116, 60, 166);\">NSString</span> *)urlStr</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">NSURL</span> *url;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>NSMutableURLRequest<span style=\"color: rgb(0, 0, 0);\"> *urlRequest;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">url = [<span style=\"color: rgb(116, 60, 166);\">NSURL</span> <span style=\"color: rgb(63, 28, 126);\">URLWithString</span>:urlStr];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">urlRequest = [[[<span style=\"color: rgb(116, 60, 166);\">NSMutableURLRequest</span> <span style=\"color: rgb(63, 28, 126);\">alloc</span>] <span style=\"color: rgb(63, 28, 126);\">initWithURL</span>:url] <span style=\"color: rgb(63, 28, 126);\">autorelease</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[urlRequest <span style=\"color: rgb(63, 28, 126);\">setHTTPMethod</span>:<span style=\"color: rgb(218, 46, 36);\">@&quot;GET&quot;</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(116, 60, 166);\">NSData</span><span style=\"color: rgb(0, 0, 0);\"> *returnData = [</span><span style=\"color: rgb(116, 60, 166);\">NSURLConnection</span><span style=\"color: rgb(0, 0, 0);\"> </span>sendSynchronousRequest<span style=\"color: rgb(0, 0, 0);\">:urlRequest </span>returningResponse<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">nil</span><span style=\"color: rgb(0, 0, 0);\"> </span>error<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">nil</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>//NSString *result = [[NSString alloc] initWithData:returnData encoding:NSUTF8StringEncoding];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>//[result release];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">return</span> returnData;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"text-indent: 2em;\">&nbsp;</p><h2><span style=\"font-size: 14px; font-weight: normal;\"> </span></h2><h2>2.Post方法</h2><h3>2.1 使用NSMutableURLRequest</h3><p><span style=\"color: rgb(0, 0, 255);\"><span style=\"color: rgb(0, 0, 0);\">写了个函数,只接受发送字符串</span></span></p><p><span style=\"font-family: Menlo;\"><span style=\"font-size: 11px;\"></span></span></p><p><span style=\"font-family: Menlo;\"><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 255); font-size-adjust: none; font-stretch: normal;\">-(<span style=\"color: rgb(116, 60, 166);\">NSData</span> *)PostUrl:(<span style=\"color: rgb(116, 60, 166);\">NSString</span> *)urlStr:(<span style=\"color: rgb(116, 60, 166);\">NSString</span>*)data</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 255); font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 255); font-size-adjust: none; font-stretch: normal;\">NSURL *url;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>NSMutableData<span style=\"color: rgb(0, 0, 0);\"> *postBody = [</span>NSMutableData<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">data</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 255); font-size-adjust: none; font-stretch: normal;\">url = [<span style=\"color: rgb(116, 60, 166);\">NSURL</span> <span style=\"color: rgb(63, 28, 126);\">URLWithString</span>:urlStr];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(116, 60, 166); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span>NSMutableURLRequest<span style=\"color: rgb(0, 0, 0);\">*urlRequest = [</span>NSMutableURLRequest<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(63, 28, 126);\">requestWithURL</span><span style=\"color: rgb(0, 0, 0);\">:url];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 255); font-size-adjust: none; font-stretch: normal;\">[urlRequest <span style=\"color: rgb(63, 28, 126);\">setHTTPMethod</span>:<span style=\"color: rgb(218, 46, 36);\">@&quot;POST&quot;</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;[postBody </span>appendData<span style=\"color: rgb(0, 0, 0);\">:[data </span>dataUsingEncoding<span style=\"color: rgb(0, 0, 0);\">: </span>NSUTF8StringEncoding<span style=\"color: rgb(0, 0, 0);\"> </span>allowLossyConversion<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">YES</span><span style=\"color: rgb(0, 0, 0);\">]];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 255); font-size-adjust: none; font-stretch: normal;\">[urlRequest <span style=\"color: rgb(63, 28, 126);\">setHTTPBody</span>:postBody];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(116, 60, 166);\">NSData</span><span style=\"color: rgb(0, 0, 0);\"> *returnData = [</span><span style=\"color: rgb(116, 60, 166);\">NSURLConnection</span><span style=\"color: rgb(0, 0, 0);\"> </span>sendSynchronousRequest<span style=\"color: rgb(0, 0, 0);\">:urlRequest </span>returningResponse<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">nil</span><span style=\"color: rgb(0, 0, 0);\"> </span>error<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">nil</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 255); min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;</span><span style=\"color: rgb(0, 128, 0);\">//NSString *result = [[NSString alloc] initWithData:returnData encoding:NSUTF8StringEncoding];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 128, 0);\"> &nbsp; &nbsp;//[result release];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 25); font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 255); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">return</span> returnData;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 0, 255); font-size-adjust: none; font-stretch: normal;\">}</p></span></p><p>&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">postBody 是传送的内容</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p>&nbsp;</p><p style=\"color: rgb(0, 0, 255);\">&nbsp;</p><p style=\"color: rgb(0, 0, 255);\">　　是这样调用的NSString *udid = @&quot;a=U0020+#999999#E3CEB5881A0A1FDAAD01296D7554868D#&amp;b=123&quot;;</p><p style=\"color: rgb(0, 0, 255);\">　　[self PostUrl:udid];</p><p style=\"color: rgb(0, 0, 255);\">　　因为手头的一个项目,要求发送udid这样的字符串,而且 U0020代码部分要求8位,但是我起初没有加空格,搞了好久,所以印象好深刻,最后安慰自己买了雪糕...</p><p></p>','2013-12-11 08:30:13','2013-12-11 16:30:13'),(292,'114.247.232.56',3,'iphone绘制RGB数据','<p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><strong>//实时刷新有闪烁</strong></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"color: rgb(186, 45, 162);\">void</span>* data=<span style=\"color: rgb(61, 30, 129);\">malloc</span>(<span style=\"color: rgb(79, 129, 135);\">w</span>*<span style=\"color: rgb(79, 129, 135);\">h</span>*<span style=\"color: rgb(37, 43, 216);\">3</span>);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"line-height: 22px; font-family: Arial, Verdana, Helvetica, sans-serif; font-size: 14px;\"></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; padding: 0px; color: rgb(186, 45, 162); font-size-adjust: none; font-stretch: normal;\">unsigned<span style=\"color: rgb(0, 0, 0); line-height: 17px;\"> </span>int<span style=\"color: rgb(0, 0, 0); line-height: 17px;\"> *p=(</span>unsigned<span style=\"color: rgb(0, 0, 0); line-height: 17px;\"> </span>int<span style=\"color: rgb(0, 0, 0); line-height: 17px;\">*)data;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(186, 45, 162); line-height: 17px;\">int</span> i=<span style=\"color: rgb(37, 43, 216); line-height: 17px;\">0</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(186, 45, 162); line-height: 17px;\">for</span>( <span style=\"color: rgb(186, 45, 162); line-height: 17px;\">int</span> y=<span style=\"color: rgb(37, 43, 216); line-height: 17px;\">0</span>; y&lt;<span style=\"color: rgb(79, 129, 135); line-height: 17px;\">h</span>; y++ ){</p><p style=\"font: 11px/normal Menlo; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(186, 45, 162); line-height: 17px;\">for</span>( <span style=\"color: rgb(186, 45, 162); line-height: 17px;\">int</span> x=<span style=\"color: rgb(37, 43, 216); line-height: 17px;\">0</span>; x&lt;<span style=\"color: rgb(79, 129, 135); line-height: 17px;\">w</span>; x++ ){<span style=\"line-height: 17px; white-space: pre;\"> </span></p><p style=\"font: 11px/normal Menlo; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"line-height: 17px; white-space: pre;\"></span><span style=\"color: rgb(186, 45, 162); line-height: 17px;\">int</span> d = (<span style=\"color: rgb(79, 129, 135); line-height: 17px;\">h</span>-y+<span style=\"color: rgb(37, 43, 216); line-height: 17px;\">1</span>)*<span style=\"color: rgb(79, 129, 135); line-height: 17px;\">w</span>+x;</p><p style=\"font: 11px/normal Menlo; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"line-height: 17px; white-space: pre;\"></span>*(p+d)=(<span style=\"color: rgb(186, 45, 162); line-height: 17px;\">out</span>[i]&lt;&lt;<span style=\"color: rgb(37, 43, 216); line-height: 17px;\">16</span>|<span style=\"color: rgb(186, 45, 162); line-height: 17px;\">out</span>[i+<span style=\"color: rgb(37, 43, 216); line-height: 17px;\">1</span>]&lt;&lt;<span style=\"color: rgb(37, 43, 216); line-height: 17px;\">8</span>|<span style=\"color: rgb(186, 45, 162); line-height: 17px;\">out</span>[i+<span style=\"color: rgb(37, 43, 216); line-height: 17px;\">2</span>]);</p><p style=\"font: 11px/normal Menlo; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"line-height: 17px; white-space: pre;\"></span><span style=\"color: rgb(186, 45, 162); line-height: 17px;\">if</span>(i&lt;<span style=\"color: rgb(79, 129, 135); line-height: 17px;\">w</span>*<span style=\"color: rgb(79, 129, 135); line-height: 17px;\">h</span>*<span style=\"color: rgb(37, 43, 216); line-height: 17px;\">3</span>)i+=<span style=\"color: rgb(37, 43, 216); line-height: 17px;\">3</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(61, 30, 129);\"><span style=\"color: rgb(112, 61, 170);\"><span style=\"color: rgb(61, 30, 129); line-height: normal;\"><span style=\"color: rgb(112, 61, 170); line-height: 17px;\">CGColorSpaceRef</span><span style=\"color: rgb(0, 0, 0); line-height: 17px;\"> colorSpace = </span>CGColorSpaceCreateDeviceRGB<span style=\"color: rgb(0, 0, 0); line-height: 17px;\">();</span></span></span></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(61, 30, 129);\"><span style=\"color: rgb(112, 61, 170);\">CGContextRef</span><span style=\"color: rgb(0, 0, 0);\"> context = </span>CGBitmapContextCreate<span style=\"color: rgb(0, 0, 0);\">(data, </span><span style=\"color: rgb(79, 129, 135);\">w</span><span style=\"color: rgb(0, 0, 0);\">, </span><span style=\"color: rgb(79, 129, 135);\">h</span><span style=\"color: rgb(0, 0, 0);\">, </span><span style=\"color: rgb(37, 43, 216);\">8</span><span style=\"color: rgb(0, 0, 0);\">, </span><span style=\"color: rgb(37, 43, 216);\">4</span><span style=\"color: rgb(0, 0, 0);\">* </span><span style=\"color: rgb(79, 129, 135);\">w</span><span style=\"color: rgb(0, 0, 0);\">, colorSpace, </span>kCGImageAlphaNoneSkipLast<span style=\"color: rgb(0, 0, 0);\"> | </span>kCGBitmapByteOrder32Big<span style=\"color: rgb(0, 0, 0);\">); </span></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(112, 61, 170);\">CGImageRef</span> &nbsp;mybitmap = &nbsp;<span style=\"color: rgb(61, 30, 129);\">CGBitmapContextCreateImage</span> (context);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"line-height: 22px; font-family: Arial, Verdana, Helvetica, sans-serif; font-size: 14px;\"></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(112, 61, 170); line-height: 17px;\">UIImage</span> *uiImage = [<span style=\"color: rgb(112, 61, 170); line-height: 17px;\">UIImage </span><span style=\"color: rgb(61, 30, 129); line-height: 17px;\">imageWithCGImage</span>:mybitmap];</p><p style=\"font: 11px/normal Menlo; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 128, 0); line-height: 17px;\">//显示uiImage</span><span style=\"line-height: 17px; white-space: pre;\"><span style=\"color: rgb(153, 204, 0); line-height: 17px;\"> </span></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(61, 30, 129); line-height: 17px;\">free</span>(data);</p><p style=\"font: 11px/normal Menlo; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\">data=NULL;</p><p style=\"font: 11px/normal Menlo; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(61, 30, 129); line-height: 17px;\">CGImageRelease</span>(mybitmap);</p><p style=\"font: 11px/normal Menlo; margin: 0px; padding: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(61, 30, 129); line-height: 17px;\">CGContextRelease</span>(context);</p><p style=\"font: 11px/normal Menlo; margin: 0px; padding: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\">CGColorSpaceRelease<span style=\"color: rgb(0, 0, 0); line-height: 17px;\">(colorSpace);</span></p><p>&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><strong>//////////////////////////////////////</strong></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><strong>//实时刷新无闪烁</strong></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(112, 61, 170);\"><span style=\"font-family: Verdana; font-size: 3px;\"><span style=\"line-height: normal; font-size: 13px;\"></span></span></span></p><p><span style=\"color: rgb(112, 61, 170);\"><span style=\"font-family: Verdana; font-size: 3px;\"><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(186, 45, 162);\">void</span>* buffer=<span style=\"color: rgb(61, 30, 129);\">malloc</span>(<span style=\"color: rgb(79, 129, 135);\">w</span>*<span style=\"color: rgb(79, 129, 135);\">h</span>*<span style=\"color: rgb(37, 43, 216);\">4</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(112, 61, 170);\">CGRect</span> sourceRect =<span style=\"color: rgb(61, 30, 129);\">CGRectMake</span>(<span style=\"color: rgb(37, 43, 216);\">0</span>, <span style=\"color: rgb(37, 43, 216);\">0</span>, <span style=\"color: rgb(79, 129, 135);\">w</span>, <span style=\"color: rgb(79, 129, 135);\">h</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 128, 0);\">/*RGB24转RGB32</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 128, 0);\">unsigned char *p=(unsigned char*)buffer;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 128, 0);\">for( int i=0; i&lt;h*w*3; i+=3 ){</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 128, 0);\">*p++=out[i+2];/*B*/</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 128, 0);\">*p++=out[i+1];/*G*/</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 128, 0);\">*p++=out[i];/*R*/</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 128, 0);\">*p++=0xff;/*A*/</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 128, 0);\">}</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 128, 0);\">*/</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(112, 61, 170);\">CGDataProviderRef</span><span style=\"color: rgb(0, 0, 0);\"> provider = </span>CGDataProviderCreateWithData<span style=\"color: rgb(0, 0, 0);\">(</span><span style=\"color: rgb(186, 45, 162);\">NULL</span><span style=\"color: rgb(0, 0, 0);\">, </span><span style=\"color: rgb(112, 61, 170);\">buffer, </span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"></span>sourceRect.<span style=\"color: rgb(112, 61, 170);\">size</span>.<span style=\"color: rgb(79, 129, 135);\">width</span>*sourceRect.<span style=\"color: rgb(112, 61, 170);\">size</span>.<span style=\"color: rgb(79, 129, 135);\">height</span>*<span style=\"color: rgb(37, 43, 216);\">4</span><span style=\"color: rgb(0, 128, 0);\">/*</span><span style=\"line-height: 17px;\"><span style=\"color: rgb(0, 128, 0);\">如果24位只乘上3</span></span><span style=\"color: rgb(0, 128, 0);\">*/</span>, <span style=\"color: rgb(186, 45, 162);\">NULL</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(112, 61, 170);\">//32位RBGA</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"></span><span style=\"color: rgb(112, 61, 170);\">CGImageRef</span> iref = <span style=\"color: rgb(61, 30, 129);\">CGImageCreate</span>(sourceRect.<span style=\"color: rgb(112, 61, 170);\">size</span>.<span style=\"color: rgb(79, 129, 135);\">width</span>,</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"></span>sourceRect.<span style=\"color: rgb(112, 61, 170);\">size</span>.<span style=\"color: rgb(79, 129, 135);\">height</span>,<span style=\"color: rgb(37, 43, 216);\">8</span>,<span style=\"color: rgb(37, 43, 216);\">32</span><span style=\"color: rgb(0, 128, 0);\">/*</span><span style=\"color: rgb(0, 128, 0); line-height: 17px;\">如果24位填</span><span style=\"color: rgb(0, 128, 0);\">24*/</span>,</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"></span>sourceRect.<span style=\"color: rgb(112, 61, 170);\">size</span>.<span style=\"color: rgb(79, 129, 135);\">width</span>*<span style=\"color: rgb(37, 43, 216);\">4</span><span style=\"color: rgb(0, 128, 0);\">/*</span><span style=\"color: rgb(0, 128, 0); line-height: 17px;\">如果24位填</span><span style=\"line-height: 17px;\"><span style=\"color: rgb(0, 128, 0);\">width</span></span><span style=\"color: rgb(0, 128, 0);\">*3*/</span>,</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\"></span></span>CGColorSpaceCreateDeviceRGB<span style=\"color: rgb(0, 0, 0);\">(),</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\"></span></span>kCGImageAlphaPremultipliedLast<span style=\"color: rgb(0, 128, 0);\">/*A的位置，如果24位即只要kCGImageAlphaNone*/</span><span style=\"color: rgb(0, 0, 0);\">,</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"></span>provider,<span style=\"color: rgb(186, 45, 162);\">NULL</span>,<span style=\"color: rgb(186, 45, 162);\">NO</span>,<span style=\"color: rgb(61, 30, 129);\">kCGRenderingIntentDefault<span style=\"color: rgb(0, 0, 0);\">);</span></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(112, 61, 170);\">size_t</span> width &nbsp; &nbsp; &nbsp; &nbsp; = <span style=\"color: rgb(61, 30, 129);\">CGImageGetWidth</span>(iref);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(112, 61, 170);\">size_t</span> height &nbsp; &nbsp; &nbsp; &nbsp;= <span style=\"color: rgb(61, 30, 129);\">CGImageGetHeight</span>(iref);</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\">UIGraphicsBeginImageContext<span style=\"color: rgb(0, 0, 0);\">(</span>CGSizeMake<span style=\"color: rgb(0, 0, 0);\">(width, height));</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(61, 30, 129); line-height: 17px;\"><span style=\"color: rgb(112, 61, 170);\">CGContextRef</span><span style=\"color: rgb(0, 0, 0);\"> ctx = </span>UIGraphicsGetCurrentContext<span style=\"color: rgb(0, 0, 0);\">();</span></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(61, 30, 129);\">CGContextDrawImage</span>(ctx, <span style=\"color: rgb(61, 30, 129);\">CGRectMake</span>(<span style=\"color: rgb(37, 43, 216);\">0.0</span>, <span style=\"color: rgb(37, 43, 216);\">0.0</span>, width, height), iref);</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(112, 61, 170);\">UIImage</span><span style=\"color: rgb(0, 0, 0);\">* outputImage = &nbsp;</span>UIGraphicsGetImageFromCurrentImageContext<span style=\"color: rgb(0, 0, 0);\">();</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(79, 129, 135);\">viw</span>.<span style=\"color: rgb(112, 61, 170);\">image</span> = outputImage;</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\">UIGraphicsEndImageContext<span style=\"color: rgb(0, 0, 0);\">();</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(61, 30, 129);\">CGDataProviderRelease<span style=\"color: rgb(0, 0, 0);\">(provider);</span></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\">CGImageRelease<span style=\"color: rgb(0, 0, 0);\">(iref);</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(61, 30, 129);\">free</span>(buffer);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">buffer = <span style=\"color: rgb(186, 45, 162);\">NULL</span>;</p></span></span></p><p></p>','2013-12-11 08:30:45','2013-12-11 16:30:45'),(293,'114.247.232.56',3,'View旋转','<p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(79, 129, 135);\">imgBg</span><span style=\"color: rgb(0, 0, 0);\">.</span><span style=\"color: rgb(112, 61, 170);\">transform</span><span style=\"color: rgb(0, 0, 0);\">=</span>CGAffineTransformMakeRotation<span style=\"color: rgb(0, 0, 0);\">(f); </span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><br/></span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"line-height: 22px; font-family: Arial; font-size: 14px;\"></span></span></p><p><span style=\"color: rgb(0, 0, 0);\"><pre style=\"margin: 0px; padding: 0px; line-height: 22px; font-family: Arial; font-size: 14px; font-weight: normal; white-space: pre-wrap; zoom: 1; word-wrap: break-word;\">弧度=2*M_PI*角度/360\r\n弧度=弧长/R</pre></span></p><p></p>','2013-12-11 08:31:01','2013-12-11 16:31:01'),(294,'114.247.232.56',3,'返回View里的父View','<p><span style=\"line-height: 28px; font-family: Arial;\"><span style=\"color: rgb(0, 0, 255);\">[button.superview removeFromSuperview];</span></span></p><p><span style=\"color: rgb(51, 51, 51);\"><span style=\"line-height: 28px;\"><br/></span></span></p><p><span style=\"color: rgb(51, 51, 51);\"><br/></span></p><p><span style=\"color: rgb(51, 51, 51);\">///////////////////、、、、、、、、、、、、、、、、、、、</span></p><p><span style=\"color: rgb(51, 51, 51);\"><br/></span></p><p><span style=\"color: rgb(51, 51, 51);\"></span><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">-(<span style=\"color: rgb(186, 45, 162);\">void</span>) CloseSuperFrom:(<span style=\"color: rgb(112, 61, 170);\">UIView</span>*)CurView</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\"> </span>[CurView.</span><span style=\"color: rgb(112, 61, 170);\">superview</span><span style=\"color: rgb(0, 0, 0);\"> </span>removeFromSuperview<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p><span style=\"font-family: Menlo, Verdana, Helvetica, sans-serif; font-size: 3px;\"><span style=\"line-height: normal; font-size: 11px;\"><br/></span></span></p><p></p><p><span style=\"color: rgb(51, 51, 51);\"></span><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(49, 89, 94); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\">[</span><span style=\"color: rgb(186, 45, 162);\">self</span><span style=\"color: rgb(0, 0, 0);\"> </span>CloseSuperFrom<span style=\"color: rgb(0, 0, 0);\">:theButton]; //button里没有view 直接 用个button的变量就可以了</span></p><p></p><p></p><p></p><p></p></p></p>','2013-12-11 08:31:21','2013-12-11 16:31:21'),(295,'114.247.232.56',3,'删掉一个view里面的所有子view','<p><span style=\"line-height: 28px;\"><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(112, 61, 170); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">	</span></span><span style=\"color: rgb(186, 45, 162);\">for</span><span style=\"color: rgb(0, 0, 0);\"> (</span>UIView<span style=\"color: rgb(0, 0, 0);\"> *sun </span><span style=\"color: rgb(186, 45, 162);\">in</span><span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(79, 129, 135);\">MyScrollView</span><span style=\"color: rgb(0, 0, 0);\">.</span>subviews<span style=\"color: rgb(0, 0, 0);\">)</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\">		</span>[sun </span>removeFromSuperview<span style=\"color: rgb(0, 0, 0);\">];</span></p></span></p>','2013-12-11 08:31:42','2013-12-11 16:31:42'),(296,'114.247.232.56',3,'用代码为控件加入事件','<p><br/>-(IBAction) dd:(id)sender<br/>&nbsp;<br/>{<br/>&nbsp;<br/>&nbsp;[UIView beginAnimations:@&quot;fgf&quot; context:@&quot;sdfdsf&quot;];<br/>&nbsp;<br/>&nbsp;[UIView setAnimationDuration:0.5f];<br/>&nbsp;<br/>&nbsp;[UIView setAnimationCurve:UIViewAnimationCurveEaseInOut];<br/>&nbsp;<br/>&nbsp;[UIView setAnimationRepeatAutoreverses:NO];<br/>&nbsp;<br/>&nbsp;[UIView setAnimationTransition:UIViewAnimationTransitionFlipFromLeft forView:self.view cache:YES];<br/>&nbsp;<br/>&nbsp;[self.view exchangeSubviewAtIndex:1 withSubviewAtIndex:1];<br/>&nbsp;<br/>&nbsp;[UIView commitAnimations];<br/>&nbsp;<br/>&nbsp;NSLog(@&quot;dddd&quot;);<br/>&nbsp;<br/>&nbsp;</p><p>}</p><p>&nbsp;</p><p>&nbsp;</p><p>[btn addTarget:self action:@selector(dd:) forControlEvents:UIControlEventTouchUpInside];</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p><br/>***UIControlEvents [#w9f70b3d]<br/>|300|700|c<br/>|コントロールイベント|概要|<br/>|UIControlEventTouchDown|タッチダウン|<br/>|UIControlEventTouchDownRepeat|2回以上のタッチダウン|<br/>|UIControlEventTouchDragInside|境界内でのドラッグ|<br/>|UIControlEventTouchDragOutside|境界外でのドラッグ|<br/>|UIControlEventTouchDragEnter|境界内へのドラッグ|<br/>|UIControlEventTouchDragExit|境界外へのドラッグ|<br/>|UIControlEventTouchUpInside|境界内でのタッチアップ|<br/>|UIControlEventTouchUpOutside|境界外でのタッチアップ|<br/>|UIControlEventTouchCancel|システムイベントによりイベントのキャンセル|<br/>|UIControlEventValueChanged|-|<br/>|UIControlEventEditingDidBegin|[[UITextField]]オブジェクトの編集セッションの開始|<br/>|UIControlEventEditingChanged|[[UITextField]]オブジェクトの編集|<br/>|UIControlEventEditingDidEnd|[[UITextField]]オブジェクトの編集の終了|<br/>|UIControlEventEditingDidEndOnExit|[[UITextField]]オブジェクトの編集セッションが終了|<br/>|UIControlEventAllTouchEvents|全てのタッチイベント|<br/>|UIControlEventAllEditingEvents|全ての[[UITextField]]オブジェクト編集イベント|<br/>|UIControlEventApplicationReserved|-|<br/>|UIControlEventSystemReserved|-|<br/>|UIControlEventAllEvents|システムイベントを含む全てのコントロールイベント|<br/>//=============================================<br/>***VerticalContentAlignment [#o542b93d]<br/>|300|700|c<br/>|垂直方向の配置|概要|<br/>|UIControlContentVerticalAlignmentCenter|中心に配置|<br/>|UIControlContentVerticalAlignmentTop|最上部に配置|<br/>|UIControlContentVerticalAlignmentBottom|最下部に配置|<br/>|UIControlContentVerticalAlignmentFill|境界いっぱいに配置|<br/>//=============================================<br/>***HorizontalContentAlignment [#hec99e75]<br/>|300|700|c<br/>|水平方向の配置|概要|<br/>|UIControlContentHorizontalAlignmentCenter|中心に配置|<br/>|UIControlContentHorizontalAlignmentLeft|左端に配置|<br/>|UIControlContentHorizontalAlignmentRight|右端に配置|<br/>|UIControlContentHorizontalAlignmentFill|境界いっぱいに配置|<br/>//=============================================<br/>***ControlState [#raf727f6]<br/>|300|700|c<br/>|状態|概要|<br/>|UIControlStateNormal|デフォルトの状態|<br/>|UIControlStateHighlighted|ハイライトされた状態|<br/>|UIControlStateDisabled|無効な状態|<br/>|UIControlStateSelected|選択された状態|<br/>|UIControlStateApplicationReserved|-|<br/>|UIControlStateReserved|-|<br/>//=============================================</p><p></p>','2013-12-11 08:32:47','2013-12-11 16:32:47'),(297,'114.247.232.56',3,'view创建和销毁','<p style=\"text-indent: 2em;\">创建 myView:</p><p style=\"text-indent: 2em;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"></span></p><p><span style=\"color: rgb(0, 0, 0);\"><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(112, 61, 170);\"><span style=\"white-space: pre;\"> </span>UIView</span><span style=\"color: rgb(0, 0, 0);\"> *myView = [[</span><span style=\"color: rgb(112, 61, 170);\">UIView</span><span style=\"color: rgb(0, 0, 0);\"> </span>alloc<span style=\"color: rgb(0, 0, 0);\">] </span>initWithFrame<span style=\"color: rgb(0, 0, 0);\">:</span>CGRectMake<span style=\"color: rgb(0, 0, 0);\">(</span><span style=\"color: rgb(37, 43, 216);\">0</span><span style=\"color: rgb(0, 0, 0);\">,</span><span style=\"color: rgb(37, 43, 216);\">0</span><span style=\"color: rgb(0, 0, 0);\">,</span><span style=\"color: rgb(37, 43, 216);\">100</span><span style=\"color: rgb(0, 0, 0);\">,</span><span style=\"color: rgb(37, 43, 216);\">100</span><span style=\"color: rgb(0, 0, 0);\">)];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"></span></p><span style=\"color: rgb(0, 0, 0);\"><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> [myView </span>setBackgroundColor<span style=\"color: rgb(0, 0, 0);\">:[</span><span style=\"color: rgb(112, 61, 170);\">UIColor</span><span style=\"color: rgb(0, 0, 0);\"> </span>colorWithRed<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(37, 43, 216);\">192.0f</span><span style=\"color: rgb(0, 0, 0);\">/</span><span style=\"color: rgb(37, 43, 216);\">255.0f</span><span style=\"color: rgb(0, 0, 0);\"> </span>green<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(37, 43, 216);\">204.0f</span><span style=\"color: rgb(0, 0, 0);\">/</span><span style=\"color: rgb(37, 43, 216);\">255.0f</span><span style=\"color: rgb(0, 0, 0);\"> </span>blue<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(37, 43, 216);\">255.0f</span><span style=\"color: rgb(0, 0, 0);\">/</span><span style=\"color: rgb(37, 43, 216);\">255.0f</span><span style=\"color: rgb(0, 0, 0);\"> </span>alpha<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(37, 43, 216);\">0.5f</span><span style=\"color: rgb(0, 0, 0);\">]];</span></p></span><p>&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"> </span>[<span style=\"color: rgb(79, 129, 135);\">window</span> <span style=\"color: rgb(61, 30, 129);\">addSubview</span>:myView];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"> </span>[myView <span style=\"color: rgb(61, 30, 129);\">release</span>];</p></span></p><p>&nbsp;</p><p>&nbsp;</p><p style=\"text-indent: 2em;\"><br/></p><p style=\"text-indent: 2em;\">&nbsp;</p><p style=\"text-indent: 2em;\">销毁myView;</p><p style=\"text-indent: 2em;\">[myView removeFromSuperview];</p><p></p>','2013-12-11 08:33:03','2013-12-11 16:33:03'),(298,'114.247.232.56',3,'代码创建按钮和销毁','<p>/////////////////////////////////////////////111111111111111111</p><p>UIButton *sendButton = [UIButton buttonWithType:UIButtonTypeCustom];<br/> &nbsp; &nbsp;[sendButton setFrame:CGRectMake(0, 0, 105, 37)];<br/> &nbsp; &nbsp;[sendButton setImage:[UIImage imageNamed:@&quot;03.png&quot;] forState:UIControlStateNormal];<br/> &nbsp; &nbsp;[sendButton setCenter:CGPointMake(100,30)];<br/> &nbsp; &nbsp;[self.view addSubview:sendButton];</p><p>&nbsp;</p><p>&nbsp;</p><p>[sendButton setBackgroundImage:[[UIImage imageNamed:@&quot;button_white&quot;] stretchableImageWithLeftCapWidth:6.0 topCapHeight:6.0] forState:UIControlStateNormal];</p><p>[sendButton setBackgroundImage:[[UIImage imageNamed:@&quot;button_white_highlight&quot;] stretchableImageWithLeftCapWidth:6.0 topCapHeight:6.0] forState:UIControlStateHighlighted];</p><p><br/></p><p>&nbsp;</p><p>////////////////////////////////////////////////22222222222</p><p style=\"text-indent: 2em;\">在view中创建button:</p><p style=\"text-indent: 2em;\">UIButton *btn = [[UIButton buttonWithType:UIButtonTypeRoundedRect] retain];</p><p style=\"text-indent: 2em;\">btn.frame = CGRectMake(60,60, 60, 60);</p><p style=\"text-indent: 2em;\">[self.view addSubview:btn];</p><p style=\"text-indent: 2em;\">在view中销毁button:</p><p style=\"text-indent: 2em;\">[btn removeFromSuperview];</p><p style=\"text-indent: 2em;\">[btn release];</p><p style=\"text-indent: 2em;\"><br/></p><p><p style=\"text-indent: 2em;\"><br/></p><p style=\"text-indent: 2em;\"><br/></p><p style=\"text-indent: 2em;\">////////////////////////////33333333333</p><p style=\"text-indent: 2em;\"><br/></p><p style=\"text-indent: 2em;\"><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(116, 60, 166);\">UIButton</span> &nbsp; *btn = [[<span style=\"color: rgb(116, 60, 166);\">UIButton</span> <span style=\"color: rgb(63, 28, 126);\">alloc</span>] <span style=\"color: rgb(63, 28, 126);\">init</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">btn.<span style=\"color: rgb(116, 60, 166);\">frame</span> = <span style=\"color: rgb(63, 28, 126);\">CGRectMake</span>(<span style=\"color: rgb(37, 38, 211);\">0.0f</span>, <span style=\"color: rgb(37, 38, 211);\">0.0f</span>, <span style=\"color: rgb(37, 38, 211);\">42.0f</span>, <span style=\"color: rgb(37, 38, 211);\">28.0f</span>);<span style=\"white-space: pre;\">	</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;[btn </span>setBackgroundImage<span style=\"color: rgb(0, 0, 0);\">:[</span><span style=\"color: rgb(116, 60, 166);\">UIImage</span><span style=\"color: rgb(0, 0, 0);\"> </span>imageNamed<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(218, 46, 36);\">@&quot;btn_setting.png&quot;</span><span style=\"color: rgb(0, 0, 0);\">] </span>forState<span style=\"color: rgb(0, 0, 0);\">:</span>UIControlStateNormal<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">btn.<span style=\"color: rgb(116, 60, 166);\">backgroundColor</span> = [<span style=\"color: rgb(116, 60, 166);\">UIColor</span> <span style=\"color: rgb(63, 28, 126);\">clearColor</span>];<span style=\"white-space: pre;\">				</span> </p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(63, 28, 126); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp;[btn </span>addTarget<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">self</span><span style=\"color: rgb(0, 0, 0);\"> </span>action<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(194, 42, 159);\">@selector</span><span style=\"color: rgb(0, 0, 0);\">(showSettingInterface:) </span>forControlEvents<span style=\"color: rgb(0, 0, 0);\">:</span>UIControlEventTouchUpInside<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\">&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">[btn <span style=\"color: rgb(63, 28, 126);\">release</span>];</p><p></p><p></p><p></p><p></p><p></p></p></p>','2013-12-11 08:33:21','2013-12-11 16:33:21'),(299,'114.247.232.56',3,'UIColor使用','<p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(37, 43, 216); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\">[</span><span style=\"color: rgb(112, 61, 170);\">UIColor</span><span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(61, 30, 129);\">colorWithRed</span><span style=\"color: rgb(0, 0, 0);\">:</span>192.0f<span style=\"color: rgb(0, 0, 0);\">/</span>255.0f<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(61, 30, 129);\">green</span><span style=\"color: rgb(0, 0, 0);\">:</span>204.0f<span style=\"color: rgb(0, 0, 0);\">/</span>255.0f<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(61, 30, 129);\">blue</span><span style=\"color: rgb(0, 0, 0);\">:</span>255.0f<span style=\"color: rgb(0, 0, 0);\">/</span>255.0f<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(61, 30, 129);\">alpha</span><span style=\"color: rgb(0, 0, 0);\">:</span>0.5f<span style=\"color: rgb(0, 0, 0);\">]</span></p><p></p>','2013-12-11 08:33:38','2013-12-11 16:33:38'),(300,'114.247.232.56',3,'7.对字符串的截取操作。按照“|','<p style=\"font: 14px/normal Arial; margin: 0px; color: rgb(13, 13, 13); font-size-adjust: none; font-stretch: normal;\">NSString *s = @&quot;<span style=\"font: 14px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\"><span style=\"font-family: 宋体;\">哈根达斯</span></span>,4223|<span style=\"font: 14px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\"><span style=\"font-family: 宋体;\">帝王蟹</span></span>,3717|<span style=\"font: 14px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\"><span style=\"font-family: 宋体;\">三文鱼</span></span>,3255|<span style=\"font: 14px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\"><span style=\"font-family: 宋体;\">提拉米苏</span></span>,2733|<span style=\"font: 14px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\"><span style=\"font-family: 宋体;\">生蚝</span></span>,1860|<span style=\"font: 14px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\"><span style=\"font-family: 宋体;\">烤鳗</span></span>,1451|<span style=\"font: 14px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\"><span style=\"font-family: 宋体;\">生鱼片</span></span>,1430|<span style=\"font: 14px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\"><span style=\"font-family: 宋体;\">龙虾色拉</span></span>,1252|<span style=\"font: 14px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\"><span style=\"font-family: 宋体;\">北极贝</span></span>,1230|<span style=\"font: 14px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\"><span style=\"font-family: 宋体;\">鲍鱼片</span></span>,772|<span style=\"font: 14px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\"><span style=\"font-family: 宋体;\">芒果冰沙</span></span>,730|<span style=\"font: 14px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\"><span style=\"font-family: 宋体;\">烤鳗鱼</span></span>,706|<span style=\"font: 14px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\"><span style=\"font-family: 宋体;\">龙虾沙拉</span></span>,692|<span style=\"font: 14px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\"><span style=\"font-family: 宋体;\">海鲜泡饭</span></span>,600|<span style=\"font: 14px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\"><span style=\"font-family: 宋体;\">冰淇淋</span></span>,508|<span style=\"font: 14px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\"><span style=\"font-family: 宋体;\">芒果汁</span></span>,499|<span style=\"font: 14px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\"><span style=\"font-family: 宋体;\">鲍片</span></span>,357|<span style=\"font: 14px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\"><span style=\"font-family: 宋体;\">佛跳墙</span></span>,308|<span style=\"font: 14px/normal &quot;Heiti SC Light&quot;; font-size-adjust: none; font-stretch: normal;\"><span style=\"font-family: 宋体;\">鲍鱼</span></span>,295|HGDS,262 &quot;;</p><p style=\"font: 14px/normal Arial; margin: 0px; color: rgb(13, 13, 13); font-size-adjust: none; font-stretch: normal;\">NSMutableArray *array = [[s componentsSeparatedByString:@&quot;|&quot;]retain];</p><p style=\"font: 14px/normal Arial; margin: 0px; color: rgb(13, 13, 13); font-size-adjust: none; font-stretch: normal;\">NSMutableArray *mutablearray = [[NSMutableArray alloc] init];</p><p style=\"font: 14px/normal Arial; margin: 0px; color: rgb(13, 13, 13); font-size-adjust: none; font-stretch: normal;\">int i = 0;</p><p style=\"font: 14px/normal Arial; margin: 0px; color: rgb(13, 13, 13); font-size-adjust: none; font-stretch: normal;\">for(i; i&lt;[array count]; i++)</p><p style=\"font: 14px/normal Arial; margin: 0px; color: rgb(13, 13, 13); font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 14px/normal Arial; margin: 0px; color: rgb(13, 13, 13); font-size-adjust: none; font-stretch: normal;\">NSString *s1 = [array objectAtIndex:i];</p><p style=\"font: 14px/normal Arial; margin: 0px; color: rgb(13, 13, 13); font-size-adjust: none; font-stretch: normal;\">NSArray *a = [s1 componentsSeparatedByString:@&quot;,&quot;];</p><p style=\"font: 14px/normal Arial; margin: 0px; color: rgb(13, 13, 13); font-size-adjust: none; font-stretch: normal;\">[mutablearray addObject:[a objectAtIndex:0]];</p><p style=\"font: 14px/normal Arial; margin: 0px; color: rgb(13, 13, 13); font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 14px/normal Arial; margin: 0px; color: rgb(13, 13, 13); font-size-adjust: none; font-stretch: normal;\">for(i =0 ; i&lt;[mutablearray count]; i++)</p><p style=\"font: 14px/normal Arial; margin: 0px; color: rgb(13, 13, 13); font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 14px/normal Arial; margin: 0px; color: rgb(13, 13, 13); font-size-adjust: none; font-stretch: normal;\">NSLog([NSString stringWithFormat:@&quot;%@&quot;,[mutablearray objectAtIndex:i]]);</p><p style=\"font: 14px/normal Arial; margin: 0px; color: rgb(13, 13, 13); font-size-adjust: none; font-stretch: normal;\">}</p><p></p>','2013-12-11 08:34:00','2013-12-11 16:34:00'),(301,'114.247.232.56',3,'NSString,NSData,char','<p style=\"text-indent: 2em;\">////////////////NSData转NSString</p><p style=\"text-indent: 2em;\">NSString* aStr;</p><p style=\"text-indent: 2em;\">aStr = [[NSString alloc] initWithData:aData encoding:NSASCIIStringEncoding];</p><p style=\"text-indent: 2em;\"><br/></p><p style=\"text-indent: 2em;\">///////////////NSString<span style=\"text-indent: 2em;\">转NSData</span></p><p style=\"text-indent: 2em;\">NSData* aData;</p><p style=\"text-indent: 2em;\">aData = [aStr dataUsingEncoding: NSASCIIStringEncoding];</p><p style=\"text-indent: 2em;\"><br/></p><p style=\"text-indent: 2em;\"><br/></p><p style=\"text-indent: 2em;\"><br/></p><p style=\"text-indent: 2em;\">//////////// 转 char</p><p style=\"text-indent: 2em;\">char *s=[aStr UTF8String];</p><p></p>','2013-12-11 08:34:21','2013-12-11 16:34:21'),(302,'114.247.232.56',3,'调用其它app应用程序','<p style=\"text-indent: 2em;\">在需要被启动的程序的Info.plist添加URL types,URL identifier填com.yourcompany.productname,然后在其下item1添加URL Schemes,填上你要的值,比如App2.</p><p style=\"text-indent: 2em;\">这样在另一个程序中可以用[[UIApplication sharedApplication] openURL:[NSURL URLWithString:@&quot;App2://something&quot;]启动了.</p><p></p>','2013-12-11 08:34:35','2013-12-11 16:34:35'),(303,'114.247.232.56',3,'iPhone 图片应用','<p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">- (<span style=\"color: rgb(186, 45, 162);\">void</span>)viewDidLoad {</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; &nbsp;[</span><span style=\"color: rgb(186, 45, 162);\">super</span><span style=\"color: rgb(0, 0, 0);\"> </span>viewDidLoad<span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 0); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\"> </span></span>//choose one to unmark one of them</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 0); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\"> </span>[</span><span style=\"color: rgb(186, 45, 162);\">self</span><span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(49, 89, 94);\">addImg</span><span style=\"color: rgb(0, 0, 0);\">];</span>//ex.8-1 add star.jpg for background</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(0, 132, 0); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\"> </span>[</span><span style=\"color: rgb(186, 45, 162);\">self</span><span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(49, 89, 94);\">addAnimatedView</span><span style=\"color: rgb(0, 0, 0);\">];</span>//ex.8-2 show star animation</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">-(<span style=\"color: rgb(186, 45, 162);\">void</span>) addImg{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"> </span><span style=\"color: rgb(112, 61, 170);\">CGRect</span> imgRect = <span style=\"color: rgb(61, 30, 129);\">CGRectMake</span>(<span style=\"color: rgb(37, 43, 216);\">0.0f</span>, <span style=\"color: rgb(37, 43, 216);\">0.0f</span>, <span style=\"color: rgb(37, 43, 216);\">320.0f</span>, <span style=\"color: rgb(37, 43, 216);\">480.0f</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"> </span><span style=\"color: rgb(112, 61, 170);\">UIImageView</span> *img = [[<span style=\"color: rgb(112, 61, 170);\">UIImageView</span> <span style=\"color: rgb(61, 30, 129);\">alloc</span>] <span style=\"color: rgb(61, 30, 129);\">initWithFrame</span>:imgRect];</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\"> </span>[img </span>setImage<span style=\"color: rgb(0, 0, 0);\">:[</span><span style=\"color: rgb(112, 61, 170);\">UIImage</span><span style=\"color: rgb(0, 0, 0);\"> </span>imageNamed<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(209, 46, 27);\">@&quot;star.jpg&quot;</span><span style=\"color: rgb(0, 0, 0);\">]];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"> </span>img.<span style=\"color: rgb(112, 61, 170);\">opaque</span> = <span style=\"color: rgb(186, 45, 162);\">NO</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"> </span>[<span style=\"color: rgb(186, 45, 162);\">self</span>.<span style=\"color: rgb(112, 61, 170);\">view</span> <span style=\"color: rgb(61, 30, 129);\">addSubview</span>:img];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"> </span>[img <span style=\"color: rgb(61, 30, 129);\">release</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; min-height: 13px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">-(<span style=\"color: rgb(186, 45, 162);\">void</span>) addAnimatedView{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"> </span><span style=\"color: rgb(112, 61, 170);\">CGRect</span> imgRect = <span style=\"color: rgb(61, 30, 129);\">CGRectMake</span>(<span style=\"color: rgb(37, 43, 216);\">0.0f</span>, <span style=\"color: rgb(37, 43, 216);\">0.0f</span>, <span style=\"color: rgb(37, 43, 216);\">320.0f</span>, <span style=\"color: rgb(37, 43, 216);\">480.0f</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(61, 30, 129); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\"> </span></span><span style=\"color: rgb(112, 61, 170);\">NSArray</span><span style=\"color: rgb(0, 0, 0);\"> *imgs = [</span><span style=\"color: rgb(112, 61, 170);\">NSArray</span><span style=\"color: rgb(0, 0, 0);\"> </span>arrayWithObjects<span style=\"color: rgb(0, 0, 0);\">: [</span><span style=\"color: rgb(112, 61, 170);\">UIImage</span><span style=\"color: rgb(0, 0, 0);\"> </span>imageNamed<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(209, 46, 27);\">@&quot;star2.jpg&quot;</span><span style=\"color: rgb(0, 0, 0);\">], [</span><span style=\"color: rgb(112, 61, 170);\">UIImage</span><span style=\"color: rgb(0, 0, 0);\"> </span>imageNamed<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(209, 46, 27);\">@&quot;star2.jpg&quot;</span><span style=\"color: rgb(0, 0, 0);\">], [</span><span style=\"color: rgb(112, 61, 170);\">UIImage</span><span style=\"color: rgb(0, 0, 0);\"> </span>imageNamed<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(209, 46, 27);\">@&quot;star3.jpg&quot;</span><span style=\"color: rgb(0, 0, 0);\">], [</span><span style=\"color: rgb(112, 61, 170);\">UIImage</span><span style=\"color: rgb(0, 0, 0);\"> </span>imageNamed<span style=\"color: rgb(0, 0, 0);\">:</span><span style=\"color: rgb(209, 46, 27);\">@&quot;star4.jpg&quot;</span><span style=\"color: rgb(0, 0, 0);\">], </span><span style=\"color: rgb(186, 45, 162);\">nil</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(112, 61, 170); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\"> </span></span>UIImageView<span style=\"color: rgb(0, 0, 0);\"> *imgAniView = [</span>UIImageView<span style=\"color: rgb(0, 0, 0);\"> </span><span style=\"color: rgb(61, 30, 129);\">alloc</span><span style=\"color: rgb(0, 0, 0);\">];</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"> </span>[imgAniView <span style=\"color: rgb(61, 30, 129);\">initWithFrame</span>:imgRect];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"> </span>imgAniView.<span style=\"color: rgb(112, 61, 170);\">animationImages</span> = imgs;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(112, 61, 170); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\"> </span>imgAniView.</span>animationDuration<span style=\"color: rgb(0, 0, 0);\"> = </span><span style=\"color: rgb(37, 43, 216);\">2.25</span><span style=\"color: rgb(0, 0, 0);\">;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(112, 61, 170); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"><span style=\"white-space: pre;\"> </span>imgAniView.</span>animationRepeatCount<span style=\"color: rgb(0, 0, 0);\"> = </span><span style=\"color: rgb(37, 43, 216);\">1</span><span style=\"color: rgb(0, 0, 0);\">; //=0 will while</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(112, 61, 170); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(0, 0, 0);\"></span></p><p><span style=\"color: rgb(0, 0, 0);\"><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">imgAniView.<span style=\"color: rgb(112, 61, 170);\">alpha</span>=<span style=\"color: rgb(37, 43, 216);\">0.2</span>;</p></span></p><p>&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"> </span>[imgAniView <span style=\"color: rgb(61, 30, 129);\">startAnimating</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"> </span>[<span style=\"color: rgb(186, 45, 162);\">self</span>.<span style=\"color: rgb(112, 61, 170);\">view</span> <span style=\"color: rgb(61, 30, 129);\">addSubview</span>:imgAniView];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"white-space: pre;\"> </span>[imgAniView <span style=\"color: rgb(61, 30, 129);\">release</span>];</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><br/></p><p></p>','2013-12-11 08:34:54','2013-12-11 16:34:54'),(304,'114.247.232.56',3,'NSTimer定时器的基本操作方式','<p><span style=\"font-size: 12px;\"><p style=\"font-size: 12px;\">NSTimer是Cocoa中比较常用的定时器类，基本操作如下：</p><p style=\"font-size: 12px;\">handleTimer方法可以自行定义。在需要的地方创建timer即可，handleTimer就可以每0.5秒执行一次。</p><p style=\"font-size: 12px;\">&nbsp;</p><p><span style=\"font-size: 9pt;\">-(void) handleTimer: (NSTimer *) timer</span></p><p><span style=\"font-size: 9pt;\">{</span></p><p><span style=\"font-size: 9pt;\"> &nbsp; //</span><span style=\"font-size: 9pt;\">在这里进行处理</span></p><p><span style=\"font-size: 9pt;\">}</span></p><p><span style=\"font-size: 9pt;\">NSTimer *_timer;</span></p><p><span style=\"font-size: 9pt;\">_timer = [NSTimer scheduledTimerWithTimeInterval: 0.5//秒</span></p><p><span style=\"font-size: 9pt;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; target: self</span></p><p><span style=\"font-size: 9pt;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; selector: @selector(handleTimer:)</span></p><p><span style=\"font-size: 9pt;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; userInfo: nil</span></p><p><span style=\"font-size: 9pt;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; repeats: YES];</span></p><p><span style=\"font-size: 9pt;\"><br/></span></p><p>停止</p><p><span style=\"color: rgb(0, 0, 255);\"><span style=\"font-size: small;\">[_timer invalidate];<br/>_timer = nil;</span></span></p></span></p>','2013-12-11 08:35:10','2013-12-11 16:35:10'),(305,'114.247.232.56',3,'利用iphone的多线程实现和线程同','<p style=\"text-indent: 2em;\">从接口的定义中可以知道，NSThread和大多数iphone的接口对象一样，有两种方式可以初始化：</p><p style=\"text-indent: 2em;\">&nbsp;</p><p style=\"text-indent: 2em;\">一种使用initWithTarget :(id)target selector:(SEL)selector object:(id)argument，但需要负责在对象的retain count为0时调用对象的release方法清理对象。</p><p style=\"text-indent: 2em;\">&nbsp;</p><p style=\"text-indent: 2em;\">另一种则使用所谓的convenient method,这个方便接口就是detachNewThreadSelector，这个方法可以直接生成一个线程并启动它，而且无需为线程的清理负责。</p><p style=\"text-indent: 2em;\">&nbsp;</p><p style=\"text-indent: 2em;\">#imp<wbr/>ort &lt;UIKit/UIKit.h&gt;</p><p style=\"text-indent: 2em;\">@interface SellTicketsAppDelegate : NSObject &lt;UIApplicationDelegate&gt; {</p><p style=\"text-indent: 2em;\">int tickets;</p><p style=\"text-indent: 2em;\">int count;</p><p style=\"text-indent: 2em;\">NSThread* ticketsThreadone;</p><p style=\"text-indent: 2em;\">NSThread* ticketsThreadtwo;</p><p style=\"text-indent: 2em;\">NSCondition* ticketsCondition;</p><p style=\"text-indent: 2em;\">UIWindow *window;</p><p style=\"text-indent: 2em;\">}</p><p style=\"text-indent: 2em;\">&nbsp;</p><p style=\"text-indent: 2em;\">@property (nonatomic, retain) IBOutlet UIWindow *window;</p><p style=\"text-indent: 2em;\">@end</p><p style=\"text-indent: 2em;\">&nbsp;</p><p style=\"text-indent: 2em;\">&nbsp;</p><p style=\"text-indent: 2em;\">然后在实现中添加如下代码：</p><p style=\"text-indent: 2em;\">// &nbsp;SellTicketsAppDelegate.m</p><p style=\"text-indent: 2em;\">// &nbsp;SellTickets</p><p style=\"text-indent: 2em;\">//</p><p style=\"text-indent: 2em;\">// &nbsp;Created by sun dfsun2009 on 09-11-10.</p><p style=\"text-indent: 2em;\">// &nbsp;Copyright __MyCompanyName__ 2009. All rights reserved.</p><p style=\"text-indent: 2em;\">//</p><p style=\"text-indent: 2em;\">#imp<wbr/>ort &quot;SellTicketsAppDelegate.h&quot;</p><p style=\"text-indent: 2em;\">@implementation SellTicketsAppDelegate</p><p style=\"text-indent: 2em;\">@synthesize window;</p><p style=\"text-indent: 2em;\">- (void)applicationDidFinishLaunching:(UIApplication *)application {</p><p style=\"text-indent: 2em;\">tickets = 100;</p><p style=\"text-indent: 2em;\">count = 0;</p><p style=\"text-indent: 2em;\">// 锁对象</p><p style=\"text-indent: 2em;\">ticketsCondition = [[NSCondition alloc] init];</p><p style=\"text-indent: 2em;\">ticketsThreadone = [[NSThread alloc] initWithTarget:self selector:@selector(run) object:nil];</p><p style=\"text-indent: 2em;\">[ticketsThreadone setName:@&quot;Thread-1&quot;];</p><p style=\"text-indent: 2em;\">[ticketsThreadone start];</p><p style=\"text-indent: 2em;\">ticketsThreadtwo = [[NSThread alloc] initWithTarget:self selector:@selector(run) object:nil];</p><p style=\"text-indent: 2em;\">[ticketsThreadtwo setName:@&quot;Thread-2&quot;];</p><p style=\"text-indent: 2em;\">[ticketsThreadtwo start];</p><p style=\"text-indent: 2em;\">//[NSThread detachNewThreadSelector:@selector(run) toTarget:self withObject:nil];</p><p style=\"text-indent: 2em;\">// Override point for customization after application launch</p><p style=\"text-indent: 2em;\">[window makeKeyAndVisible];</p><p style=\"text-indent: 2em;\">}</p><p style=\"text-indent: 2em;\">- (void)run{</p><p style=\"text-indent: 2em;\">while (TRUE) {</p><p style=\"text-indent: 2em;\">// 上锁</p><p style=\"text-indent: 2em;\">[ticketsCondition lock];</p><p style=\"text-indent: 2em;\">if(tickets &gt; 0)</p><p style=\"text-indent: 2em;\">{</p><p style=\"text-indent: 2em;\">[NSThread sleepForTimeInterval:0.5];</p><p style=\"text-indent: 2em;\">count = 100 - tickets;</p><p style=\"text-indent: 2em;\">NSLog(@&quot;当前票数是:%d,售出:%d,线程名:%@&quot;,tickets,count,[[NSThread currentThread] name]);</p><p style=\"text-indent: 2em;\">tickets--;</p><p style=\"text-indent: 2em;\">}else</p><p style=\"text-indent: 2em;\">{</p><p style=\"text-indent: 2em;\">break;</p><p style=\"text-indent: 2em;\">}</p><p style=\"text-indent: 2em;\">[ticketsCondition unlock];</p><p style=\"text-indent: 2em;\">}</p><p style=\"text-indent: 2em;\">}</p><p style=\"text-indent: 2em;\">- &nbsp; &nbsp; &nbsp; &nbsp; (void)dealloc {</p><p style=\"text-indent: 2em;\">[ticketsThreadone release];</p><p style=\"text-indent: 2em;\">[ticketsThreadtwo release];</p><p style=\"text-indent: 2em;\">[ticketsCondition release];</p><p style=\"text-indent: 2em;\">[window release];</p><p style=\"text-indent: 2em;\">[super dealloc];</p><p style=\"text-indent: 2em;\">}</p><p style=\"text-indent: 2em;\">@end</p><p></p>','2013-12-11 08:35:51','2013-12-11 16:35:51'),(306,'192.168.2.200',18,'区分设备浏览器跳转','<pre class=\"brush:php;toolbar:false\">&lt;?php\r\n$agent&nbsp;=&nbsp;strtolower($_SERVER[&#39;HTTP_USER_AGENT&#39;]);\r\n$angent_ary=explode(&#39;(&#39;,$agent);\r\n$angent_ary=explode(&#39;)&#39;,$angent_ary[1]);\r\nif(count($angent_ary)&gt;0)\r\n{\r\n$agent=$angent_ary[0];\r\n$angent_win&nbsp;=&nbsp;(strstr($agent,&nbsp;&#39;windows&nbsp;nt&#39;))&nbsp;?&nbsp;1&nbsp;:&nbsp;0;//pc\r\n$angent_mac&nbsp;=&nbsp;(strstr($agent,&nbsp;&#39;macintosh&#39;))&nbsp;?&nbsp;1&nbsp;:&nbsp;0;//pc\r\n$angent_iphone&nbsp;=&nbsp;(strstr($agent,&nbsp;&#39;iphone&#39;))&nbsp;?&nbsp;1&nbsp;:&nbsp;0;//ios\r\n$angent_ipad&nbsp;=&nbsp;(strstr($agent,&nbsp;&#39;ipad&#39;))&nbsp;?&nbsp;1&nbsp;:&nbsp;0;//ios\r\n$angent_android&nbsp;=&nbsp;(strstr($agent,&nbsp;&#39;android&#39;))&nbsp;?&nbsp;1&nbsp;:&nbsp;0;//android\r\n&nbsp;\r\n}\r\nHeader(&quot;HTTP/1.1&nbsp;303&nbsp;See&nbsp;Other&quot;);\r\nif($angent_iphone&nbsp;||&nbsp;$angent_ipad&nbsp;||&nbsp;$angent_android){\r\n&nbsp;&nbsp;&nbsp;&nbsp;Header(&#39;Location:mob&#39;);\r\n}\r\nelse\r\n{\r\nHeader(&#39;Location:pc&#39;);\r\n}\r\nexit;&nbsp;\r\n?&gt;</pre><p style=\"font-size: 11px;\"><span style=\"font-size: 16px;\">&nbsp;&nbsp;</span><br/></p><pre class=\"brush:cpp;toolbar:false\">JS判断\r\n&lt;script&gt;\r\nfunction&nbsp;isIos(){&nbsp;\r\n&nbsp;&nbsp;&nbsp;var&nbsp;userAgentInfo&nbsp;=&nbsp;navigator.userAgent;&nbsp;\r\n&nbsp;&nbsp;&nbsp;var&nbsp;Agents&nbsp;=&nbsp;new&nbsp;Array(&quot;iPhone&quot;,&quot;iPad&quot;,&nbsp;&quot;iPod&quot;);&nbsp;\r\n&nbsp;&nbsp;&nbsp;var&nbsp;flag&nbsp;=&nbsp;false;&nbsp;\r\n&nbsp;&nbsp;&nbsp;for&nbsp;(var&nbsp;v&nbsp;=&nbsp;0;&nbsp;v&nbsp;&lt;&nbsp;Agents.length;&nbsp;v++)&nbsp;{&nbsp;\r\n	&nbsp;&nbsp;&nbsp;if&nbsp;(userAgentInfo.indexOf(Agents[v])&nbsp;&gt;&nbsp;0)&nbsp;{&nbsp;flag&nbsp;=&nbsp;true;&nbsp;break;&nbsp;}&nbsp;\r\n&nbsp;&nbsp;&nbsp;}&nbsp;\r\n&nbsp;&nbsp;&nbsp;return&nbsp;flag;&nbsp;\r\n}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n\r\n//检测是否为IOS系统\r\nif(!isIos()){\r\n	document.write(&#39;&lt;a&nbsp;href=&quot;&lt;?=$audioUrl?&gt;&quot;&nbsp;target=&quot;_blank&quot;&nbsp;style=&quot;display:block;line-height:30px;text-decoration:&nbsp;underline;&quot;&gt;&lt;?=$audioUrl?&gt;&lt;/a&gt;&#39;);\r\n}else{\r\n	document.write(&#39;&lt;br/&gt;&#39;);\r\n}&nbsp;&nbsp;&nbsp;\r\n&lt;/script&gt;</pre><p><br/></p>','2013-12-11 08:36:44','2015-08-26 22:40:38'),(307,'192.168.2.200',18,'微信公众平台','<pre class=\"brush:php;toolbar:false\">&lt;?php&nbsp;文档使用UTF8编码\r\n//-----验证\r\nif(strcmp($_GET[&quot;echostr&quot;],&#39;&#39;))\r\n{\r\n&nbsp;&nbsp;ob_clean();\r\n&nbsp;&nbsp;echo&nbsp;$_GET[&quot;echostr&quot;];exit;\r\n}\r\n//------------------------接收消息解释------------------------------\r\nfunction&nbsp;ai_logic($Content)\r\n{\r\nswitch&nbsp;($Content){\r\n&nbsp;case&nbsp;&quot;你好&quot;:\r\n&nbsp;&nbsp;&nbsp;$Content=&quot;嗯,你好啊!&quot;;\r\n&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;case&nbsp;&quot;在吗？&quot;:\r\n&nbsp;&nbsp;&nbsp;$Content=&quot;不在，不过你可以说&quot;;\r\n&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;case&nbsp;&quot;HI&quot;:\r\n&nbsp;&nbsp;&nbsp;$Content=&quot;hello!&quot;;\r\n&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;case&nbsp;&quot;好累&quot;:\r\n&nbsp;&nbsp;&nbsp;$Content=&quot;我也是&quot;;\r\n&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;case&nbsp;&quot;做紧咩&quot;:\r\n&nbsp;&nbsp;&nbsp;$Content=&quot;无聊啊,我在发呆!!&quot;;\r\n&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;default:\r\n&nbsp;&nbsp;&nbsp;$Content=&#39;唔明你讲咩!!&#39;;\r\n}&nbsp;\r\nreturn&nbsp;$Content;\r\n}\r\n//发送文本功能\r\nfunction&nbsp;send_text($ToUserName,$FromUserName,$Content)\r\n{\r\necho&nbsp;&#39;&lt;xml&gt;&#39;;\r\necho&nbsp;&#39;&lt;ToUserName&gt;&#39;.$ToUserName.&#39;&lt;/ToUserName&gt;&#39;;\r\necho&nbsp;&#39;&lt;FromUserName&gt;&#39;.$FromUserName.&#39;&lt;/FromUserName&gt;&#39;;\r\necho&nbsp;&#39;&lt;CreateTime&gt;&#39;.time().&#39;&lt;/CreateTime&gt;&#39;;\r\necho&nbsp;&#39;&lt;MsgType&gt;&lt;![CDATA[text]]&gt;&lt;/MsgType&gt;&#39;;\r\necho&nbsp;&#39;&lt;Content&gt;&#39;.$Content.&#39;&lt;/Content&gt;&#39;;\r\necho&nbsp;&#39;&lt;/xml&gt;&#39;;&nbsp;\r\n}\r\n//--------------------变量定义--\r\n$ToUserName=&#39;&#39;;\r\n$FromUserName=&#39;&#39;;\r\n$CreateTime=&#39;&#39;;\r\n$MsgType=&#39;&#39;;\r\n$MsgId=&#39;&#39;;\r\n$Content=&#39;&#39;;\r\n$PicUrl=&#39;&#39;;\r\n$Location_X=&#39;&#39;;\r\n$Location_Y=&#39;&#39;;\r\n$Scale=&#39;&#39;;\r\n$Label=&#39;&#39;;\r\n$Title=&#39;&#39;;\r\n$Description=&#39;&#39;;\r\n$Url=&#39;&#39;;\r\n$Event=&#39;&#39;;\r\n$EventKey=&#39;&#39;;\r\n//--------------------处理文本--\r\n$fxml&nbsp;=&nbsp;new&nbsp;DOMDocument();\r\n$fxml-&gt;loadXML($GLOBALS[&#39;HTTP_RAW_POST_DATA&#39;]);\r\n$node1&nbsp;=&nbsp;$fxml-&gt;getElementsByTagName(&nbsp;&quot;xml&quot;&nbsp;);\r\nforeach(&nbsp;$node1&nbsp;as&nbsp;$n1&nbsp;)\r\n{\r\n&nbsp;$_ToUserName&nbsp;=&nbsp;$n1-&gt;getElementsByTagName(&nbsp;&quot;ToUserName&quot;&nbsp;);\r\n&nbsp;$ToUserName&nbsp;=&nbsp;$_ToUserName-&gt;item(0)-&gt;nodeValue;\r\n&nbsp;$_FromUserName&nbsp;=&nbsp;$n1-&gt;getElementsByTagName(&nbsp;&quot;FromUserName&quot;&nbsp;);\r\n&nbsp;$FromUserName&nbsp;=&nbsp;$_FromUserName-&gt;item(0)-&gt;nodeValue;\r\n&nbsp;$_CreateTime&nbsp;=&nbsp;$n1-&gt;getElementsByTagName(&nbsp;&quot;CreateTime&quot;&nbsp;);\r\n&nbsp;$CreateTime&nbsp;=&nbsp;$_CreateTime-&gt;item(0)-&gt;nodeValue;\r\n&nbsp;$_MsgType&nbsp;=&nbsp;$n1-&gt;getElementsByTagName(&nbsp;&quot;MsgType&quot;&nbsp;);\r\n&nbsp;$MsgType&nbsp;=&nbsp;$_MsgType-&gt;item(0)-&gt;nodeValue;\r\n&nbsp;\r\n&nbsp;switch($MsgType)\r\n&nbsp;{\r\n&nbsp;&nbsp;case&nbsp;&#39;text&#39;:\r\n&nbsp;&nbsp;&nbsp;$_Content&nbsp;=&nbsp;$n1-&gt;getElementsByTagName(&nbsp;&quot;Content&quot;&nbsp;);\r\n&nbsp;&nbsp;&nbsp;$Content&nbsp;=&nbsp;$_Content-&gt;item(0)-&gt;nodeValue;\r\n&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;case&nbsp;&#39;image&#39;:\r\n&nbsp;&nbsp;&nbsp;$_PicUrl&nbsp;=&nbsp;$n1-&gt;getElementsByTagName(&nbsp;&quot;PicUrl&quot;&nbsp;);\r\n&nbsp;&nbsp;&nbsp;$PicUrl&nbsp;=&nbsp;$_PicUrl-&gt;item(0)-&gt;nodeValue;\r\n&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;case&nbsp;&#39;location&#39;:\r\n&nbsp;&nbsp;&nbsp;$_Location_X=&nbsp;$n1-&gt;getElementsByTagName(&nbsp;&quot;Location_X&quot;&nbsp;);\r\n&nbsp;&nbsp;&nbsp;$_Location_Y=&nbsp;$n1-&gt;getElementsByTagName(&nbsp;&quot;Location_Y&quot;&nbsp;);\r\n&nbsp;&nbsp;&nbsp;$_Scale=&nbsp;$n1-&gt;getElementsByTagName(&nbsp;&quot;Scale&quot;&nbsp;);\r\n&nbsp;&nbsp;&nbsp;$_Label=&nbsp;$n1-&gt;getElementsByTagName(&nbsp;&quot;Label&quot;&nbsp;);\r\n&nbsp;&nbsp;&nbsp;$Location_X=$_Location_X-&gt;item(0)-&gt;nodeValue;\r\n&nbsp;&nbsp;&nbsp;$Location_Y=$_Location_Y-&gt;item(0)-&gt;nodeValue;\r\n&nbsp;&nbsp;&nbsp;$Scale=$_Scale-&gt;item(0)-&gt;nodeValue;\r\n&nbsp;&nbsp;&nbsp;$Label=$_Label-&gt;item(0)-&gt;nodeValue;\r\n&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;case&nbsp;&#39;link&#39;:\r\n&nbsp;&nbsp;&nbsp;$_Title=$n1-&gt;getElementsByTagName(&nbsp;&quot;Title&quot;&nbsp;);\r\n&nbsp;&nbsp;&nbsp;$_Description=$n1-&gt;getElementsByTagName(&nbsp;&quot;Description&quot;&nbsp;);\r\n&nbsp;&nbsp;&nbsp;$_Url=$n1-&gt;getElementsByTagName(&nbsp;&quot;Url&quot;&nbsp;);\r\n&nbsp;&nbsp;&nbsp;$Title=$_Title-&gt;item(0)-&gt;nodeValue;\r\n&nbsp;&nbsp;&nbsp;$Description=$_Description-&gt;item(0)-&gt;nodeValue;\r\n&nbsp;&nbsp;&nbsp;$Url=$_Url-&gt;item(0)-&gt;nodeValue;\r\n&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;case&nbsp;&#39;event&#39;:\r\n&nbsp;&nbsp;&nbsp;$_Event&nbsp;=&nbsp;$n1-&gt;getElementsByTagName(&nbsp;&quot;Event&quot;&nbsp;);\r\n&nbsp;&nbsp;&nbsp;$_EventKey=&nbsp;$n1-&gt;getElementsByTagName(&nbsp;&quot;EventKey&quot;&nbsp;);\r\n&nbsp;&nbsp;&nbsp;$Event&nbsp;=&nbsp;$_Event-&gt;item(0)-&gt;nodeValue;\r\n&nbsp;&nbsp;&nbsp;$EventKey=&nbsp;$_EventKey-&gt;item(0)-&gt;nodeValue;\r\n&nbsp;&nbsp;break;\r\n&nbsp;}\r\n&nbsp;\r\n&nbsp;$_MsgId&nbsp;=&nbsp;$n1-&gt;getElementsByTagName(&nbsp;&quot;MsgId&quot;&nbsp;);\r\n&nbsp;$MsgId&nbsp;=&nbsp;$_MsgId-&gt;item(0)-&gt;nodeValue;\r\n}\r\n//--------------------回复消息--\r\nswitch($MsgType)\r\n{\r\n&nbsp;case&nbsp;&#39;text&#39;:\r\n&nbsp;{\r\n&nbsp;&nbsp;$Content=ai_logic($Content);\r\n&nbsp;&nbsp;send_text($FromUserName,$ToUserName,$Content);\r\n&nbsp;}\r\n&nbsp;break;\r\n&nbsp;case&nbsp;&#39;event&#39;:\r\n&nbsp;{\r\n&nbsp;&nbsp;switch($Event)\r\n&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;case&nbsp;&#39;subscribe&#39;://subscribe(订阅)\r\n&nbsp;&nbsp;&nbsp;&nbsp;$Content=&quot;欢迎光临~!!&nbsp;\r\n你的OpenID:$FromUserName\r\n订阅的公众号:$ToUserName&quot;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;send_text($FromUserName,$ToUserName,$Content);\r\n&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;case&nbsp;&#39;unsubscribe&#39;://unsubscribe(取消订阅\r\n&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;case&nbsp;&#39;CLICK&#39;://CLICK(自定义菜单点击事件)&nbsp;\r\n&nbsp;&nbsp;&nbsp;break;&nbsp;\r\n&nbsp;&nbsp;}\r\n&nbsp;}\r\n&nbsp;break;\r\n}\r\n/*\r\n//调试输出接收的内容\r\n$fp=fopen(&quot;aaa.txt&quot;,&quot;w&quot;);\r\nfprintf($fp,$GLOBALS[&#39;HTTP_RAW_POST_DATA&#39;]);\r\nfclose($fp);\r\n*/\r\n?&gt;</pre><p><br/></p>','2013-12-11 08:37:15','2015-12-29 20:18:29'),(308,'114.247.232.56',18,'接收post全部消息','<p>$xmlBuf=$GLOBALS[&#39;HTTP_RAW_POST_DATA&#39;] ;</p>','2013-12-11 08:37:33','2013-12-11 16:37:33'),(309,'114.247.232.56',18,'二维码phpQRCode使用','<p>&lt;?php<br/>include &quot;./module/phpqrcode/qrlib.php&quot;;</p><p>/*<br/> &nbsp; &nbsp;$data 数据<br/> &nbsp; &nbsp;$filename 保存的图片名称<br/> &nbsp; &nbsp;$errorCorrectionLevel 错误处理级别<br/> &nbsp; &nbsp;$matrixPointSize 每个黑点的像素<br/> &nbsp; &nbsp;$margin 图片外围的白色边框像素<br/>*/</p><p>mkdir(&#39;./qr_img/&#39;);</p><p>$data=$_POST[&#39;data&#39;];<br/>$filename=&#39;./qr_img/&#39;.rand().&quot;.png&quot;;<br/>if(strcmp($data,&#39;&#39;))<br/>{ <br/> $errorCorrectionLevel=&quot;L&quot;; <br/> $matrixPointSize=&quot;5&quot;;<br/> $margin=&quot;4&quot;;<br/> QRcode::png($data, $filename, $errorCorrectionLevel, $matrixPointSize, $margin);<br/> echo &#39;&lt;img src=&quot;&#39;.$filename.&#39;&quot;/&gt;&#39;;<br/>}<br/>?&gt;<br/>&lt;form action=&quot;?&quot; method=&quot;post&quot;&gt;<br/> &nbsp;&lt;label&gt;<br/> &nbsp; &nbsp;内容:<br/> &nbsp; &nbsp; &nbsp;&lt;input type=&quot;text&quot; name=&quot;data&quot; id=&quot;data&quot; /&gt;<br/> &nbsp;&lt;/label&gt;<br/> &nbsp;&lt;label&gt;<br/> &nbsp; &nbsp;&lt;input type=&quot;submit&quot; name=&quot;button&quot; id=&quot;button&quot; value=&quot;提交&quot; /&gt;<br/> &nbsp;&lt;/label&gt;<br/>&lt;/form&gt;</p><p></p>','2013-12-11 08:37:49','2013-12-11 16:37:49'),(310,'114.247.232.56',18,'Aes加解密CBC算法','<p>&lt;?php</p><p>class aes {</p><p><br/></p><p>// CRYPTO_CIPHER_BLOCK_SIZE 32</p><p>	</p><p>	private $_secret_key = &#39;default_secret_key&#39;;</p><p>	</p><p>	public function setKey($key) {</p><p>$this-&gt;_secret_key = $key;</p><p>	}</p><p>	</p><p>	public function encode($data) {</p><p>$td = mcrypt_module_open(MCRYPT_RIJNDAEL_256,&#39;&#39;,MCRYPT_MODE_CBC,&#39;&#39;);</p><p>$iv = mcrypt_create_iv(mcrypt_enc_get_iv_size($td),MCRYPT_RAND);</p><p>mcrypt_generic_init($td,$this-&gt;_secret_key,$iv);</p><p>$encrypted = mcrypt_generic($td,$data);</p><p>mcrypt_generic_deinit($td);</p><div></div><p>return base64_encode($iv . $encrypted);</p><p>	}</p><p>	</p><p>	public function decode($data) {</p><p>$data=base64_decode($data);</p><p>$td = mcrypt_module_open(MCRYPT_RIJNDAEL_256,&#39;&#39;,MCRYPT_MODE_CBC,&#39;&#39;);</p><p>$iv = mb_substr($data,0,32,&#39;latin1&#39;);</p><p>mcrypt_generic_init($td,$this-&gt;_secret_key,$iv);</p><p>$data = mb_substr($data,32,mb_strlen($data,&#39;latin1&#39;),&#39;latin1&#39;);</p><p>$data = mdecrypt_generic($td,$data);</p><p>mcrypt_generic_deinit($td);</p><p>mcrypt_module_close($td);</p><div></div><p>return $data;</p><p>	}</p><p>}</p><p><br/></p><p>$aes = new aes();</p><p><br/></p><p>$md5_key=md5(&#39;123&#39;);</p><p><br/></p><p>echo &#39;md5:&#39;;</p><p>echo $md5_key;</p><p>echo &quot;&lt;/br&gt;\\n&quot;;</p><p><br/></p><p>$aes-&gt;setKey($md5_key);</p><p><br/></p><p>$txt=&quot;{i am json ,baby!!}&quot;;</p><p><br/></p><p>// 加密</p><p>$txt= $aes-&gt;encode($txt);</p><p><br/></p><p>echo &#39;encode:&#39;;</p><p>echo $txt;</p><p>echo &quot;&lt;/br&gt;\\n&quot;;</p><p><br/></p><p>// 解密</p><p>$txt=$aes-&gt;decode($txt);</p><p><br/></p><p>echo &#39;decode:&#39;;</p><p>echo $txt;</p><p>echo &quot;&lt;/br&gt;\\n&quot;;</p><p><br/></p><p>?&gt;</p><p></p>','2013-12-11 08:38:32','2013-12-11 16:38:32'),(311,'59.39.219.115',18,'新Apache服务器配置','<p>--------------------------------------------------------</p><p><strong>apache</strong></p><p>&nbsp;</p><p>加载ssl_module模块</p><p>&nbsp;</p><p>--------------------------------------------------------</p><p><strong>httpd.conf</strong></p><p>&nbsp;</p><p>httpd2.2版本 &quot;Deny from all&quot; 全部改成 &quot;Allow from all&quot;</p><p>httpd2.4版本 &quot;Require all denied&quot; 全部改成 &quot;Require all granted&quot;,在&lt;Directory &quot;d:/wamp/www/&quot;&gt;里面添加一句&quot;Require all granted&quot;&lt;/...&gt;</p><p>&nbsp;</p><p>以下几处:</p><p>--------------------------------</p><p>&lt;Directory /&gt;</p><p>Options FollowSymLinks</p><p>AllowOverride None</p><p>Order deny,allow</p><p>Allow from all</p><p>&lt;/Directory&gt;</p><p>--------------------------------------------------------</p><p><strong>php.ini</strong></p><p>&nbsp;</p><p>//加载ssl</p><p>extension=php_openssl.dll</p><p>//图片处理</p><p>extension=php_gd2.dll</p><pre id=\"best-content-664356357\" accuse=\"aContent\">//加载curl&nbsp;扩展\r\nextension=php_curl.dll</pre><p>&nbsp;</p><p>//启用简写标签 &lt;??&gt;<br/>short_open_tag=On<br/></p><p>//变量未定义警告</p><p>error_reporting = E_ALL &amp; ~E_NOTICE</p><p>&nbsp;</p><p>//Windows环境PHP的session不能正常使用解决办法：</p><p>&nbsp;1.找到session.save_path = /tmp这一行，这是PHP在linux下的配置，Windows下PHP无法读写session文件导致session无法使用，把它改成一个绝对路径就可以了，例如：session.save_path = C:\\windows\\temp。</p><p>&nbsp;2.session_autostart=1</p><p>&nbsp;</p><p>//crypt模块</p><p>1.将libmcrypt.dll复制到system32目录或php安装目录下的extensions目录下<br/>2.将libmcrypt.dll复制到apache安装目录的bin目录下 <br/>3.到php安装目录下找到php.ini文件，打开它 <br/>4.extension=php_mcrypt.dll</p><p>5.extension=php_mbstring.dll</p><p><br/></p><p><br/></p><p>------------------------------------------------------------</p><p><strong>然后将php目录中的ext下的php_gd2.dll拷入c:\\windows\\system32</strong></p><p><strong>或者将ext目录添加到系统环境变量中</strong><br/>&nbsp;</p><p>&nbsp;</p>','2013-12-11 08:38:51','2014-03-07 15:46:16'),(312,'114.247.232.56',18,'IP数据采集','<p>IP数据采集地址 &nbsp; &quot;<a href=\"http://www.ip138.com/ips1388.asp?ip=\" target=\"_blank\">http://www.ip138.com/ips1388.asp?ip=</a>$ip&amp;action=2&quot;</p><p><br/></p><p><br/></p><p><br/></p><p>//---------------------- php -----------------------------</p><p>&lt;form id=&quot;form1&quot; name=&quot;form1&quot; method=&quot;post&quot; action=&quot;?&quot;&gt;</p><p>&lt;label&gt;</p><p>&lt;input name=&quot;ip&quot; type=&quot;text&quot; id=&quot;ip&quot; value=&quot;222.222.222.222&quot; /&gt;</p><p>&lt;/label&gt;</p><p>&lt;label&gt;</p><p>&lt;input type=&quot;submit&quot; name=&quot;button&quot; id=&quot;button&quot; value=&quot;提交&quot; /&gt;</p><p>&lt;/label&gt;</p><p>&lt;/form&gt;</p><p>&lt;?</p><p>//获取指定标记中的内容</p><p>function GETTAGDATE($str, $start, $end,$num=1){</p><p>if ( $start == &#39;&#39; || $end == &#39;&#39; ){</p><p>return;</p><p>}</p><p>$str = explode($start, $str);</p><p>$str = explode($end, $str[$num]);</p><p>return $str[0];</p><p>}</p><p><br/></p><p>$ip=$_REQUEST[&#39;ip&#39;];</p><p>if($ip!=&#39;&#39;)</p><p>{</p><p>	//$url=&quot;<a href=\"http://www.ip.cn/getip.php?action=queryip&amp;ip_url=\" target=\"_blank\">http://www.ip.cn/getip.php?action=queryip&amp;ip_url=</a>$ip&amp;from=web&quot;;</p><p>	$url=&quot;<a href=\"http://www.ip138.com/ips1388.asp?ip=\" target=\"_blank\">http://www.ip138.com/ips1388.asp?ip=</a>$ip&amp;action=2&quot;;</p><p>	</p><p>	//服务器不禁止用file_get_contents时</p><p>	//$Conent=file_get_contents($url);</p><p>	$ch = curl_init() or die (curl_error());</p><p>	curl_setopt($ch,CURLOPT_URL,$url);</p><p>	curl_setopt($ch,CURLOPT_RETURNTRANSFER,1);</p><p>	$content = curl_exec($ch) or die (curl_error());</p><p>	//echo curl_error($ch);</p><p>	curl_close($ch);</p><p>	</p><p>	//转码</p><p>	//$content=iconv(&quot;GB2312&quot;,&quot;UTF-8&quot;,$content);</p><p>	//$Conent=GETTAGDATE($content,&#39;&lt;td align=&quot;center&quot;&gt;&lt;ul class=&quot;ul1&quot;&gt;&#39;,&#39;&lt;/ul&gt;&lt;/td&gt;&#39;);</p><p>	if($content)</p><p>	{</p><p>//$add=GETTAGDATE($content,&#39;来自：&#39;,&#39;&lt;/p&gt;&#39;);</p><p>$add=GETTAGDATE($content,&#39;&lt;ul class=&quot;ul1&quot;&gt;&#39;,&#39;&lt;/ul&gt;&#39;);</p><p>echo $add;</p><p>echo &quot;&lt;script&gt;alert(&#39;$add&#39;)&lt;/script&gt;&quot;;</p><p>//echo GETTAGDATE($content,&#39;&lt;li&gt;&#39;,&#39;&lt;/li&gt;&#39;,1);</p><p>	}</p><p>	else</p><p>	{echo &quot;无效地址:$ip&quot;;	}</p><p>}</p><p>?&gt;</p><p></p>','2013-12-11 08:39:11','2013-12-11 16:39:11'),(313,'14.217.219.245',18,'php获取时间','<p>date_default_timezone_set(&#39;PRC&#39;); //获取系统时间</p><p><br/></p><p>define(&quot;_now&quot;,date(&quot;Y-m-d H:i:s&quot;,time()));<br/>define(&quot;_today&quot;,date(&quot;Y-m-d&quot;,time()));</p><p><br/></p>','2013-12-11 08:39:30','2014-08-14 10:38:15'),(314,'192.168.2.200',18,'获取刚插入的ID','<p>access:</p><p>$db-&gt;query(&quot;select @@IDENTITY&quot;);<br/> $rs=$_CON-&gt;READ();</p><p>&nbsp;</p><p>mysql:</p><p>$db-&gt;query(&quot;SELECT LAST_INSERT_ID()&quot;);</p><p>$rs=$db-&gt;read();</p><p><br/></p>','2013-12-11 08:39:44','2015-08-06 17:42:38'),(315,'114.247.232.56',18,'是否进入链接确认','<p>&lt;a href=&quot;pre_contract_list.php&quot; onclick=&quot;return confirm(&#39;确定删除？&#39;)&quot; &gt;&lt;/a&gt;</p>','2013-12-11 08:39:59','2013-12-11 16:39:59'),(317,'192.168.5.20',3,'初始化使用Storyboard----performSegueWithIdentifier','<pre class=\"&quot;&quot;\\&quot;\\\\&quot;\\\\\\\\&quot;\\\\\\\\\\\\\\\\&quot;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;brush:cpp;toolbar:false\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;\\\\\\\\\\\\\\\\&quot;\\\\\\\\&quot;\\\\&quot;\\&quot;&quot;&quot;\">//----------------------------------------------------\r\n//初始化调用历史板的界面\r\nUIStoryboard&nbsp;*frm&nbsp;=&nbsp;[UIStoryboard&nbsp;storyboardWithName:@&quot;BleDevList_iPhone&quot;&nbsp;bundle:nil];\r\n[self&nbsp;presentViewController:[frm&nbsp;instantiateInitialViewController]&nbsp;&nbsp;animated:NO&nbsp;completion:nil];\r\n//[self.navigationController&nbsp;pushViewController:[frm&nbsp;instantiateInitialViewController]&nbsp;animated:YES];\r\n//不需要release,不然跳转和pop窗体的时候会出错\r\n\r\n//----------------------------------------------------\r\n//导航栏\r\n*错误:whose&nbsp;view&nbsp;is&nbsp;not&nbsp;in&nbsp;the&nbsp;window&nbsp;hierarchy!&nbsp;\r\n*不能在-&nbsp;(void)viewDidLoad里面执行跳转界面,可以在viewDidAppear里实现\r\n//跳到storyboard某个ViewController,在ViewController里面要设置identifier例如BleDetial_iPhone_ID\r\n&nbsp;&nbsp;&nbsp;&nbsp;UIStoryboard&nbsp;*frm&nbsp;=&nbsp;[UIStoryboard&nbsp;storyboardWithName:@&quot;w1&quot;&nbsp;bundle:nil];\r\n&nbsp;&nbsp;&nbsp;&nbsp;[self.navigationController&nbsp;pushViewController:frm.instantiateInitialViewController&nbsp;animated:YES];\r\n//不需要release,不然跳转和pop窗体的时候会出错\r\n\r\n//------------------------------------------------------\r\n//普通窗体\r\n//初始化类时跳到另一页面,不能在-&nbsp;(void)viewDidLoad里面执行跳转界面,可以在viewDidAppear里实现\r\n-(void)viewDidAppear:(BOOL)animated\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;[super&nbsp;viewDidAppear:animated];&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//跳到页面\r\n&nbsp;&nbsp;&nbsp;&nbsp;UINavigationController&nbsp;*nv&nbsp;=&nbsp;[self.storyboard&nbsp;instantiateViewControllerWithIdentifier:@&quot;Nav_Main_ID&quot;];\r\n&nbsp;&nbsp;&nbsp;&nbsp;[self&nbsp;presentViewController:nv&nbsp;animated:NO&nbsp;completion:nil];\r\n&nbsp;&nbsp;&nbsp;&nbsp;//不需要release,不然释放窗体时会出错\r\n}\r\n\r\n\r\n//----------------------------------------------------\r\n//根据&nbsp;segue&nbsp;Identifier跳转界面,就是选中连接线后填的ID,并不是storyboard&nbsp;id\r\n-(IBAction)click:(id)sender\r\n{\r\n&nbsp;GotoTwo是连接线后填的ID,如果使用连接线,那就不用写代码初始化collecter\r\n&nbsp;[self&nbsp;performSegueWithIdentifier:@&quot;GotoTwo&quot;&nbsp;sender:self];\r\n}\r\n\r\n//----------------------------------------------------\r\n//事件\r\n//storyboard跳转时的事件,放在要触发的页面类里面\r\n-(void)prepareForSegue:(UIStoryboardSegue*)segue&nbsp;sender:(id)sender\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;/*\r\n&nbsp;&nbsp;&nbsp;&nbsp;NSLog(@&quot;segue.identifier=%@&quot;,segue.identifier);\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;([segue.identifier&nbsp;isEqualToString:@&quot;segID&quot;])&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SelectWriteUIDController*&nbsp;frm=(SelectWriteUIDController*)segue.destinationViewController;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;*/\r\n}</pre>','2013-12-11 09:33:28','2016-08-12 11:11:06'),(318,'192.168.2.123',3,'UITableView','<p><br/></p><pre class=\"brush:cpp;toolbar:false\">//去除UITableView空白的多余的分割线\r\ntbView.tableFooterView&nbsp;=&nbsp;[[UIView&nbsp;alloc]&nbsp;initWithFrame:CGRectZero];\r\n\r\n//重新载入数据\r\n[tbView&nbsp;&nbsp;reloadData];\r\n//调整位置\r\n[tbView&nbsp;setContentOffset:CGPointMake(0,400)&nbsp;animated:YES];\r\n\r\n//跳到指定行\r\n\r\n[tbView&nbsp;selectRowAtIndexPath:[NSIndexPath&nbsp;indexPathForRow:3/*行位置*/&nbsp;inSection:0]&nbsp;animated:YES&nbsp;scrollPosition:UITableViewScrollPositionTop];\r\n\r\n\r\n//修改背景\r\nUIImageView*backView&nbsp;=&nbsp;[[UIImageView&nbsp;alloc]&nbsp;initWithFrame:tbView.frame];\r\n[backView&nbsp;setImage:[UIImage&nbsp;imageNamed:@&quot;bg.jpg&quot;]];\r\n[tbView&nbsp;setBackgroundView:backView];\r\n[backView&nbsp;release];\r\n//单独更新某个Section\r\n先更改数组里的数据\r\nNSRange&nbsp;range&nbsp;=&nbsp;NSMakeRange(/*Section*/0,&nbsp;i/*第几行*/);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSIndexSet&nbsp;*sectionToReload&nbsp;=&nbsp;[NSIndexSet&nbsp;indexSetWithIndexesInRange:range];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[tbList&nbsp;reloadSections:sectionToReload&nbsp;withRowAnimation:UITableViewRowAnimationFade];\r\n\r\n\r\n//单独刷新某行\r\n[tbList&nbsp;reloadRowsAtIndexPaths:[NSArray&nbsp;arrayWithObject:[NSIndexPath&nbsp;indexPathForRow:i/*第几行*/inSection:0/*Section*/]]&nbsp;withRowAnimation:UITableViewRowAnimationFade];\r\n\r\n\r\n/////////////////////////////////////////////////////////\r\n-&nbsp;(NSInteger)numberOfSectionsInTableView:(UITableView&nbsp;*)tableView&nbsp;\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;1;\r\n}\r\n-&nbsp;(NSInteger)tableView:(UITableView&nbsp;*)tableView&nbsp;numberOfRowsInSection:(NSInteger)section&nbsp;\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;20;\r\n}\r\n-&nbsp;(UITableViewCell&nbsp;*)tableView:(UITableView&nbsp;*)tableView&nbsp;cellForRowAtIndexPath:(NSIndexPath&nbsp;*)indexPath&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;NSString&nbsp;*CellIdentifier&nbsp;=&nbsp;@&quot;Cell&quot;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;UITableViewCell&nbsp;*cell&nbsp;=&nbsp;[tableView&nbsp;dequeueReusableCellWithIdentifier:CellIdentifier];\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(cell&nbsp;==&nbsp;nil)&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cell&nbsp;=&nbsp;[[[UITableViewCell&nbsp;alloc]&nbsp;initWithStyle:UITableViewCellStyleDefault&nbsp;reuseIdentifier:CellIdentifier]&nbsp;autorelease];	\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;cell.textLabel.text&nbsp;=&nbsp;[NSString&nbsp;stringWithFormat:@&quot;row%d&quot;,indexPath.row];\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Configure&nbsp;the&nbsp;cell...\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;cell;\r\n}\r\n-&nbsp;(void)tableView:(UITableView&nbsp;*)tableView&nbsp;didSelectRowAtIndexPath:(NSIndexPath&nbsp;*)indexPath\r\n{\r\n//点击行,这里是storyboard的应用,注:要在storyboard的BleDetial_iPhone里面的identifier设置一个名字例如SegueName\r\n//BleDetial_iPhone类不需要xib文件了\r\nBleDetial_iPhone&nbsp;*detail&nbsp;=&nbsp;[self.storyboard&nbsp;instantiateViewControllerWithIdentifier:@&quot;SegueName&quot;];\r\n[self.navigationController&nbsp;pushViewController:detail&nbsp;animated:YES];\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*\r\n&nbsp;&nbsp;&nbsp;&nbsp;mjpegInterface&nbsp;*mjpeg&nbsp;=&nbsp;[[mjpegInterface&nbsp;alloc]&nbsp;initWithNibName:@&quot;mjpegInterface&quot;&nbsp;bundle:nil];\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Pass&nbsp;the&nbsp;selected&nbsp;object&nbsp;to&nbsp;the&nbsp;new&nbsp;view&nbsp;controller.\r\n&nbsp;&nbsp;&nbsp;&nbsp;[self.navigationController&nbsp;pushViewController:mjpeg&nbsp;animated:YES];\r\n&nbsp;&nbsp;&nbsp;&nbsp;[mjpeg&nbsp;release];*/\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//这里配合heightForRowAtIndexPath函数代码使用，点击行时会将CELL高度改变\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*int&nbsp;m_nCurrentTableRow;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[tableView&nbsp;beginUpdates];&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_nCurrentTableRow=(m_nCurrentTableRow&lt;0||m_nCurrentTableRow!=indexPath.row)?indexPath.row:-1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[tableView&nbsp;endUpdates];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/\r\n\r\n}\r\n\r\n//删除\r\n-&nbsp;(void)tableView:(UITableView&nbsp;*)tableView&nbsp;commitEditingStyle:(UITableViewCellEditingStyle)editingStyle&nbsp;forRowAtIndexPath:(NSIndexPath&nbsp;*)indexPath&nbsp;\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(editingStyle&nbsp;==&nbsp;UITableViewCellEditingStyleDelete)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//delete\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//[m_addMage&nbsp;deleteAddrToFile:indexPath.row];这里一定要删除相应的数组元素,不然删除会出错\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[tableView&nbsp;deleteRowsAtIndexPaths:[NSArray&nbsp;arrayWithObject:indexPath]&nbsp;withRowAnimation:UITableViewRowAnimationFade];\r\n&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;(editingStyle&nbsp;==&nbsp;UITableViewCellEditingStyleInsert)&nbsp;{&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}\r\n\r\n//设行高度\r\n-&nbsp;(CGFloat)tableView:(UITableView&nbsp;*)tableView&nbsp;heightForRowAtIndexPath:(NSIndexPath&nbsp;*)indexPath\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;//行高度\r\n&nbsp;&nbsp;&nbsp;&nbsp;//这里配合didSelectRowAtIndexPath的函数使用，点击CELL时改变目标的高度\r\n&nbsp;&nbsp;&nbsp;&nbsp;//if&nbsp;(indexPath.row&nbsp;==&nbsp;m_nCurrentTableRow)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;return&nbsp;130;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;tableView.rowHeight;\r\n}\r\n-&nbsp;(NSString&nbsp;*)tableView:(UITableView&nbsp;*)tableView&nbsp;titleForHeaderInSection:(NSInteger)sectio\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;@&quot;123213&quot;;\r\n}\r\n-&nbsp;(NSString&nbsp;*)tableView:(UITableView&nbsp;*)tableView&nbsp;titleForFooterInSection:(NSInteger)sectio\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;@&quot;asdfasdf&quot;;\r\n}\r\n\r\n\r\n//修改头头的高度\r\n-&nbsp;(CGFloat)tableView:(UITableView&nbsp;*)tableView&nbsp;heightForHeaderInSection:(NSInteger)section\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;viTableHeader.frame.size.height;\r\n}\r\n\r\n//修改头头的字体\r\n-&nbsp;(UIView&nbsp;*)tableView:(UITableView&nbsp;*)tableView&nbsp;viewForHeaderInSection:(NSInteger)section\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;viTableHeader;\r\n}\r\n\r\n\r\n//修改尾尾字体\r\n-&nbsp;(UIView&nbsp;*)tableView:(UITableView&nbsp;*)tableView&nbsp;viewForFooterInSection:(NSInteger)section\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;viTableFooter;\r\n\r\n}\r\n\r\n//编辑效果\r\n-&nbsp;(UITableViewCellEditingStyle)tableView:(UITableView&nbsp;*)tableView&nbsp;editingStyleForRowAtIndexPath:(NSIndexPath&nbsp;*)indexPath\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;//修改时设定每行的编辑效果\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(1==indexPath.row)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;UITableViewCellEditingStyleInsert;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;if&nbsp;(2==indexPath.row)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;UITableViewCellEditingStyleNone;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;UITableViewCellEditingStyleDelete;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n}\r\n\r\n//删除按钮的文字\r\n-&nbsp;(NSString&nbsp;*)tableView:(UITableView&nbsp;*)tableView&nbsp;titleForDeleteConfirmationButtonForRowAtIndexPath:(NSIndexPath&nbsp;*)indexPath\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;@&quot;删除我吧&quot;;\r\n}\r\n\r\n//转换修改和不修改状态的按钮\r\n-(void)&nbsp;itemEdit_click:(id)sender\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;NSLog(@&quot;edit&nbsp;click&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;[tbAddr&nbsp;setEditing:(tbAddr.editing?false:true)&nbsp;animated:YES];\r\n}</pre><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; font-family: verdana, sans-serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><pre class=\"brush:cpp;toolbar:false\">////////////////////////////////////////////////////////////////////\r\n/*&nbsp;************************自定义行样式,新建另一个XIB类&nbsp;*/\r\n@interface&nbsp;CustomCell&nbsp;:&nbsp;UITableViewCell&nbsp;{\r\n&nbsp;&nbsp;\r\n}\r\n@property&nbsp;(nonatomic,&nbsp;retain)&nbsp;IBOutlet&nbsp;UILabel&nbsp;*lbName;\r\n@property&nbsp;(nonatomic,&nbsp;retain)&nbsp;IBOutlet&nbsp;UILabel&nbsp;*lbColor;\r\n@end\r\n@implementation&nbsp;CustomCell\r\n@synthesize&nbsp;lbName;\r\n@synthesize&nbsp;lbColor;\r\n-&nbsp;(void)dealloc&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;[lbName&nbsp;release];\r\n&nbsp;&nbsp;&nbsp;&nbsp;[lbColor&nbsp;release];\r\n&nbsp;&nbsp;&nbsp;&nbsp;[super&nbsp;dealloc];\r\n}\r\n@end\r\n1.新建一个cellview&nbsp;将cellview的class改成CustomCell\r\n2.将cellview&nbsp;的&nbsp;identifier改成CustomCellIdentifier\r\n3.将Cell上的控件对象绑定到Cell对象,而不是XIB的类对象\r\n///回调生成cell函数///\r\n-&nbsp;(UITableViewCell&nbsp;*)tableView:(UITableView&nbsp;*)tableView&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cellForRowAtIndexPath:(NSIndexPath&nbsp;*)indexPath&nbsp;\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;NSString&nbsp;*CustomCellIdentifier&nbsp;=&nbsp;@&quot;CustomCellIdentifier&quot;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CustomCell&nbsp;*cell&nbsp;=&nbsp;(CustomCell&nbsp;*)[tableView&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dequeueReusableCellWithIdentifier:&nbsp;CustomCellIdentifier];\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(cell&nbsp;==&nbsp;nil)&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSArray&nbsp;*nib&nbsp;=&nbsp;[[NSBundle&nbsp;mainBundle]&nbsp;loadNibNamed:@&quot;CustomCell&quot;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;owner:self&nbsp;options:nil];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSLog(@&quot;nib&nbsp;%d&quot;,[nib&nbsp;count]);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(id&nbsp;oneObject&nbsp;in&nbsp;nib)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;([oneObject&nbsp;isKindOfClass:[CustomCell&nbsp;class]])\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cell&nbsp;=&nbsp;(CustomCell&nbsp;*)oneObject;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;cell.colorLabel.text&nbsp;=&nbsp;@&quot;1111&quot;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;cell.nameLabel.text&nbsp;=&nbsp;@&quot;2222&quot;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;[cell&nbsp;setSelectionStyle:UITableViewCellSelectionStyleGray];&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;cell;\r\n}\r\n\r\n/*****************************/</pre><p><br/></p>','2013-12-11 10:17:14','2017-07-27 19:34:18'),(321,'14.217.241.60',19,'软件编译安装','<p>1.生成makefile文件</p><p>$ ./configure --prefix=安装绝对路径</p><p><br/></p><p>2.执行makefile</p><p>$ make</p><p><br/></p><p>3.安装</p><p>$ sudo make install</p><p><br/></p>','2013-12-13 06:47:35','2014-11-17 21:24:14'),(322,'14.217.213.69',19,'Android 4.3源码的下载和编译环','<p>下载教程</p><p>http://source.android.com/source/downloading.html</p><p>&nbsp;</p><p><strong>3、编译源代码</strong></p><p>3.1编译初始化：</p><p>在终端中执行：</p><p>source build/envsetup.sh</p><p>或：</p><p>. build/envsetup.sh</p><p>执行后输出：</p><p>source build/envsetup.sh including device/asus/grouper/vendorsetup.shincluding device/asus/tilapia/vendorsetup.shincluding device/generic/armv7-a-neon/vendorsetup.shincluding device/generic/armv7-a/vendorsetup.shincluding device/generic/mips/vendorsetup.shincluding device/generic/x86/vendorsetup.shincluding device/samsung/maguro/vendorsetup.shincluding device/samsung/manta/vendorsetup.shincluding device/samsung/toroplus/vendorsetup.shincluding device/samsung/toro/vendorsetup.shincluding device/ti/panda/vendorsetup.shincluding sdk/bash_completion/adb.bash</p><p>&nbsp;</p><p>3.2选择编译目标：</p><p>在终端中执行下面的命令：</p><p>lunch</p><p>&nbsp;</p><p>之后选择你要编译的设备，选择后，会初始化编译的项目的相关文件。</p><p>&nbsp;</p><p>&nbsp;</p><p>3.3编译代码：</p><p>在终端中执行：make -j4</p><p>-j4：表示用四个线程来编译</p><p>&nbsp;</p><p>编译根据不同机器的配置不同所需时间也有很大差异。</p><p>出现以下信息表示编译完成：</p><p>target Java: ContactsTests (out/target/common/obj/APPS/ContactsTests_intermediates/classes)</p><p>target Dex: Contacts</p><p>Done!</p><p>Install: out/target/product/generic/system/app/Browser.odex</p><p>Install: out/target/product/generic/system/app/Browser.apk</p><p>Note: Some input files use or override a deprecated API.</p><p>Note: Recompile with -Xlint:deprecation for details.</p><p>Copying: out/target/common/obj/APPS/Contacts_intermediates/noproguard.classes.dex</p><p>target Package: Contacts (out/target/product/generic/obj/APPS/Contacts_intermediates/package.apk)</p><p>&#39;out/target/common/obj/APPS/Contacts_intermediates/classes.dex&#39; as &#39;classes.dex&#39;...</p><p>Processing target/product/generic/obj/APPS/Contacts_intermediates/package.apk</p><p>Done!</p><p>Install: out/target/product/generic/system/app/Contacts.odex</p><p>Install: out/target/product/generic/system/app/Contacts.apk</p><p>build/tools/generate-notice-files.py &nbsp;out/target/product/generic/obj/NOTICE.txt &nbsp;out/target/product/generic/obj/NOTICE.html &quot;Notices for files contained in the filesystem images in this directory:&quot; out/target/product/generic/obj/NOTICE_FILES/src</p><p>Combining NOTICE files into HTML</p><p>Combining NOTICE files into text</p><p>Installed file list: out/target/product/generic/installed-files.txt</p><p>Target system fs image: out/target/product/generic/obj/PACKAGING/systemimage_intermediates/system.img</p><p>Running: &nbsp;mkyaffs2image -f out/target/product/generic/system out/target/product/generic/obj/PACKAGING/systemimage_intermediates/system.img</p><p>Install system fs image: out/target/product/generic/system.img</p><p>DroidDoc took 5331 sec. to write docs to out/target/common/docs/doc-comment-check</p><p>&nbsp;</p><p>编译可能出现的错误，请查看本文最后部分的说明</p><p>&nbsp;</p><p>&nbsp;</p><p><strong>4、运行模拟器</strong></p><p>在终端中执行：emulator</p><p>&nbsp;</p><p>运行模拟器可能出现的错误，请查看本文最后部分的说明</p><p>&nbsp;</p><p>&nbsp;</p><p><strong>5、相关问题的解决办法</strong></p><p>5.1 下载源代码可能会提示的错误</p><p>5.1.1error: Exited sync due to fetch errors...</p><p>&nbsp;</p><p>方法一：不理会他，重新执行repo sync命令。</p><p>&nbsp;</p><p>方法二：</p><p>关于这个问题其实google是有说明的<a href=\"http://source.android.com/source/downloading.html\" target=\"_blank\">http://source.android.com/source/downloading.html</a>，为了防止连接数过多，每个ip都需要认证。。。</p><p>第一步：从这里the password generator获取用户名和密码，前提是你在之前填写了你的真实姓名和邮箱</p><p>第二步：将上面的页面上以machine开头的两行复制到 &nbsp;~/.netrc文件中</p><p>第三步：repo init -u <a href=\"https://android.googlesource.com/a/platform/manifest\" target=\"_blank\">https://android.googlesource.com/a/platform/manifest &nbsp;</a>多了个“/a”</p><p>然后就可以repo sync了</p><p>特别注意.netrc文件是在用户的根目录下，root用户就是/目录下，如果没有的话就自己建一个，把权限改为 *00</p><p>&nbsp;</p><p>&nbsp;</p><p>5.1.2若是出现这个错误：Exited sync due to gc errors</p><p>&nbsp;</p><p>表示代码基本下载完，需要从repo里面导出来，但是git的版本太低，不支持1.72以下版本。</p><p>添加这个源：deb <a href=\"http://ftp.de.debian.org/debian%20sid%20main\" target=\"_blank\">http://ftp.de.debian.org/debian sid main</a>。</p><p>在终端中执行：gedit /etc/apt/source.list</p><p>在文件的最后添加deb <a href=\"http://ftp.de.debian.org/debian%20sid%20main\" target=\"_blank\">http://ftp.de.debian.org/debian sid main</a>，并保存退出</p><p>回到终端中执行：sudo apt-get update</p><p>更新完后，安装高版本的git工具</p><p>在终端中执行：sudo apt-get install git-core</p><p>&nbsp;</p><p>5.2安装编译环境的软件可能会出现的问题</p><p>下列软件包有未满足的依赖关系： libasound2: 破坏: libasound2-plugins (&lt; 1.0.24-0ubuntu3) 但是 1.0.22-0ubuntu6 正要被安装 &nbsp;libglib2.0-0: 破坏: gnome-control-center (&lt; 1:3) 但是 1:2.30.0-0ubuntu4 正要被安装 &nbsp;ppp: 破坏: network-manager (&lt;= 0.8.0.999-1) 但是 0.8-0ubuntu3 正要被安装E: 破损的软件包</p><p>&nbsp;</p><p>某些源有问题,为高版本 ubuntu的源 ,删除即可,如安装高版本的git所用的源就是ubuntu 10.4之后的源，用在10.04上就可以会有问题，引起此提示。</p><p>在终端中执行：gedit /etc/apt/source.list</p><p>把文件的最后 deb <a href=\"http://ftp.de.debian.org/debian%20sid%20main\" target=\"_blank\">http://ftp.de.debian.org/debian sid main </a>删除，并保存退出</p><p>回到终端中执行：sudo apt-get update</p><p>再次重新安装编译环境的软件</p><p>&nbsp;</p><p>5.3、编译可能会遇到的问题：</p><p>5.3.1运行make命令后，提示以下错误：/bin/bash: java: command not found</p><p>首先检查是否确实安装了jdk，在终端中输入：java -version ，若是有安装jdk，就会显示jdk的版本信息，提示出错，说明没有安装jdk，那么就安装jdk。</p><p>安装jdk后还是提示上面的错误信息，则按执行以下命令建立链接文件来解决问题：</p><p>sudo ln -s /jdk1.6.0_21/bin/jar ~/bin/jar</p><p>sudo ln -s /jdk1.6.0_21/bin/java ~/bin/java</p><p>sudo ln -s /jdk1.6.0_21/bin/javac ~/bin/javac</p><p>sudo ln -s /jdk1.6.0_21/bin/javah ~/bin/javah</p><p>sudo ln -s /jdk1.6.0_21/bin/javadoc ~/bin/javadoc</p><p>&nbsp;</p><p>重新编译若还是提示一样的错误，再执行下面的命令：</p><p>sudo ln -s /jdk1.6.0_21/bin/jar /bin/jar</p><p>sudo ln -s /jdk1.6.0_21/bin/java /bin/java</p><p>sudo ln -s /jdk1.6.0_21/bin/javac /bin/javac</p><p>sudo ln -s /jdk1.6.0_21/bin/javah /bin/javah</p><p>sudo ln -s /jdk1.6.0_21/bin/javadoc /bin/javadoc</p><p>至此java的问题应该可以解决</p><p>5.3.2 编译出现以下错误提示：</p><p>============================================</p><p>Checking build tools versions...</p><p>************************************************************</p><p>You are attempting to build with the incorrect version</p><p>of java.</p><p>Your version is: java version &quot;1.6.0_24&quot;.</p><p>The correct version is: Java SE 1.6.</p><p>Please follow the machine setup instructions at</p><p><a href=\"https://source.android.com/source/download.html\" target=\"_blank\">https://source.android.com/source/download.html</a></p><p>************************************************************</p><p>build/core/main.mk:141: *** stop。 停止。</p><p>切换从普通用户登，然后修改源码目录的存取权限：chmod 777 src</p><p>之后再运行编译命令再次编译</p><p>5.3.3 No command &#39;lunch&#39; found, did you mean:</p><p>解决方法：</p><p>运行以下命令：</p><p>source build/envsetup.sh</p><p>之后再次运行编译命令：lunch full-eng或lunch full-user ……..</p><p>&nbsp;</p><p>5.4运行模拟器可能会出现的问题：</p><p>No command &#39;emulator&#39; found, did you mean:</p><p>编译成功之后，在终端运行emulator命令，却提示：</p><p>No command &#39;emulator&#39; found, did you mean:</p><p>Command &#39;qemulator&#39; from package &#39;qemulator&#39; (universe)</p><p>emulator: command not found</p><p>解决方法：</p><p>重新运行以下命令：</p><p>source build/envsetup.sh</p><p>lunch full-eng</p><p>之后再次运行 emulator &nbsp;命令</p><p><br/></p>','2013-12-13 06:48:15','2014-07-16 02:05:57'),(323,'114.247.232.56',19,'openwrt 路由器 固件编译流程','<p>前言：很多玩家都想自行编译OP固件，但是很多教程都语焉不详，本人综合了其他教程做了点小总结，希望大家都能看懂。这里非常感谢以往发教程的玩家。编译固件不需要神马很深奥的知识，但是要求起码能看懂英文，会使用SSH、WINSCP软件，了解OP的那些功能是由哪个软件包提供。<br/><br/>一。安装ubuntu，具体安装流程可以百度谷歌，这里不详细描述。<br/>桌面版、服务器版都可以，因为都是命令行操作，推荐使用服务器版本（这里需要注意的是一定要32位的系统，64位的系统也可以编译，但是有些莫名其妙的问题，具体原因未知）。<br/>服务器版本安装时有个功能选项，选择安装SSH服务就可以了，其他功能完全可以不安装，因为用不到。<br/>op官方不推荐虚拟机，但是本人用虚拟机也没什么大问题，有条件的还是用真实电脑来编译吧。<br/><br/>二。ubuntu下OP编译环境需要安装很多组件，很多教程包括OP官网教程都是一道命令一起安装，其实这样会有一些组件没有装上的，所以还是老实的一个一个装吧。所有命令全部为SSH登陆后操作。<br/><br/>升级组件包<br/>sudo apt-get &nbsp;update<br/>安装编译需要的组件<br/>sudo apt-get install gcc <br/>sudo apt-get install g++ <br/>sudo apt-get install binutils <br/>sudo apt-get install patch <br/>sudo &nbsp;apt-get install bzip2 <br/>sudo apt-get install flex <br/>sudo apt-get install &nbsp;bison <br/>sudo apt-get install make <br/>sudo apt-get install autoconf <br/>sudo &nbsp;apt-get install gettext <br/>sudo apt-get install texinfo <br/>sudo apt-get &nbsp;install unzip <br/>sudo apt-get install sharutils <br/>sudo apt-get install &nbsp;subversion <br/>sudo apt-get install libncurses5-dev <br/>sudo apt-get install &nbsp;ncurses-term <br/>sudo apt-get install zlib1g-dev <br/>sudo apt-get install git-core<br/>sudo apt-get install &nbsp;gawk<br/>sudo apt-get install asciidoc<br/>sudo apt-get install &nbsp;libz-dev<br/><br/>每一行回车后都会马上检测安装或升级那个组件，官方WIKI用的是单一条命令，本人分开了，因为这样更容易查看每一个组件的安装是否成功。下载东西之前会有提示本次要下载多少M的东西，问是否的，按y然后回车让它下载就行了。当中最后面的asciidoc组件是需要下载400多MB东西的，慢慢等了。<br/><br/>三。开始编译前做些必要的步骤<br/>新建一个openwrt目录<br/>mkdir openwrt<br/>进入openwrt目录<br/>cd &nbsp;openwrt<br/>下载官网源码到本地<br/>svn checkout &nbsp;svn://svn.openwrt.org/openwrt/trunk<br/>添加trunk目录权限<br/>sudo chmod -R 777 &nbsp;trunk<br/><br/>四。编译流程。<br/><span style=\"color: red;\">编译完成的固件会保存在/openwrt/trunk/bin目录下面，可用WINSCP登陆上去提取。</span><br/><br/>进入trunk目录<br/>cd &nbsp;openwrt/trunk<br/>更新最新源码<br/>./scripts/feeds update -a<br/>安装最新源码<br/>./scripts/feeds install -a<br/>更新版本号<br/>svn &nbsp;up<br/>进入编译组件包菜单<br/>make menuconfig<br/>开始编译<br/>make V=99<br/>编译完成后清除之前的编译作业。<span style=\"color: red;\">（使用这个命令前，记得把编译好的固件备份出来，不然会被删除掉，切记）</span><br/>make &nbsp;clean<br/>恢复默认编译环境<br/>make defconfig<br/><br/><br/>其中make &nbsp;menuconfig会有一个编译管理器，在里面可以选择型号、OP功能组件，需要用到方向键、回车键、空格键。方向键是移动光标，回车键是确认，空格键是选择(在选项框按下空格键，*号是编译进固件，M是编译但是不编译进固件）。<br/>Target &nbsp;System-----选择编译类型<br/>Target Profile----选择编译路由型号<br/>添加功能时尽量依靠依赖包，比如添加ddns时，只需要在luci选项里面选择luci-app-ddns，编译管理器会自动加上ddns-scripts及其他依赖库文件。<br/>下面举个简单例子：<br/>编译一个mr3420的固件<br/>1.Target &nbsp;System-----选择Atheros AR71xx/AR7240/AR913x/AR934x <br/>2.Target Profile----选择TP-LINK &nbsp;TL-MR3420 v1<br/>3.LuCI----选择Collections----- &lt;*&gt; luci<br/>4.LuCI----选择Translations----&lt;*&gt; luci-i18n-chinese<br/>5.Exit----Yes<br/>6.开始编译make &nbsp;V=99，最后会得到一个4M的带中文luci的mr3420固件。<br/><br/>五。进阶设置。<br/>用WINSCP登陆<br/>1.在路径 /trunk/tools/firmware-utils/src/mktplinkfw.c &nbsp;这个文件里边有个“fw max len”请改成7c0000 （这一步把固件最大限制改成8M）,如果是16mflash,请改成fc0000(最大限制改成16m)。<br/>2、修改target/linux/ar71xx/files/arch/mips/ar71xx/mach-tl-mr3x20.c（找相应文件） <br/><br/>4M:<br/><br/>41 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .name &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = &quot;u-boot&quot;, <br/>42 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.offset &nbsp; &nbsp; &nbsp; &nbsp; = 0, <br/>43 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .size &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 0x020000, <br/>44 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .mask_flags &nbsp; &nbsp; = MTD_WRITEABLE, <br/>45 &nbsp; &nbsp; &nbsp; &nbsp; }, { <br/>46 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .name &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = &quot;kernel&quot;, <br/>47 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.offset &nbsp; &nbsp; &nbsp; &nbsp; = 0x020000, <br/>48 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .size &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = &nbsp;0x140000, <br/>49 &nbsp; &nbsp; &nbsp; &nbsp; }, { <br/>50 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .name &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = &quot;rootfs&quot;, <br/>51 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .offset &nbsp; &nbsp; &nbsp; &nbsp; = 0x160000, <br/>52 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .size &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= 0x290000, <br/>53 &nbsp; &nbsp; &nbsp; &nbsp; }, { <br/>54 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .name &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= &quot;art&quot;, <br/>55 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .offset &nbsp; &nbsp; &nbsp; &nbsp; = 0x3f0000, <br/>56 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.size &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 0x010000, <br/>57 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .mask_flags &nbsp; &nbsp; = &nbsp;MTD_WRITEABLE, <br/>58 &nbsp; &nbsp; &nbsp; &nbsp; }, { <br/>59 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .name &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = &nbsp;&quot;firmware&quot;, <br/>60 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .offset &nbsp; &nbsp; &nbsp; &nbsp; = 0x020000, <br/>61 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.size &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 0x3d0000, <br/>62 &nbsp; &nbsp; &nbsp; &nbsp; } <br/>63 &nbsp;};<br/><br/>8M:<br/><br/>41 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .name &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = &quot;u-boot&quot;, <br/>42 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.offset &nbsp; &nbsp; &nbsp; &nbsp; = 0, <br/>43 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .size &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = &nbsp;0x020000, <br/>44 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .mask_flags &nbsp; &nbsp; = MTD_WRITEABLE, <br/>45 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}, { <br/>46 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .name &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = &quot;kernel&quot;, <br/>47 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.offset &nbsp; &nbsp; &nbsp; &nbsp; = 0x020000, <br/>48 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .size &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = &nbsp;0x140000, <br/>49 &nbsp; &nbsp; &nbsp; &nbsp; }, { <br/>50 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .name &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = &quot;rootfs&quot;, <br/>51 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .offset &nbsp; &nbsp; &nbsp; &nbsp; = 0x160000, <br/>52 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .size &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= 0x690000, <br/>53 &nbsp; &nbsp; &nbsp; &nbsp; }, { <br/>54 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .name &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= &quot;art&quot;, <br/>55 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .offset &nbsp; &nbsp; &nbsp; &nbsp; = 0x7f0000, <br/>56 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.size &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 0x010000, <br/>57 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .mask_flags &nbsp; &nbsp; = &nbsp;MTD_WRITEABLE, <br/>58 &nbsp; &nbsp; &nbsp; &nbsp; }, { <br/>59 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .name &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = &nbsp;&quot;firmware&quot;, <br/>60 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .offset &nbsp; &nbsp; &nbsp; &nbsp; = 0x020000, <br/>61 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.size &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 0x7d0000, <br/>62 &nbsp; &nbsp; &nbsp; &nbsp; } <br/>63 };<br/><br/><br/>16M:<br/><br/>41 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .name &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = &nbsp;&quot;u-boot&quot;, <br/>42 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .offset &nbsp; &nbsp; &nbsp; &nbsp; = 0, <br/>43 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.size &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 0x020000, <br/>44 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .mask_flags &nbsp; &nbsp; = &nbsp;MTD_WRITEABLE, <br/>45 &nbsp; &nbsp; &nbsp; &nbsp; }, { <br/>46 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .name &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = &nbsp;&quot;kernel&quot;, <br/>47 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .offset &nbsp; &nbsp; &nbsp; &nbsp; = 0x020000, <br/>48 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.size &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 0x140000, <br/>49 &nbsp; &nbsp; &nbsp; &nbsp; }, { <br/>50 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .name &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= &quot;rootfs&quot;, <br/>51 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .offset &nbsp; &nbsp; &nbsp; &nbsp; = 0x160000, <br/>52 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.size &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 0xe90000, <br/>53 &nbsp; &nbsp; &nbsp; &nbsp; }, { <br/>54 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.name &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = &quot;art&quot;, <br/>55 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .offset &nbsp; &nbsp; &nbsp; &nbsp; = &nbsp;0xff0000, <br/>56 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .size &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 0x010000, <br/>57 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.mask_flags &nbsp; &nbsp; = MTD_WRITEABLE, <br/>58 &nbsp; &nbsp; &nbsp; &nbsp; }, { <br/>59 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.name &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = &quot;firmware&quot;, <br/>60 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .offset &nbsp; &nbsp; &nbsp; &nbsp; = &nbsp;0x020000, <br/>61 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .size &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 0xfd0000, <br/>62 &nbsp; &nbsp; &nbsp; &nbsp; } <br/>63 };<br/><br/>某些机型是这样的：<br/>8M:<br/><br/>0x000000000000-0x000000020000 : &nbsp;&quot;u-boot&quot;<br/>0x000000020000-0x000000160000 : &nbsp;&quot;kernel&quot;<br/>0x000000160000-0x0000007f0000 : &nbsp;&quot;rootfs&quot;<br/>0x000000620000-0x0000007f0000 : &nbsp;&quot;rootfs_data&quot;<br/>0x0000007f0000-0x000000800000 : &nbsp;&quot;art&quot;<br/>0x000000020000-0x0000007f0000 : &nbsp;&quot;firmware&quot;<br/><br/><br/>4M:<br/><br/>0x000000000000-0x000000020000 : &nbsp;&quot;u-boot&quot;<br/>0x000000020000-0x000000160000 : &nbsp;&quot;kernel&quot;<br/>0x000000160000-0x0000003f0000 : &nbsp;&quot;rootfs&quot;<br/>0x000000304000-0x0000003f0000 : &nbsp;&quot;rootfs_data&quot;<br/>0x0000003f0000-0x000000400000 : &nbsp;&quot;art&quot;<br/>0x000000020000-0x0000003f0000 : &nbsp;&quot;firmware&quot;<br/><br/>16M：<br/><br/>0x000000000000-0x000000020000 : &nbsp;&quot;u-boot&quot;<br/>0x000000020000-0x000000160000 : &nbsp;&quot;kernel&quot;<br/>0x000000160000-0x000000ff0000 : &nbsp;&quot;rootfs&quot;<br/>0x000000380000-0x000000ff0000 : &nbsp;&quot;rootfs_data&quot;<br/>0x000000ff0000-0x000001000000 : &nbsp;&quot;art&quot;<br/>0x000000020000-0x000000ff0000 : &nbsp;&quot;firmware&quot;<br/><br/>编译需要用到的DL文件夹，下载解压后用winscp上传到trunk目录</p><p></p>','2013-12-13 06:48:52','2013-12-13 14:48:52'),(324,'192.168.2.200',2,'linux_C-蓝牙通讯程序：扫描、读写','<p>在Linux下，通过bluez 蓝牙库可以用C语言轻松实现蓝牙通信。在ubuntu下可以用 apt-get install libbluetooth-dev 安装该库。下面是几个简单示例。<br/>一个简单的扫描程序，得到周边的蓝牙从机设备名和地址：</p><p><br/></p><ol style=\"margin: 0px 1px 0px 0px; padding: 5px 0pt;\" class=\" list-paddingleft-2\" start=\"1\"><li><p>#include &lt;stdio.h&gt;<br/>#include &lt;stdlib.h&gt;<br/>#include &lt;unistd.h&gt;<br/>#include &lt;sys/socket.h&gt;<br/>#include &lt;bluetooth/bluetooth.h&gt;<br/>#include &lt;bluetooth/hci.h&gt;<br/>#include &lt;bluetooth/hci_lib.h&gt;<br/>int main(int argc, char **argv)<br/>{<br/> &nbsp; &nbsp;inquiry_info *ii = NULL;<br/> &nbsp; &nbsp;int max_rsp, num_rsp;<br/> &nbsp; &nbsp;int dev_id, sock, len, flags;<br/> &nbsp; &nbsp;int i;<br/> &nbsp; &nbsp;char addr[19] = { 0 };<br/> &nbsp; &nbsp;char name[248] = { 0 };<br/> &nbsp; &nbsp;dev_id = hci_get_route(NULL);<br/> &nbsp; &nbsp;sock = hci_open_dev( dev_id );<br/> &nbsp; &nbsp;if (dev_id &lt; 0 || sock &lt; 0) {<br/> &nbsp; &nbsp; &nbsp; &nbsp;perror(&quot;opening socket&quot;);<br/> &nbsp; &nbsp; &nbsp; &nbsp;exit(1);<br/> &nbsp; &nbsp;}<br/> &nbsp; &nbsp;len = 8;<br/> &nbsp; &nbsp;max_rsp = 255;<br/> &nbsp; &nbsp;flags = IREQ_CACHE_FLUSH;<br/> &nbsp; &nbsp;ii = (inquiry_info*)malloc(max_rsp * sizeof(inquiry_info));<br/> &nbsp; &nbsp;<br/> &nbsp; &nbsp;num_rsp = hci_inquiry(dev_id, len, max_rsp, NULL, &amp;ii, flags);<br/> &nbsp; &nbsp;if( num_rsp &lt; 0 ) perror(&quot;hci_inquiry&quot;);<br/> &nbsp; &nbsp;for (i = 0; i &lt; num_rsp; i++) {<br/> &nbsp; &nbsp; &nbsp; &nbsp;ba2str(&amp;(ii+i)-&gt;bdaddr, addr);<br/> &nbsp; &nbsp; &nbsp; &nbsp;memset(name, 0, sizeof(name));<br/> &nbsp; &nbsp; &nbsp; &nbsp;if (hci_read_remote_name(sock, &amp;(ii+i)-&gt;bdaddr, sizeof(name), <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;name, 0) &lt; 0)<br/> &nbsp; &nbsp; &nbsp; &nbsp;strcpy(name, &quot;[unknown]&quot;);<br/> &nbsp; &nbsp; &nbsp; &nbsp;printf(&quot;%s %s\r\n&quot;, addr, name);<br/> &nbsp; &nbsp;}<br/> &nbsp; &nbsp;free( ii );<br/> &nbsp; &nbsp;close( sock );<br/> &nbsp; &nbsp;return 0;<br/>}<br/></p></li></ol><p><br style=\"font-size: 12px;\"/><span style=\"font-size: 12px;\">读和写示例：</span><br style=\"font-size: 12px;\"/><br style=\"font-size: 12px;\"/></p><ol style=\"margin: 0px 1px 0px 0px; padding: 5px 0pt;\" class=\" list-paddingleft-2\" start=\"1\"><li><p>#include &lt;stdio.h&gt;<br/>#include &lt;unistd.h&gt;<br/>#include &lt;sys/socket.h&gt;<br/>#include &lt;bluetooth/bluetooth.h&gt;<br/>#include &lt;bluetooth/rfcomm.h&gt;<br/>int main(int argc, char **argv)<br/>{<br/> &nbsp; &nbsp;struct sockaddr_rc addr = { 0 };<br/> &nbsp; &nbsp;int s, status, len=0;<br/> &nbsp; &nbsp;char dest[18] = &quot;00:12:01:31:01:13&quot;;<br/> &nbsp; &nbsp;char buf[256];<br/> &nbsp; &nbsp;// allocate a socket<br/> &nbsp; &nbsp;s = socket(AF_BLUETOOTH, SOCK_STREAM, BTPROTO_RFCOMM);<br/> &nbsp; &nbsp;// set the connection parameters (who to connect to)<br/> &nbsp; &nbsp;addr.rc_family = AF_BLUETOOTH;<br/> &nbsp; &nbsp;addr.rc_channel = (uint8_t) 1;<br/> &nbsp; &nbsp;str2ba( dest, &amp;addr.rc_bdaddr );<br/> &nbsp; &nbsp;// connect to server<br/> &nbsp; &nbsp;status = connect(s, (struct sockaddr *)&amp;addr, sizeof(addr));<br/> &nbsp; &nbsp;<br/> &nbsp; &nbsp;if(status){<br/> &nbsp; &nbsp; &nbsp; &nbsp;printf(&quot; failed to connect the device!\r\n&quot;);<br/> &nbsp; &nbsp; &nbsp; &nbsp;return -1;<br/> &nbsp; &nbsp;}<br/> &nbsp; &nbsp;<br/> &nbsp; &nbsp;do{<br/> &nbsp; &nbsp; &nbsp; &nbsp;len = read(s, buf, sizeof(buf));<br/> &nbsp; &nbsp;<br/> &nbsp; &nbsp; if( len&gt;0 ) {<br/> &nbsp; &nbsp; &nbsp; &nbsp; buf[len]=0;<br/> &nbsp; &nbsp; &nbsp; &nbsp; printf(&quot;%s\r\n&quot;,buf);<br/> &nbsp; &nbsp; &nbsp; &nbsp; write(s, buf, strlen(buf));<br/> &nbsp; &nbsp; }<br/> &nbsp; &nbsp;}while(len&gt;0);<br/> &nbsp; &nbsp;close(s);<br/> &nbsp; &nbsp;return 0;<br/></p></li><li><p>}</p></li></ol><p><br/></p>','2013-12-13 06:49:19','2015-11-10 00:15:39'),(325,'114.247.232.56',19,'linux获取MAC地址','<p>#include	&lt;unistd.h&gt;<br/>#include	&lt;net/if.h&gt;<br/>#include	&lt;sys/ioctl.h&gt;<br/>#include	&lt;sys/types.h&gt;<br/>#include	&lt;sys/socket.h&gt;<br/><br/>int	GetMac( const char *ifname, unsigned char *mac )<br/>{<br/> &nbsp; &nbsp;int	sock, ret;<br/> &nbsp; &nbsp;struct	ifreq	ifr;<br/> &nbsp; &nbsp;sock = socket( AF_INET, SOCK_STREAM, 0 );<br/> &nbsp; &nbsp;if ( sock &lt; 0 ) {<br/> &nbsp; &nbsp; &nbsp; &nbsp;perror( &quot;socket&quot; );<br/> &nbsp; &nbsp; &nbsp; &nbsp;return -1;<br/> &nbsp; &nbsp;}<br/> &nbsp; &nbsp;memset( &amp;ifr, 0, sizeof(ifr) );<br/> &nbsp; &nbsp;strcpy( ifr.ifr_name, ifname );<br/> &nbsp; &nbsp;ret = ioctl( sock, SIOCGIFHWADDR, &amp;ifr, sizeof(ifr) );<br/> &nbsp; &nbsp;if ( ret == 0 ) {<br/> &nbsp; &nbsp; &nbsp; &nbsp;memcpy( mac, ifr.ifr_hwaddr.sa_data, 6 );<br/> &nbsp; &nbsp;} else {<br/> &nbsp; &nbsp; &nbsp; &nbsp;perror( &quot;ioctl&quot; );<br/> &nbsp; &nbsp;}<br/> &nbsp; &nbsp;close( sock );<br/> &nbsp; &nbsp;return ret;<br/>}<br/><br/>int	main( int argc, char **argv )<br/>{<br/> &nbsp; &nbsp;int	ret;<br/> &nbsp; &nbsp;char	ifname[IFNAMSIZ];<br/> &nbsp; &nbsp;unsigned char	mac[6];<br/> &nbsp; &nbsp;if ( argc == 1 ) {<br/> &nbsp; &nbsp; &nbsp; &nbsp; strcpy( ifname, &quot;eth0&quot; );<br/> &nbsp; &nbsp;} else {<br/> &nbsp; &nbsp; &nbsp; &nbsp;strcpy( ifname, argv[1] );<br/> &nbsp; &nbsp;}</p><p><br/></p><p>&nbsp; &nbsp;memset( mac, 0, sizeof(mac) );<br/> &nbsp; &nbsp;ret = GetMac( ifname, mac );<br/> &nbsp; &nbsp;if ( ret == 0 ) {<br/> &nbsp; &nbsp; &nbsp; &nbsp;printf( &quot;%s mac address is: [%02X:%02X:%02X:%02X:%02X:%02X]\\n&quot;, ifname, mac[0], mac[1], mac[2], mac[3], mac[4], mac[5] );<br/> &nbsp; &nbsp;} else {<br/> &nbsp; &nbsp; &nbsp; &nbsp;fprintf( stderr, &quot;Can&#39;t get %s&#39;s mac address\\n&quot;, ifname );<br/> &nbsp; &nbsp;}<br/> &nbsp; &nbsp;return 0;<br/>}<br/></p><p></p>','2013-12-13 06:49:40','2013-12-13 14:49:40'),(326,'114.247.232.56',19,'LinuxDNS配置','<p><strong style=\"margin: 0px; padding: 0px;\"></strong></p><p><strong style=\"margin: 0px; padding: 0px;\"><p><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0); font-family: FangSong_GB2312; font-size: 3px;\"><strong style=\"margin: 0px; padding: 0px;\">一：安装和启动bind</strong></span></p><p><strong style=\"margin: 0px; padding: 0px;\"><span style=\"margin: 0px; padding: 0px; font-family: FangSong_GB2312; font-size: 3px;\">·安装bind</span></strong></p><p><span style=\"margin: 0px; padding: 0px; font-family: FangSong_GB2312; font-size: 3px;\">安装DNS服务跟安装samba、dhcp服务步骤相同，首先检查系统中是否已安装bind包，我们看到了已安装两个。DNS服务需要4个组件 bind-utils-9.2.11-16、gpbind-1.11-4、bind-9.2.1-16、caching-nameserver-7.2-7</span></p></strong></p><p></p><p><strong style=\"margin: 0px; padding: 0px;\"><br/></strong></p><p><strong style=\"margin: 0px; padding: 0px;\"><br/></strong></p><p><strong style=\"margin: 0px; padding: 0px;\"><span style=\"color: rgb(255, 0, 0);\">1、编辑配置文件</span></strong></p><p>[root@linux-tys dns]# vi <span style=\"margin: 0px; padding: 0px;\">/etc/named.conf</span><br style=\"margin: 0px; padding: 0px;\"/>-----------------------------------------<br style=\"margin: 0px; padding: 0px;\"/>options {<br style=\"margin: 0px; padding: 0px;\"/> &nbsp; &nbsp; &nbsp; &nbsp; directory &quot;/var/named&quot;; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-----在哪里搜索区域文件<br style=\"margin: 0px; padding: 0px;\"/> &nbsp; &nbsp; &nbsp; &nbsp;}; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-----{};这是配置文件的格式<br style=\"margin: 0px; padding: 0px;\"/>controls{<br style=\"margin: 0px; padding: 0px;\"/> &nbsp; &nbsp; &nbsp; &nbsp;inet 127.0.0.1 allow { 127.0.0.1;} keys {&quot;rndckey&quot;;};<br style=\"margin: 0px; padding: 0px;\"/> &nbsp; &nbsp; &nbsp; &nbsp;};</p><p>zone &quot;.&quot; IN { &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -----定义根域<br style=\"margin: 0px; padding: 0px;\"/> &nbsp; &nbsp; &nbsp; &nbsp;type hint; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-----hint表示在DNS服务器启动后,用它作初始化DNS域,即向根域获取更新信息<br style=\"margin: 0px; padding: 0px;\"/> &nbsp; &nbsp; &nbsp; &nbsp;file &quot;named.ca&quot;; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-----根据文件名<br style=\"margin: 0px; padding: 0px;\"/>};</p><p><span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">zone &quot;sky.com&quot; IN {<br style=\"margin: 0px; padding: 0px;\"/> &nbsp; &nbsp; &nbsp; &nbsp;type master; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-----定义一个主区域<br style=\"margin: 0px; padding: 0px;\"/> &nbsp; &nbsp; &nbsp; &nbsp;file &quot;sky.com.zone&quot;; &nbsp; &nbsp; &nbsp;-----这里的名字如取为abc.zone,则var/named也应同名<br style=\"margin: 0px; padding: 0px;\"/>};</span></p><p>zone &quot;3344.com&quot; IN {<br style=\"margin: 0px; padding: 0px;\"/> &nbsp; &nbsp; &nbsp; &nbsp;type slave; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -----定义一个辅助从域<br style=\"margin: 0px; padding: 0px;\"/> &nbsp; &nbsp; &nbsp; &nbsp;masters { 172.16.1.68; }; &nbsp; -----主域服务器,注意有空格<br style=\"margin: 0px; padding: 0px;\"/>};</p><p><span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">zone &quot;1.16.172.in-addr.arpa&quot; IN { &nbsp; -----定义反向解析区域<br style=\"margin: 0px; padding: 0px;\"/> &nbsp; &nbsp; &nbsp; &nbsp;type master;<br style=\"margin: 0px; padding: 0px;\"/> &nbsp; &nbsp; &nbsp; &nbsp;file &quot;1.16.172.in-addr.arpa&quot;;<br style=\"margin: 0px; padding: 0px;\"/>};<br style=\"margin: 0px; padding: 0px;\"/></span>include &quot;/etc/rndc.key&quot;;<br style=\"margin: 0px; padding: 0px;\"/>&quot;/etc/named.conf&quot; [已转换] 27L, 402C 已写入<br style=\"margin: 0px; padding: 0px;\"/>==========================================================================<br style=\"margin: 0px; padding: 0px;\"/><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0);\"><strong style=\"margin: 0px; padding: 0px;\">2、编辑区域文件</strong></span></p><p><strong style=\"margin: 0px; padding: 0px;\"><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0);\"></span></strong> </p><p>[root@linux-tys dns]#cd /var/named<br style=\"margin: 0px; padding: 0px;\"/><span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">[root@linux-tys named]# vi sky.com.zone &nbsp; &nbsp; &nbsp; -----正向区域文件</span><br style=\"margin: 0px; padding: 0px;\"/>----------------------------<br style=\"margin: 0px; padding: 0px;\"/>$TTL 86400</p><p>$ORIGIN sky.com. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-----直接管辖源,这里是说这个配置文件管理sky.com.域名的解析<br style=\"margin: 0px; padding: 0px;\"/>@ IN SOA localhost. &nbsp;root.sky.com. <br style=\"margin: 0px; padding: 0px;\"/> &nbsp; &nbsp; &nbsp; &nbsp;20070802 &nbsp; &nbsp; -----这个域名在本机上的序列号,格式为年月日,这里为2007-8-2<br style=\"margin: 0px; padding: 0px;\"/> &nbsp; &nbsp; &nbsp; &nbsp;28800 &nbsp; &nbsp; &nbsp; &nbsp;-----从区域同主区域区域文件更新间隔的时间秒数<br style=\"margin: 0px; padding: 0px;\"/> &nbsp; &nbsp; &nbsp; &nbsp;14400 &nbsp; &nbsp; &nbsp; &nbsp;-----主区域不可用时，从区域重试间隔<br style=\"margin: 0px; padding: 0px;\"/> &nbsp; &nbsp; &nbsp; &nbsp;3600000 &nbsp; &nbsp; &nbsp;-----不能同主区域联系时，从区域上的记录的失效时间<br style=\"margin: 0px; padding: 0px;\"/> &nbsp; &nbsp; &nbsp; &nbsp;86400 &nbsp; &nbsp; &nbsp; &nbsp;-----没有指定资源记录的TTL时的默认值<br style=\"margin: 0px; padding: 0px;\"/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;)<br style=\"margin: 0px; padding: 0px;\"/> &nbsp; &nbsp; &nbsp; &nbsp;NS localhost. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-----NS代表的是名字服务器,这里为本机<br style=\"margin: 0px; padding: 0px;\"/> &nbsp; &nbsp; &nbsp; &nbsp;MX 10 mail.sky.com. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -----邮件服务器mail.sky.com的优先级为10,可以1-15<br style=\"margin: 0px; padding: 0px;\"/>www &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; IN &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 172.16.1.1<br style=\"margin: 0px; padding: 0px;\"/>mail &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;IN &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 172.16.1.1<br style=\"margin: 0px; padding: 0px;\"/>ftp &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; IN &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;A &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 172.16.1.1<br style=\"margin: 0px; padding: 0px;\"/>web &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CNAME &nbsp; www &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-----web为www的别名<br style=\"margin: 0px; padding: 0px;\"/>----------------------------------------<br style=\"margin: 0px; padding: 0px;\"/><span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">[root@linux-tys named]# vi 1.16.172.in-addr.arpa &nbsp; &nbsp; ------反向解析区域文件<br style=\"margin: 0px; padding: 0px;\"/></span>--------------------------------------<br style=\"margin: 0px; padding: 0px;\"/>$TTL 86400<br style=\"margin: 0px; padding: 0px;\"/>@ IN SOA localhost. &nbsp; root.sky.com. (<br style=\"margin: 0px; padding: 0px;\"/> &nbsp; &nbsp; &nbsp; &nbsp;20040802<br style=\"margin: 0px; padding: 0px;\"/> &nbsp; &nbsp; &nbsp; &nbsp;28800<br style=\"margin: 0px; padding: 0px;\"/> &nbsp; &nbsp; &nbsp; &nbsp;14400<br style=\"margin: 0px; padding: 0px;\"/> &nbsp; &nbsp; &nbsp; &nbsp;3600000<br style=\"margin: 0px; padding: 0px;\"/> &nbsp; &nbsp; &nbsp; &nbsp;86400<br style=\"margin: 0px; padding: 0px;\"/>)<br style=\"margin: 0px; padding: 0px;\"/> &nbsp; &nbsp; &nbsp; &nbsp;NS &nbsp;localhost.<br style=\"margin: 0px; padding: 0px;\"/>1 &nbsp; &nbsp; &nbsp; IN &nbsp;PTR <a href=\"http://www.sky.com/\" target=\"_blank\"></a><a href=\"http://www.sky.com/\" target=\"_blank\"><span style=\"margin: 0px; padding: 0px; color: rgb(17, 17, 0);\">[url]</span></a><span style=\"margin: 0px; padding: 0px; color: rgb(17, 17, 0);\"><a href=\"http://www.sky.com/\" target=\"_blank\">www.sky.com</a>[/url]</span>.<br style=\"margin: 0px; padding: 0px;\"/>1 &nbsp; &nbsp; &nbsp; IN &nbsp;PTR mail.sky.com.<br style=\"margin: 0px; padding: 0px;\"/>1 &nbsp; &nbsp; &nbsp; IN &nbsp;PTR <span style=\"margin: 0px; padding: 0px; color: rgb(17, 17, 0);\">ftp.sky.com</span>.<br style=\"margin: 0px; padding: 0px;\"/>===========================================================<br style=\"margin: 0px; padding: 0px;\"/><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0);\"><strong style=\"margin: 0px; padding: 0px;\">3、启动服务</strong></span></p><p><strong style=\"margin: 0px; padding: 0px;\"><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0);\"></span></strong> </p><p>[<span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">root@linux-tys root]# service named restart<br style=\"margin: 0px; padding: 0px;\"/></span>停止 named：[ &nbsp;确定 &nbsp;]<br style=\"margin: 0px; padding: 0px;\"/>启动 named：[ &nbsp;确定 &nbsp;]<br style=\"margin: 0px; padding: 0px;\"/>[root@linux-tys root]# netstat -an | grep 53 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -----可以见到在启动DNS之后,TCP/UDP53端口有在侦听<br style=\"margin: 0px; padding: 0px;\"/><span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">tcp &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp;0 172.16.1.1:53 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0.0.0.0:* &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; LISTEN &nbsp; &nbsp; &nbsp;<br style=\"margin: 0px; padding: 0px;\"/>tcp &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp;0 127.0.0.1:53 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.0.0.0:* &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; LISTEN &nbsp; &nbsp; &nbsp;</span><br style=\"margin: 0px; padding: 0px;\"/>……</p><p><span style=\"margin: 0px; padding: 0px; color: rgb(0, 0, 255);\">udp &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp;0 172.16.1.1:53 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0.0.0.0:* &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br style=\"margin: 0px; padding: 0px;\"/>udp &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp;0 127.0.0.1:53 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.0.0.0:* </span><br style=\"margin: 0px; padding: 0px;\"/>=============================================================================<br style=\"margin: 0px; padding: 0px;\"/><span style=\"margin: 0px; padding: 0px; color: rgb(255, 0, 0);\"><strong style=\"margin: 0px; padding: 0px;\">4、测试</strong></span></p><p>[root@linux-tys root]# host <a href=\"http://www.sky.com/\" target=\"_blank\"></a><a href=\"http://www.sky.com/\" target=\"_blank\"><span style=\"margin: 0px; padding: 0px; color: rgb(17, 17, 0);\">[url]</span></a><span style=\"margin: 0px; padding: 0px; color: rgb(17, 17, 0);\"><a href=\"http://www.sky.com/\" target=\"_blank\">www.sky.com</a>[/url]</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ------可见解析成功,DNS可以进行工作了<br style=\"margin: 0px; padding: 0px;\"/><a href=\"http://www.sky.com/\" target=\"_blank\"></a><a href=\"http://www.sky.com/\" target=\"_blank\"><span style=\"margin: 0px; padding: 0px; color: rgb(17, 17, 0);\">[url]</span></a><span style=\"margin: 0px; padding: 0px; color: rgb(17, 17, 0);\"><a href=\"http://www.sky.com/\" target=\"_blank\">www.sky.com</a>[/url]</span> has address 172.16.1.1 <br style=\"margin: 0px; padding: 0px;\"/>----------------------------------------<br style=\"margin: 0px; padding: 0px;\"/>[root@linux-tys root]# nslookup 172.16.1.1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ------测试反向解析,也成功了<br style=\"margin: 0px; padding: 0px;\"/>Note: &nbsp;nslookup is deprecated and may be removed from future releases.<br style=\"margin: 0px; padding: 0px;\"/>Consider using the `dig&#39; or `host&#39; programs instead. &nbsp;Run nslookup with<br style=\"margin: 0px; padding: 0px;\"/>the `-sil[ent]&#39; option to prevent this message from appearing.<br style=\"margin: 0px; padding: 0px;\"/>Server: &nbsp; &nbsp; &nbsp; &nbsp; 172.16.1.1<br style=\"margin: 0px; padding: 0px;\"/>Address: &nbsp; &nbsp; &nbsp; &nbsp;172.16.1.1#53</p><p>1.1.16.172.in-addr.arpa name = mail.sky.com.<br style=\"margin: 0px; padding: 0px;\"/>1.1.16.172.in-addr.arpa name = <span style=\"margin: 0px; padding: 0px; color: rgb(17, 17, 0);\">ftp.sky.com</span>.<br style=\"margin: 0px; padding: 0px;\"/>1.1.16.172.in-addr.arpa name = <a href=\"http://www.sky.com/\" target=\"_blank\"></a><a href=\"http://www.sky.com/\" target=\"_blank\"><span style=\"margin: 0px; padding: 0px; color: rgb(17, 17, 0);\">[url]</span></a><span style=\"margin: 0px; padding: 0px; color: rgb(17, 17, 0);\"><a href=\"http://www.sky.com/\" target=\"_blank\">www.sky.com</a>[/url]</span>.</p><p></p>','2013-12-13 06:50:17','2013-12-13 14:50:17'),(327,'114.247.232.56',19,'ubuntu-arm交叉编译环境构建','<h2 style=\"margin: 0px 0px 10px; padding: 0px; font-size: 20px; font-weight: normal;\"><p style=\"font-size: 14px;\">1.下载arm-linux-gcc-3.4.1.tar.bz2到任意的目录下。<br/>　　arm-linux-gcc-3.4.1.tar.bz2 的下载地址如下：</p><p style=\"font-size: 14px;\"><a href=\"http://www.handhelds.org/download/projects/toolchain/arm-linux-gcc-3.4.1.tar.bz2\" target=\"_blank\">http://www.handhelds.org/download/projects/toolchain/arm-linux-gcc-3.4.1.tar.bz2</a><br/></p><p style=\"font-size: 14px;\">2.解压 arm-linux-gcc-3.4.1.tar.bz2<br/>　　#tar -jxvf arm-linux-gcc-3.4.1.tar.bz2<br/>　　解压过程需要一段时间，解压后的文件形成了 usr/local/ 文件夹，进入该文件夹，将arm文件夹拷贝到/usr/local/下<br/>　　# cd usr/local/<br/>　　#cp -rv arm /usr/local/<br/>　　现在交叉编译程序集都在/usr/local/arm/3.4.1/bin下面了<br/>3. 　修改环境变量，把交叉编译器的路径加入到PATH。(有三种方法，强烈推荐使用方法一)<br/>　　方法一：修改/etc/bash.bashrc文件<br/> &nbsp; &nbsp; #vim /etc/bash.bashrc</p><p style=\"font-size: 14px;\">在最后加上：</p><p style=\"font-size: 14px;\">export PATH＝$PATH:/usr/local/arm/3.4.1/bin</p><p style=\"font-size: 14px;\">export PATH</p><p style=\"font-size: 14px;\">（如果不能编辑，先修改相关文件的权限使用chmod命令。）</p><p style=\"font-size: 14px;\">方法二：修改/etc/profile文件：<br/># vim /etc/profile</p><p style=\"font-size: 14px;\">增加路径设置，在末尾添加如下,保存/etc/profile文件：<br/>export PATH＝$PATH:/usr/local/arm/3.4.1/bin<br/>　　方法三：#export PATH＝$PATH:/usr/local/arm/3.4.1/bin<br/>　 注：(这只能在当前的终端下才是有效的！)<br/>4.　立即使新的环境变量生效，不用重启电脑：<br/>　对应方法一：#source /root/.bashrc<br/>　对应方法二：# source /etc/profile<br/>5.　检查是否将路径加入到PATH：<br/>　　 # echo $PATH<br/>　　显示的内容中有/usr/local/arm/bin，说明已经将交叉编译器的路径加入PATH。至此，交叉编译环境安装完成。<br/>　6.测试是否安装成功<br/> &nbsp;# arm-linux-gcc -v<br/>上面的命令会显示arm-linux-gcc信息和版本，这是我显示的信息：<br/>　Reading specs from /usr/local/arm/3.4.1/lib/gcc/arm-linux/3.4.1/specs<br/>　Configured with: /work/crosstool-0.27/build/arm-linux/gcc-3.4.1-glibc-2.3.2/gcc-　3.4.1/configure --target=arm-linux --host=i686-host_pc-linux-gnu</p><p style=\"font-size: 14px;\">　--prefix=/usr/local/arm/3.4.1 --with-headers=/usr/local/arm/3.4.1/arm</p><p style=\"font-size: 14px;\">　-linux/include --with-local-prefix=/usr/local/arm/3.4.1/arm-linux --disable</p><p style=\"font-size: 14px;\">　-nls --enable-threads=posix --enable-symvers=gnu --enable-__cxa_atexit --enable-　languages=c,c++ --enable-shared --enable-c99 --enable-long-long<br/>　Thread model: posix<br/>　gcc version 3.4.1</p><p style=\"font-size: 14px;\"><br/>7.编译Hello World程序，测试交叉工具链<br/> &nbsp; 写下下面的Hello World程序，保存为 hello.c<br/>#include &lt;stdio.h&gt;<br/>int main()<br/>{<br/>printf(&quot;Hello World!\\n&quot;);<br/>return 0;<br/>}</p><p style=\"font-size: 14px;\">执行下面的命令：<br/># arm-linux-gcc -o hello hello.c<br/> &nbsp; &nbsp;源程序有错误的话会有提示，没有任何提示的话，就是通过了，就可以下载到ARM目标板上运行了！</p><p style=\"font-size: 14px;\">接着可以输入file hello的命令，查看生成的hello文件的类型，要注意的是生成的可执行文件只能在ARM体系下运行，不能在其于X86的PC机上运行。</p></h2><p></p>','2013-12-13 06:50:58','2013-12-13 14:50:58'),(328,'183.63.215.55',19,'linux编程获取执行指令结果','<p style=\"margin: 10px auto; font-size: 13px;\">linux下通过C执行命令的时候一半都是使用system()方法，但是该方法执行命令返回的值是-1或0，而有时候我们需要得到执行命令后的结果。可以使用管道实现</p><p style=\"margin: 10px auto; font-size: 13px;\">输出到文件流的函数是popen()，例如</p><p style=\"margin: 10px auto; font-size: 13px;\">FILE *isr;</p><p style=\"margin: 10px auto; font-size: 13px;\">isr = popen(&quot;ls -l&quot;,&quot;r&quot;); ls -l命令的输出通过管道读取(&quot;r&quot;参数)到isr</p><p style=\"margin: 10px auto; font-size: 13px;\">下面是演示例子，列出当前可用的loop设备，（必须是root权限才可以执行losetup -f）</p><p style=\"margin: 10px auto; font-size: 13px;\">&nbsp;</p><div><span style=\"font-size: 14px;\">#include &lt;stdio.h&gt;</span></div><div>&nbsp;</div><p><span style=\"font-size: 14px;\">char* cmd_system(const char* command)</span></p><p><span style=\"font-size: 14px;\">{</span></p><p><span style=\"font-size: 14px;\">char buf[1024];</span></p><p><span style=\"font-size: 14px;\">char* result = &quot;&quot;;</span></p><p><span style=\"font-size: 14px;\">FILE *fpRead;</span></p><p><span style=\"font-size: 14px;\">fpRead = popen(command, &quot;r&quot;);</span></p><p><span style=\"font-size: 14px;\">memset(buf,0,sizeof(buf));</span></p><p><span style=\"font-size: 14px;\">while(fgets(buf,1024-1,fpRead)!=NULL)</span></p><p><span style=\"font-size: 14px;\">{</span><span style=\"font-size: 14px;\">result = buf;</span><span style=\"font-size: 14px;\">}</span></p><p><span style=\"font-size: 14px;\">if(fpRead!=NULL)</span></p><p><span style=\"font-size: 14px;\">pclose(fpRead);</span></p><p><span style=\"font-size: 14px;\">return result;</span></p><p><span style=\"font-size: 14px;\">}</span></p><p><span style=\"font-size: 14px;\"></span>&nbsp;</p><p><span style=\"font-size: 14px;\">int main()</span></p><p><span style=\"font-size: 14px;\">{</span></p><p><span style=\"font-size: 14px;\">//char str[20]={&quot;0&quot;};</span></p><p><span style=\"font-size: 14px;\">//result内存会自动释放</span></p><p><span style=\"font-size: 14px;\">char* result = cmd_system(&quot;losetup -f&quot;)；</span></p><p><span style=\"font-size: 14px;\">//通过该方法可以将char*转换为char数组</span></p><p><span style=\"font-size: 14px;\">//strcpy(str,result);</span></p><p><span style=\"font-size: 14px;\">printf(&quot;The result:%s\\n&quot;,result);</span></p><p><span style=\"font-size: 14px;\">return 0;</span></p><p><span style=\"font-size: 14px;\">}</span></p>','2013-12-13 06:51:20','2014-01-14 10:27:46'),(329,'114.247.232.56',19,'编写控制GPIO','<p>/////////////////////////////////// &nbsp;1方法 ///////////////////////////////////////////////////</p><p>RG100A路由bcm64xx---GPIO端口 可对照以下<br/>gpioctl_1.0-1_brcm63xx.ipk &nbsp; &nbsp; <br/>gpioctl &nbsp; &nbsp; &nbsp; &nbsp;dirin | &nbsp; dirout| &nbsp; &nbsp; &nbsp; get| &nbsp; &nbsp; &nbsp; &nbsp;set| &nbsp; &nbsp;clear &nbsp; &nbsp; &nbsp; &nbsp;gpio<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 输入状态 |输出状态| 取得状态|置高电平| 置底电平 &nbsp; &nbsp; &nbsp; &nbsp;<br/><br/>#PIN34 是 WIFI按键<br/>#PIN36 是复位按键<br/>#PIN37 是 WPS 按键<br/><br/>#34 36 37 设定为输入状态<br/>gpioctl &nbsp; dirin 34<br/>gpioctl &nbsp; dirin 36<br/>gpioctl &nbsp; dirin 37<br/><br/>#取得按键状态<br/>gpioctl get 34<br/>gpioctl get 36<br/>gpioctl get 37<br/><br/>#0 4 8 22 24 设定为输出状态<br/>gpioctl &nbsp; dirout 0<br/>gpioctl &nbsp; dirout 4<br/>gpioctl &nbsp; dirout 8<br/>gpioctl &nbsp; dirout 22<br/>gpioctl &nbsp; dirout 24<br/><br/>gpioctl clear 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;USB 亮<br/>gpioctl set 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;USB 灭<br/><br/>gpioctl clear 4 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;POWER 灭<br/>gpioctl set 4 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; POWER 亮<br/><br/>gpioctl clear 8 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;NET 灭<br/>gpioctl set 8 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NET 亮<br/><br/>gpioctl clear 22 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;DSL 亮<br/>gpioctl set 22 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;DSL 灭<br/><br/>gpioctl clear 24 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;WPS 亮<br/>gpioctl set 24 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;WPS 灭</p><p><br/></p><p>/////////////////////////////////// &nbsp;2方法 ///////////////////////////////////////////////////</p><p>编写控制程序GPIO的配置文件在/sys/class/gpio目录下，控制程序可以分为四个步骤：<br/><br/>配置GPIO：在/sys/class/gpio目录下可以看到文件export，调用该文件以实现配置。该文件对所有GPIO编号，从0开始。GPIOn_x的编号为32*n+x，例如此处用的GPIO1_6的编号为32*1+6=38。在终端输入：# echo &quot;38&quot; &gt; /sys/class/gpio/export，在此回到目录/sys/class/gpio下，可以看到产生了一个新的目录./gpio38，里面包含了该IO口的输入输出设置等配置文件。注意：export文件只有root写权限，执行上述命令或者以后用C编写的可执行文件要以ROOT身份执行。<br/>设置GPIO的方向（输入输出）:在终端输入：# echo &quot;out&quot; &gt; /sys/class/gpio/gpio38/direction，即设置该GPIO为输出。<br/>设置GPIO的输出电平：在终端输入：#echo &quot;1&quot; &gt; /sys/class/gpio/gpio38/value，即设置GPIO输出高电平，输入echo &quot;0&quot; &gt; /sys/class/gpio/gpio38/value设置GPIO输出低电平。<br/>关闭GPIO：在终端输入：#echo &quot;38&quot; &gt; /sys/class/gpio/unexport，即删除GPIO配置文件，可以看到目录gpio38已经被删除。</p><p><br/></p><p>* direction接受的参数：in, out, high, low。high/low同时设置方向为输出，并将value设置为相应的1/0。</p><p>* value文件是端口的数值，为1或0.</p><p><br/></p><p>下面是C语言编写的GPIO控制例程，实现LED的每隔一秒闪烁一次。<br/>#include &lt;stdio.h&gt;<br/>#include &lt;stdlib.h&gt;<br/>#include &lt;unistd.h&gt;<br/>#include &lt;string.h&gt;<br/>int main(void)<br/>{<br/><wbr/>FILE *p=NULL;<br/><wbr/>int i=0;<br/><wbr/>p = fopen(&quot;/sys/class/gpio/export&quot;,&quot;w&quot;);<br/><wbr/>fprintf(p,&quot;%d&quot;,38);<br/><wbr/>fclose(p);<br/><wbr/>p = fopen(&quot;/sys/class/gpio/gpio38/direction&quot;,&quot;w&quot;);<br/><wbr/>fprintf(p,&quot;out&quot;);<br/><wbr/>fclose(p);<br/><wbr/>for(i=0;i&lt;100;i++)<br/><wbr/>{<br/><wbr/><wbr/>p = fopen(&quot;/sys/class/gpio/gpio38/value&quot;,&quot;w&quot;);<br/><wbr/><wbr/>fprintf(p,&quot;%d&quot;,1);<br/><wbr/><wbr/>sleep(1);<br/><wbr/><wbr/>fclose(p);<br/><wbr/><wbr/>p = fopen(&quot;/sys/class/gpio/gpio38/value&quot;,&quot;w&quot;);<br/><wbr/><wbr/>fprintf(p,&quot;%d&quot;,0);<br/><wbr/><wbr/>sleep(1);<br/><wbr/><wbr/>fclose(p);<br/><wbr/>}<br/><wbr/>p = fopen(&quot;/sys/class/gpio/unexport&quot;,&quot;w&quot;);<br/><wbr/>fprintf(p,&quot;%d&quot;,38);<br/><wbr/>fclose(p);<br/><wbr/>return 0;<br/>}</p><p></p>','2013-12-13 06:51:56','2013-12-13 14:51:56'),(330,'114.247.232.56',19,'刷固件命令','<p>wget http://192.168.1.2/wr703n.bin<br/>先下载到/tmp目录 <br/>再<br/>mtd -r -q &nbsp;write ./wr703n.bin firmware</p>','2013-12-13 06:52:24','2013-12-13 14:52:24'),(331,'114.247.232.56',19,'HID 设备开发','<p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">源文章</span></span><a href=\"http://hi.baidu.com/n7611/blog/item/c826e451824d392143a75bd7.html/\" target=\"_blank\">http://hi.baidu.com/n7611/blog/item/c826e451824d392143a75bd7.html/</a> <span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"><br/><br/></span></span><br/></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">首先建立hid 的文件节点</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">#!/bin/sh</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">mkdir -p /dev/usb</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">mknod /dev/usb/hiddev0 c 180 96</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">mknod /dev/usb/hiddev1 c 180 97</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">mknod /dev/usb/hiddev2 c 180 98</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">mknod /dev/usb/hiddev3 c 180 99</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">mknod /dev/usb/hiddev4 c 180 100</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">mknod /dev/usb/hiddev5 c 180 101</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">mknod /dev/usb/hiddev6 c 180 102</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">mknod /dev/usb/hiddev7 c 180 103</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">mknod /dev/usb/hiddev8 c 180 104</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">mknod /dev/usb/hiddev9 c 180 105</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">mknod /dev/usb/hiddev10 c 180 106</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">mknod /dev/usb/hiddev11 c 180 107</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">mknod /dev/usb/hiddev12 c 180 108</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">mknod /dev/usb/hiddev13 c 180 109</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">mknod /dev/usb/hiddev14 c 180 110</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">mknod /dev/usb/hiddev15 c 180 111</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"><br/></span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">发送和接收的程序如下</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">HANDLE connectToUSBHIDDevice (DWORD vendorID, DWORD productID, DWORD versionNumber)</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">{</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp;char evdev[50];</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp;int fd = -1, index;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp;struct hiddev_event ev[64];</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp;struct hiddev_devinfo dinfo;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp;char name[256] = &quot;Unknown&quot;;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp;int matched = 0;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp;const char hid_dir[] = &quot;/dev/usb&quot;;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp;index = 0 ;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp;while(!matched&amp;&amp;index &lt;10)</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp;{</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp; &nbsp; &nbsp; sprintf(evdev, &quot;%s/hiddev%d&quot;,hid_dir, index);</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp; &nbsp; &nbsp; if ((fd = open(evdev, O_RDONLY)) &gt; 0) </span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp; &nbsp; &nbsp; {</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ioctl(fd, HIDIOCGDEVINFO, &amp;dinfo);</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if ((vendorID == 0 ||dinfo.vendor == vendorID) &amp;&amp;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(productID == 0 ||dinfo.product == (__s16)productID) &amp;&amp;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(versionNumber == 0 || dinfo.version == versionNumber))</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return fd; /* matched */</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; close(fd); /* not a match - close and try again */</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp; &nbsp; &nbsp; index++ ;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp;}</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp;return INVALID_HANDLE_VALUE;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">}</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"><br/></span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">int SendOutputReport(int fd, unsigned char reportID, unsigned char* vals, int num_vals, int delay)</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">{</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">int ret = 0, i;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">char sval;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">struct hiddev_report_info out_report;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">struct hiddev_usage_ref uref;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"><br/></span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">uref.report_type = HID_REPORT_TYPE_OUTPUT;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">uref.report_id = reportID;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">uref.field_index = 0;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">uref.usage_index = 0;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"><br/></span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">/* usage code for this for this usage */</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">ret = ioctl(fd, HIDIOCGUCODE, &amp;uref);</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">if(0 &gt; ret){</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp;perror(&quot;SendCommandFS: ioctl to get usage code for out report&quot;);</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp;return ret;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">}</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"><br/></span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">/* fill in usage values. */</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">for( i = 0; (i &lt; num_vals) &amp;&amp; vals; i++){</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp;uref.usage_index = i;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp;sval = vals[i];</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp;uref.value = sval;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp;ioctl(fd, HIDIOCSUSAGE, &amp;uref);</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp;if(0 &gt; ret){</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp; &nbsp;perror(&quot;SendCommandFS:ioctl to set usage value for out report&quot;);</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp; &nbsp;return ret;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp;}</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">}</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"><br/></span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">/* tell the driver about the usage values */</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">out_report.report_type = HID_REPORT_TYPE_OUTPUT;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">out_report.report_id = reportID;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">ioctl(fd, HIDIOCGREPORTINFO, &amp;out_report);</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">if (0 &gt; ret) {</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp;perror(&quot;SendCommandFS: ioctl to get out report info&quot;);</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp;return ret;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">}</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">/* this ioctl puts the report on the wire */</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">ret = ioctl(fd, HIDIOCSREPORT, &amp;out_report);</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">if (0 &gt; ret) {</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp;perror(&quot;SendCommandFS: ioctl to send output report&quot;);</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp;return ret;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">}</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"><br/></span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">usleep(delay);</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">return ret;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">}</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"><br/></span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">int GetInputReport(int fd, unsigned char reportID, unsigned char *vals, int num_vals, int delay)</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">{</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">int ret = 0, i;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">/*struct hiddev_usage_ref_multi in_usage_multi;*/</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">struct hiddev_usage_ref uref;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">struct hiddev_report_info in_report;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"><br/></span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">/* tell the driver about the usage values */</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">in_report.report_type = HID_REPORT_TYPE_INPUT;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">in_report.report_id = reportID;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp;/* this ioctl gets the report on the wire */</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">ret = ioctl(fd, HIDIOCGREPORT, &amp;in_report);</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"><br/></span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">uref.report_type = HID_REPORT_TYPE_INPUT;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">uref.report_id = reportID;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">uref.field_index = 0;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">uref.usage_index = 0;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">uref.usage_code = 0xff000001;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">ret = ioctl(fd, HIDIOCGUCODE, &amp;uref);</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"><br/></span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">for( i = 0; i &lt; num_vals; i++){</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp; &nbsp;uref.usage_index = i;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp; &nbsp;ioctl(fd, HIDIOCGUSAGE, &amp;uref);</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp; &nbsp;usleep(delay);</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\"> &nbsp; &nbsp; &nbsp;vals[i] = (unsigned char)(uref.value &amp; 0x000000FF) ;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">}</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">return ret;</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">}</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">数据好象是一个一个byte 发送, 最后再发一条触发的命令HIDIOCSREPORT</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial;\"><span style=\"line-height: 20px;\">接收也是一样,先发一个控制命令HIDIOCGREPORT,然后一个一个byte 接收,可能都是先缓冲的缘故</span></span></p><p></p>','2013-12-13 06:52:53','2013-12-13 14:52:53'),(332,'114.247.232.56',19,'libusb下载与编译','<p>sudo apt-get install libusb-1.0-0-dev</p><p>&nbsp;</p><p>编译</p><p>gcc main.c -lusb-1.0</p><p></p>','2013-12-13 06:53:11','2013-12-13 14:53:11'),(333,'14.217.246.241',19,'tp-link 703N刷机教程','<ol class=\" list-paddingleft-2\" style=\"list-style-type: decimal;\"><li><p>救砖,先要焊接好TTL针,连接好TTL线.<br/>2.救砖用的软件:<br/>(1)超级终端:SecureCRT<br/>(2)TFTP服务端:tftp32<br/>(3)固件:一个能正常使用的固件.<br/>3.救砖用的命令(适用于未改机的4M FLASH,如果是8M即0x3c0000数值要改为相应的):<br/>setenv serverip 192.168.1.169 &nbsp; &nbsp;&lt;自己当前电脑用的IP&gt;</p></li></ol><p><br/></p><p>setenv ipaddr 192.168.1.1 &nbsp; &nbsp;&lt;硬件的临时IP地址&gt;<br/>tftp 0x80000000 abcd.bin<br/>erase 0x9f020000 +0x3c0000<br/>cp.b 0x80000000 0x9f020000 0x3c0000 <br/><br/><br/><br/>4.救砖教程请看OP论坛里的教程<br/>http://www.openwrt.com.cn/bbs/viewthread.php?tid=3617&amp;extra=page%3D1<br/><br/>除了出现Autobooting in 1 seconds这个的时候,<br/>迅速1秒内连续按&quot;TPL&quot;三键,命令用上面第3点的外,其他可以完全参照上面连接的教程进行设置和操作.<br/><br/>当然,如果你已经会设置终端和TTL驱动,上面连接上的教程完全可以忽略了.<br/></p><p><br/></p><p><span lang=\"EN-US\" style=\"font-family: &quot;Times New Roman&quot;; font-size: 10.5pt; mso-fareast-font-family: 宋体; mso-font-kerning: 1.0pt; mso-ansi-language: EN-US; mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;\">703N CPU是高通AR9331</span></p><p><br/>此方法和命令,同样适合300R V2 741N 740N 841N V5 V6V7等CPU是7240或7241的路由;只要是TP 迅捷 水星的机子命令都是一样的.</p><p><br/></p><p><br/></p>','2013-12-13 06:53:35','2014-11-18 09:39:32'),(334,'114.247.232.56',19,'openwrt 自动挂载U盘','<p>openwrt 自动挂载U盘、移动硬盘</p><p>openwrt 自动挂载U盘、移动硬盘</p><p>#############################################</p><p>opkg update</p><p>opkg install kmod-usb-core</p><p>opkg install kmod-usb-ohci &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#安装usb ohci控制器驱动<br/>#opkg install kmod-usb-uhci &nbsp; &nbsp; 　#UHCI　USB控制器<br/>opkg install kmod-usb2 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#安装usb2.0 <br/>opkg install kmod-usb-storage &nbsp; &nbsp; #安装usb存储设备驱动<br/>opkg install kmod-fs-ext3 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#安装ext3分区格式支持组件<br/>opkg install mount-utils &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#挂载卸载工具<br/>opkg install ntfs-3g &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#挂载NTFS<br/>opkg install kmod-fs-vfat &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#挂载FAT<br/>opkg install block-mount<br/>opkg install fdisk</p><p>opkg install usbutils #安装了这个后可以用 lsusb</p><p>&nbsp;</p><p>&nbsp;</p><p>需要安装kmod-usb2，kmod-usb-uhci，kmod-usb-ohci，kmod-usb-storage，kmod-usb-storage-extras这几个包，以保证系统可以正常访问你的USB key。而后安装block-mount block-hotplug block-extroot这几个包，来启用U盘启动。最后不要忘记安装kmod-fs-ext3，驱动文件系统。 <br/> &nbsp; &nbsp;当你搞定这几步后，修改/etc/config/fstab这个文件，如下配置。<br/>config mount<br/> &nbsp; &nbsp; &nbsp; &nbsp;option device &nbsp; /dev/sda1<br/> &nbsp; &nbsp; &nbsp; &nbsp;option fstype &nbsp; ext3<br/> &nbsp; &nbsp; &nbsp; &nbsp;option options &nbsp;rw,sync<br/> &nbsp; &nbsp; &nbsp; &nbsp;option enabled &nbsp;1<br/> &nbsp; &nbsp; &nbsp; &nbsp;option enabled_fsck 1<br/> &nbsp; &nbsp; &nbsp; &nbsp;option is_rootfs 1<br/>config swap<br/> &nbsp; &nbsp; &nbsp; &nbsp;option device &nbsp; /dev/sda2<br/> &nbsp; &nbsp; &nbsp; &nbsp;option enabled &nbsp;1<br/></p><p>&nbsp;</p><p><br/>#U盘，移动硬盘自动挂载脚本</p><p>编辑/etc/hotplug.d/block/10-mount &nbsp;（用winscp工具连接路由，编辑文件）<br/>___________________________以下是文件内容_________________________________<br/>#!/bin/sh<br/> <br/># Copyright (C) 2009 OpenWrt.org &nbsp;(C) 2010 OpenWrt.org.cn<br/> <br/>blkdev=&#39;dirname $DEVPATH&#39;<br/>if [ &#39;basename $blkdev&#39; != &quot;block&quot; ]; then<br/> <br/> &nbsp; &nbsp;device=&#39;basename $DEVPATH&#39;<br/> &nbsp; &nbsp;case &quot;$ACTION&quot; in<br/> &nbsp; &nbsp; &nbsp; &nbsp;add)<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mkdir -p /mnt/$device<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# vfat &amp; ntfs-3g check<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if &nbsp;[ &#39;which fdisk&#39; ]; then<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;isntfs=&#39;fdisk -l | grep $device | grep NTFS&#39;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;isvfat=&#39;fdisk -l | grep $device | grep FAT&#39;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;isfuse=&#39;lsmod | grep fuse&#39;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;isntfs3g=&#39;which ntfs-3g&#39;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;else<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;isntfs=&quot;&quot;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;isvfat=&quot;&quot;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fi <br/> <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# mount with ntfs-3g if possible, else with default mount<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if [ &quot;$isntfs&quot; -a &quot;$isfuse&quot; -a &quot;$isntfs3g&quot; ]; then<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ntfs-3g -o nls=utf8 /dev/$device /mnt/$device<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;elif [ &quot;$isvfat&quot; ]; then<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mount -t vfat -o iocharset=utf8,rw,sync,umask=0000,dmask=0000,fmask=0000 /dev/$device /mnt/$device<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;else<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mount /dev/$device /mnt/$device<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fi<br/> &nbsp;if [ -f /dev/${device}/swapfile ]; then<br/> &nbsp; mkswap /dev/${device}/swapfile<br/> &nbsp; swapon /dev/${device}/swapfile<br/> &nbsp;fi<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;;<br/> &nbsp; &nbsp; &nbsp; &nbsp;remove)<br/> &nbsp;if [ -f /dev/${device}/swapfile ]; then<br/> &nbsp; swapoff /dev/${device}/swapfile<br/> &nbsp;fi<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;umount /dev/$device<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;;<br/> &nbsp; &nbsp;esac<br/> <br/>fi<br/></p><p><br/>________________________________文件尾_________________________________<br/>chmod 777 /etc/hotplug.d/block/10-mount &nbsp;#加运行权限</p><p>这样就完成了自动挂载</p><p>插入USB硬盘后就会自动挂载</p><p>&nbsp;</p><p><strong>挂载Swap分区</strong><br/><span style=\"color: rgb(255, 0, 0);\">＃＃＃在/mnt/sda1/下创建一个64M的交换文件<br/></span>dd if=/dev/zero of=/mnt/sda1/swapfile bs=1024 count=62142<br/><span style=\"color: rgb(255, 0, 0);\">＃＃＃将这个交换文件用作Swap分区</span><br/>mkswap /mnt/sda1/swapfile<br/><span style=\"color: rgb(255, 0, 0);\">＃＃＃启用活动分区</span><br/>swapon /mnt/sda1/swapfile</p><p><span style=\"color: rgb(255, 0, 0);\">＃＃＃停止</span><br/> swapoff /mnt/sda1/swapfile</p><p>&nbsp;</p><p><strong>openwrt 格盘</strong></p><p>opkg update</p><p>opkg install e2fsprogs &nbsp; &nbsp;#安装格盘软件</p><p>mkfs.ext4 /dev/sda1 &nbsp; &nbsp; &nbsp; #格etx4</p><p>mkfs.ext3 /dev/sda1 &nbsp; &nbsp; &nbsp; #格etx3</p><p>mkfs.ext2 /dev/sda1 &nbsp; &nbsp; &nbsp; #格etx2</p><p>&nbsp;</p><p>&nbsp;</p><p><strong>挂载windows共享文件 cifs　</strong></p><p>opkg install kmod-nls-utf8<br/>opkg install kmod-fs-cifs</p><p>mkdir /mnt/share<br/>mount -t cifs //192.168.1.2/tool /mnt/share -o username=administrator,password=123456,,nounix,noserverino,iocharset=utf8</p><p></p>','2013-12-13 06:54:00','2013-12-13 14:54:00'),(335,'114.247.232.56',19,'修改vsftpd的配置文件','<p>修改vsftpd的配置文件 vim /etc/vsftpd.conf 5、发一个简单的配置文件备份用。这里需要定义匿名用户名，因为openwrt没有ftp这个用户，有的是nobody这个用户。你还可以定义用户根目录，这里我直接指向了挂载的USB硬盘</p><p>&nbsp;</p><p><span style=\"color: rgb(0, 0, 255);\">background=YES<br/>listen=YES<br/>#上传时更改文件所属权<br/>#chown_uploads=YES<br/>#chown_username=root<br/>#定义匿名用户名<br/>ftp_username=nobody<br/>#允许匿名访问<br/>anonymous_enable=YES<br/>#允许匿名用户上传和新建文件夹<br/>#anon_upload_enable=YES<br/>#anon_mkdir_write_enable=YES<br/><span style=\"color: rgb(255, 0, 0);\"><strong>#定义匿名用户根目录<br/>anon_root=/mnt/anymous<br/></strong></span>#匿名用户上传/下载速度限制<br/>anon_max_rate=512000<br/>#允许本地用户登录<br/>local_enable=YES<br/>#允许上传<br/>write_enable=YES<br/>local_umask=022<br/>check_shell=NO<br/><span style=\"color: rgb(255, 0, 0);\"><strong>#本地用户主目录<br/>local_root=/mnt<br/></strong></span>#限制用户只能访问主目录<br/>chroot_local_user=yes<br/>accept_timeout=60<br/>idle_session_timeout=300<br/>max_clients=600<br/>max_per_ip=5<br/>#dirmessage_enable=YES<br/>ftpd_banner=Welcome to Slyar FTP service.<br/>session_support=NO<br/>syslog_enable=YES<br/>#xferlog_enable=YES<br/>#xferlog_file=/var/log/vsftpd.log<br/>#xferlog_std_format=YES </span></p><p></p>','2013-12-13 06:54:20','2013-12-13 14:54:20'),(336,'114.247.232.56',19,'电信rg100a路由密码','<p><span style=\"color: rgb(78, 78, 78); line-height: 19px; font-family: &quot;Segoe UI&quot;, Calibri, &quot;Myriad Pro&quot;, Myriad, &quot;Trebuchet MS&quot;, Helvetica, Arial, sans-serif; font-size: 13px;\">telecomadmin telecomadmin<br style=\"margin: 0px; padding: 0px; font-family: &quot;Segoe UI&quot;, Calibri, &quot;Myriad Pro&quot;, Myriad, &quot;Trebuchet MS&quot;, Helvetica, Arial, sans-serif;\"/>telecomadmin nE7jA%5m<br style=\"margin: 0px; padding: 0px; font-family: &quot;Segoe UI&quot;, Calibri, &quot;Myriad Pro&quot;, Myriad, &quot;Trebuchet MS&quot;, Helvetica, Arial, sans-serif;\"/>bjcnchgw 8mCnC@bj<br style=\"margin: 0px; padding: 0px; font-family: &quot;Segoe UI&quot;, Calibri, &quot;Myriad Pro&quot;, Myriad, &quot;Trebuchet MS&quot;, Helvetica, Arial, sans-serif;\"/>haadmin haadmin<br style=\"margin: 0px; padding: 0px; font-family: &quot;Segoe UI&quot;, Calibri, &quot;Myriad Pro&quot;, Myriad, &quot;Trebuchet MS&quot;, Helvetica, Arial, sans-serif;\"/></span><span style=\"color: rgb(78, 78, 78); line-height: 19px; font-family: &quot;Segoe UI&quot;, Calibri, &quot;Myriad Pro&quot;, Myriad, &quot;Trebuchet MS&quot;, Helvetica, Arial, sans-serif; font-size: 13px;\">admin 8mCnC@bj</span></p><p><span style=\"color: rgb(78, 78, 78); font-family: &quot;Segoe UI&quot;, Calibri, &quot;Myriad Pro&quot;, Myriad, &quot;Trebuchet MS&quot;, Helvetica, Arial, sans-serif; font-size: 2px;\"><span style=\"line-height: 19px;\"><br/></span></span></p><p><span style=\"color: rgb(78, 78, 78); font-family: &quot;Segoe UI&quot;, Calibri, &quot;Myriad Pro&quot;, Myriad, &quot;Trebuchet MS&quot;, Helvetica, Arial, sans-serif; font-size: 2px;\"><span style=\"line-height: 19px;\"><br/></span></span></p><p>替换RG100A cfe密码并刷新OpenWrt固件<br/>http://niclau.net/blog/rg100a-cfe-update-openwrt.html</p><p></p>','2013-12-13 06:54:46','2013-12-13 14:54:46'),(337,'192.168.2.200',19,'mjpg-streamer使用','<p><span style=\"line-height: 18px; font-family: Arial, Helvetica, sans-serif; color: rgb(66, 74, 94); font-size: 14px;\">//==============================================================</span></p><p><span style=\"line-height: 18px; font-family: Arial, Helvetica, sans-serif; color: rgb(66, 74, 94); font-size: 14px;\">//安装</span></p><p><span style=\"font-size: 14px;\"><span style=\"font-size: 14px; line-height: 18px; font-family: Arial, Helvetica, sans-serif; color: rgb(66, 74, 94);\"></span>&nbsp;</span></p><p><span style=\"font-size: 14px;\">在openwrt系统下，需要安装以下摄像头的驱动。<br/>opkg install kmod-video-uvc kmod-usb2 kmod-video-core</span></p><p><span style=\"font-size: 14px;\">如果能找到 /dev/video0 的设备文件，就说明驱动已经安装成功。<br/>如果没有成功，罗技的摄像头还可以尝试一下安装kmod-video-pwc。</span></p><p><span style=\"font-size: 14px;\">在openwrt系统下面，安装mjpg-streamer很简单。<br/>opkg install mjpg-streamer</span></p><p><span style=\"font-size: 14px;\">如果是ubuntu系统，可以从下面的网址下载安装包。</span></p><p><span style=\"font-size: 14px;\">http://sourceforge.net/projects/mjpg-streamer/files/mjpg-streamer_r94-1_i386.deb/download&nbsp;</span></p><p><span style=\"font-size: 14px;\">安装完了之后，运行<br/>/etc/init.d/mjpg-streamer start<br/>就可以启动了。</span></p><p><span style=\"font-size: 14px;\">&nbsp;</span></p><p><span style=\"font-size: 14px;\">然后在客户端的浏览器中同时访问如下两个网址<br/><a href=\"http://192.168.1.10:8080/?action=stream\">http://192.168.1.10:8080/?action=stream</a>&nbsp; &nbsp;视频流</span></p><p><a href=\"http://192.168.1.10:8080/?action=snapshot\" _src=\"http://192.168.1.10:8080/?action=snapshot\" style=\"font-size: 14px; text-decoration: underline;\"><span style=\"font-size: 14px;\">http://192.168.1.10:8080/?action=snapshot</span></a><span style=\"font-size: 14px;\">&nbsp; 截图</span></p><p><br/></p><p><span style=\"font-size: 14px;\"><span style=\"font-size: 14px; line-height: 18px;\"></span>&nbsp;</span></p><p><span style=\"line-height: 18px; font-size: 14px;\">//==============================================================</span></p><p><span style=\"line-height: 18px; font-size: 14px;\">//使用用户名登录</span></p><p><span style=\"font-size: 14px;\"><span style=\"font-size: 12px; line-height: 18px;\">文件/etc/init.d/mjpg-streamer，发现需要做以下改动：<br/></span><span style=\"font-size: 14px; line-height: 18px; font-family: Arial, Helvetica, sans-serif;\">start<span style=\"font-size: 12px; color: rgb(255, 0, 0);\">函数里面</span><br/><span style=\"font-size: 12px; color: rgb(66, 74, 94);\">启动命令行改成：</span><br/></span><span style=\"font-size: 13px; line-height: 20px; font-family: Verdana, Arial, sans-serif, &#39;Lucida Grande&#39;; color: rgb(51, 51, 51);\">[ $enabled -gt 0 -a -c $device ] &amp;&amp; sleep 3 &amp;&amp; $SSD -S -m -p $PIDF -q -x $PROG -- --input &quot;input_uvc.so --device $device --fps $fps --resolution $resolution&quot; --output &quot;output_http.so --port $port </span><span style=\"font-size: 14px; line-height: 18px; font-family: Arial, Helvetica, sans-serif;\"><strong><span style=\"font-size: 3px; color: rgb(255, 0, 0);\">-c 用户名</span></strong><strong><span style=\"font-size: 3px; color: rgb(255, 0, 0);\">:密码</span></strong></span><span style=\"font-size: 12px; line-height: 18px; font-family: Arial, Helvetica, sans-serif; color: rgb(66, 74, 94);\">&quot; &amp;</span></span></p>','2013-12-13 06:55:04','2015-07-11 11:27:31'),(338,'114.247.232.56',19,'linux下线程优先级设定','<p>POSIX标准指定了三种调度策略：先入先出策略 (SCHED_FIFO)、循环策略 (SCHED_RR) 和自定义策略 (SCHED_OTHER)。SCHED_FIFO 是基于队列的调度程序，对于每个优先级都会使用不同的队列。SCHED_RR 与 FIFO 相似，不同的是前者的每个线程都有一个执行时间配额。<br/>SCHED_FIFO 和 SCHED_RR 是对 POSIX Realtime 的扩展。SCHED_OTHER 是缺省的调度策略。</p><p><br/> &nbsp; &nbsp;POSIX标准指定了三种调度策略：先入先出策略 (SCHED_FIFO)、循环策略 (SCHED_RR) 和自定义策略 (SCHED_OTHER)。SCHED_FIFO 是基于队列的调度程序，对于每个优先级都会使用不同的队列。SCHED_RR 与 FIFO 相似，不同的是前者的每个线程都有一个执行时间配额。</p><p>SCHED_FIFO<br/> &nbsp; &nbsp;<br/>如果调用进程具有有效的用户 ID 0，则争用范围为系统 (PTHREAD_SCOPE_SYSTEM) 的先入先出线程属于实时 (RT) 调度类。如果这些线程未被优先级更高的线程抢占，则会继续处理该线程，直到该线程放弃或阻塞为止。对于具有进程争用范围 (PTHREAD_SCOPE_PROCESS)) 的线程或其调用进程没有有效用户 ID 0 的线程，请使用 SCHED_FIFO。SCHED_FIFO 基于 TS 调度类。</p><p>SCHED_RR</p><p>如果调用进程具有有效的用户 ID 0，则争用范围为系统 (PTHREAD_SCOPE_SYSTEM)) 的循环线程属于实时 (RT) 调度类。如果这些线程未被优先级更高的线程抢占，并且这些线程没有放弃或阻塞，则在系统确定的时间段内将一直执行这些线程。对于具有进程争用范围 (PTHREAD_SCOPE_PROCESS) 的线程，请使用 SCHED_RR（基于 TS 调度类）。此外，这些线程的调用进程没有有效的用户 ID 0。</p><p><br/>例：创建优先级为50的线程。</p><p>&nbsp;</p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(124, 73, 46); font-size-adjust: none; font-stretch: normal;\">#include <span style=\"color: rgb(218, 46, 36);\">&lt;sched.h&gt;</span></p><p style=\"font: 11px/normal Menlo; margin: 0px; color: rgb(218, 46, 36); font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(124, 73, 46);\">#include </span>&lt;pthread.h&gt;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">pthread_t threadid;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">void</span> threadfunc()</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">while</span>(<span style=\"color: rgb(37, 38, 211);\">1</span>)</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">usleep(<span style=\"color: rgb(37, 38, 211);\">10</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">printf(<span style=\"color: rgb(218, 46, 36);\">&quot;a&quot;</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">int</span> main(<span style=\"color: rgb(194, 42, 159);\">int</span> argc,<span style=\"color: rgb(194, 42, 159);\">char</span> *argv[])</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">{</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">pthread_attr_t attr;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">struct</span> sched_param param;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">pthread_attr_init(&amp;attr);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">pthread_attr_setschedpolicy(&amp;attr, SCHED_RR);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">param.sched_priority = <span style=\"color: rgb(37, 38, 211);\">50</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">pthread_attr_setschedparam(&amp;attr, &amp;param);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">pthread_create(&amp;threadid, &amp;attr, (<span style=\"color: rgb(194, 42, 159);\">void</span>*(*)(<span style=\"color: rgb(194, 42, 159);\">void</span>*))&amp;threadfunc, <span style=\"color: rgb(194, 42, 159);\">NULL</span>);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">pthread_attr_destroy(&amp;attr);</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">getchar();</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\"><span style=\"color: rgb(194, 42, 159);\">return</span> <span style=\"color: rgb(37, 38, 211);\">0</span>;</p><p style=\"font: 11px/normal Menlo; margin: 0px; font-size-adjust: none; font-stretch: normal;\">}</p><p>&nbsp;</p><p>&nbsp;</p><p>/////////////////////////////////////////////////////////////////////////////////////////////////</p><p>//实时程序抢占代码</p><p>设置调度策略</p><p>　　#include &lt;sched.h&gt;</p><p>int sched_setscheduler(pid_t pid, int policy,<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;const struct sched_param *param);</p><p>sched_setscheduler()函数将pid所指定进程的调度策略和调度参数分别设置为param指向的sched_param结构中指定的policy和参数。sched_param结构中的sched_priority成员的值可以为任何整数，该整数位于policy所指定调度策略的优先级范围内(含边界值)。policy参数的可能值在头文件中定义。</p><p>如果存在pid所描述的进程，将会为进程ID等于pid的进程设置调度策略和调度参数。</p><p>如果pid为零，将会为调用进程设置调度策略和调度参数。</p><p>如果进程pid含多个进程或轻量进程(即该进程是多进程的)，此函数将影响进程中各个子进程。</p><p>更改其他进程的调度参数需要有相应的特权。调用进程必须具有相应的特权，或者是具有PRIV_RTSCHED权限的组的成员，猜能成功调用sched_setscheduler()。如果sched_setscheduler()函数成功地将pid所指定调度策略和调度参数分别设置为policy和结构param指定值 ，则该函数调用成功。</p><p>例子：更改调用进程以使用最强的FIFO优先级，如下所示：</p><p>#include &lt;sched.h&gt;</p><p>int main(int argc,char *argv[]) <br/>{</p><p>struct sched_param param; <br/> &nbsp; &nbsp; &nbsp;int maxpri; <br/> &nbsp; &nbsp; &nbsp;maxpri = sched_get_priority_max(SCHED_FIFO);<br/> &nbsp; &nbsp; &nbsp;if(maxpri == -1) <br/> &nbsp; &nbsp; &nbsp;{ <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;perror(&quot;sched_get_priority_max() failed&quot;); <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;exit(1); <br/> &nbsp; &nbsp; &nbsp;} <br/> &nbsp; &nbsp; &nbsp;param.sched_priority = maxpri; <br/> &nbsp; &nbsp; &nbsp;if (sched_setscheduler(getpid(), SCHED_FIFO, &amp;param) == -1) //设置优先级</p><p>{ <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;perror(&quot;sched_setscheduler() failed&quot;); <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;exit(1); <br/> &nbsp; &nbsp; }</p><p>while(1);<br/>}</p><p>获取调度策略</p><p>获取调度策略sched_getscheduler()函数声明如下：</p><p>/* Retrieve scheduling algorithm for a particular purpose. */</p><p>#include &lt;sched.h&gt;</p><p>int sched_getscheduler(pid_t pid);</p><p>sched_getscheduler()函数返回pid所指定进程的调度策略。</p><p>1.如果存在pid所描述的进程，将返回进程ID等于pid的进程的调度策略。</p><p>2.如果pid为零，将返回调用进程的调度策略。</p><p>3.如果进程pid包含多个进程或轻量进程，此函数只返回进程调度策略和优先级。</p><p>目标进程的各个进程或轻量级进程具有其自身的调度策略和优先级，它们可能与当前进程的调度策略和优先级不同。</p><p>&nbsp;</p><p>&nbsp;</p><p>//////////////////////////////////////// 普通优先级别设置 &nbsp;/////////////////////////////////////////////</p><p>linux2.6优先级为0-139，其中100-139为普通进程，0-99为实时进程。</p><p>/*pri.c*/</p><p>#include &lt;stdio.h&gt;<br/>#include &lt;stdlib.h&gt;<br/>#include &lt;errno.h&gt;<br/>#include &lt;sched.h&gt;<br/>#include &lt;sys/time.h&gt;<br/>#include &lt;sys/resource.h&gt;<br/>int main(int argc,char *argv[])<br/>{<br/> &nbsp; &nbsp; &nbsp; &nbsp;unsigned int i=0,j=0,k=0,h;<br/> &nbsp; &nbsp; &nbsp; &nbsp;nice(-1);<br/> &nbsp; &nbsp; &nbsp; &nbsp;int pid[1];<br/> &nbsp; &nbsp; &nbsp; &nbsp;struct sched_param p[1];<br/> &nbsp; &nbsp; &nbsp; &nbsp;printf(&quot;max_pri is:%d,min_pri:%d\\n &quot;,sched_get_priority_max(2),sched_get_priority_min(2));<br/> &nbsp; &nbsp; &nbsp; &nbsp;struct sched_param para;<br/> &nbsp; &nbsp; &nbsp; &nbsp;para.sched_priority =23;//调度级别<br/> &nbsp; &nbsp; &nbsp; &nbsp;sched_setscheduler(0,SCHED_FIFO,&amp;para);<br/> &nbsp; &nbsp; &nbsp; &nbsp;printf(&quot;Parent pid is %d policy is %d, prio: %d\\n&quot;,getpid(),sched_getscheduler(0),para.sched_priority);</p><p>while(1);<br/>}</p><p></p>','2013-12-13 06:55:35','2013-12-13 14:55:35'),(339,'114.247.232.56',19,'linux serial设置串口','<p style=\"text-indent: 2em;\">Stty设置串口</p><p style=\"text-indent: 2em;\">&nbsp;</p><p style=\"text-indent: 2em;\">在linux中通过stty可以设置串口通讯的一些参数，常见参数设置如下：</p><ol class=\" list-paddingleft-2\"><li><p>设置波特率</p></li></ol><p>&nbsp;</p><p style=\"text-indent: 2em;\">stty -F /dev/ttyUSB0 speed 9600</p><ol class=\" list-paddingleft-2\"><li><p>设置Bits为8位</p></li></ol><p>&nbsp;</p><p style=\"text-indent: 2em;\">stty -F /dev/ttyUSB0 cs8(8代表8位)</p><p style=\"text-indent: 2em;\">＃设置校验位</p><p style=\"text-indent: 2em;\">stty -F /dev/ttyUSB0 parenb(有奇偶校验)stty -F /dev/ttyUSB0 -parenb(无奇偶校验)</p><ol class=\" list-paddingleft-2\"><li><p>设置stopbits</p></li></ol><p>&nbsp;</p><p style=\"text-indent: 2em;\">stty -F /dev/ttyUSB0 cstopd(代表设置stopbits为2位)stty -F /dev/ttyUSB0 -cstopd(代表设置stopbits为1位)</p><p style=\"text-indent: 2em;\"><br/></p><p style=\"text-indent: 2em;\"><br/></p><p style=\"text-indent: 2em;\"><br/></p><p style=\"text-indent: 2em;\"><br/></p><p style=\"text-indent: 2em;\"><br/></p><p style=\"text-indent: 2em;\">5.某些设置项<br/>在第四步中我们看到一些比较特殊的设置，下面简述一下他们的作用。<br/>c_cc数组的VSTART和VSTOP元素被设定成DC1和DC3，代表ASCII标准的XON和XOFF字符，如果在传输这两个字符的时候就传不过去，需要把软件流控制屏蔽，即：<br/>Opt.c_iflag &amp;= ~ (IXON | IXOFF | IXANY);<br/>有时候，在用write发送数据时没有键入回车，信息就发送不出去，这主要是因为我们在输入输出时是按照规范模式接收到回车或换行才发送，<br/>而更多情况下我们是不必键入回车或换行的。此时应转换到行方式输入，不经处理直接发送，设置如下：<br/><br/>Opt.c_lflag &amp;= ~ (ICANON | ECHO | ECHOE | ISIG);<br/>还存在这样的情况：发送字符0X0d的时候，往往接收端得到的字符是0X0a，原因是因为在串口设置中c_iflag和c_oflag中存在从NL-CR和CR-NL的映射，即串口能把回车和换行当成同一个字符，可以进行如下设置屏蔽之：<br/>Opt.c_iflag &amp;= ~ (INLCR | ICRNL | IGNCR);<br/>Opt.c_oflag &amp;= ~(ONLCR | OCRNL);</p><p></p>','2013-12-13 06:55:55','2013-12-13 14:55:55'),(341,'114.247.232.56',19,'network文件内容','<p>config &#39;interface&#39; &#39;loopback&#39;</p><p><span style=\"white-space: pre;\">	</span>option &#39;ifname&#39; &#39;lo&#39;</p><p><span style=\"white-space: pre;\">	</span>option &#39;proto&#39; &#39;static&#39;</p><p><span style=\"white-space: pre;\">	</span>option &#39;ipaddr&#39; &#39;127.0.0.1&#39;</p><p><span style=\"white-space: pre;\">	</span>option &#39;netmask&#39; &#39;255.255.255.0&#39;</p><p><br/></p><p>config &#39;interface&#39; &#39;lan&#39;</p><p><span style=\"white-space: pre;\">	</span>option &#39;proto&#39; &#39;static&#39;</p><p><span style=\"white-space: pre;\">	</span>option &#39;ipaddr&#39; &#39;192.168.1.10&#39;</p><p><span style=\"white-space: pre;\">	</span>option &#39;netmask&#39; &#39;255.255.255.0&#39;</p><p><span style=\"white-space: pre;\">	</span>option &#39;nat&#39; &#39;1&#39;</p><p><span style=\"white-space: pre;\">	</span>option &#39;defaultroute&#39; &#39;0&#39;</p><p><span style=\"white-space: pre;\">	</span>option &#39;peerdns&#39; &#39;0&#39;</p><p><span style=\"white-space: pre;\">	</span>option &#39;type&#39; &#39;bridge&#39;</p><p><span style=\"white-space: pre;\">	</span>option &#39;gateway&#39; &#39;192.168.1.1&#39;</p><p><span style=\"white-space: pre;\">	</span>option &#39;ifname&#39; &#39;eth1&#39;</p><p><span style=\"white-space: pre;\">	</span>option &#39;dns&#39; &#39;192.168.1.1&#39;</p><p><br/></p><p>config &#39;interface&#39; &#39;wan&#39;</p><p><span style=\"white-space: pre;\">	</span>option &#39;ifname&#39; &#39; &#39;</p><p><span style=\"white-space: pre;\">	</span>option &#39;proto&#39; &#39;none&#39;</p><p></p>','2013-12-13 06:57:04','2013-12-13 14:57:04'),(342,'114.247.232.56',19,'linux sh脚本的编写','<p style=\"text-indent: 2em;\">linux sh脚本的编写</p><p style=\"text-indent: 2em;\">&nbsp;</p><p style=\"text-indent: 2em;\">*sh脚本第一行的内容为 #!/bin/sh</p><p style=\"text-indent: 2em;\">这条语句告诉操作系统用来解释脚本的程序位置。大多数系统会有/bin/sh目录，因为该目录包含root用户的标准shell程序。在大部分系统中你也可以指定/bin/bash目录。</p><p style=\"text-indent: 2em;\">*含条件选择的shell脚本</p><p style=\"text-indent: 2em;\">对于不含变量的任务简单shell脚本一般能胜任。但在执行一些决策任务时，就需要包含if/then的条件判断了。shell脚本编程支持此类运算，包括比较运算、判断文件是否存在等。基本的if条件命令选项有：</p><p style=\"text-indent: 2em;\">　　-eq —比较两个参数是否相等（例如，if [ 2 –eq 5 ]）</p><p style=\"text-indent: 2em;\">　　-ne —比较两个参数是否不相等</p><p style=\"text-indent: 2em;\">　　-lt —参数1是否小于参数2</p><p style=\"text-indent: 2em;\">　　-le —参数1是否小于等于参数2</p><p style=\"text-indent: 2em;\">　　-gt —参数1是否大于参数2</p><p style=\"text-indent: 2em;\">　　-ge —参数1是否大于等于参数2</p><p style=\"text-indent: 2em;\">　　-f — 检查某文件是否存在（例如，if [ -f &quot;filename&quot; ]）</p><p style=\"text-indent: 2em;\">　　-d — 检查目录是否存在</p><p style=\"text-indent: 2em;\">-x-----否存在并且是否具有可执行权限</p><p style=\"text-indent: 2em;\">-n-----是判断一个变量是否是否有值</p><p style=\"text-indent: 2em;\">　　几乎所有的判断都可以用这些比较运算符实现。脚本中常用-f命令选项在执行某一文件之前检查它是否存在。</p><p style=\"text-indent: 2em;\">实例：</p><p style=\"text-indent: 2em;\">#!/bin/sh</p><p style=\"text-indent: 2em;\">if test -f &quot;aa.txt&quot;;then</p><p style=\"text-indent: 2em;\">echo &quot;bb&quot;&gt;bb.txt</p><p style=\"text-indent: 2em;\">else</p><p style=\"text-indent: 2em;\">echo &quot;aa&quot;&gt;aa.txt</p><p style=\"text-indent: 2em;\">fi</p><p style=\"text-indent: 2em;\">&nbsp;</p><p style=\"text-indent: 2em;\">*带命令行参数</p><p style=\"text-indent: 2em;\">脚本中输入参数用$1到$9表示。如果你曾写过DOS批处理文件，你会发现批处理文件中也有类似功能，只是它用的是%1、%2等来代表输入参数。下面举例来说怎样使用命令行参数：</p><p style=\"text-indent: 2em;\">实例：</p><p style=\"text-indent: 2em;\">#!/bin/sh</p><p style=\"text-indent: 2em;\">cp $1 $2</p><p style=\"text-indent: 2em;\">保存文 copy.sh</p><p style=\"text-indent: 2em;\">执行</p><p style=\"text-indent: 2em;\">./copy.sh aa.txt aa</p><p style=\"text-indent: 2em;\">注：$1 自动赋值给aa.txt $2自动赋值为aa</p><p style=\"text-indent: 2em;\">如果提示sh文件不能被执行，如</p><p style=\"text-indent: 2em;\">-bash: ./epaper2cms.sh: Permission denied</p><p style=\"text-indent: 2em;\">可以使用</p><p style=\"text-indent: 2em;\">chmod 777 epaper2cms.sh 来更改权限</p><p style=\"text-indent: 2em;\">*把时间赋值给一个变量 两边用``包括(tab键上面的键)</p><p style=\"text-indent: 2em;\">如：</p><p style=\"text-indent: 2em;\">#!/bin/sh</p><p style=\"text-indent: 2em;\">f=`date +%Y%m%d`</p><p style=\"text-indent: 2em;\">cd /opt/daemon/epaper/.log</p><p style=\"text-indent: 2em;\">echo &quot;${f}.txt&quot;</p><p style=\"text-indent: 2em;\">if test ! -f &quot;${f}.txt&quot;;then</p><p style=\"text-indent: 2em;\">cd /opt/daemon;/opt/php/bin/php epaper2cms.php</p><p style=\"text-indent: 2em;\">fi</p><p></p>','2013-12-13 06:58:37','2013-12-13 14:58:37'),(343,'114.247.232.56',23,'CSS鼠标经过改变字体颜色','<p>类指定</p><p>.back{<br/> font-size: 18px;<br/> color: #FFF;<br/> text-decoration: none;<br/>}</p><p>.back:hover{<br/> color:#F00;<br/>}<br/></p><p>&nbsp;</p><p>//------------------------------------------</p><p>a:link {<br/> text-decoration: none;<br/> color: #03F;<br/>}<br/>a:visited {<br/> text-decoration: none;<br/> color: #03F;<br/>}<br/>a:hover {<br/> text-decoration: none;<br/>}<br/>a:active {<br/> text-decoration: none;<br/>}</p><p></p>','2013-12-13 06:59:41','2013-12-13 14:59:41'),(344,'14.217.208.71',23,'自由改变大小的左右frame','<p>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;<a href=\"http://www.w3.org/TR/xhtml1/DTD/xhtml1\">http://www.w3.org/TR/xhtml1/DTD/xhtml1</a>-<br/>transitional.dtd&quot;&gt;<br/>&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;<br/>&lt;title&gt;韩智鸿的工作文档&lt;/title&gt;<br/>&lt;html xmlns=&quot;<a href=\"http://www.w3.org/1999/xhtml\">http://www.w3.org/1999/xhtml</a>&quot;&gt;<br/>&nbsp;&nbsp; &lt;frameset frameborder=&quot;1&quot; cols=&quot;50%,*&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br/>&nbsp; &lt;frame name=&quot;leftframe&quot;&nbsp; id=&quot;leftframe&quot; src=&quot;&quot; /&gt;&nbsp;&nbsp;&nbsp;&nbsp; <br/>&nbsp; &lt;frame name=&quot;rightframe&quot; id=&quot;rightframe&quot; src=&quot;&quot; /&gt;&nbsp;&nbsp; <br/>&nbsp;&lt;/frameset&gt;<br/>&lt;/html&gt;</p>','2013-12-13 07:00:09','2014-02-07 15:32:35'),(345,'14.217.214.113',23,'html文本框自动填充','<p>文本框一（保存）: &nbsp;<br/> &nbsp;&lt;input &nbsp;type=&quot;text&quot; &nbsp;name=&quot;input_one&quot;&gt; &nbsp; <br/> &nbsp;文本框二(不保存): &nbsp;<br/> &nbsp;&lt;input type=&quot;text&quot; &nbsp;name=&quot;input_two&quot; autocomplete=&quot;off&quot;&gt;</p>','2013-12-13 07:00:26','2014-02-07 21:22:35'),(346,'114.247.232.56',23,'16进制字符串-char互转','<p>&lt;script type=&quot;text/javascript&quot;&gt;</p><p><br/></p><p>//hex是那串乱码r就是转换后的16进制字符串</p><p>//trCharToHexStr(&quot;123&quot;);</p><p>function trCharToHexStr(buf) {</p><p>	var r=&quot;&quot;;</p><p>	var w = new Array();</p><p>	var hexes = new Array (&quot;0&quot;,&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;f&quot;);</p><p>	for (var i=0; i&lt;buf.length; i++)</p><p>	{</p><p>r +=&#39;0x&#39;+ hexes [buf.charCodeAt(i) &gt;&gt; 4] + hexes [buf.charCodeAt(i) &amp; 0xf]+&#39; &#39;;</p><p>	}</p><p>	return r;</p><p>}</p><p><br/></p><p>//trHexStrToChar(&quot;0x31 0x32 0x33&quot;);</p><p>function trHexStrToChar(str)</p><p>{</p><p>	var ret=&quot;&quot;;</p><p>	var ch = new Array;</p><p>	ch = str.split(&quot; &quot;);</p><p>	for(i=0;i&lt;ch.length;i++){</p><p>	 	ret+=String.fromCharCode(parseInt(ch[i],16));</p><p>	}</p><p>	return ret;</p><p>}</p><p>document.write(trCharToHexStr(&quot;123&quot;));</p><p>document.write(&quot;&lt;/br&gt;&quot;);</p><p>alert(trHexStrToChar(&quot;d1 d2&quot;));</p><p>&lt;/script&gt;</p><p></p>','2013-12-13 07:00:47','2013-12-13 15:00:47'),(347,'114.247.232.56',23,'JS中将int转化为char','<p><strong>JavaScript中将int转化为char的处理方式：</strong></p><p>　　var asciiValue = 100;</p><p>　　var charValue= String.fromCharCode(asciiValue);</p><p>　　alert(&quot;=charValue is=&quot;+charValue+&quot;=end=&quot;);</p><p>　　输出结果：=charValue is= d=end=</p><p><br/></p><p><br/></p><p><br/></p><p><strong>16进制</strong>char<strong>转化10进制字符，范围是-127~128</strong></p><p>&nbsp;</p><p>function trCharToString10(c) {</p><p>	return c.charCodeAt(0);</p><p>}</p><p></p>','2013-12-13 07:01:08','2013-12-13 15:01:08'),(348,'114.247.232.56',23,'JS图片预加载代码','<p>&lt;script&gt;</p><p>var searchImg=new Array();</p><p>searchImg[0]=new Image();</p><p>searchImg[1]=new Image();</p><p>searchImg[0].src=&#39;image/index/menu_search_1.png&#39;;</p><p>searchImg[1].src=&#39;image/index/menu_search_0.png&#39;;</p><p>var searchUrlImg0=&#39;url(&#39;+searchImg[0].src+&#39;)&#39;;</p><p>var searchUrlImg1=&#39;url(&#39;+searchImg[1].src+&#39;)&#39;;</p><p>&lt;/script&gt;</p><p><br/></p><p><span style=\"font-size: medium;\">&lt;input type=&quot;text&quot; name=&quot;q&quot; id=&quot;menuSearch&quot; onfocus=&quot;this.style.backgroundColor=&#39;#FFF&#39;;frmSearch.style.backgroundImage=searchUrlImg0;&quot; onblur=&quot;this.style.backgroundColor=&#39;#5e5e5e&#39;;frmSearch.style.backgroundImage=searchUrlImg1;&quot;/&gt;</span><span style=\"font-size: medium;\"></span></p><p></p>','2013-12-13 07:01:29','2013-12-13 15:01:29'),(349,'114.247.232.56',23,'CSS自动省略号','<p>&lt;style&gt;</p><p>.class_sub</p><p>{</p><p>	display:block;</p><p>	width:210px;</p><p>	white-space:nowrap;</p><p>	overflow:hidden;</p><p>-o-text-overflow: ellipsis; &nbsp; &nbsp;/* for Opera */</p><p>text-overflow:ellipsis; &nbsp; &nbsp; &nbsp; &nbsp;/* for IE */</p><p>}</p><p>.class_sub:after</p><p>{</p><p>	content:&quot;...&quot;;padding-left:3px;font-size:12px;</p><p>}/* for Firefox */</p><p>&lt;/style&gt;</p><p><br/></p><p>&lt;div class=&quot;class_sub&quot;&gt;didiio中辊吴三桂是地进晨甼晨lsj,枯井 硒鼓 是厈,中中3kdlsdfkjsd&lt;/div&gt;</p><p></p>','2013-12-13 07:01:52','2013-12-13 15:01:52'),(350,'114.247.232.56',23,'websocket','<p>&lt;html&gt; <br/>&lt;head&gt; <br/>&lt;meta charset=utf-8 /&gt; <br/>&lt;title&gt;智能生活体验网页控制端&lt;/title&gt; <br/>&lt;/head&gt; <br/>&lt;style&gt;<br/>#log {<br/> &nbsp;overflow: auto;<br/> &nbsp;height: 200px;<br/> &nbsp;list-style:circle;<br/> &nbsp;padding: 4px;<br/> &nbsp;border:dotted;<br/> &nbsp;border-color:#CCC;<br/>}<br/>#chat{<br/> width:100%;<br/>}<br/>&lt;/style&gt;<br/>&lt;body&gt;<br/>&lt;table width=&quot;700&quot; border=&quot;1&quot; align=&quot;center&quot; cellpadding=&quot;10&quot; cellspacing=&quot;10&quot;&gt;<br/> &nbsp; &lt;tr&gt;<br/> &nbsp; &nbsp; &lt;td colspan=&quot;4&quot; align=&quot;center&quot;&gt;智能家居生活体验网页端&lt;/td&gt;<br/> &nbsp;&lt;/tr&gt;<br/> &nbsp; &lt;tr&gt;<br/> &nbsp; &nbsp; &lt;td align=&quot;center&quot;&gt;&lt;img src=&quot;&quot; name=&quot;btn0&quot; width=&quot;100&quot; height=&quot;100&quot; id=&quot;btn0&quot;/&gt;&lt;/td&gt;<br/> &nbsp; &nbsp; &lt;td align=&quot;center&quot;&gt;&lt;img src=&quot;&quot; name=&quot;btn1&quot; width=&quot;100&quot; height=&quot;100&quot; id=&quot;btn1&quot;/&gt;&lt;/td&gt;<br/> &nbsp; &nbsp; &lt;td align=&quot;center&quot;&gt;&lt;img src=&quot;&quot; name=&quot;btn2&quot; width=&quot;100&quot; height=&quot;100&quot; id=&quot;btn2&quot;/&gt;&lt;/td&gt;<br/> &nbsp; &nbsp; &lt;td align=&quot;center&quot;&gt;&lt;img src=&quot;&quot; name=&quot;btn3&quot; width=&quot;100&quot; height=&quot;100&quot; id=&quot;btn3&quot;/&gt;&lt;/td&gt;<br/> &nbsp; &lt;/tr&gt;<br/> &lt;tr&gt;<br/> &nbsp; &nbsp; &lt;td colspan=&quot;4&quot;&gt;&lt;p id=&quot;status&quot;&gt;Not connected&lt;/p&gt;&lt;/td&gt;<br/> &nbsp; &lt;/tr&gt;<br/> &nbsp; &lt;tr&gt;<br/> &nbsp; &nbsp; &lt;td colspan=&quot;4&quot;&gt;<br/> &nbsp;&lt;ul id=&quot;log&quot;&gt;&lt;/ul&gt; &lt;/td&gt;<br/> &nbsp; &lt;/tr&gt;<br/> &nbsp; &lt;tr&gt;<br/> &nbsp; &nbsp; &lt;td colspan=&quot;4&quot;&gt;&lt;input type=&quot;text&quot; id=&quot;chat&quot; value=&quot;0x02 0x06 0xD7 0x00 0x22 0x00 0x00 0x0c 0x03&quot; /&gt;&lt;/td&gt;<br/> &nbsp; &lt;/tr&gt;</p><p>&lt;/table&gt;</p><p>&lt;/body&gt;<br/>&lt;script&gt;<br/>//////////////////////////////////////////<br/>var conn = {};<br/>var log = document.getElementById(&#39;log&#39;);<br/>var chat = document.getElementById(&#39;chat&#39;);<br/>var state = document.getElementById(&#39;status&#39;);</p><p>/* button array */<br/>var btnState=new Array();<br/>for(var i=0;i&lt;4;i++)<br/>{btnState[i]=false;}</p><p><br/>function trCharToHexStr(buf) {<br/> var r=&quot;&quot;;<br/> var w = new Array();<br/> var hexes = new Array (&quot;0&quot;,&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;f&quot;);<br/> for (var i=0; i&lt;buf.length; i++)<br/> {<br/> &nbsp;r +=&#39;0x&#39;+ hexes [buf.charCodeAt(i) &gt;&gt; 4] + hexes [buf.charCodeAt(i) &amp; 0xf]+&#39; &#39;;<br/> }<br/> return r;<br/>}<br/>function trHexStrToSend(str)<br/>{<br/> var ret=&quot;&quot;;<br/> var ch = new Array();<br/> ch = str.split(&quot; &quot;);<br/> for(i=0;i&lt;ch.length;i++)<br/> {ret+=String.fromCharCode(parseInt(ch[i],16));}<br/> return escape(ret);<br/>}<br/>//////////////////////////////////////////<br/>//数据处理<br/>var cacheBuf=&quot;&quot;;<br/>function recvPacket(buf)<br/>{<br/> var ret=&quot;&quot;;<br/> if(buf.length&gt;0)<br/> {<br/> &nbsp;cacheBuf+=buf;<br/> }<br/> <br/> for(i=0;i&lt;cacheBuf.length;i++)<br/> {<br/> &nbsp;if(cacheBuf.charCodeAt(i)==0x02)<br/> &nbsp;{<br/> &nbsp; if(cacheBuf.length-i&gt;=9)<br/> &nbsp; {<br/> &nbsp; &nbsp;ret=cacheBuf.substring(i,9);<br/> &nbsp; &nbsp;//接收到一条完整的信息删除去除<br/> &nbsp; &nbsp;cacheBuf=cacheBuf.substring(i+9,cacheBuf.length-i);<br/> &nbsp; }<br/> &nbsp;}<br/> }<br/> return ret;<br/>}</p><p>//////////////////////////////////////////<br/>//websocket<br/>function openConnection() {<br/> &nbsp;// uses global &#39;conn&#39; object<br/> &nbsp;if (conn.readyState === undefined || conn.readyState &gt; 1) {<br/> &nbsp; &nbsp;conn = new WebSocket(&#39;ws://cclznds.3322.org:82&#39;); <br/> &nbsp; &nbsp;conn.onopen = function () {<br/> &nbsp; &nbsp; &nbsp;state.className = &#39;success&#39;;<br/> &nbsp; &nbsp; &nbsp;state.innerHTML = &#39;连接中控成功&#39;;</p><p>//check device status<br/> &nbsp; &nbsp; &nbsp;setTimeout(function(){<br/> &nbsp; send(&quot;0x02 0x06 0xD9 0x4a 0x0f 0x00 0x00 0x0c 0x03&quot;);<br/>}, 100);<br/>setTimeout(function(){<br/> &nbsp; send(&quot;0x02 0x06 0xD9 0x40 0x0f 0x00 0x00 0x0c 0x03&quot;);<br/>}, 1000);<br/>setTimeout(function(){<br/> &nbsp; send(&quot;0x02 0x06 0xD9 0x43 0x0f 0x00 0x00 0x0c 0x03&quot;);<br/>}, 2000);<br/>setTimeout(function(){<br/> &nbsp; send(&quot;0x02 0x06 0xD9 0x41 0x0f 0x00 0x00 0x0c 0x03&quot;);<br/>}, 3000);<br/> &nbsp; &nbsp;};<br/> <br/> &nbsp; &nbsp;conn.onmessage = function (event) {</p><p>//接收信息<br/> &nbsp; &nbsp; &nbsp; &nbsp; var msgData = unescape(event.data);<br/> &nbsp; <br/> &nbsp; //反馈处理<br/> &nbsp; var pack=recvPacket(msgData);<br/> &nbsp; if(pack.length&gt;0)<br/> &nbsp; {<br/> &nbsp; &nbsp;//显示信息<br/> &nbsp; &nbsp;var date=new Date;<br/> &nbsp; &nbsp;var time=date.getHours()+&quot;:&quot;+date.getMinutes()+&quot;:&quot;+date.getSeconds();<br/> &nbsp;var message = trCharToHexStr(pack);<br/> &nbsp; &nbsp; &nbsp; &nbsp;log.innerHTML =log.innerHTML+ &#39;&lt;li&gt;&lt;strong&gt;&#39; +time+&quot;&lt;/strong&gt; &quot;+ message + &#39;&lt;/li&gt;&#39;;<br/> &nbsp; &nbsp;log.scrollTop=log.scrollHeight;</p><p>//解析数据<br/> &nbsp; &nbsp;//if(pack.charCodeAt(7)!=0x1c)<br/> &nbsp; &nbsp;{<br/> &nbsp; &nbsp; if(pack.charCodeAt(4)==0x22 || pack.charCodeAt(4)==0x42 || pack.charCodeAt(4)==0x0d)<br/> &nbsp; &nbsp; {<br/> &nbsp; &nbsp; &nbsp; switch(pack.charCodeAt(3))<br/> &nbsp; &nbsp; &nbsp; {<br/> &nbsp; &nbsp; &nbsp; case 0x4a:<br/> &nbsp; &nbsp; &nbsp; &nbsp;btn0.src=btnSelectImgAry[0].src;<br/>btnState[0]=true;<br/> &nbsp; &nbsp; &nbsp; &nbsp;break;<br/> &nbsp; &nbsp; &nbsp; case 0x40:<br/> &nbsp; &nbsp; &nbsp; &nbsp;btn1.src=btnSelectImgAry[1].src;<br/>btnState[1]=true;<br/> &nbsp; &nbsp; &nbsp; &nbsp;break;<br/> &nbsp; &nbsp; &nbsp; case 0x43:<br/> &nbsp; &nbsp; &nbsp; &nbsp;btn2.src=btnSelectImgAry[2].src;<br/>btnState[2]=true;<br/> &nbsp; &nbsp; &nbsp; &nbsp;break;<br/> &nbsp; &nbsp; &nbsp; case 0x41:<br/> &nbsp; &nbsp; &nbsp; &nbsp;btn3.src=btnSelectImgAry[3].src;<br/>btnState[3]=true;<br/> &nbsp; &nbsp; &nbsp; &nbsp;break;<br/> &nbsp; &nbsp; &nbsp; }<br/> &nbsp; &nbsp; }<br/> &nbsp; &nbsp; else if(pack.charCodeAt(4)==0x23 || pack.charCodeAt(4)==0x43 || pack.charCodeAt(4)==0x0e)<br/> &nbsp; &nbsp; {<br/> &nbsp; &nbsp; &nbsp; switch(pack.charCodeAt(3))<br/> &nbsp; &nbsp; &nbsp; {<br/> &nbsp; &nbsp; &nbsp; case 0x4a:<br/> &nbsp; &nbsp; &nbsp; &nbsp;btn0.src=btnImgAry[0].src;<br/>btnState[0]=false;<br/> &nbsp; &nbsp; &nbsp; &nbsp;break;<br/> &nbsp; &nbsp; &nbsp; case 0x40:<br/> &nbsp; &nbsp; &nbsp; &nbsp;btn1.src=btnImgAry[1].src;<br/>btnState[1]=false;<br/> &nbsp; &nbsp; &nbsp; &nbsp;break;<br/> &nbsp; &nbsp; &nbsp; case 0x43:<br/> &nbsp; &nbsp; &nbsp; &nbsp;btn2.src=btnImgAry[2].src;<br/>btnState[2]=false;<br/> &nbsp; &nbsp; &nbsp; &nbsp;break;<br/> &nbsp; &nbsp; &nbsp; case 0x41:<br/> &nbsp; &nbsp; &nbsp; &nbsp;btn3.src=btnImgAry[3].src;<br/>btnState[3]=false;<br/> &nbsp; &nbsp; &nbsp; &nbsp;break;<br/> &nbsp; &nbsp; &nbsp; }<br/> &nbsp; &nbsp; }<br/> &nbsp; &nbsp;}<br/> &nbsp;}<br/> &nbsp; &nbsp;};<br/> &nbsp; &nbsp;<br/> &nbsp; &nbsp;conn.onclose = function (event) {<br/> &nbsp; &nbsp; &nbsp;state.className = &#39;fail&#39;;<br/> &nbsp; &nbsp; &nbsp;state.innerHTML = &#39;已经断开,正在重新尝试连接...&#39;;<br/> &nbsp; //重新连接<br/> &nbsp; setTimeout(openConnection, 1000);<br/> &nbsp; &nbsp;};<br/> &nbsp;}<br/>}</p><p>/*发送数据*/<br/>function send(buf_str)<br/>{<br/> conn.send(trHexStrToSend(buf_str));<br/>}</p><p><br/>/* 初始化图片 */<br/>var btnImgAry=new Array; <br/>for(var i=0;i&lt;4;i++)<br/>{btnImgAry[i]=new Image(); }<br/>btnImgAry[0].src=&#39;live_img/btn1_0.png&#39;;<br/>btnImgAry[1].src=&#39;live_img/btn2_0.png&#39;;<br/>btnImgAry[2].src=&#39;live_img/btn3_0.png&#39;;<br/>btnImgAry[3].src=&#39;live_img/btn4_0.png&#39;;</p><p>var btnSelectImgAry=new Array; <br/>for(var i=0;i&lt;4;i++)<br/>{btnSelectImgAry[i]=new Image(); }<br/>btnSelectImgAry[0].src=&#39;live_img/btn1_1.png&#39;;<br/>btnSelectImgAry[1].src=&#39;live_img/btn2_1.png&#39;;<br/>btnSelectImgAry[2].src=&#39;live_img/btn3_1.png&#39;;<br/>btnSelectImgAry[3].src=&#39;live_img/btn4_1.png&#39;;</p><p>btn0.src=btnImgAry[0].src;<br/>btn1.src=btnImgAry[1].src;<br/>btn2.src=btnImgAry[2].src;<br/>btn3.src=btnImgAry[3].src;</p><p>/*<br/> 开始连接<br/>*/<br/>if (window.WebSocket === undefined) {<br/> &nbsp;state.innerHTML = &#39;Sockets not supported&#39;;<br/> &nbsp;state.className = &#39;fail&#39;;<br/>}</p><p>//控制事件<br/>btn0.onclick=function()<br/>{<br/> &nbsp;if(btnState[0])<br/> &nbsp; &nbsp;send(&quot;0x02 0x06 0xD9 0x4a 0x23 0x00 0x00 0x0c 0x03&quot;);<br/> &nbsp;else<br/> &nbsp; &nbsp;send(&quot;0x02 0x06 0xD9 0x4a 0x22 0x00 0x00 0x0c 0x03&quot;);<br/>}<br/>btn1.onclick=function()<br/>{<br/> &nbsp;if(btnState[1])<br/> &nbsp; &nbsp;send(&quot;0x02 0x06 0xD9 0x40 0x23 0x00 0x00 0x0c 0x03&quot;);<br/> &nbsp;else<br/> &nbsp; &nbsp;send(&quot;0x02 0x06 0xD9 0x40 0x22 0x00 0x00 0x0c 0x03&quot;);<br/>}<br/>btn2.onclick=function()<br/>{<br/> &nbsp;if(btnState[2])<br/> &nbsp; &nbsp;send(&quot;0x02 0x06 0xD9 0x43 0x23 0x00 0x00 0x0c 0x03&quot;);<br/> &nbsp;else<br/> &nbsp; &nbsp;send(&quot;0x02 0x06 0xD9 0x43 0x22 0x00 0x00 0x0c 0x03&quot;);<br/>}<br/>btn3.onclick=function()<br/>{<br/> &nbsp;if(btnState[3])<br/> &nbsp; &nbsp;send(&quot;0x02 0x06 0xD9 0x41 0x23 0x00 0x00 0x0c 0x03&quot;);<br/> &nbsp;else<br/> &nbsp; &nbsp;send(&quot;0x02 0x06 0xD9 0x41 0x22 0x00 0x00 0x0c 0x03&quot;);<br/>}</p><p>chat.onkeyup=function(event) {<br/> // if we&#39;re connected<br/> if (event.keyCode==13&amp;&amp;conn.readyState === 1) {<br/> &nbsp; conn.send(trHexStrToSend(chat.value));<br/> &nbsp; //chat.value = &#39;&#39;;<br/> }<br/>};</p><p>openConnection();<br/>&lt;/script&gt;<br/>&lt;/html&gt;</p><p></p>','2013-12-13 07:02:19','2013-12-13 15:02:19'),(351,'114.247.232.56',23,'html5大量教程','<p><a href=\"http://www.mhtml5.com/resources\" target=\"_blank\">http://www.mhtml5.com/resources</a></p>','2013-12-13 07:02:36','2013-12-13 15:02:36'),(352,'114.247.232.56',23,'html5视频音频小试','<p>&lt;video src=&quot;a.mp3&quot; controls=&quot;true&quot;&gt;您的浏览器不支持 video 标签。&lt;/video&gt;<br/>&lt;audio src=&quot;a.mp3&quot; controls=&quot;true&quot;&gt;您的浏览器不支持 audio 标签。&lt;/audio&gt;</p><p>&nbsp;</p><p><br/>具体属性：</p><p><br/>autoplay true | false 如果是 true，则视频在就绪后马上播放。 <br/>controls true | false 如果是 true，则向用户显示控件，比如播放按钮。 <br/>end numeric value 定义播放器在视频流中的何处停止播放。默认地，声音会播放到结尾。 <br/>height pixels 设置视频播放器的高度。 <br/>loopend numeric value 定义在视频流中循环播放停止的位置，默认是 end 属性的值。 <br/>loopstart numeric value 定义在视频流中循环播放的开始位置。默认是 start 属性的值 <br/>playcount numeric value 定义视频片段播放多少次。默认是 1。 <br/>poster url 在视频播放之前所显示的图片的 URL。 <br/>src url 要播放的视频的 URL。 <br/>start numeric value 定义播放器在音频流中开始播放的位置。默认地，声音在开头进行播放。 <br/>width pixels 设置视频播放器的宽度。</p><p></p>','2013-12-13 07:02:58','2013-12-13 15:02:58'),(353,'114.247.232.56',23,'窗体圆角效果','<p>&lt;div class=&quot;raised&quot;&gt;<br/>&lt;b class=&quot;b1&quot;&gt;&lt;/b&gt;&lt;b class=&quot;b2&quot;&gt;&lt;/b&gt;&lt;b class=&quot;b3&quot;&gt;&lt;/b&gt;&lt;b class=&quot;b4&quot;&gt;&lt;/b&gt;<br/>&lt;div class=&quot;boxcontent&quot;&gt;<br/>&lt;h1&gt;Example 4&lt;/h1&gt;<br/>&lt;p&gt;Rounded corners with raised borders&lt;/p&gt;<br/>&lt;/div&gt;<br/>&lt;b class=&quot;b4b&quot;&gt;&lt;/b&gt;&lt;b class=&quot;b3b&quot;&gt;&lt;/b&gt;&lt;b class=&quot;b2b&quot;&gt;&lt;/b&gt;&lt;b class=&quot;b1b&quot;&gt;&lt;/b&gt;<br/>&lt;/div&gt;<br/>&lt;style&gt;<br/>.raised {<br/> &nbsp;background:transparent; <br/> &nbsp;width:40%;<br/> &nbsp;}<br/>.raised h1, .raised p {<br/> &nbsp;margin:0 10px;<br/> &nbsp;}<br/>.raised h1 {<br/> &nbsp;font-size:2em; <br/> &nbsp;color:#fff;<br/> &nbsp;}<br/>.raised p {<br/> &nbsp;padding-bottom:0.5em;<br/> &nbsp;}<br/>.raised .b1, .raised .b2, .raised .b3, .raised .b4, .raised .b1b, .raised .b2b, .raised .b3b, .raised .b4b {<br/> &nbsp;display:block; <br/> &nbsp;overflow:hidden;<br/> &nbsp;font-size:1px;<br/> &nbsp;}<br/>.raised .b1, .raised .b2, .raised .b3, .raised .b1b, .raised .b2b, .raised .b3b {<br/> &nbsp;height:1px;<br/> &nbsp;}<br/>.raised .b2 {<br/> &nbsp;background:#ccc; <br/> &nbsp;border-left:1px solid #fff; <br/> &nbsp;border-right:1px solid #eee;<br/> &nbsp;}<br/>.raised .b3 {<br/> &nbsp;background:#ccc; <br/> &nbsp;border-left:1px solid #fff; <br/> &nbsp;border-right:1px solid #ddd;<br/> &nbsp;}<br/>.raised .b4 {<br/> &nbsp;background:#ccc; <br/> &nbsp;border-left:1px solid #fff; <br/> &nbsp;border-right:1px solid #aaa;<br/> &nbsp;}<br/>.raised .b4b {<br/> &nbsp;background:#ccc; <br/> &nbsp;border-left:1px solid #eee; <br/> &nbsp;border-right:1px solid #999;<br/> &nbsp;}<br/>.raised .b3b {<br/> &nbsp;background:#ccc; <br/> &nbsp;border-left:1px solid #ddd; <br/> &nbsp;border-right:1px solid #999;<br/> &nbsp;}<br/>.raised .b2b {<br/> &nbsp;background:#ccc; <br/> &nbsp;border-left:1px solid #aaa; <br/> &nbsp;border-right:1px solid #999;<br/> &nbsp;}<br/>.raised .b1 {<br/> &nbsp;margin:0 5px; <br/> &nbsp;background:#fff;<br/> &nbsp;}<br/>.raised .b2, .raised .b2b {<br/> &nbsp;margin:0 3px; <br/> &nbsp;border-width:0 2px;<br/> &nbsp;}<br/>.raised .b3, .raised .b3b {<br/> &nbsp;margin:0 2px;<br/> &nbsp;}<br/>.raised .b4, .raised .b4b {<br/> &nbsp;height:2px; margin:0 1px;<br/> &nbsp;}<br/>.raised .b1b {<br/> &nbsp;margin:0 5px; background:#999;<br/> &nbsp;}<br/>.raised .boxcontent {<br/> &nbsp;display:block; &nbsp;<br/> &nbsp;background:#ccc; <br/> &nbsp;border-left:1px solid #fff; <br/> &nbsp;border-right:1px solid #999;<br/> &nbsp;} <br/>&lt;/style&gt;</p><p></p>','2013-12-13 07:03:27','2013-12-13 15:03:27'),(354,'114.247.232.56',23,'跨平台JS页面跳转','<p>function finds(link_s)<br/>{</p><p>MM_goToURL(&#39;self&#39;,&#39;?FINDS=&#39;+link_s)<br/>}<br/>function MM_goToURL() { //v3.0<br/> &nbsp; &nbsp;var i, args=MM_goToURL.arguments; document.MM_returnValue = false;<br/> &nbsp; &nbsp;for (i=0; i&lt;(args.length-1); i+=2) eval(args[i]+&quot;.location=&#39;&quot;+args[i+1]+&quot;&#39;&quot;);<br/>}</p><p></p>','2013-12-13 07:03:51','2013-12-13 15:03:51'),(355,'114.247.232.56',23,'区分浏览器类型','<p>&lt;script&gt;<br/>//获取userAgent<br/>var sUserAgent = window.navigator.userAgent;<br/>document.write(sUserAgent );<br/>&lt;/script&gt;</p>','2013-12-13 07:04:07','2013-12-13 15:04:07'),(356,'114.247.232.56',23,'JS获取URL变量值','<p>function getQueryString(queryStringName){ <br/> var returnValue=&quot;&quot;; <br/> var URLString=new String(document.location); <br/> var serachLocation=-1; <br/> var queryStringLength=queryStringName.length;<br/> do { serachLocation=URLString.indexOf(queryStringName+&quot;\\=&quot;);<br/> if (serachLocation!=-1) <br/> { <br/> &nbsp;if ((URLString.charAt(serachLocation-1)==&#39;?&#39;) || (URLString.charAt(serachLocation-1)==&#39;&amp;&#39;)) <br/> &nbsp;{ URLString=URLString.substr(serachLocation); break; } <br/> &nbsp;URLString=URLString.substr(serachLocation+queryStringLength+1); <br/> }<br/> } while (serachLocation!=-1) <br/> if (serachLocation!=-1) <br/> { var seperatorLocation=URLString.indexOf(&quot;&amp;&quot;); <br/> if (seperatorLocation==-1) <br/> { returnValue=URLString.substr(queryStringLength+1); } <br/> else { returnValue=URLString.substring(queryStringLength+1,seperatorLocation); } <br/> } return returnValue;<br/>}</p>','2013-12-13 07:04:27','2013-12-13 15:04:27'),(357,'114.247.232.56',23,'Div 圆角代码','<p>&lt;style type=&quot;text/css&quot;&gt;<br/>div.roundedcorner{background: #3a6ea5; width: 200px; color:white}<br/>b.r &nbsp; {display:block;background: #fff}<br/>b.r b {display:block;height: 1px;overflow: hidden; background: #3a6ea5}<br/>b.r1{margin: 0 5px}<br/>b.r2{margin: 0 3px}<br/>b.r3{margin: 0 2px}<br/>b.r b.r4{margin: 0 1px;height: 2px}<br/>&lt;/style&gt;</p><p>&lt;div class=&quot;roundedcorner&quot;&gt;<br/> &nbsp; &lt;b class=&quot;r&quot;&gt;&lt;b class=&quot;r1&quot;&gt;&lt;/b&gt;&lt;b class=&quot;r2&quot;&gt;&lt;/b&gt;&lt;b class=&quot;r3&quot;&gt;&lt;/b&gt;&lt;b class=&quot;r4&quot;&gt;&lt;/b&gt;&lt;/b&gt;<br/> &nbsp; &lt;div style=&quot;padding-left:14px;&quot;&gt;<br/> &nbsp; &nbsp; &nbsp; Your web, your choise<br/> &nbsp; &lt;/div&gt;<br/> &nbsp; &lt;b class=&quot;r&quot;&gt;&lt;b class=&quot;r4&quot;&gt;&lt;/b&gt;&lt;b class=&quot;r3&quot;&gt;&lt;/b&gt;&lt;b class=&quot;r2&quot;&gt;&lt;/b&gt;&lt;b class=&quot;r1&quot;&gt;&lt;/b&gt;&lt;/b&gt;<br/>&lt;/div&gt;</p><p></p>','2013-12-13 07:04:49','2013-12-13 15:04:49'),(358,'114.247.232.56',23,'HTML页面转换效果','<p>&lt;meta content=&quot;progid:DXImageTransform.Microsoft.Pixelate(Duration=2)&quot; http-equiv=&quot;Page-Exit&quot;/&gt;</p>','2013-12-13 07:05:06','2013-12-13 15:05:06'),(359,'114.247.232.56',5,'ANDROID蓝牙的UUID','<p><em style=\"font-size: 13px; font-style: normal;\">蓝牙</em><span style=\"font-size: 13px;\">配对连接时需要双方的</span><em style=\"font-size: 13px; font-style: normal;\">UUID</em></p><p><br/></p><p>ServiceDiscoveryServerServiceClassID_UUID = &#39;{00001000-0000-1000-8000-00805F9B34FB}&#39;<br/>BrowseGroupDescriptorServiceClassID_UUID = &#39;{00001001-0000-1000-8000-00805F9B34FB}&#39;<br/>PublicBrowseGroupServiceClass_UUID = &#39;{00001002-0000-1000-8000-00805F9B34FB}&#39;</p><p>#蓝牙串口服务<br/>SerialPortServiceClass_UUID = &#39;{00001101-0000-1000-8000-00805F9B34FB}&#39;</p><p>LANAccessUsingPPPServiceClass_UUID = &#39;{00001102-0000-1000-8000-00805F9B34FB}&#39;</p><p>#拨号网络服务<br/>DialupNetworkingServiceClass_UUID = &#39;{00001103-0000-1000-8000-00805F9B34FB}&#39;</p><p>#信息同步服务<br/>IrMCSyncServiceClass_UUID = &#39;{00001104-0000-1000-8000-00805F9B34FB}&#39;</p><p>SDP_OBEXObjectPushServiceClass_UUID = &#39;{00001105-0000-1000-8000-00805F9B34FB}&#39;</p><p>#文件传输服务<br/>OBEXFileTransferServiceClass_UUID = &#39;{00001106-0000-1000-8000-00805F9B34FB}&#39;</p><p>IrMCSyncCommandServiceClass_UUID = &#39;{00001107-0000-1000-8000-00805F9B34FB}&#39;<br/>SDP_HeadsetServiceClass_UUID = &#39;{00001108-0000-1000-8000-00805F9B34FB}&#39;<br/>CordlessTelephonyServiceClass_UUID = &#39;{00001109-0000-1000-8000-00805F9B34FB}&#39;<br/>SDP_AudioSourceServiceClass_UUID = &#39;{0000110A-0000-1000-8000-00805F9B34FB}&#39;<br/>SDP_AudioSinkServiceClass_UUID = &#39;{0000110B-0000-1000-8000-00805F9B34FB}&#39;<br/>SDP_AVRemoteControlTargetServiceClass_UUID = &#39;{0000110C-0000-1000-8000-00805F9B34FB}&#39;<br/>SDP_AdvancedAudioDistributionServiceClass_UUID = &#39;{0000110D-0000-1000-8000-00805F9B34FB}&#39;<br/>SDP_AVRemoteControlServiceClass_UUID = &#39;{0000110E-0000-1000-8000-00805F9B34FB}&#39;<br/>VideoConferencingServiceClass_UUID = &#39;{0000110F-0000-1000-8000-00805F9B34FB}&#39;<br/>IntercomServiceClass_UUID = &#39;{00001110-0000-1000-8000-00805F9B34FB}&#39;</p><p>#蓝牙传真服务<br/>FaxServiceClass_UUID = &#39;{00001111-0000-1000-8000-00805F9B34FB}&#39;</p><p>HeadsetAudioGatewayServiceClass_UUID = &#39;{00001112-0000-1000-8000-00805F9B34FB}&#39;<br/>WAPServiceClass_UUID = &#39;{00001113-0000-1000-8000-00805F9B34FB}&#39;<br/>WAPClientServiceClass_UUID = &#39;{00001114-0000-1000-8000-00805F9B34FB}&#39;</p><p>#个人局域网服务<br/>PANUServiceClass_UUID = &#39;{00001115-0000-1000-8000-00805F9B34FB}&#39;</p><p>#个人局域网服务<br/>NAPServiceClass_UUID = &#39;{00001116-0000-1000-8000-00805F9B34FB}&#39;</p><p>#个人局域网服务<br/>GNServiceClass_UUID = &#39;{00001117-0000-1000-8000-00805F9B34FB}&#39;</p><p>DirectPrintingServiceClass_UUID = &#39;{00001118-0000-1000-8000-00805F9B34FB}&#39;<br/>ReferencePrintingServiceClass_UUID = &#39;{00001119-0000-1000-8000-00805F9B34FB}&#39;<br/>ImagingServiceClass_UUID = &#39;{0000111A-0000-1000-8000-00805F9B34FB}&#39;<br/>ImagingResponderServiceClass_UUID = &#39;{0000111B-0000-1000-8000-00805F9B34FB}&#39;<br/>ImagingAutomaticArchiveServiceClass_UUID = &#39;{0000111C-0000-1000-8000-00805F9B34FB}&#39;<br/>ImagingReferenceObjectsServiceClass_UUID = &#39;{0000111D-0000-1000-8000-00805F9B34FB}&#39;<br/>SDP_HandsfreeServiceClass_UUID = &#39;{0000111E-0000-1000-8000-00805F9B34FB}&#39;<br/>HandsfreeAudioGatewayServiceClass_UUID = &#39;{0000111F-0000-1000-8000-00805F9B34FB}&#39;<br/>DirectPrintingReferenceObjectsServiceClass_UUID = &#39;{00001120-0000-1000-8000-00805F9B34FB}&#39;<br/>ReflectedUIServiceClass_UUID = &#39;{00001121-0000-1000-8000-00805F9B34FB}&#39;<br/>BasicPringingServiceClass_UUID = &#39;{00001122-0000-1000-8000-00805F9B34FB}&#39;<br/>PrintingStatusServiceClass_UUID = &#39;{00001123-0000-1000-8000-00805F9B34FB}&#39;</p><p>#人机输入服务<br/>HumanInterfaceDeviceServiceClass_UUID = &#39;{00001124-0000-1000-8000-00805F9B34FB}&#39;</p><p>HardcopyCableReplacementServiceClass_UUID = &#39;{00001125-0000-1000-8000-00805F9B34FB}&#39;</p><p>#蓝牙打印服务<br/>HCRPrintServiceClass_UUID = &#39;{00001126-0000-1000-8000-00805F9B34FB}&#39;</p><p>HCRScanServiceClass_UUID = &#39;{00001127-0000-1000-8000-00805F9B34FB}&#39;<br/>CommonISDNAccessServiceClass_UUID = &#39;{00001128-0000-1000-8000-00805F9B34FB}&#39;<br/>VideoConferencingGWServiceClass_UUID = &#39;{00001129-0000-1000-8000-00805F9B34FB}&#39;<br/>UDIMTServiceClass_UUID = &#39;{0000112A-0000-1000-8000-00805F9B34FB}&#39;<br/>UDITAServiceClass_UUID = &#39;{0000112B-0000-1000-8000-00805F9B34FB}&#39;<br/>AudioVideoServiceClass_UUID = &#39;{0000112C-0000-1000-8000-00805F9B34FB}&#39;<br/>SIMAccessServiceClass_UUID = &#39;{0000112D-0000-1000-8000-00805F9B34FB}&#39;<br/>PnPInformationServiceClass_UUID = &#39;{00001200-0000-1000-8000-00805F9B34FB}&#39;<br/>GenericNetworkingServiceClass_UUID = &#39;{00001201-0000-1000-8000-00805F9B34FB}&#39;<br/>GenericFileTransferServiceClass_UUID = &#39;{00001202-0000-1000-8000-00805F9B34FB}&#39;<br/>GenericAudioServiceClass_UUID = &#39;{00001203-0000-1000-8000-00805F9B34FB}&#39;<br/>GenericTelephonyServiceClass_UUID = &#39;{00001204-0000-1000-8000-00805F9B34FB}&#39;</p><p></p>','2013-12-13 07:09:40','2013-12-13 15:09:40'),(360,'114.247.232.56',5,'字符串转16进制字符串','<p>//字符序列转换为16进制字符串</p><p>	private String bytesToHexString(byte[] src) {</p><p>StringBuilder stringBuilder = new StringBuilder(&quot;0x&quot;);</p><p>if (src == null || src.length &lt;= 0) {</p><p>return null;</p><p>}</p><p>char[] buffer = new char[2];</p><p>for (int i = 0; i &lt; src.length; i++) {</p><p>buffer[0] = Character.forDigit((src[i] &gt;&gt;&gt; 4) &amp; 0x0F, 16);</p><p>buffer[1] = Character.forDigit(src[i] &amp; 0x0F, 16);</p><p>System.out.println(buffer);</p><p>stringBuilder.append(buffer);</p><p>}</p><p>return stringBuilder.toString();</p><p>	}</p><p></p>','2013-12-13 07:10:01','2013-12-13 15:10:01'),(361,'114.247.232.56',5,'nfc近距离通讯','<p><a href=\"http://blog.csdn.net/pku_android/article/details/7430788\" target=\"_blank\">http://blog.csdn.net/pku_android/article/details/7430788</a></p><p><br/></p><p><br/></p><p><br/></p><p>//加入权限</p><p style=\"text-align: left;\">&lt;uses-permission android:name=<em>&quot;android.permission.NFC&quot;</em> /&gt;</p><p style=\"text-align: left;\">//加入这句,表示会使用到硬件的NFC功能。并且当用户在Google Play Store中搜索时，只有带有NFC功能的手机才能够搜索到本应用。</p><p style=\"text-align: left;\">&lt;uses-feature android:name=<em>&quot;android.hardware.nfc&quot;</em> android:required=<em>&quot;true&quot;</em> /&gt;</p><p></p>','2013-12-13 07:10:24','2013-12-13 15:10:24'),(362,'114.247.232.56',5,'播放动画（解决闪烁问题）','<p>package com.example.dahuadvrapp;</p><p>import android.content.Context;<br/>import android.graphics.Bitmap;<br/>import android.graphics.BitmapFactory;<br/>import android.graphics.Canvas;<br/>import android.graphics.Paint;<br/>import android.util.AttributeSet;<br/>import android.view.View;</p><p>public class FramView extends View {<br/> int ANIM_COUNT = 5;<br/> Bitmap[] bitmap = new Bitmap[ANIM_COUNT];<br/> Paint paint = new Paint();<br/> long startTime = 0;<br/> int playID = 0;</p><p>public FramView(Context context) {<br/> &nbsp;super(context);<br/> }</p><p>public FramView(Context context, AttributeSet attrs) {<br/> &nbsp;super(context, attrs);</p><p>bitmap[0] = BitmapFactory.decodeResource(this.getResources(),<br/> &nbsp; &nbsp;R.drawable.p1);<br/> &nbsp;bitmap[1] = BitmapFactory.decodeResource(this.getResources(),<br/> &nbsp; &nbsp;R.drawable.p2);<br/> &nbsp;bitmap[2] = BitmapFactory.decodeResource(this.getResources(),<br/> &nbsp; &nbsp;R.drawable.p3);<br/> &nbsp;bitmap[3] = BitmapFactory.decodeResource(this.getResources(),<br/> &nbsp; &nbsp;R.drawable.p4);<br/> &nbsp;bitmap[4] = BitmapFactory.decodeResource(this.getResources(),<br/> &nbsp; &nbsp;R.drawable.p5);</p><p>startTime = System.currentTimeMillis();<br/> }</p><p>@Override<br/> protected void onDraw(Canvas canvas) {</p><p>long nowTime = System.currentTimeMillis();<br/> &nbsp;if (nowTime - startTime &gt;= 100) {<br/> &nbsp; startTime = nowTime;<br/> &nbsp; playID++;<br/> &nbsp; if (playID &gt;= ANIM_COUNT) {<br/> &nbsp; &nbsp;playID = 0;<br/> &nbsp; }<br/> &nbsp;}<br/> &nbsp;canvas.drawBitmap(bitmap[playID], 0, 0, paint);<br/> &nbsp;invalidate();<br/> &nbsp;super.onDraw(canvas);<br/> }</p><p>}</p><p></p>','2013-12-13 07:10:46','2013-12-13 15:10:46'),(363,'27.44.9.28',5,'ImageView更改圖片','<pre class=\"brush:java;toolbar:false\">///////////////////////////////////////\r\n//更换图片\r\nimport&nbsp;android.support.v4.content.ContextCompat;\r\n\r\nImageView&nbsp;img=(ImageView)convertView.findViewById(R.id.imgOnline);\r\nimg.setImageDrawable(ContextCompat.getDrawable(mContext,R.mipmap.devlst_cell_online1));</pre><pre class=\"brush:java;toolbar:false\">///////////////////////////////////////\r\n//路径图片\r\nString&nbsp;=&quot;图片位置&quot;;\r\nFile&nbsp;fp=new&nbsp;File(stricon);\r\nif(fp.exists())\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;ImageView&nbsp;toIcon&nbsp;=&nbsp;(ImageView)&nbsp;contextView.findViewById(R.id.icon);\r\n&nbsp;&nbsp;&nbsp;&nbsp;Bitmap&nbsp;bm&nbsp;=&nbsp;BitmapFactory.decodeFile(stricon);\r\n&nbsp;&nbsp;&nbsp;&nbsp;//将图片显示到ImageView中\r\n&nbsp;&nbsp;&nbsp;&nbsp;toIcon.setImageBitmap(bm);\r\n}</pre><pre class=\"brush:java;toolbar:false\">///////////////////////////////////////\r\n//修改图片像素\r\nImageView&nbsp;img&nbsp;=&nbsp;(ImageView)&nbsp;findViewById(R.id.imageView1);\r\nBitmap&nbsp;bm&nbsp;=&nbsp;BitmapFactory.decodeResource(getResources(),&nbsp;R.drawable.ic_yeah);\r\n//从文件中读取的图片是不可被改变的，所以不能直接使用setPixel()来设置他的像素点颜色\r\nBitmap&nbsp;bm2&nbsp;=&nbsp;bm.copy(bm.getConfig(),&nbsp;true);\r\n//修改圖片像素\r\nint&nbsp;i&nbsp;=&nbsp;0;\r\nfor(int&nbsp;y&nbsp;=&nbsp;0;&nbsp;y&lt;bm.getHeight();y++)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;x&nbsp;=&nbsp;0;&nbsp;x&nbsp;&lt;&nbsp;bm.getWidth();&nbsp;x++)&nbsp;{\r\n//過來的數據B/G/R\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;a&nbsp;=&nbsp;255;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;r&nbsp;=&nbsp;btRgb.btBuf[i&nbsp;+&nbsp;2];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;g&nbsp;=&nbsp;btRgb.btBuf[i&nbsp;+&nbsp;1];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;b&nbsp;=&nbsp;btRgb.btBuf[i];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;color&nbsp;=&nbsp;(a&nbsp;&lt;&lt;&nbsp;24&nbsp;|&nbsp;r&nbsp;&lt;&lt;&nbsp;16&nbsp;|&nbsp;g&nbsp;&lt;&lt;&nbsp;8&nbsp;|&nbsp;b);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bm2.setPixel(x,&nbsp;y,&nbsp;color);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;+=&nbsp;3;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}\r\nimg.setImageBitmap(bm2);</pre><p><br/></p>','2013-12-13 07:11:17','2017-08-30 17:46:16'),(364,'114.247.232.56',5,'JNI數據類型,函數庫','<p>JNI數據類型</p><p><a href=\"http://www.cnblogs.com/daniel-shen/archive/2006/10/16/530587.html\" target=\"_blank\">http://www.cnblogs.com/daniel-shen/archive/2006/10/16/530587.html</a></p><p>&nbsp;</p><p>JNI函數庫</p><p><a href=\"http://game.ceeger.com/Script/AndroidJNI/AndroidJNI.html\" target=\"_blank\">http://game.ceeger.com/Script/AndroidJNI/AndroidJNI.html</a></p><p></p>','2013-12-13 07:11:34','2013-12-13 15:11:34'),(365,'114.247.232.56',5,'jni里边输出log','<p>头文件 #include&lt;android/log.h&gt;</p><p>库 -llog</p><p>&nbsp;</p><p>__android_log_print(ANDROID_LOG_INFO, &quot;han.zh&quot;, &quot;JNI-Text %d&quot;,100);<br/>jni里边输出log</p><p></p>','2013-12-13 07:11:53','2013-12-13 15:11:53'),(366,'27.44.11.81',5,'常用权限','<p>网络</p><p>&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;<br/>&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;<br/>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;</p><p><br/></p><p>摄像头</p><p>&lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;</p><p>&nbsp;&lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;</p><p>&nbsp;&lt;uses-feature android:name=&quot;android.hardware.camera.autofocus&quot; /&gt;</p><p><br/></p>','2013-12-13 07:12:08','2017-09-03 03:00:44'),(367,'27.44.26.5',5,'jstring和char*,jbyte','<p><span style=\"color: rgb(184, 92, 0); font-family: Consolas, ConsolasRegular, &quot;Courier New&quot;, monospace; font-size: 19px; white-space: pre; background-color: rgb(240, 243, 248);\">#include &lt;android/log.h&gt;</span></p><pre style=\"background-color: rgb(255, 255, 255); font-family: 宋体; font-size: 9pt;\" class=\"brush:cpp;toolbar:false;\">#define&nbsp;TAG&nbsp;&quot;hzhDebug&quot;\r\n#define&nbsp;LOGI(...)&nbsp;__android_log_print(ANDROID_LOG_INFO,TAG&nbsp;,__VA_ARGS__)</pre><p><br/></p><p>在java中由于是unicode编码，无论是英文字母还是汉字每个字符都是占用2个字节。但是在jni中的字符时utf-8编码，每个字符不是等长的。所以在java和jni调用的时候要注意这个问题。</p><p>&nbsp;</p><pre class=\"brush:cpp;toolbar:false\">/////////////////////////////////////////////////\r\n//jstring&nbsp;to&nbsp;char*&nbsp;需要释放返回值\r\nchar*&nbsp;jstringTostring(JNIEnv*&nbsp;env,&nbsp;jstring&nbsp;jstr)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char*&nbsp;rtn&nbsp;=&nbsp;NULL;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jclass&nbsp;clsstring&nbsp;=&nbsp;env-&gt;FindClass(&quot;java/lang/String&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jstring&nbsp;strencode&nbsp;=&nbsp;env-&gt;NewStringUTF(&quot;utf-8&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jmethodID&nbsp;mid&nbsp;=&nbsp;env-&gt;GetMethodID(clsstring,&nbsp;&quot;getBytes&quot;,&nbsp;&quot;(Ljava/lang/String;)[B&quot;);\r\n&nbsp;\r\n//---------下面可以重复获取多个&nbsp;BEGIN---------\r\n//jstr是参数\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jbyteArray&nbsp;barr=&nbsp;(jbyteArray)env-&gt;CallObjectMethod(jstr,&nbsp;mid,&nbsp;strencode);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jsize&nbsp;alen&nbsp;=&nbsp;env-&gt;GetArrayLength(barr);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jbyte*&nbsp;ba&nbsp;=&nbsp;env-&gt;GetByteArrayElements(barr,&nbsp;JNI_FALSE);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(alen&nbsp;&gt;&nbsp;0)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rtn&nbsp;=&nbsp;(char*)malloc(alen&nbsp;+&nbsp;1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;memcpy(rtn,&nbsp;ba,&nbsp;alen);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rtn[alen]&nbsp;=&nbsp;0;\r\n//rtn这里要返回到函数上,所以不释放内存\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;env-&gt;ReleaseByteArrayElements(barr,&nbsp;ba,&nbsp;0);\r\n//---------下面可以重复获取多个&nbsp;END---------\r\n&nbsp;\r\n//釋放局部變量\r\nenv-&gt;DeleteLocalRef(&nbsp;strencode&nbsp;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;rtn;\r\n}\r\n\r\n/////////////////////////////////////////////////\r\n//char*&nbsp;to&nbsp;jstring&nbsp;\r\njstring&nbsp;stoJstring(JNIEnv*&nbsp;env,&nbsp;const&nbsp;char*&nbsp;pat)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jclass&nbsp;strClass&nbsp;=&nbsp;env-&gt;FindClass(&quot;Ljava/lang/String;&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jmethodID&nbsp;ctorID&nbsp;=&nbsp;env-&gt;GetMethodID(strClass,&nbsp;&quot;&lt;init&gt;&quot;,&nbsp;&quot;([BLjava/lang/String;)V&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jbyteArray&nbsp;bytes&nbsp;=&nbsp;env-&gt;NewByteArray(strlen(pat));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;env-&gt;SetByteArrayRegion(bytes,&nbsp;0,&nbsp;strlen(pat),&nbsp;(jbyte*)pat);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jstring&nbsp;encoding&nbsp;=&nbsp;env-&gt;NewStringUTF(&quot;utf-8&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(jstring)env-&gt;NewObject(strClass,&nbsp;ctorID,&nbsp;bytes,&nbsp;encoding);\r\n}\r\n\r\n/////////////////////////////////////////////////\r\n//返回字節\r\nJNIEXPORT&nbsp;jbyteArray&nbsp;JNICALL&nbsp;Java_han_zh_dahua_1dvr_DahuaDvr_dahua_1cameraThread\r\n&nbsp;(JNIEnv&nbsp;*env,&nbsp;jobject&nbsp;obj,&nbsp;jint&nbsp;pos)\r\n{\r\njbyteArray&nbsp;bytes;\r\nint&nbsp;len=3;\r\nchar&nbsp;*&nbsp;str=malloc(len);\r\nmemcpy(str,&quot;123&quot;,3);\r\nbytes&nbsp;=&nbsp;env-&gt;NewByteArray(len);\r\nenv-&gt;SetByteArrayRegion(bytes,&nbsp;0,len,&nbsp;(jbyte*)str);\r\nfree(str);\r\nstr=NULL;\r\nreturn&nbsp;bytes;\r\n}\r\n\r\n/////////////////////////////////////////////////\r\n//jbyteArray&nbsp;转&nbsp;char&nbsp;*&nbsp;\r\nchar*&nbsp;data&nbsp;=&nbsp;(char*)env-&gt;GetByteArrayElements(strIn,&nbsp;0);</pre><p><br/></p>','2013-12-13 07:12:32','2017-09-21 22:53:08'),(368,'114.247.232.56',5,'ndk给结构体赋值','<p><strong>1，java 代码 结构体定义</strong><br/><img alt=\"\" src=\"http://www.cnweblog.com/Images/OutliningIndicators/None.gif\"/>public class &nbsp;MediaInfo<br/><img alt=\"\" src=\"http://www.cnweblog.com/Images/OutliningIndicators/ExpandedBlockStart.gif\"/>{<br/><img alt=\"\" src=\"http://www.cnweblog.com/Images/OutliningIndicators/InBlock.gif\"/> &nbsp; &nbsp;public int nWidth;<br/><img alt=\"\" src=\"http://www.cnweblog.com/Images/OutliningIndicators/InBlock.gif\"/> &nbsp; &nbsp;public int nHeight;<br/><img alt=\"\" src=\"http://www.cnweblog.com/Images/OutliningIndicators/InBlock.gif\"/> &nbsp; &nbsp;public String strStream;<br/><img alt=\"\" src=\"http://www.cnweblog.com/Images/OutliningIndicators/InBlock.gif\"/> &nbsp; &nbsp;public byte[] btBuf;</p><p><img alt=\"\" src=\"http://www.cnweblog.com/Images/OutliningIndicators/InBlock.gif\"/> &nbsp; &nbsp;public int[] nColors;<br/><img alt=\"\" src=\"http://www.cnweblog.com/Images/OutliningIndicators/ExpandedBlockEnd.gif\"/>}<br/><img alt=\"\" src=\"http://www.cnweblog.com/Images/OutliningIndicators/None.gif\"/><br/></p><p><strong>2. java jni接口定义</strong><br/>public native static int &nbsp; &nbsp; &nbsp; GetMediaInfo(int handle, MediaInfo info);<br/></p><p>&nbsp;</p><p><strong>3. c++ ndk 实现代码</strong><br/>JNIEXPORT jint JNICALL Java_src_jni_RtspConnect_GetMediaInfo<br/><img alt=\"\" src=\"http://www.cnweblog.com/Images/OutliningIndicators/None.gif\"/> &nbsp;(JNIEnv *e, jclass c, jint h, jobject o)<br/><img alt=\"\" src=\"http://www.cnweblog.com/Images/OutliningIndicators/ExpandedBlockStart.gif\"/>{<br/><img alt=\"\" src=\"http://www.cnweblog.com/Images/OutliningIndicators/InBlock.gif\"/> &nbsp; &nbsp;//获取Java中的实例类 <br/><img alt=\"\" src=\"http://www.cnweblog.com/Images/OutliningIndicators/InBlock.gif\"/> &nbsp; &nbsp;jclass objectClass = (e)-&gt;FindClass(&quot;src/jni/MediaInfo&quot;); <br/><img alt=\"\" src=\"http://www.cnweblog.com/Images/OutliningIndicators/InBlock.gif\"/> <br/><img alt=\"\" src=\"http://www.cnweblog.com/Images/OutliningIndicators/InBlock.gif\"/> &nbsp; &nbsp;//获取类中每一个变量的定义 <br/><img alt=\"\" src=\"http://www.cnweblog.com/Images/OutliningIndicators/InBlock.gif\"/> &nbsp; &nbsp;jfieldID strStream = (e)-&gt;GetFieldID(objectClass, &quot;strStream&quot;, &quot;Ljava/lang/String;&quot;); <br/><img alt=\"\" src=\"http://www.cnweblog.com/Images/OutliningIndicators/InBlock.gif\"/> &nbsp; &nbsp;jfieldID nHeight = (e)-&gt;GetFieldID(objectClass, &quot;nHeight&quot;, &quot;I&quot;); <br/><img alt=\"\" src=\"http://www.cnweblog.com/Images/OutliningIndicators/InBlock.gif\"/> &nbsp; &nbsp;jfieldID nWidth = &nbsp;(e)-&gt;GetFieldID(objectClass, &quot;nWidth&quot;, &quot;I&quot;);<br/><img alt=\"\" src=\"http://www.cnweblog.com/Images/OutliningIndicators/InBlock.gif\"/> &nbsp; &nbsp;jfieldID btBuf = &nbsp;(e)-&gt;GetFieldID(objectClass, &quot;btBuf&quot;, &quot;[B&quot;);</p><p>jfieldID nColors = &nbsp;env-&gt;GetFieldID(objectClass, &quot;nColors&quot;, &quot;[I&quot;);<br/><img alt=\"\" src=\"http://www.cnweblog.com/Images/OutliningIndicators/InBlock.gif\"/> <br/><img alt=\"\" src=\"http://www.cnweblog.com/Images/OutliningIndicators/InBlock.gif\"/> &nbsp; &nbsp;//给每一个实例的变量付值 <br/><img alt=\"\" src=\"http://www.cnweblog.com/Images/OutliningIndicators/InBlock.gif\"/> &nbsp; &nbsp;(e)-&gt;SetIntField(o, nHeight, 10); <br/><img alt=\"\" src=\"http://www.cnweblog.com/Images/OutliningIndicators/InBlock.gif\"/> &nbsp; &nbsp;(e)-&gt;SetIntField(o, nWidth, 100);<br/><img alt=\"\" src=\"http://www.cnweblog.com/Images/OutliningIndicators/InBlock.gif\"/> &nbsp; &nbsp;(e)-&gt;SetObjectField(o, strStream, (e)-&gt;NewStringUTF(&quot;my stream&quot;)); &nbsp;<br/></p><p>//////////////////////// byte array ///////////////////</p><p>int nTmpLen=6;<br/> &nbsp; &nbsp; &nbsp;char* btTmpBuf=&quot;1234o6&quot;;<br/> &nbsp; &nbsp; &nbsp;jbyteArray jarr = e-&gt;NewByteArray(nTmpLen);<br/> &nbsp; &nbsp; &nbsp;jbyte *jby = e-&gt;GetByteArrayElements(jarr, 0);<br/> &nbsp; &nbsp; &nbsp;memcpy(jby, btTmpBuf, nTmpLen);<br/> &nbsp; &nbsp; &nbsp;(e)-&gt;SetByteArrayRegion(jarr, 0, nTmpLen, jby);<br/> &nbsp; &nbsp; &nbsp;(e)-&gt;SetObjectField(o, btBuf, jarr);</p><p>(e)-&gt;ReleaseByteArrayElements(jarr, jby, 0);</p><p>&nbsp;</p><p>//////////////////////// int array ///////////////////</p><p>int &nbsp;tmpLen=100;<br/> &nbsp;int* colors=new int[tmpLen];</p><p>for (int y=0;y&lt;tmpLen;y++) {<br/> &nbsp; &nbsp; &nbsp;colors[y]=y;<br/> &nbsp;}</p><p>jintArray jiar = env-&gt;NewIntArray(tmpLen);<br/> &nbsp;jint *jiy = env-&gt;GetIntArrayElements(jiar, JNI_FALSE );<br/> &nbsp;memcpy(jiy , colors, tmpLen*sizeof(int));<br/> &nbsp;env-&gt;SetIntArrayRegion(jiar, 0, tmpLen, jiy );<br/> &nbsp;env-&gt;SetObjectField(o, nColors , jiar);<br/> &nbsp;env-&gt;ReleaseIntArrayElements(jiar , jiy , 0);</p><p>delete[] colors;</p><p><br/> &nbsp; &nbsp;return 0; <br/><img alt=\"\" src=\"http://www.cnweblog.com/Images/OutliningIndicators/ExpandedBlockEnd.gif\"/>}<br/></p><p>&nbsp;</p><p><strong>4. Java 调用</strong><br/>MediaInfo info = new MediaInfo();<br/>RtspConnect.GetMediaInfo(0, info);<br/>Log.i(&quot;info&quot;, &quot;&quot;+info.nHeight);<br/>Log.i(&quot;info&quot;, &quot;&quot;+info.nWidth);</p><p></p>','2013-12-13 07:12:52','2013-12-13 15:12:52'),(370,'114.247.232.56',5,'非主线程使用控件','<p>Handler handler=new Handler(){</p><p>@Override</p><p>public void handleMessage(Message msg) {</p><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><p>super.handleMessage(msg);</p></blockquote><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><p>switch(msg.what){</p></blockquote></blockquote><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><p>case 0:</p></blockquote></blockquote></blockquote><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><p>Toast.makeText(MainActivity.this,</p></blockquote></blockquote></blockquote><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><p>&quot;hehehehe...&quot;, Toast.LENGTH_SHORT)</p></blockquote></blockquote></blockquote><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><p>.show();</p></blockquote></blockquote></blockquote></blockquote><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><p>break;</p></blockquote></blockquote></blockquote><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><p>}</p></blockquote></blockquote><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><p>}</p></blockquote><p>	};</p><p>	&nbsp;</p><p>	Message msg=new Message();</p><p>	msg.what=0; //消息code</p><p>	msg.obj=null; //消息内容</p><p>	handler.sendMessage(msg);</p><p></p>','2013-12-13 07:13:28','2013-12-13 15:13:28'),(371,'101.247.204.129',5,'新建线程','<pre class=\"brush:java;toolbar:false;\">public&nbsp;void&nbsp;fuck()&nbsp;{\r\nnew&nbsp;Thread(th).start();\r\n}\r\n\r\nprivate&nbsp;Runnable&nbsp;th=new&nbsp;Runnable(){\r\npublic&nbsp;void&nbsp;run(){\r\n//内容\r\n}\r\n};\r\n\r\n\r\n/////////////////////////////////\r\n//同步主线程,可以使用UI控件\r\n\r\nHandler&nbsp;mainHandler&nbsp;=&nbsp;new&nbsp;Handler(Looper.getMainLooper());\r\n&nbsp;&nbsp;&nbsp;&nbsp;mainHandler.post(new&nbsp;Runnable()&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;run()&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//已在主线程中，可以更新UI\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;});</pre><p><br/></p>','2013-12-13 07:13:44','2017-09-01 02:32:58'),(373,'192.168.2.123',5,'提示标签Toast','<pre class=\"brush:cpp;toolbar:false\">Toast.makeText(getContext(),&quot;忘记密码&quot;,&nbsp;Toast.LENGTH_SHORT).show();</pre><p><br/></p>','2013-12-13 07:14:25','2017-08-03 22:43:45'),(374,'183.63.215.55',5,'HTML信息交互,捕获javascript中的alert','<p><a href=\"http://code.google.com/p/apps-for-Android/source/browse/trunk/Samples/WebViewDemo/\" target=\"_blank\">http://code.google.com/p/apps-for-Android/source/browse/trunk/Samples/WebViewDemo/</a> <br/>我对其进行了修改，并加了简单的注释，这个例子的不仅是对js的操作，它还对<span style=\"margin: 0px; padding: 0px;\"><a href=\"http://bbs.189works.com/\" target=\"_blank\">android</a></span>浏览器做了简单的介绍， <br/>这些我会在注释中一一讲解。 <br/>Javascript弹出框有如下三种： <br/>Java代码 &nbsp;<br/>alert(); &nbsp; <br/>window.confirm(&quot;Are you srue?&quot;); &nbsp; <br/>window.prompt(&quot;Please input some word&quot;;,&quot;this is text&quot;); &nbsp; <br/>WebChromeClient 中对三种dialog进行了捕捉，但不幸的是，并没有回调函数可以使用， <br/>或者说不能获得用户是点击“OK”还是“CANCEL”的操作结果。 <br/>个人以为，这些方法的设置是为了对一些涉及到html操作的应用程序进行测试时使用的。 <br/>在WebChromeClient中还有以下的方法: <br/>Java代码 &nbsp;<br/>onProgressChanged(WebView view, int newProgress)； &nbsp; <br/>onReceivedIcon(WebView view, Bitmap icon)； &nbsp; <br/>onReceivedTitle(WebView view, String title)； &nbsp; <br/>onRequestFocus(WebView view)； &nbsp; <br/>onCloseWindow(WebView window)； &nbsp; <br/>onProgressChanged(WebView view, int newProgress) &nbsp; <br/>这些方法的使用我会在以后的博文中讲到. <br/>请大家先看今天讲解的重点 <br/>Java代码 &nbsp;<br/>public class WebViewDemo extends Activity { &nbsp; <br/> &nbsp; &nbsp;private static final String LOG_TAG = &quot;WebViewDemo&quot;; &nbsp; <br/> &nbsp; &nbsp;private WebView mWebView; &nbsp; <br/> &nbsp; &nbsp;private TextView mReusultText ; &nbsp; <br/> &nbsp; &nbsp;private Handler mHandler = new Handler(); &nbsp; <br/> &nbsp; &nbsp;@Override &nbsp; <br/> &nbsp; &nbsp;public void onCreate(Bundle icicle) { &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;super.onCreate(icicle); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;setContentView(R.layout.main); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;//获得浏览器组件 &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;//WebView就是一个简单的浏览器 &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;//android浏览器源码存在于LINUX\\android\\package\\apps\\Browser中 &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;//里面的所有操作都是围绕WebView来展开的 &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;mWebView = (WebView) findViewById(R.id.webview); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;mReusultText = (TextView) findViewById(R.id.resultText); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;//WebSettings 几乎浏览器的所有设置都在该类中进行 &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;WebSettings webSettings = mWebView.getSettings(); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;webSettings.setSavePassword(false); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;webSettings.setSaveFormData(false); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;webSettings.setJavaScriptEnabled(true); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;webSettings.setSupportZoom(false); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;mWebView.setWebChromeClient(new MyWebChromeClient()); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;/* &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; * DemoJavaScriptInterface类为js调用android服务器端提供接口 &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; * android 作为DemoJavaScriptInterface类的客户端接口被js调用 &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; * 调用的具体方法在DemoJavaScriptInterface中定义： &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; * 例如该实例中的clickOnAndroid &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; */ &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;mWebView.addJavascriptInterface(new DemoJavaScriptInterface(),&quot;androd&quot;); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;mWebView.loadUrl(&quot;<a href=\"file:///android_asset/page.html\" target=\"_blank\">file:///android_asset/page.html</a>&quot;); &nbsp; <br/> &nbsp; &nbsp;} &nbsp; <br/> &nbsp; &nbsp;final class DemoJavaScriptInterface { &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;DemoJavaScriptInterface() {} &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;/** &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; * 该方法被浏览器端调用 &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; */ &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;public void clickOnAndroid() { &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mHandler.post(new Runnable() { &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;public void run() { &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//调用js中的onJsAndroid方法 &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mWebView.loadUrl(&quot;javascript:onJsAndroid()&quot;); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;} &nbsp; <br/> &nbsp; &nbsp;} &nbsp; <br/> &nbsp; &nbsp;/** &nbsp;<br/> &nbsp; &nbsp; * 继承WebChromeClient类 &nbsp;<br/> &nbsp; &nbsp; * 对js弹出框时间进行处理 &nbsp;<br/> &nbsp; &nbsp; * &nbsp; <br/> &nbsp; &nbsp; */ &nbsp; <br/> &nbsp; &nbsp;final class MyWebChromeClient extends WebChromeClient { &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;/** &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; * 处理alert弹出框 &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; */ &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;@Override &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;public boolean onJsAlert(WebView view,String url, &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; String message,JsResult result) { &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Log.d(LOG_TAG,&quot;onJsAlert:&quot;+message&quot;); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mReusultText.setText(&quot;Alert:&quot;+message); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//对alert的简单封装 &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;new AlertDialog.Builder(WebViewDemo.this). &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;setTitle(&quot;Alert&quot;).setMessage(message).setPositiveButton(&quot;OK&quot;, &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;new DialogInterface.OnClickListener() { &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;@Override &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;public void onClick(DialogInterface arg0, int arg1) { &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //TODO &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}).create().show(); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;result.confirm(); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return true; &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;} &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;/** &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; * 处理confirm弹出框 &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; */ &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;@Override &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;public boolean onJsConfirm(WebView view, String url, String message, &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;JsResult result) { &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Log.d(LOG_TAG, &quot;onJsConfirm:&quot;+message); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mReusultText.setText(&quot;Confirm:&quot;+message); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;result.confirm(); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return super.onJsConfirm(view, url, message, result); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;} &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;/** &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; * 处理prompt弹出框 &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; */ &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;@Override &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;public boolean onJsPrompt(WebView view, String url, String message, &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;String defaultValue, JsPromptResult result) { &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Log.d(LOG_TAG,&quot;onJsPrompt:&quot;+message); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mReusultText.setText(&quot;Prompt input is :&quot;+message); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;result.confirm(); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return super.onJsPrompt(view, url, message, message, result); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;} &nbsp; <br/> &nbsp; &nbsp;}&nbsp;</p>','2013-12-13 07:14:49','2014-06-05 17:20:25'),(375,'114.247.232.56',5,'获取屏幕大小','<p>&nbsp;// get screen width &amp; height scale<br/> &nbsp;float scaleValueW = MainActivity.getScaleWidth();<br/> &nbsp;float scaleValueH = MainActivity.getScaleHeight();</p><p>&nbsp;</p><p>// get screen width &amp; height<br/> &nbsp;float screenWidth = MainActivity.getScreenWidth();<br/> &nbsp;float screenHeight = MainActivity.getScreenHeight();</p><p></p>','2013-12-13 07:15:07','2013-12-13 15:15:07'),(376,'114.247.232.56',5,'语音识别','<p>package com.example.android.apis.app;</p><p>import com.example.android.apis.R;</p><p>import android.app.Activity;<br/>import android.content.BroadcastReceiver;<br/>import android.content.Context;<br/>import android.content.Intent;<br/>import android.content.pm.PackageManager;<br/>import android.content.pm.ResolveInfo;<br/>import android.os.Bundle;<br/>import android.os.Handler;<br/>import android.speech.RecognizerIntent;<br/>import android.util.Log;<br/>import android.view.View;<br/>import android.view.View.OnClickListener;<br/>import android.widget.ArrayAdapter;<br/>import android.widget.Button;<br/>import android.widget.ListView;<br/>import android.widget.Spinner;<br/>import android.widget.SpinnerAdapter;<br/>import android.widget.TextView;<br/>import android.widget.Toast;</p><p>import java.util.ArrayList;<br/>import java.util.List;</p><p>/**<br/> * Sample code that invokes the speech recognition intent API.<br/> */<br/>public class VoiceRecognition extends Activity implements OnClickListener {</p><p>private static final String TAG = &quot;VoiceRecognition&quot;;</p><p>private static final int VOICE_RECOGNITION_REQUEST_CODE = 1234;</p><p>private ListView mList;</p><p>private Handler mHandler;</p><p>private Spinner mSupportedLanguageView;</p><p>/**<br/> &nbsp; &nbsp; * Called with the activity is first created.<br/> &nbsp; &nbsp; */<br/> &nbsp; &nbsp;@Override<br/> &nbsp; &nbsp;public void onCreate(Bundle savedInstanceState) {<br/> &nbsp; &nbsp; &nbsp; &nbsp;super.onCreate(savedInstanceState);<br/> &nbsp; &nbsp; &nbsp; &nbsp;mHandler = new Handler();</p><p>// Inflate our UI from its XML layout description.<br/> &nbsp; &nbsp; &nbsp; &nbsp;setContentView(R.layout.voice_recognition);</p><p>// Get display items for later interaction<br/> &nbsp; &nbsp; &nbsp; &nbsp;Button speakButton = (Button) findViewById(R.id.btn_speak);</p><p>mList = (ListView) findViewById(R.id.list);</p><p>mSupportedLanguageView = (Spinner) findViewById(R.id.supported_languages);</p><p>// Check to see if a recognition activity is present<br/> &nbsp; &nbsp; &nbsp; &nbsp;PackageManager pm = getPackageManager();<br/> &nbsp; &nbsp; &nbsp; &nbsp;List&lt;ResolveInfo&gt; activities = pm.queryIntentActivities(<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH), 0);<br/> &nbsp; &nbsp; &nbsp; &nbsp;if (activities.size() != 0) {<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;speakButton.setOnClickListener(this);<br/> &nbsp; &nbsp; &nbsp; &nbsp;} else {<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;speakButton.setEnabled(false);<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;speakButton.setText(&quot;Recognizer not present&quot;);<br/> &nbsp; &nbsp; &nbsp; &nbsp;}</p><p>// Most of the applications do not have to handle the voice settings. If the application<br/> &nbsp; &nbsp; &nbsp; &nbsp;// does not require a recognition in a specific language (i.e., different from the system<br/> &nbsp; &nbsp; &nbsp; &nbsp;// locale), the application does not need to read the voice settings.<br/> &nbsp; &nbsp; &nbsp; &nbsp;refreshVoiceSettings();<br/> &nbsp; &nbsp;}</p><p>/**<br/> &nbsp; &nbsp; * Handle the click on the start recognition button.<br/> &nbsp; &nbsp; */<br/> &nbsp; &nbsp;public void onClick(View v) {<br/> &nbsp; &nbsp; &nbsp; &nbsp;if (v.getId() == R.id.btn_speak) {<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;startVoiceRecognitionActivity();<br/> &nbsp; &nbsp; &nbsp; &nbsp;}<br/> &nbsp; &nbsp;}</p><p>/**<br/> &nbsp; &nbsp; * Fire an intent to start the speech recognition activity.<br/> &nbsp; &nbsp; */<br/> &nbsp; &nbsp;private void startVoiceRecognitionActivity() {<br/> &nbsp; &nbsp; &nbsp; &nbsp;Intent intent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);</p><p>// Specify the calling package to identify your application<br/> &nbsp; &nbsp; &nbsp; &nbsp;intent.putExtra(RecognizerIntent.EXTRA_CALLING_PACKAGE, getClass().getPackage().getName());</p><p>// Display an hint to the user about what he should say.<br/> &nbsp; &nbsp; &nbsp; &nbsp;intent.putExtra(RecognizerIntent.EXTRA_PROMPT, &quot;Speech recognition demo&quot;);</p><p>// Given an hint to the recognizer about what the user is going to say<br/> &nbsp; &nbsp; &nbsp; &nbsp;intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL,<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);</p><p>// Specify how many results you want to receive. The results will be sorted<br/> &nbsp; &nbsp; &nbsp; &nbsp;// where the first result is the one with higher confidence.<br/> &nbsp; &nbsp; &nbsp; &nbsp;intent.putExtra(RecognizerIntent.EXTRA_MAX_RESULTS, 5);</p><p>// Specify the recognition language. This parameter has to be specified only if the<br/> &nbsp; &nbsp; &nbsp; &nbsp;// recognition has to be done in a specific language and not the default one (i.e., the<br/> &nbsp; &nbsp; &nbsp; &nbsp;// system locale). Most of the applications do not have to set this parameter.<br/> &nbsp; &nbsp; &nbsp; &nbsp;if (!mSupportedLanguageView.getSelectedItem().toString().equals(&quot;Default&quot;)) {<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE,<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mSupportedLanguageView.getSelectedItem().toString());<br/> &nbsp; &nbsp; &nbsp; &nbsp;}</p><p>startActivityForResult(intent, VOICE_RECOGNITION_REQUEST_CODE);<br/> &nbsp; &nbsp;}</p><p>/**<br/> &nbsp; &nbsp; * Handle the results from the recognition activity.<br/> &nbsp; &nbsp; */<br/> &nbsp; &nbsp;@Override<br/> &nbsp; &nbsp;protected void onActivityResult(int requestCode, int resultCode, Intent data) {<br/> &nbsp; &nbsp; &nbsp; &nbsp;if (requestCode == VOICE_RECOGNITION_REQUEST_CODE &amp;&amp; resultCode == RESULT_OK) {<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// Fill the list view with the strings the recognizer thought it could have heard<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ArrayList&lt;String&gt; matches = data.getStringArrayListExtra(<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;RecognizerIntent.EXTRA_RESULTS);<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mList.setAdapter(new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1,<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;matches));<br/> &nbsp; &nbsp; &nbsp; &nbsp;}</p><p>super.onActivityResult(requestCode, resultCode, data);<br/> &nbsp; &nbsp;}</p><p>private void refreshVoiceSettings() {<br/> &nbsp; &nbsp; &nbsp; &nbsp;Log.i(TAG, &quot;Sending broadcast&quot;);<br/> &nbsp; &nbsp; &nbsp; &nbsp;sendOrderedBroadcast(RecognizerIntent.getVoiceDetailsIntent(this), null,<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;new SupportedLanguageBroadcastReceiver(), null, Activity.RESULT_OK, null, null);<br/> &nbsp; &nbsp;}</p><p>private void updateSupportedLanguages(List&lt;String&gt; languages) {<br/> &nbsp; &nbsp; &nbsp; &nbsp;// We add &quot;Default&quot; at the beginning of the list to simulate default language.<br/> &nbsp; &nbsp; &nbsp; &nbsp;languages.add(0, &quot;Default&quot;);</p><p>SpinnerAdapter adapter = new ArrayAdapter&lt;CharSequence&gt;(this,<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;android.R.layout.simple_spinner_item, languages.toArray(<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;new String[languages.size()]));<br/> &nbsp; &nbsp; &nbsp; &nbsp;mSupportedLanguageView.setAdapter(adapter);<br/> &nbsp; &nbsp;}</p><p>private void updateLanguagePreference(String language) {<br/> &nbsp; &nbsp; &nbsp; &nbsp;TextView textView = (TextView) findViewById(R.id.language_preference);<br/> &nbsp; &nbsp; &nbsp; &nbsp;textView.setText(language);<br/> &nbsp; &nbsp;}</p><p>/**<br/> &nbsp; &nbsp; * Handles the response of the broadcast request about the recognizer supported languages.<br/> &nbsp; &nbsp; *<br/> &nbsp; &nbsp; * The receiver is required only if the application wants to do recognition in a specific<br/> &nbsp; &nbsp; * language.<br/> &nbsp; &nbsp; */<br/> &nbsp; &nbsp;private class SupportedLanguageBroadcastReceiver extends BroadcastReceiver {</p><p>@Override<br/> &nbsp; &nbsp; &nbsp; &nbsp;public void onReceive(Context context, final Intent intent) {<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Log.i(TAG, &quot;Receiving broadcast &quot; + intent);</p><p>final Bundle extra = getResultExtras(false);</p><p>if (getResultCode() != Activity.RESULT_OK) {<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mHandler.post(new Runnable() {<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;@Override<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;public void run() {<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;showToast(&quot;Error code:&quot; + getResultCode());<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;});<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</p><p>if (extra == null) {<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mHandler.post(new Runnable() {<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;@Override<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;public void run() {<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;showToast(&quot;No extra&quot;);<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;});<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</p><p>if (extra.containsKey(RecognizerIntent.EXTRA_SUPPORTED_LANGUAGES)) {<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mHandler.post(new Runnable() {</p><p>@Override<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;public void run() {<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;updateSupportedLanguages(extra.getStringArrayList(<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;RecognizerIntent.EXTRA_SUPPORTED_LANGUAGES));<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;});<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</p><p>if (extra.containsKey(RecognizerIntent.EXTRA_LANGUAGE_PREFERENCE)) {<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mHandler.post(new Runnable() {</p><p>@Override<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;public void run() {<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;updateLanguagePreference(<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;extra.getString(RecognizerIntent.EXTRA_LANGUAGE_PREFERENCE));<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;});<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br/> &nbsp; &nbsp; &nbsp; &nbsp;}</p><p>private void showToast(String text) {<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Toast.makeText(VoiceRecognition.this, text, 1000).show();<br/> &nbsp; &nbsp; &nbsp; &nbsp;}<br/> &nbsp; &nbsp;}<br/>}</p><p></p>','2013-12-13 07:15:32','2013-12-13 15:15:32'),(377,'114.247.232.56',5,'蓝牙通讯','<p>1.权限<br/>使用蓝牙设备需要先在Manifest中开放权限，位置如下。</p><p>&lt;manifest ...&gt; &nbsp; &nbsp; &nbsp; &nbsp; <br/> &nbsp; &nbsp;&lt;application ...&gt; &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ... &nbsp; <br/> &nbsp; &nbsp;&lt;/application&gt; &nbsp; <br/> &nbsp; <br/> &nbsp; &nbsp;// 使用蓝牙设备的权限 &nbsp; <br/> &nbsp; &nbsp;&lt;uses-permission Android:name=&quot;android.permission.BLUETOOTH&quot; /&gt; &nbsp; <br/> &nbsp; &nbsp;// 管理蓝牙设备的权限 &nbsp; <br/> &nbsp; &nbsp;&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt; &nbsp; <br/>&lt;/manifest&gt;</p><p><br/>2.打开蓝牙<br/>获得蓝牙适配器（Android.bluetooth.BluetoothAdapter），检查该设备是否支持蓝牙，如果支持，就打开蓝牙。 <br/>// 检查设备是否支持蓝牙 &nbsp; &nbsp;<br/>adapter = BluetoothAdapter.getDefaultAdapter(); &nbsp; <br/>if (adapter == null) &nbsp; <br/>{ &nbsp; <br/> &nbsp; &nbsp;// 设备不支持蓝牙 &nbsp; &nbsp;<br/>} &nbsp; <br/>// 打开蓝牙 &nbsp; &nbsp;<br/>if (!adapter.isEnabled()) &nbsp; <br/>{ &nbsp; <br/> &nbsp; &nbsp;Intent intent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE); &nbsp; <br/> &nbsp; &nbsp;// 设置蓝牙可见性，最多300秒 &nbsp; &nbsp;<br/> &nbsp; &nbsp;intent.putExtra(BluetoothAdapter.EXTRA_DISCOVERABLE_DURATION, 300); &nbsp; <br/> &nbsp; &nbsp;context.startActivity(intent); &nbsp; <br/>}</p><p><br/>3.获取已配对的蓝牙设备（Android.bluetooth.BluetoothDevice）<br/>首次连接某蓝牙设备需要先配对，一旦配对成功，该设备的信息会被保存，以后连接时无需再配对，所以已配对的设备不一定是能连接的。 <br/>BluetoothAdapter adapter = BluetoothAdapter.getDefaultAdapter(); &nbsp; <br/>Set&lt;BluetoothDevice&gt; devices = adapter.getBondedDevices(); &nbsp; <br/>for(int i=0; i&lt;devices.size(); i++) &nbsp; <br/>{ &nbsp; <br/> &nbsp; &nbsp;BluetoothDevice device = (BluetoothDevice) devices.iterator().next(); &nbsp; <br/> &nbsp; &nbsp;System.out.println(device.getName()); &nbsp; <br/>}</p><p><br/>4.搜索周围的蓝牙设备<br/>适配器搜索蓝牙设备后将结果以广播形式传出去，所以需要自定义一个继承广播的类，在onReceive方法中获得并处理蓝牙设备的搜索结果。 <br/>// 设置广播信息过滤 &nbsp; &nbsp;<br/>IntentFilter intentFilter = new IntentFilter(); &nbsp; <br/>intentFilter.addAction(BluetoothDevice.ACTION_FOUND); &nbsp; <br/>intentFilter.addAction(BluetoothDevice.ACTION_BOND_STATE_CHANGED); &nbsp; <br/>intentFilter.addAction(BluetoothAdapter.ACTION_SCAN_MODE_CHANGED); &nbsp; <br/>intentFilter.addAction(BluetoothAdapter.ACTION_STATE_CHANGED); &nbsp; <br/>// 注册广播接收器，接收并处理搜索结果 &nbsp; &nbsp;<br/>context.registerReceiver(receiver, intentFilter); &nbsp; <br/>// 寻找蓝牙设备，Android会将查找到的设备以广播形式发出去 &nbsp; &nbsp;<br/>adapter.startDiscovery(); &nbsp;<br/>自定义广播类 <br/>private BroadcastReceiver receiver = new BroadcastReceiver() { &nbsp; <br/> &nbsp; @Override &nbsp; <br/> &nbsp; public void onReceive(Context context, Intent intent) { &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;String action = intent.getAction(); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;if (BluetoothDevice.ACTION_FOUND.equals(action)) { &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;System.out.println(device.getName()); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;} &nbsp; <br/> &nbsp; } &nbsp; <br/>}</p><p><br/>5.蓝牙设备的配对和状态监视 <br/>private BroadcastReceiver receiver = new BroadcastReceiver() { &nbsp; <br/> &nbsp; &nbsp;@Override &nbsp; <br/> &nbsp; &nbsp;public void onReceive(Context context, Intent intent) { &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;String action = intent.getAction(); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;if (BluetoothDevice.ACTION_FOUND.equals(action)) { &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// 获取查找到的蓝牙设备 &nbsp; &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;System.out.println(device.getName()); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// 如果查找到的设备符合要连接的设备，处理 &nbsp; &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (device.getName().equalsIgnoreCase(name)) { &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// 搜索蓝牙设备的过程占用资源比较多，一旦找到需要连接的设备后需要及时关闭搜索 &nbsp; &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;adapter.cancelDiscovery(); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// 获取蓝牙设备的连接状态 &nbsp; &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;connectState = device.getBondState(); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;switch (connectState) { &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// 未配对 &nbsp; &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;case BluetoothDevice.BOND_NONE: &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// 配对 &nbsp; &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;try { &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Method createBondMethod = BluetoothDevice.class.getMethod(&quot;createBond&quot;); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;createBondMethod.invoke(device); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} catch (Exception e) { &nbsp; &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;e.printStackTrace(); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;break; &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// 已配对 &nbsp; &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;case BluetoothDevice.BOND_BONDED: &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;try { &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// 连接 &nbsp; &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;connect(device); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} catch (IOException e) { &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;e.printStackTrace(); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;break; &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} &nbsp; <br/> &nbsp; &nbsp; &nbsp; } else if(BluetoothDevice.ACTION_BOND_STATE_CHANGED.equals(action)) { &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// 状态改变的广播 &nbsp; &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (device.getName().equalsIgnoreCase(name)) { &nbsp; &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;connectState = device.getBondState(); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;switch (connectState) { &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;case BluetoothDevice.BOND_NONE: &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;break; &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;case BluetoothDevice.BOND_BONDING: &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;break; &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;case BluetoothDevice.BOND_BONDED: &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;try { &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// 连接 &nbsp; &nbsp;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;connect(device); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} catch (IOException e) { &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;e.printStackTrace(); &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;break; &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} &nbsp; <br/> &nbsp; &nbsp; &nbsp; &nbsp;} &nbsp; <br/> &nbsp; &nbsp;} &nbsp; <br/>} &nbsp;<br/>6.蓝牙设备的连接 <br/>private void connect(BluetoothDevice device) throws IOException { &nbsp; <br/> &nbsp; &nbsp;// 固定的UUID &nbsp; &nbsp;<br/> &nbsp; &nbsp;final String SPP_UUID = &quot;00001101-0000-1000-8000-00805F9B34FB&quot;; &nbsp; <br/> &nbsp; &nbsp;UUID uuid = UUID.fromString(SPP_UUID); &nbsp; <br/> &nbsp; &nbsp;BluetoothSocket socket = device.createRfcommSocketToServiceRecord(uuid); &nbsp; <br/> &nbsp; &nbsp;socket.connect(); &nbsp; <br/>}<br/></p><p></p>','2013-12-13 07:15:54','2013-12-13 15:15:54'),(378,'183.22.29.23',5,'MK文件内容','<pre class=\"brush:bash;toolbar:false;\">/////////////////////////////////////////////\r\n//Application.mk文件内容&nbsp;\r\n#APP_STL&nbsp;:=&nbsp;gnustl_shared\r\nAPP_STL&nbsp;:=&nbsp;gnustl_static\r\nAPP_ABI&nbsp;:=&nbsp;armeabi&nbsp;x86&nbsp;#编译平台\r\nAPP_OPTIM&nbsp;:=&nbsp;release\r\n&nbsp;\r\n/////////////////////////////////////////////\r\n//Android.mk文件内容&nbsp;\r\n进入jni目录再执行编译\r\nLOCAL_PATH&nbsp;:=&nbsp;$(call&nbsp;my-dir)\r\ninclude&nbsp;$(CLEAR_VARS)\r\n\r\n#模块名称\r\nLOCAL_MODULE&nbsp;&nbsp;&nbsp;&nbsp;:=&nbsp;inject\r\n&nbsp;\r\n#&nbsp;-Werror参数把warning当作error来看待\r\nLOCAL_CFLAGS&nbsp;&nbsp;&nbsp;&nbsp;:=&nbsp;-fvisibility=hidden&nbsp;-frtti&nbsp;-fexceptions&nbsp;-DANDROID\r\nLOCAL_CXXFLAGS&nbsp;+=&nbsp;$(LOCAL_CFLAGS)\r\nLOCAL_CPP_EXTENSION&nbsp;:=&nbsp;.cpp\r\nLOCAL_LDLIBS&nbsp;:=&nbsp;-L$(SYSROOT)/usr/lib&nbsp;-Wl&nbsp;-lc&nbsp;-lstdc++&nbsp;-ldl&nbsp;-llog&nbsp;&nbsp;\r\nLOCAL_C_INCLUDES&nbsp;:=&nbsp;&nbsp;$(LOCAL_CPP_SOURCE)\r\nLOCAL_STATIC_LIBRARIES&nbsp;:=&nbsp;libc\r\n\r\n#编译当前目录所有源码\r\nSOURCE_PATH&nbsp;:=&nbsp;./\r\nLOCAL_SRC_FILES&nbsp;:=&nbsp;$(foreach&nbsp;CPPFOLDER,$(SOURCE_PATH),$(shell&nbsp;find&nbsp;$(CPPFOLDER)&nbsp;-name&nbsp;&#39;*.c&#39;&nbsp;|&nbsp;xargs))\r\nLOCAL_SRC_FILES&nbsp;+=&nbsp;$(foreach&nbsp;CPPFOLDER,$(SOURCE_PATH),$(shell&nbsp;find&nbsp;$(CPPFOLDER)&nbsp;-name&nbsp;&#39;*.cpp&#39;&nbsp;|&nbsp;xargs))\r\n#编辑加上独立文件&nbsp;&nbsp;&nbsp;LOCAL_SRC_FILES&nbsp;+=&nbsp;file1.c&nbsp;file2.c&nbsp;file3.cpp\r\n\r\n#平台版本\r\nTARGET_PLATFORM&nbsp;:=&nbsp;android-9\r\nLOCAL_MODULE_TAGS&nbsp;:=&nbsp;debug\r\n\r\n#编译成so库\r\n#include&nbsp;$(BUILD_SHARED_LIBRARY)\r\n#静态库\r\n#include&nbsp;$(PREBUILT_STATIC_LIBRARY)\r\n#编译成执行程序\r\ninclude&nbsp;$(BUILD_EXECUTABLE)</pre><p><br/></p>','2013-12-13 07:16:13','2016-12-01 16:30:35'),(379,'114.247.232.56',5,'Layout代码使用','<p>FrameLayout.LayoutParams params = new FrameLayout.LayoutParams(<br/> &nbsp; &nbsp;LayoutParams.WRAP_CONTENT, 30);<br/> &nbsp;params.bottomMargin = 0;<br/> &nbsp;params.gravity = Gravity.BOTTOM;<br/> &nbsp;layout = new LinearLayout(this);<br/> &nbsp;layout.addView(adview);// 广告<br/> &nbsp;layout.setLayoutParams(params);<br/> &nbsp;layout.setOrientation(LinearLayout.VERTICAL);<br/> &nbsp;layout.addView(controlView);<br/> &nbsp;setContentView(layout);</p><p>&nbsp;</p><p>////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////</p><p>&nbsp;</p><p>LinearLayout layout = (LinearLayout)findViewById(R.id.mainLayout); <br/> <br/> &nbsp; &nbsp;// Add the adView to it <br/> &nbsp; &nbsp;layout.addView(adView);</p><p></p>','2013-12-13 07:16:31','2013-12-13 15:16:31'),(380,'114.247.232.56',5,'Activity样式和横竖屏','<p>&lt;activity android:name=&quot;pooea.com.WebActivity&quot; <span style=\"color: rgb(0, 0, 255);\"><strong>android:theme=&quot;@android:style/Theme.NoTitleBar.Fullscreen&quot;</strong> &nbsp;</span><strong><span style=\"color: rgb(0, 0, 255);\">android:screenOrientation=&quot;unspecified&quot;</span></strong> android:label=&quot;@string/pooea_web&quot;/&gt;</p><p>&nbsp;</p><p>&nbsp;</p><p>去掉信号栏 &nbsp;android:theme=&quot;@android:style/Theme.NoTitleBar.Fullscreen&quot;</p><p>&nbsp;</p><p>&nbsp;</p><p>自动变换横竖(默认值) android:screenOrientation=&quot;unspecified&quot;</p><p>横屏 &nbsp;android:screenOrientation=&quot;landscape&quot;</p><p>竖屏 android:screenOrientation=&quot;portrait&quot;</p><p>&nbsp;</p><p>&nbsp;</p><p>////////////////////////////////////////////////////////////////代码设置 ////////////////////////////////////</p><p>import android.content.pm.ActivityInfo;</p><p>&nbsp;</p><p>if (&lt;Activity名称&gt;.this.getRequestedOrientation() == ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE) {<br/> &nbsp; &nbsp; &nbsp;&lt;Activity名称&gt;.this.setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);<br/> &nbsp; &nbsp; } else if (&lt;Activity名称&gt;.this.getRequestedOrientation() == ActivityInfo.SCREEN_ORIENTATION_PORTRAIT) {<br/> &nbsp; &nbsp; &nbsp;&lt;Activity名称&gt;.this.setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);<br/> &nbsp; &nbsp; }</p><p></p>','2013-12-13 07:16:52','2013-12-13 15:16:52'),(381,'114.247.232.56',5,'WebView使用','<p>1.AndroidManifest.xml中必须使用许可&quot;android.permission.INTERNET&quot;,否则会出Web page not available错误。<br/>2.如果访问的页面中有Javascript，则webview必须设置支持Javascript。webview.getSettings().setJavaScriptEnabled(true); <br/>3.如果页面中链接，如果希望点击链接继续在当前browser中响应，而不是新开Android的系统browser中响应该链接，必须覆盖 webview的WebViewClient对象。<br/>&nbsp;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WebView mWebView =new WebView(this.getWindow().getContext());<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mWebView.loadUrl(&lt;getResources().getString(R.string.webActivityUrl)&gt;);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mWebView.setWebViewClient(new WebViewClient(){<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public boolean shouldOverrideUrlLoading(WebView view, String url){<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Log.v(null,&quot;我要连到&quot;+url);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; view.loadUrl(url);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return true;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; });<br/>&nbsp;</p><p>4.如果不做任何处理 ，浏览网页，点击系统“Back”键，整个Browser会调用finish()而结束自身，如果希望浏览的网 页回退而不是推出浏览器，需要在当前Activity中处理并消费掉该Back事件。</p><p><br/>public boolean onKeyDown(int keyCode, KeyEvent event){<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ((keyCode == KeyEvent.KEYCODE_BACK) &amp;&amp; mWebView.canGoBack()){<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mWebView.goBack();<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return true;<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return super.onKeyDown(keyCode, event);<br/>&nbsp;<br/>}<br/>&nbsp;<br/>&nbsp;<br/>&nbsp;<br/>下一步让我们来了解一下android中webview是如何支持javascripte自定义对象的，在w3c标准中js有 window，history，document等标准对象，同样我们可以在开发浏览器时自己定义我们的对象调用手机系统功能来处理，这样使用js就可以 为所欲为了。<br/>&nbsp;<br/>看一个实例：</p><p><br/>public class WebViewDemo extends Activity{ <br/>&nbsp;<br/>private WebView mWebView;<br/>&nbsp;<br/>private Handler mHandler = new Handler();<br/>&nbsp;<br/>&nbsp;<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp; public void onCreate(Bundle icicle){<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; super.onCreate(icicle);<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setContentView(R.layout.webviewdemo);<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mWebView = (WebView) findViewById(R.id.webview);<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WebSettings webSettings = mWebView.getSettings();<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; webSettings.setJavaScriptEnabled(true);<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mWebView.addJavascriptInterface(new Object(){<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public void clickOnAndroid(){<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mHandler.post(new Runnable(){<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public void run(){<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mWebView.loadUrl(&quot;javascript:wave()&quot;);<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; });<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }, &quot;demo&quot;);<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mWebView.loadUrl(&quot;<a href=\"file:///android_asset/demo.html\">file:///android_asset/demo.html</a>&quot;);<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp; }<br/>&nbsp;<br/>}<br/>&nbsp;</p><p>我们看addJavascriptInterface(Object obj,String interfaceName)这个方法，该方法将一个java对象绑定到一个javascript对象中，javascript对象名就是 interfaceName（demo），作用域是Global。这样初始化webview后，在webview加载的页面中就可以直接通过 javascript:window.demo访问到绑定的java对象了。来看看在html中是怎样调用的。</p><p><br/>&lt;html&gt;<br/>&nbsp;<br/>&lt;mce:script language=&quot;javascript&quot;&gt;&lt;!--<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp; function wave() { <br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp; document.getElementById(&quot;droid&quot;).src=&quot;android_waving.png&quot;; <br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp; }// --&gt;<br/>&nbsp;<br/>&lt;/mce:script&gt;<br/>&nbsp;<br/>&lt;body&gt;<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp; &lt;a onClick=&quot;window.demo.clickOnAndroid()&quot;&gt;<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp; &lt;img id=&quot;droid&quot; src=&quot;android_normal.png&quot; mce_src=&quot;android_normal.png&quot;/&gt;&lt;/a&gt;<br/>&nbsp;<br/>&lt;/body&gt;<br/>&nbsp;<br/>&lt;/html&gt;<br/>&nbsp;<br/>&nbsp;<br/>&nbsp;<br/>这样在javascript中就可以调用java对象的clickOnAndroid()方法了，同样我们可以在此对象中定义很多方法（比 如发短信，调用联系人列表等手机系统功能。）,这里wave()方法是java中调用javascript的例子。<br/>&nbsp;<br/>这里还有几个知识点： <br/>&nbsp;<br/>&nbsp;<br/>&nbsp;<br/>1)为了让WebView从apk文件中加载assets，Android SDK提供了一个schema，前缀为&quot;<a href=\"file:///android_asset/\">file:///android_asset/</a>&quot;。WebView遇到这样的schema，就去当前包中的 assets目录中找内容。如上面的&quot;<a href=\"file:///android_asset/demo.html\">file:///android_asset/demo.html</a>&quot;</p><p>&nbsp;<br/>2)addJavascriptInterface方法中要绑定的Java对象及方法要运行另外的线程中，不能运行在构造他的线程中，这也是使用 Handler的目的。<br/></p><p></p>','2013-12-13 07:18:59','2013-12-13 15:18:59'),(382,'114.247.232.56',5,'touch触摸事件','<p>public class SssActivity extends Activity {<br/> &nbsp; &nbsp;/** Called when the activity is first created. */<br/> &nbsp; &nbsp;@Override<br/> &nbsp; &nbsp;public void onCreate(Bundle savedInstanceState) {<br/> &nbsp; &nbsp; &nbsp; &nbsp;super.onCreate(savedInstanceState);<br/> &nbsp; &nbsp; &nbsp; &nbsp;setContentView(R.layout.main);<br/> &nbsp; &nbsp; &nbsp; &nbsp;<br/><span style=\"color: rgb(255, 0, 0);\"> &nbsp; OnTouchListener c=new OnTouchListener() {<br/> &nbsp; <br/> &nbsp; @Override<br/> &nbsp; public boolean onTouch(View v, MotionEvent event) {<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // TODO Auto-generated method stub<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int touchX = (int)event.getX();<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int touchY = (int)event.getY();</span></p><p><span style=\"color: rgb(255, 0, 0);\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TextView t=(TextView) findViewById(R.id.tt);<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; t.setText(&quot;touchX=&quot;+touchX+&quot;touchY=&quot;+touchY);<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return false;<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br/> &nbsp; &nbsp; &nbsp;};<br/> &nbsp;<br/> &nbsp; &nbsp; &nbsp; this.getWindow().getDecorView().setOnTouchListener(c);<br/></span> &nbsp; &nbsp;}</p><p></p>','2013-12-13 07:19:41','2013-12-13 15:19:41'),(383,'192.168.0.101',5,'android开发目录结构','<p><a style=\"font-size: 16px; text-decoration: underline;\" href=\"http://blog.csdn.net/Android_Tutor/article/details/5874367\" target=\"_blank\"><span style=\"font-size: 16px;\">http://blog.csdn.net/Android_Tutor/article/details/5874367<br/></span></a><a style=\"font-size: 16px; text-decoration: underline;\" href=\"http://blog.163.com/zmhot88@126/blog/static/16984664720109952935247/\" target=\"_blank\"><span style=\"font-size: 16px;\">http://blog.163.com/zmhot88@126/blog/static/16984664720109952935247/</span></a></p><p><span style=\"font-size: 16px;\">Android资源系统能跟踪所有非代码相关的应用程序。你可以使用 </span><a style=\"font-size: 16px; text-decoration: underline;\" href=\"http://www.chinaup.org/docs/reference/android/content/res/Resources.html\" rel=\"nofollow\" target=\"_blank\"><span style=\"font-size: 16px;\">资 源</span></a><span style=\"font-size: 16px;\"> 类来访问应用程序的资<span style=\"font-size: 18px;\">源，资源的实例通常和应用程序联系在一起， 你可以通过</span></span><a style=\"font-size: 18px; text-decoration: underline;\" href=\"http://www.chinaup.org/docs/reference/android/content/Context.html#getResources%28%29\" rel=\"nofollow\" target=\"_blank\"><span style=\"font-size: 18px;\">Context.getResources()</span></a><span style=\"font-size: 18px;\">来 访问。</span></p><p><span style=\"font-size: 16px;\"><strong>创建资源</strong></span></p><table cellspacing=\"2\" cellpadding=\"2\"><tbody><tr><th width=\"120\"><span style=\"font-size: 16px;\">路径</span></th><th scope=\"col\"><span style=\"font-size: 16px;\">资源类型 </span></th></tr><tr><td><br/><span style=\"font-size: 16px;\">res/anim/<br/></span></td><td><span style=\"font-size: 16px;\">XML文件被编译进 </span><a style=\"font-size: 16px; text-decoration: underline;\" href=\"http://www.chinaup.org/docs/reference/available-resources.html#animationdrawable\" rel=\"nofollow\" target=\"_blank\"><span style=\"font-size: 16px;\">逐 帧动画</span></a><span style=\"font-size: 16px;\"> 或 </span><a style=\"font-size: 16px; text-decoration: underline;\" href=\"http://www.chinaup.org/docs/reference/available-resources.html#tweenedanimation\" rel=\"nofollow\" target=\"_blank\"><span style=\"font-size: 16px;\">补 间动画</span></a><span style=\"font-size: 16px;\"> 的对象</span></td></tr><tr><td><br/><span style=\"font-size: 16px;\">res/drawable/<br/></span></td><td><p><span style=\"font-size: 16px;\">.png, .9.png, .jpg files 这些类型的文件被编译进下列这些图表资源列表<br/>为了获得这些资源的类型，使用 Resource.getDrawable(id)</span><a style=\"font-size: 16px; text-decoration: underline;\" href=\"http://www.chinaup.org/docs/reference/available-resources.html#imagefileresources\" rel=\"nofollow\" target=\"_blank\"><span style=\"font-size: 16px;\">位 图文件</span></a><br/><a style=\"font-size: 16px; text-decoration: underline;\" href=\"http://www.chinaup.org/docs/reference/available-resources.html#ninepatch\" rel=\"nofollow\" target=\"_blank\"><span style=\"font-size: 16px;\">9-patches (可改变尺寸的图像)</span></a><br/></p></td></tr><tr><td><br/><span style=\"font-size: 16px;\">res/layout/<br/></span></td><td><span style=\"font-size: 16px;\">可编译成屏幕布局的XML文件 (或者屏幕的一部分). 查看 </span><a style=\"font-size: 16px; text-decoration: underline;\" href=\"http://www.chinaup.org/docs/devel/ui/xml.html\" rel=\"nofollow\" target=\"_blank\"><span style=\"font-size: 16px;\">布局</span></a></td></tr><tr><td><br/><span style=\"font-size: 16px;\">res/values/<br/></span></td><td><p><span style=\"font-size: 16px;\">可编译成多种类型资源的文件 <br/>注意: 不像其他 res/ 文件夹,它能容纳任何数量的文件，但只是描述其创建而不是资源本身. XML的元素类型可以决定这些资源在R.class里什么位置被替换 . <br/>文件可以被命名为任何名字，文件夹里有一些典型的文件(一般约定文件以定义的元素类型后面部分为文件名）:<br/><br/>arrays.xml 定义数组 <br/>colors.xml 定义 </span><a style=\"font-size: 16px; text-decoration: underline;\" href=\"http://www.chinaup.org/docs/reference/available-resources.html#colordrawableresources\" rel=\"nofollow\" target=\"_blank\"><span style=\"font-size: 16px;\">颜色 </span></a><span style=\"font-size: 16px;\">和 </span><a style=\"font-size: 16px; text-decoration: underline;\" href=\"http://www.chinaup.org/docs/devel/resources-i18n.html#colorvals\" rel=\"nofollow\" target=\"_blank\"><span style=\"font-size: 16px;\">颜 色字串数值</span></a><span style=\"font-size: 16px;\">. 你可以使用Resources.getDrawable()以及 Resources.getColor(), respectively,取得这些资源.dimens.xml 定义 </span><a style=\"font-size: 16px; text-decoration: underline;\" href=\"http://www.chinaup.org/docs/reference/available-resources.html#dimension\" rel=\"nofollow\" target=\"_blank\"><span style=\"font-size: 16px;\">尺寸数据 </span></a><span style=\"font-size: 16px;\">. 使用 Resources.getDimension()取得这些资源。 strings.xml 定义字符串 数值 (使用 Resources.getString或Resources.getText()取得资源，（后者更好一点）getText()能取到在用户界面上显示的文本框里的文本。 styles.xml 定义</span><a style=\"font-size: 16px; text-decoration: underline;\" href=\"http://www.chinaup.org/android/reference/available-resources.html#stylesandthemes\" rel=\"nofollow\" target=\"_blank\"><span style=\"font-size: 16px;\">类 型</span></a><span style=\"font-size: 16px;\"> 对象。 <br/></span></p></td></tr><tr><td><br/><span style=\"font-size: 16px;\">res/xml/<br/></span></td><td><span style=\"font-size: 16px;\">任何XML文件可以进行编译，并能在运行时调用</span><a style=\"font-size: 16px; text-decoration: underline;\" href=\"http://www.chinaup.org/docs/reference/android/content/res/Resources.html#getXml%28int%29\" rel=\"nofollow\" target=\"_blank\"><span style=\"font-size: 16px;\">Resources.getXML()</span></a><span style=\"font-size: 16px;\"> 显示XML原文件。 </span></td></tr><tr><td><br/><span style=\"font-size: 16px;\">res/raw/<br/></span></td><td><span style=\"font-size: 16px;\">这里的任何文件都将直接被复制到设备上。编译产品时，这些数据不会被编译，它们被直接加入到程序包里。 为了在程序中使用这些资源，你可以调用</span><a style=\"font-size: 16px; text-decoration: underline;\" href=\"http://www.chinaup.org/docs/reference/android/content/res/Resources.html#openRawResource%28int%29\" rel=\"nofollow\" target=\"_blank\"><span style=\"font-size: 16px;\">Resources.openRawResource()</span></a><span style=\"font-size: 16px;\"> , 参数为ID： R.raw.somefilename.</span></td></tr></tbody></table><p><span style=\"font-size: 16px;\">&nbsp;</span></p><p><span style=\"font-size: 16px;\">&nbsp;</span></p><p><span style=\"font-size: 16px;\"><strong>对于不同的语言和设置支持不同的资源<br/></strong>例如，这里的项目字符串文件一个是英文版的，另一个是法文版的： </span></p><pre>MyApp/\r\n&nbsp;&nbsp;&nbsp;&nbsp;res/\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;values-en/\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strings.xml\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;values-fr/\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strings.xml</pre><p><span style=\"font-size: 16px;\">Android支持不同类型的修饰语，并可以加多条在文件夹名的后面， 修饰语之间以破折号分开。例如：一个绘图资源 类指定全部配置名称命名会像这样：</span></p><pre>MyApp/\r\n&nbsp;&nbsp;&nbsp;&nbsp;res/\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;drawable-en-rUS-port-160dpi-finger-keysexposed-qwerty-dpad-480x320/</pre><p><span style=\"font-size: 16px;\">更典型的，你可以仅仅指定部分特定的配置选项。只要保证所有的数值都是按顺序排列： </span></p><pre>MyApp/\r\n&nbsp;&nbsp;&nbsp;&nbsp;res/\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;drawable-en-rUS-finger/\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;drawable-port/\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;drawable-port-160dpi/\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;drawable-qwerty/&nbsp;修饰语&nbsp;值&nbsp;语言两个小写字母&nbsp;ISO&nbsp;639-1。例如:&nbsp;en,&nbsp;fr,&nbsp;es地区两个大写字母加上一个小写字母&#39;r&#39;&nbsp;ISO&nbsp;3166-1-alpha-2。&nbsp;例如:&nbsp;\r\nrUS,&nbsp;rFR,&nbsp;rES屏幕方向port,&nbsp;land,&nbsp;square屏幕像素92dpi,&nbsp;108dpi,&nbsp;等等&nbsp;触摸屏类型notouch,&nbsp;stylus,&nbsp;finger键盘是否有效keysexposed,&nbsp;keyshidden基本文本输入模式nokeys,&nbsp;qwerty,&nbsp;12key无触摸屏的主要\r\n导航模式notouch,&nbsp;dpad,&nbsp;trackball,&nbsp;wheel屏幕分辨率320x240,&nbsp;640x480,&nbsp;等等。大分辨率需要开始指定。</pre><p><span style=\"font-size: 16px;\">这个列表不包含一些特殊的参数，如载体，商标，设备/硬件，制造商。任何应用程序需要知道的信息都在资源修饰语里有说明。<br/>这里有一些通用的关于资源目录的命名指导：<br/><br/>各个变量用破折号分开 (每个基本的目录名后跟一个破折号) <br/>变量大小写敏感（其大小写法必须始终一致</span></p><p><br/></p>','2013-12-13 07:21:09','2017-08-09 19:24:05'),(384,'192.168.2.200',5,'Timer计时器使用','<p><span style=\"color: rgb(0, 128, 0);\"></span>&nbsp;</p><pre class=\"brush:java;toolbar:false\">import&nbsp;java.util.Timer;\r\nimport&nbsp;java.util.TimerTask;\r\nimport&nbsp;android.os.Handler;\r\nimport&nbsp;android.os.Message;\r\n\r\n&nbsp;//&nbsp;///////////////////////////////////\r\n&nbsp;//&nbsp;定时器执行UI操作\r\n\r\n&nbsp;&nbsp;private&nbsp;Handler&nbsp;handler&nbsp;=&nbsp;new&nbsp;Handler()&nbsp;{\r\n\r\n&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;public&nbsp;void&nbsp;handleMessage(Message&nbsp;msg)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;//&nbsp;TODO&nbsp;Auto-generated&nbsp;method&nbsp;stub\r\n&nbsp;&nbsp;&nbsp;super.handleMessage(msg);\r\n&nbsp;&nbsp;&nbsp;switch&nbsp;(msg.what)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;case&nbsp;0:\r\n&nbsp;&nbsp;&nbsp;&nbsp;Toast.makeText(MainActivity.this,&nbsp;&quot;hehehehe...&quot;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Toast.LENGTH_SHORT).show();\r\n&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;}\r\n&nbsp;};\r\n\r\n&nbsp;&nbsp;//////////////////////////////////////////////////\r\n&nbsp;&nbsp;private&nbsp;TimerTask&nbsp;task&nbsp;=&nbsp;new&nbsp;TimerTask()&nbsp;{\r\n\r\n&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;run()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;Message&nbsp;msg&nbsp;=&nbsp;new&nbsp;Message();\r\n&nbsp;&nbsp;&nbsp;&nbsp;msg.what&nbsp;=&nbsp;0;&nbsp;//&nbsp;消息code\r\n&nbsp;&nbsp;&nbsp;&nbsp;msg.obj&nbsp;=&nbsp;null;&nbsp;//&nbsp;消息内容\r\n&nbsp;&nbsp;&nbsp;&nbsp;handler.sendMessage(msg);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;System.gc();这一句最好加上.垃圾回收机制生效.防止某些版本系统关闭不了定时器&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;};\r\n\r\n&nbsp;&nbsp;//////////////////////////////////////////////////&nbsp;\r\n&nbsp;&nbsp;//&nbsp;添加一个Timer，可以让程序运行起来了\r\n&nbsp;&nbsp;Timer&nbsp;tim&nbsp;=&nbsp;new&nbsp;Timer();\r\n&nbsp;&nbsp;tim.schedule(task,&nbsp;500,&nbsp;1000);&nbsp;//&nbsp;延时500ms后执行，1000ms执行一次\r\n&nbsp;&nbsp;//timer.cancel();&nbsp;//退出计时器</pre><p><span style=\"color: rgb(0, 128, 0);\"></span></p><p>&nbsp;</p>','2013-12-13 07:21:32','2016-02-16 00:48:29'),(385,'27.44.86.246',5,'Alert弹出提示框','<pre class=\"brush:java;toolbar:false\">//&nbsp;提示框\r\nAlertDialog&nbsp;alert&nbsp;=&nbsp;new&nbsp;AlertDialog.Builder(XXXX.this).create();\r\nalert.setTitle(&quot;Connect&nbsp;Result&quot;);\r\nalert.setIcon(R.drawable.ic_dashboard_black_24dp);\r\nalert.setMessage(&quot;Success&quot;);\r\nDialogInterface.OnClickListener&nbsp;cl&nbsp;=&nbsp;new&nbsp;DialogInterface.OnClickListener()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;onClick(DialogInterface&nbsp;dialog,&nbsp;int&nbsp;which)&nbsp;{\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n};\r\nalert.setButton(DialogInterface.BUTTON_NEGATIVE,&nbsp;&quot;确定&quot;,&nbsp;cl);\r\nalert.setButton(DialogInterface.BUTTON_NEUTRAL,&nbsp;&quot;忽略&quot;,&nbsp;cl);\r\nalert.setButton(DialogInterface.BUTTON_POSITIVE,&nbsp;&quot;取消&quot;,&nbsp;cl);\r\nalert.show();</pre><p><br/></p><p>//取消提示框</p><p>alert.dismiss();</p><p><br/></p><p>//------------------------------------------------------------------------------------------------------</p><p>帮助类</p><pre class=\"brush:java;toolbar:false\">package&nbsp;ext.func;\r\n\r\nimport&nbsp;android.content.Context;\r\nimport&nbsp;android.content.DialogInterface;\r\nimport&nbsp;android.support.annotation.NonNull;\r\nimport&nbsp;android.support.v7.app.AlertDialog;\r\nimport&nbsp;android.zh.home.R;\r\n\r\nimport&nbsp;myinfo.reg.MyReg;\r\n\r\npublic&nbsp;class&nbsp;AssertAlert&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;public&nbsp;void&nbsp;show(@NonNull&nbsp;Context&nbsp;context,&nbsp;String&nbsp;title,&nbsp;String&nbsp;msg)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;提示框\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AlertDialog&nbsp;alert&nbsp;=&nbsp;new&nbsp;AlertDialog.Builder(context).create();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert.setTitle(title);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert.setIcon(R.drawable.ic_dashboard_black_24dp);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert.setMessage(msg);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DialogInterface.OnClickListener&nbsp;cl&nbsp;=&nbsp;new&nbsp;DialogInterface.OnClickListener()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;onClick(DialogInterface&nbsp;dialog,&nbsp;int&nbsp;which)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert.setButton(DialogInterface.BUTTON_NEGATIVE,&nbsp;context.getString(R.string.ok),&nbsp;cl);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert.show();\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;public&nbsp;void&nbsp;show(@NonNull&nbsp;Context&nbsp;context,&nbsp;int&nbsp;titleID,&nbsp;int&nbsp;msgID)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;提示框\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AlertDialog&nbsp;alert&nbsp;=&nbsp;new&nbsp;AlertDialog.Builder(context).create();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert.setTitle(context.getString(titleID));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert.setIcon(R.drawable.ic_dashboard_black_24dp);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert.setMessage(context.getString(msgID));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DialogInterface.OnClickListener&nbsp;cl&nbsp;=&nbsp;new&nbsp;DialogInterface.OnClickListener()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;onClick(DialogInterface&nbsp;dialog,&nbsp;int&nbsp;which)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert.setButton(DialogInterface.BUTTON_NEGATIVE,&nbsp;context.getString(R.string.ok),&nbsp;cl);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert.show();\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;public&nbsp;void&nbsp;show(@NonNull&nbsp;Context&nbsp;context,&nbsp;String&nbsp;title,&nbsp;String&nbsp;msg,DialogInterface.OnClickListener&nbsp;cl)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;提示框\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AlertDialog&nbsp;alert&nbsp;=&nbsp;new&nbsp;AlertDialog.Builder(context).create();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert.setTitle(title);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert.setIcon(R.drawable.ic_dashboard_black_24dp);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert.setMessage(msg);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert.setButton(DialogInterface.BUTTON_NEGATIVE,&nbsp;context.getString(R.string.ok),&nbsp;cl);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert.show();\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;public&nbsp;void&nbsp;show(@NonNull&nbsp;Context&nbsp;context,&nbsp;int&nbsp;titleID,&nbsp;int&nbsp;msgID,DialogInterface.OnClickListener&nbsp;cl)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;提示框\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AlertDialog&nbsp;alert&nbsp;=&nbsp;new&nbsp;AlertDialog.Builder(context).create();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert.setTitle(context.getString(titleID));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert.setIcon(R.drawable.ic_dashboard_black_24dp);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert.setMessage(context.getString(msgID));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert.setButton(DialogInterface.BUTTON_NEGATIVE,&nbsp;context.getString(R.string.ok),&nbsp;cl);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert.show();\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}</pre><p><br/></p>','2013-12-13 07:21:59','2017-08-29 01:57:22'),(386,'114.247.232.56',5,'弹出进度栏','<p>ProgressDialog progress = new ProgressDialog(this);<br/>progress.setMessage(&quot;我叫进度栏...&quot;);<br/>progress.show();<br/>// progress.dismiss();</p>','2013-12-13 07:22:15','2013-12-13 15:22:15'),(387,'114.247.232.56',5,'使用libs','<p>1.新建libs目录</p><p>2.将jar的libs放进目录里</p><p>3.打开工程属性(按Alt+Enter)</p><p>4.选择Java Build Path-&gt;Libraries</p><p>5.点AddJARs 将刚才添加到目录里的jar文件加入</p><p></p>','2013-12-13 07:22:43','2013-12-13 15:22:43'),(388,'27.44.8.163',5,'NDK使用','<p>1,准备android NDK 1.5<br/> &nbsp; &nbsp;下载android NDK 1.5 首先下载 android NDK 1.5 并将其解压到任一个盘，本人把它解压放C:android_ndkandroid-ndk-1.5_r1</p><p><br/>2,安装Cygwin<br/> &nbsp; &nbsp;到Cygwin官方网站下载安装向导文件setup.exe,单独建个目录存放此向导文件，然后执行setup.exe。到选择需要安装的包时除默认的安装包外，在开发选项上选上gcc和make，还有dbg等包，这里注意make要选3.81或更新的版本。安装时间依网速而定，经过笔者的多次下载测试，发现台湾地区的站点下载速度比较快。</p><p><br/></p><p>在MAC系统直接下载</p><pre class=\"brush:cpp;toolbar:false;\">&nbsp;&nbsp;(1)&nbsp;cd&nbsp;&nbsp;命令进入下载后ndk存放的目录&nbsp;&nbsp;cd&nbsp;/Users/hzh/Library/Android/ndk\r\n&nbsp;(2)执行解压命令&nbsp;./android-ndk-r10d-darwin-x86_64.bin</pre><p><span style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px;  background-color: rgb(255, 255, 255);\"></span><br/></p><p><br/>3,配置Cygwin<br/> &nbsp; &nbsp;安装完成后会在桌面上建立一个快捷方式，双击Cygwin，在shell提示符下修改当前目录的配置文件.bash_profile,在文件后边添加上以下两行：</p><p>例如这个目录下的文件cygwinhome[用户名]<br/>#Android Develop<br/></p><p>#or running /cygdrive/d/eclipse/android-ndk-r9d/ndk-build -B<br/>NDK=/cygdrive/d/eclipse/android-ndk-r9d/ndk-build</p><p>export NDK<br/><br/>4.先到工程目录<br/>cd your_project_name(你的工程目录)<br/>5.然后新建jni文件夹<br/>mkdir jni<br/>6.把编写好的c文件，h文件，Android.mk文件放到jni文件夹下<br/>7.在cygwin中使用ndk命令<br/>$NDK -B &nbsp; &nbsp; (ndk_root为本地ndk的完整路径)<br/></p>','2013-12-13 07:23:07','2017-08-21 01:12:14'),(389,'114.247.232.56',5,'添加并打开新Activity','<p><span style=\"font-size: 16px;\">第一步：新建一个继承Activity的类，如：NewActivity <br/>public class NewActivity extends Activity { <br/> &nbsp; &nbsp;@Override protected void onCreate(Bundle savedInstanceState) { <br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; super.onCreate(savedInstanceState); <br/> &nbsp; //这里可以使用setContentView(R.layout.xxx)显示某个视图.... <br/> &nbsp; &nbsp; } <br/>} <br/>第二步：需要在功能清单AndroidManifest.xml文件中添加进上面Activity配置代码(红色部分)： <br/>&lt;manifest xmlns:android=&quot;<a href=\"http://schemas.android.com/apk/res/android\" target=\"_blank\">http://schemas.android.com/apk/res/android</a>&quot; <br/> &nbsp; &nbsp; &nbsp;package=&quot;cn.itcast.action&quot; <br/> &nbsp; &nbsp; &nbsp;android:versionCode=&quot;1&quot; <br/> &nbsp; &nbsp; &nbsp;android:versionName=&quot;1.0&quot;&gt; <br/> &nbsp; &nbsp;&lt;application android:icon=&quot;@drawable/icon&quot; android:label=&quot;@string/app_name&quot;&gt; <br/> &nbsp; &nbsp; &nbsp; &nbsp;..... <br/> &nbsp; &nbsp; <span style=\"color: rgb(255, 0, 0);\">&lt;activity android:name=&quot;.NewActivity&quot; android:label=&quot;@string/app_name&quot;/&gt; <br/></span> &nbsp; &nbsp;&lt;/application&gt; <br/> &nbsp; &nbsp;... <br/>&lt;/manifest&gt; <br/>android:name属性值的前面加了一个点表示NewActivity是当前包cn.itcast.action下的类，如果类在应用的当前包下，可以省略点符号，如果类在应用的子包下必须加点，如：NewActivity类在cn.itcast.action.user包下可以这样写：&lt;activity android:name=“.user.NewActivity“ /&gt; </span></p><p><span style=\"font-size: 16px;\"></span></p><p><span style=\"font-size: 16px;\"><strong>======================= &nbsp;打开 =====================</strong> &nbsp;</span></p><p><br/><span style=\"font-size: 16px;\">第二种：打开新的Activity，并传递若干个参数给它： <br/>public class MainActivity extends Activity { <br/> &nbsp;@Override protected void onCreate(Bundle savedInstanceState) { </span></p><blockquote dir=\"ltr\"><p><span style=\"font-size: 16px;\"><span style=\"color: rgb(255, 0, 0); font-size: 16px;\">Intent intent = new Intent(MainActivity.this, NewActivity.class);<br/>Bundle bundle = new Bundle();//该类用作携带数据 <br/>bundle.putString(&quot;name&quot;, &quot;我是小鸿&quot;); <br/>bundle.putInt(&quot;age&quot;, 4); <br/>intent.putExtras(bundle);//附带上额外的数据 <br/></span><span style=\"color: rgb(255, 0, 0); font-size: 2px;\">//普通打开</span><span style=\"color: rgb(255, 0, 0); font-size: 16px;\"></span></span></p><p dir=\"ltr\"><span style=\"color: rgb(255, 0, 0); font-size: 16px;\">//startActivity(intent);</span></p><p dir=\"ltr\"><span style=\"color: rgb(255, 0, 0); font-size: 16px;\">//带返回结果</span></p><p dir=\"ltr\"><span style=\"color: rgb(255, 0, 0); font-size: 16px;\">startActivityForResult(intent,0);</span></p></blockquote><p><span style=\"font-size: 16px;\">} </span></p><p><span style=\"font-size: 16px;\"><br/></span></p><p><span style=\"color: rgb(255, 0, 0); font-size: 16px;\">//带窗体反回结果</span></p><p><span style=\"color: rgb(255, 0, 0); font-size: 16px;\">@Override</span></p><p><span style=\"color: rgb(255, 0, 0); font-size: 16px;\">	protected void onActivityResult(int requestCode, int ResultCode, Intent data) {</span></p><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><p><span style=\"color: rgb(255, 0, 0); font-size: 16px;\">//小型提示框打开</span></p><p><span style=\"color: rgb(255, 0, 0); font-size: 16px;\">Toast.makeText(MainActivity.this,</span></p><p><span style=\"color: rgb(255, 0, 0); font-size: 16px;\">data.getStringExtra(&quot;name&quot;) + data.getIntExtra(&quot;age&quot;, 1), 3)</span></p><p><span style=\"color: rgb(255, 0, 0); font-size: 16px;\">.show();</span></p><p><span style=\"color: rgb(255, 0, 0); font-size: 16px;\">super.onActivityResult(requestCode, ResultCode, data);</span></p></blockquote><p><span style=\"color: rgb(255, 0, 0); font-size: 16px;\">	}</span></p><p><span style=\"font-size: 16px;\"><br/></span></p><p><span style=\"font-size: 16px;\">在新的Activity中接收前面Activity传递过来的参数： <br/>public class NewActivity extends Activity { <br/></span></p><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><span style=\"font-size: 16px;\">@Override protected void onCreate(Bundle savedInstanceState) {<br/> </span></blockquote><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><span style=\"font-size: 16px;\">//........ </span></blockquote><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><span style=\"color: rgb(255, 0, 0); font-size: 16px;\">Bundle bundle = this.getIntent().getExtras();</span></blockquote><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><span style=\"color: rgb(255, 0, 0); font-size: 16px;\">final String name = bundle.getString(&quot;name&quot;);</span></blockquote><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><span style=\"color: rgb(255, 0, 0); font-size: 16px;\">final int age = bundle.getInt(&quot;age&quot;);</span></blockquote></blockquote><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><span style=\"font-size: 2px;\"><span style=\"color: rgb(255, 0, 0); font-size: 16px;\"> </span>} </span></blockquote><p><span style=\"font-size: 16px;\"><br/></span></p><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><p><span style=\"font-size: 16px;\">//关闭窗体</span></p></blockquote><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><p><span style=\"font-size: 16px;\"></span><p><span style=\"font-size: 16px;\">public void event() {</span></p><p></p><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><p><span style=\"font-size: 16px;\"></span><p><span style=\"font-size: 16px;\">OnClickListener cl = new OnClickListener() {</span></p><p></p><p></p></p></blockquote><p></p></p></blockquote><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><p><span style=\"font-size: 16px;\"></span><p><br/></p><p></p><p></p></p></blockquote></blockquote><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><p><span style=\"font-size: 16px;\"></span><p><span style=\"font-size: 16px;\">@Override</span></p><p></p><p></p></p></blockquote></blockquote><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><p><span style=\"font-size: 16px;\"></span><p><span style=\"font-size: 16px;\">public void onClick(View v) {</span></p><p></p><p></p></p></blockquote></blockquote></blockquote><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><p><span style=\"font-size: 16px;\"></span><p><span style=\"font-size: 16px;\">// 关闭并反回结果</span></p><p></p><p></p></p></blockquote></blockquote></blockquote><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><p><span style=\"font-size: 16px;\"></span><p><span style=\"color: rgb(255, 0, 0); font-size: 16px;\">Intent data = new Intent();</span></p><p></p><p></p></p></blockquote></blockquote></blockquote><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><p><span style=\"font-size: 16px;\"></span><p><span style=\"color: rgb(255, 0, 0); font-size: 16px;\">data.putExtra(&quot;name&quot;, &quot;张三&quot;);</span></p><p></p><p></p></p></blockquote></blockquote></blockquote><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><p><span style=\"font-size: 16px;\"></span><p><span style=\"color: rgb(255, 0, 0); font-size: 16px;\">data.putExtra(&quot;age&quot;, 23);</span></p><p></p><p></p></p></blockquote></blockquote></blockquote><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><p><span style=\"font-size: 16px;\"></span><p><span style=\"color: rgb(255, 0, 0); font-size: 16px;\">NewActivity.this.setResult(1, data);</span></p><p></p><p></p></p></blockquote></blockquote></blockquote><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><p><span style=\"font-size: 16px;\"></span><p><span style=\"color: rgb(255, 0, 0); font-size: 16px;\">NewActivity.this.finish();</span></p><p></p><p></p></p></blockquote></blockquote></blockquote></blockquote><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><p><span style=\"font-size: 16px;\"></span><p><span style=\"font-size: 16px;\">}</span></p><p></p><p></p></p></blockquote></blockquote></blockquote><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><p><span style=\"font-size: 16px;\"></span><p><span style=\"font-size: 16px;\">};</span></p><p></p><p></p></p></blockquote><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><p><span style=\"font-size: 16px;\"></span><p><span style=\"font-size: 16px;\">Button btn = (Button) findViewById(R.id.close_video);</span></p><p></p><p></p></p></blockquote><blockquote style=\"margin: 0px 0px 0px 40px; padding: 0px; border: currentColor;\"><p><span style=\"font-size: 16px;\"></span><p><span style=\"font-size: 16px;\">btn.setOnClickListener(cl);</span></p><p></p><p></p></p></blockquote><p><span style=\"font-size: 16px;\"></span><p><span style=\"font-size: 16px;\">}</span></p><p></p><p></p></p></blockquote><p><span style=\"font-size: 16px;\">} </span></p><p></p>','2013-12-13 07:23:38','2013-12-13 15:23:38'),(390,'114.247.232.56',5,'绑定控件事件','<p>import android.view.View;<br/>import android.view.View.OnClickListener;<br/>import android.widget.Button;<br/>import android.widget.TextView;</p><p>&nbsp;</p><p>OnClickListener cl=new OnClickListener() {<br/><br/> &nbsp; public void onClick(View v) {<br/> &nbsp; &nbsp; &nbsp;if (v.getId() == R.id.button1) {<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;setTitle(&quot;ANDROID 你妹的&quot;);<br/></p><p>} &nbsp; &nbsp;<br/> &nbsp; &nbsp; &nbsp;TextView t=(TextView)findViewById(R.id.textView1);<br/> &nbsp; &nbsp; &nbsp; t.setText(&quot;你爷爷的&quot;);<br/> &nbsp; }<br/> };<br/> &nbsp;</p><p>Button b=(Button)findViewById(R.id.button1);<br/> &nbsp;b.setOnClickListener(cl);</p><p></p>','2013-12-13 07:23:56','2013-12-13 15:23:56'),(391,'27.44.8.163',5,'javah用法生成jni头文件','<p><span style=\"font-size: 16px;\"><strong>1 在随便一个目录建立一个CAee.java文件,内容为</strong></span></p><p><span style=\"font-size: 16px;\">package han.zh;</span></p><p><span style=\"font-size: 16px;\">public class CAee {<br/> &nbsp; &nbsp;public native int add(int a,int b);</span></p><p><span style=\"font-size: 16px;\">&nbsp;</span></p><p><span style=\"font-size: 16px;\">static {<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;try {<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//CAee即为libCAee.so<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; System.loadLibrary(&quot;CAee&quot;);<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} catch (UnsatisfiedLinkError e) {<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Log.e(&quot;lib-err&quot;, e.getMessage());<br/> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br/> &nbsp; &nbsp;}<br/>}<br/>//package后面的包名以&quot;.&quot;分隔即目录的层次, han.zh即两个文件夹/han/zh/CAee.java</span></p><p><span style=\"font-size: 16px;\">//注:package的包名跟目录文件夹层次一定要对应不然会出错</span></p><p><span style=\"font-size: 16px;\">&nbsp;</span></p><p><span style=\"font-size: 16px;\"><strong>2 使用命令 </strong></span></p><p><span style=\"font-size: 16px;\">javah han.zh.CAee</span></p><p><span style=\"font-size: 16px;\">#格式为 javah &lt;包名&gt;.&lt;文件名&gt;</span></p><p><span style=\"font-size: 16px;\">#如果package不存在即直接 javah &lt;文件名&gt;</span></p><p><span style=\"font-size: 16px;\">&nbsp;</span></p><p><span style=\"font-size: 16px;\"><strong>3 找到生成的.h文件这就是jni的头文件</strong></span></p><p><span style=\"font-size: 16px;\">&nbsp;</span></p><p><span style=\"font-size: 16px;\"><strong>4 为jni头文件建立.c的内容文件,里面调用其它C函数的接口例如</strong></span></p><blockquote style=\"margin-right: 0px;\" dir=\"ltr\"><p><span style=\"font-size: 16px;\"><strong>1) 生成了han_zh_CAee.h文件</strong></span></p><p><span style=\"font-size: 16px;\">/* DO NOT EDIT THIS FILE - it is machine generated */<br/>#include &lt;jni.h&gt;<br/>/* Header for class han_zh_CAee */</span></p><p><span style=\"font-size: 16px;\">#ifndef _Included_han_zh_CAee<br/>#define _Included_han_zh_CAee<br/>#ifdef __cplusplus<br/>extern &quot;C&quot; {<br/>#endif<br/>/*<br/> * Class: &nbsp; &nbsp; han_zh_CAee<br/> * Method: &nbsp; &nbsp;add<br/> * Signature: (II)I<br/> */<br/>JNIEXPORT jint JNICALL Java_han_zh_CAee_add<br/> &nbsp;(JNIEnv *, jobject, jint, jint);</span></p><p><span style=\"font-size: 16px;\">#ifdef __cplusplus<br/>}<br/>#endif<br/>#endif</span></p><p><span style=\"font-size: 16px;\"></span></p><p><span style=\"font-size: 16px;\"><strong>2) 然后添加一个han_zh_CAee.c文件<br/></strong>内容为</span></p><p><span style=\"font-size: 16px;\">JNIEXPORT jint JNICALL Java_han_zh_CAee_add<br/> &nbsp;(JNIEnv * jenv, jobject jobj, jint one, jint two)</span></p><p><span style=\"font-size: 16px;\">{</span></p><p><span style=\"font-size: 16px;\"> &nbsp; &nbsp;return one+two;</span></p><p><span style=\"font-size: 16px;\">}</span></p><p><span style=\"font-size: 16px;\">&nbsp;</span></p><p><span style=\"font-size: 16px;\">&nbsp;</span></p></blockquote><p dir=\"ltr\"><span style=\"font-size: 16px;\"><strong>5 &nbsp;将han_zh_CAee.c文件写其它C文件一齐打包成.so动态连接库嵌入到android工程里使用</strong></span></p><p dir=\"ltr\"><span style=\"font-size: 16px;\"><strong> &nbsp; &nbsp;接口文件为CAee.java</strong></span></p><p><br/></p><p><strong>6.注意env对象的调用</strong></p><pre class=\"brush:cpp;toolbar:false;\">\r\nC++&nbsp;:\r\njbyte&nbsp;&nbsp;&nbsp;*arr&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;&nbsp;env-&gt;&nbsp;GetByteArrayElements(jarr,&nbsp;&nbsp;&nbsp;0);&nbsp;\r\n\r\nC:\r\njbyte&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;arr&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;&nbsp;(*env)-&gt;&nbsp;GetByteArrayElements(env,jarr,&nbsp;&nbsp;&nbsp;NULL);</pre><p><br/></p>','2013-12-13 07:24:24','2017-08-21 03:00:08'),(392,'114.247.232.56',5,'添加资源','<pre id=\"best-answer-content\">在res目录下新建一个raw目录，然后把txt文件放在该目录下。\r\n通过&nbsp;InputStream&nbsp;is&nbsp;=&nbsp;getResources().openRawResource(R.raw.文件名)；读取</pre><pre>如果是图片就放在drawable目录\r\n就是资源放在相应的目录下才能进行操作</pre><pre>然后在工程列表下点击刷新refresh</pre><p></p>','2013-12-13 07:24:49','2013-12-13 15:24:49'),(393,'192.168.1.51',5,'按钮弹出菜单Menu','<p>import android.util.Log;<br/>import android.view.Menu;<br/>import android.view.MenuItem;</p><pre class=\"brush:java;toolbar:false;\">/////////////////////////////////////////////////////////////////////////////////////////////////////\r\npublic&nbsp;boolean&nbsp;onCreateOptionsMenu(Menu&nbsp;menu)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;super.onCreateOptionsMenu(menu);\r\n&nbsp;&nbsp;&nbsp;&nbsp;menu.clear();\r\n&nbsp;&nbsp;&nbsp;&nbsp;Log.e(&quot;Android&nbsp;menu&quot;,&quot;&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;menu.add(0,Menu.FIRST,0,&quot;1号&quot;).setIcon(R.drawable.easylink2);\r\n&nbsp;&nbsp;&nbsp;&nbsp;menu.add(0,Menu.FIRST+1,0,&quot;2号&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;true;\r\n}\r\npublic&nbsp;boolean&nbsp;onMenuOpened&nbsp;(int&nbsp;featureId,&nbsp;Menu&nbsp;menu)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;Log.d(&quot;Android&nbsp;menu&quot;,&quot;open&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;true;\r\n}\r\n@Override\r\nprotected&nbsp;boolean&nbsp;onPrepareOptionsPanel(View&nbsp;view,&nbsp;Menu&nbsp;menu)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(menu&nbsp;!=&nbsp;null)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(menu.getClass()&nbsp;==&nbsp;MenuBuilder.class)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Method&nbsp;m&nbsp;=&nbsp;menu.getClass().getDeclaredMethod(&quot;setOptionalIconsVisible&quot;,&nbsp;Boolean.TYPE);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m.setAccessible(true);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m.invoke(menu,&nbsp;true);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;catch&nbsp;(Exception&nbsp;e)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log.v(&quot;&quot;,getClass().getSimpleName()&nbsp;+&nbsp;&quot;onMenuOpened...unable&nbsp;to&nbsp;set&nbsp;icons&nbsp;for&nbsp;overflow&nbsp;menu&quot;&nbsp;+&nbsp;e);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;super.onPrepareOptionsPanel(view,&nbsp;menu);\r\n};\r\npublic&nbsp;void&nbsp;onOptionsMenuClosed&nbsp;(Menu&nbsp;menu)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;Log.d(&quot;Android&nbsp;menu&quot;,&quot;close&quot;);\r\n}\r\npublic&nbsp;boolean&nbsp;onOptionsItemSelected&nbsp;(MenuItem&nbsp;item)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;switch(item.getItemId())\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;Menu.FIRST:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log.d(&quot;Android&nbsp;menu&quot;,&quot;Menu.FIRST&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;Menu.FIRST+1:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log.d(&quot;Android&nbsp;menu&quot;,&quot;Menu.FIRST+1&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;super.onOptionsItemSelected(item);\r\n}</pre><p><br/></p>','2013-12-13 07:25:08','2016-12-05 12:35:05'),(394,'14.222.29.93',3,'获取uitableview选中的cell','<p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(69, 69, 69); font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px; white-space: normal; background-color: rgb(255, 255, 255);\">for (NSInteger i = 0; i &lt; [[peopleTableView visibleCells] count]; i++)&nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(69, 69, 69); font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px; white-space: normal; background-color: rgb(255, 255, 255);\">{</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(69, 69, 69); font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;UITableViewCell *cell = [[peopleTableView visibleCells] objectAtIndex:i];</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(69, 69, 69); font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;if (cell.accessoryType ==UITableViewCellAccessoryCheckmark) //将勾选的人员添加到列表中</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(69, 69, 69); font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;{</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(69, 69, 69); font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Item*item = (Item *)[NextPeopleList.SelectList objectAtIndex:i];</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(69, 69, 69); font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[peopleList addObject:item];</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(69, 69, 69); font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isCheck = TRUE;</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(69, 69, 69); font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;}</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(69, 69, 69); font-family: Tahoma, Helvetica, Arial, STHeiti; font-size: 14px; line-height: 21px; white-space: normal; background-color: rgb(255, 255, 255);\">}</p><p><br/></p>','2013-12-14 01:17:46','2013-12-14 09:17:46'),(396,'14.217.225.59',35,'ADA开发环境的建立','<p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: small;\"><span style=\"font-family: &#39;Times New Roman&#39;;\">ADA</span>开发环境的建立</span></p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: small; font-family: &#39;Times New Roman&#39;;\">Author: misty (qibing83@yahoo.com.cn)</span></p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: small;\"><span style=\"font-family: &#39;Times New Roman&#39;;\"><strong>1.1</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>Windows</strong></span><strong>上开发环境的建立</strong></span></p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: small;\"><span style=\"font-family: &#39;Times New Roman&#39;;\">1.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>下载<span style=\"font-family: &#39;Times New Roman&#39;;\">gnat</span>安装软件，<span style=\"font-family: &#39;Times New Roman&#39;;\">gnat</span>软件下载地址：<a href=\"https://libre.adacore.com/\" style=\"color: rgb(51, 102, 153); text-decoration: none;\"><span style=\"color: rgb(128, 0, 128); font-family: &#39;Times New Roman&#39;;\">https://libre.adacore.com</span></a></span><span style=\"font-size: small;\"><span style=\"font-family: &#39;Times New Roman&#39;;\">&nbsp;</span>，下载软件<span style=\"font-family: &#39;Times New Roman&#39;;\">GNAT GPL Edition</span>，下载时需要用户登录，下载文件：<span style=\"font-family: &#39;Times New Roman&#39;;\">gnat-gpl-2008-pentium-mingw32msv-bin.exe</span>和<span style=\"font-family: &#39;Times New Roman&#39;;\">gnatbench-2.1.0-pentium-mingw32msv-bin-eclipse.exe</span>。<span style=\"font-family: &#39;Times New Roman&#39;;\">GTKADA</span>下载文件：<span style=\"font-family: &#39;Times New Roman&#39;;\">GtkAda-gpl-2.10.2.tgz</span>和<span style=\"font-family: &#39;Times New Roman&#39;;\">gtkada-gpl-2.10.2-nt.exe</span></span></p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: small;\"><span style=\"font-family: &#39;Times New Roman&#39;;\">2.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>安装<span style=\"font-family: &#39;Times New Roman&#39;;\">gnat</span>软件，点击安装<span style=\"font-family: &#39;Times New Roman&#39;;\">gnat-gpl-2008-pentium-mingw32msv-bin.exe</span>，安装后还需要设置环境变量<span style=\"font-family: &#39;Times New Roman&#39;;\">ENV_PATH</span>的值，在“我的电脑”<span style=\"font-family: &#39;Times New Roman&#39;;\">-</span>“属性”<span style=\"font-family: &#39;Times New Roman&#39;;\">-</span>“高级”<span style=\"font-family: &#39;Times New Roman&#39;;\">-</span>“环境变量”<span style=\"font-family: &#39;Times New Roman&#39;;\">-</span>“新建”，然后把环境变量<span style=\"font-family: &#39;Times New Roman&#39;;\">ENV_PATH</span>赋值为<span style=\"font-family: &#39;Times New Roman&#39;;\">bin</span>安装路径，比如：如果<span style=\"font-family: &#39;Times New Roman&#39;;\">gnat</span>安装在<span style=\"font-family: &#39;Times New Roman&#39;;\">D</span>盘中，则<span style=\"font-family: &#39;Times New Roman&#39;;\">ENV_PATH=D:/GANT/bin</span>（这样是为了解决“找不到<span style=\"font-family: &#39;Times New Roman&#39;;\">gnatmake</span>”的错误提示问题）。</span></p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: small; font-family: &#39;Times New Roman&#39;;\">Error message : &quot;gnatmake is not recognized as an internal or external command&quot;</span></p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: small; font-family: &#39;Times New Roman&#39;;\">&nbsp;Technote (FAQ)</span></p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: small; font-family: &#39;Times New Roman&#39;;\">&nbsp; Problem</span></p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: small; font-family: &#39;Times New Roman&#39;;\">During an Ada build on Windows using the gnat compiler, the following error is encountered:</span></p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: small; font-family: &#39;Times New Roman&#39;;\">&quot;gnatmake&quot; is not recognized as an internal or external command&quot;&nbsp;</span></p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: small; font-family: &#39;Times New Roman&#39;;\">&nbsp; Cause</span></p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: small; font-family: &#39;Times New Roman&#39;;\">In the &quot;Ada Win32 - Gnat 3.11&quot; Target Deployment Port (TDP), the path to the compiler is predefined. If the compiler is not actually installed in this location, the error results when during the build gnatmake is invoked.&nbsp;</span></p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: small; font-family: &#39;Times New Roman&#39;;\">&nbsp; Solution</span></p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: small; font-family: &#39;Times New Roman&#39;;\">Open the TDP and in Basic Settings locate the environment variable ENV_PATH. Then update it to reflect the current installation path of the Gnat compiler.</span></p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: small;\"><span style=\"font-family: &#39;Times New Roman&#39;;\"><strong>1.2</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>Linux ubuntu&nbsp;</strong></span><strong>上开发环境的建立</strong></span></p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: small;\"><span style=\"font-family: &#39;Times New Roman&#39;;\">1.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>下载安装<span style=\"font-family: &#39;Times New Roman&#39;;\">gnat</span>软件，在<span style=\"font-family: &#39;Times New Roman&#39;;\">ubuntu</span>上可以使用<span style=\"font-family: &#39;Times New Roman&#39;;\">#sudo apt-get install gnat</span>自动下载安装<span style=\"font-family: &#39;Times New Roman&#39;;\">gnat</span>软件包，默认安装在<span style=\"font-family: &#39;Times New Roman&#39;;\">/usr/bin</span>目录下。（也可以下载<span style=\"font-family: &#39;Times New Roman&#39;;\">gnat-gpl-2008-i686-gnu-linux-libc2.3-bin.tar.gz</span>软件包自己安装）。</span></p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: small;\"><span style=\"font-family: &#39;Times New Roman&#39;;\">2.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>下载安装<span style=\"font-family: &#39;Times New Roman&#39;;\">gtkada</span>软件，到如上网站下载<span style=\"font-family: &#39;Times New Roman&#39;;\">GtkAda-gpl-2.10.2.tgz</span>软件包，用<span style=\"font-family: &#39;Times New Roman&#39;;\">-zxvf</span>解压后，运行<span style=\"font-family: &#39;Times New Roman&#39;;\">#./configure –prefix=/opt/gtkada</span>，<span style=\"font-family: &#39;Times New Roman&#39;;\">#make install</span>安装到目录<span style=\"font-family: &#39;Times New Roman&#39;;\">/opt/gtkada</span>下。</span></p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: small;\"><span style=\"font-family: &#39;Times New Roman&#39;;\">3.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>设置环境变量，在文件<span style=\"font-family: &#39;Times New Roman&#39;;\">/etc/profile</span>中设置：<span style=\"font-family: &#39;Times New Roman&#39;;\">#export PATH=$PATH:/opt/gtkada/bin</span>，<span style=\"font-family: &#39;Times New Roman&#39;;\">#export LD_LIBRARY_PATH=$ LD_LIBRARY_PATH:/opt/gtkada/lib</span>，<span style=\"font-family: &#39;Times New Roman&#39;;\">#export FONTCONFIG_FILE=/etc/fonts/fonts.conf</span>。</span></p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: small;\"><span style=\"font-family: &#39;Times New Roman&#39;;\">4.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>编译程序，用命令<span style=\"font-family: &#39;Times New Roman&#39;;\">#gnatmake &lt;main-file&gt;</span>可以编译<span style=\"font-family: &#39;Times New Roman&#39;;\">ada</span>程序并输出一个可执行程序；使用命令<span style=\"font-family: &#39;Times New Roman&#39;;\">#gnatmake &lt;main-file&gt; `gtkada-config`</span>编译<span style=\"font-family: &#39;Times New Roman&#39;;\">gtkada</span>程序并输出一个可执行程序，注意<span style=\"font-family: &#39;Times New Roman&#39;;\">gtkada-config</span>两边的符号是<span style=\"font-family: &#39;Times New Roman&#39;;\">tab</span>键上方的那个按键。</span></p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: small;\">1.3 ada常用的技术网站</span></p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: small; font-family: &#39;Times New Roman&#39;;\">1．&nbsp;&nbsp;<a href=\"http://www.adacore.com/\" style=\"color: rgb(51, 102, 153); text-decoration: none;\"><span style=\"color: rgb(0, 0, 255);\">www.adacore.com</span></a></span></p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: small; font-family: &#39;Times New Roman&#39;;\">2．&nbsp;&nbsp;<a href=\"http://www.adahome.com/\" style=\"color: rgb(51, 102, 153); text-decoration: none;\"><span style=\"color: rgb(0, 0, 255);\">www.adahome.com</span></a></span></p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: small; font-family: &#39;Times New Roman&#39;;\">3．&nbsp;&nbsp;<a href=\"http://www.adaic.com/\" style=\"color: rgb(51, 102, 153); text-decoration: none;\"><span style=\"color: rgb(0, 0, 255);\">www.adaic.com</span></a></span></p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: small; font-family: &#39;Times New Roman&#39;;\">4．&nbsp;&nbsp;<a href=\"http://www.sigada.org/\" style=\"color: rgb(51, 102, 153); text-decoration: none;\"><span style=\"color: rgb(0, 0, 255);\">www.sigada.org</span></a></span></p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: small; font-family: &#39;Times New Roman&#39;;\">5．&nbsp;&nbsp;<a href=\"http://www.adapower.com/\" style=\"color: rgb(51, 102, 153); text-decoration: none;\"><span style=\"color: rgb(0, 0, 255);\">www.adapower.com</span></a></span></p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: small; font-family: &#39;Times New Roman&#39;;\">6．&nbsp;&nbsp;<a href=\"http://www.gnat.com/\" style=\"color: rgb(51, 102, 153); text-decoration: none;\"><span style=\"color: rgb(0, 0, 255);\">www.gnat.com</span></a></span></p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: small; font-family: &#39;Times New Roman&#39;;\">7．&nbsp;&nbsp;<a href=\"http://adaicq.gro.clinux.org/\" style=\"color: rgb(51, 102, 153); text-decoration: none;\"><span style=\"color: rgb(128, 0, 128);\">http://adaicq.gro.clinux.org</span></a></span></p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: small;\"><span style=\"font-family: &#39;Times New Roman&#39;;\">8．&nbsp;&nbsp;</span>新闻组：<span style=\"font-family: &#39;Times New Roman&#39;;\"><a href=\"news:comp.lang.ada\" style=\"color: rgb(51, 102, 153); text-decoration: none;\">news:comp.lang.ada</a></span></span></p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: small;\"></span></p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: small;\"><span style=\"font-family: &#39;Times New Roman&#39;;\"><strong><span style=\"font-size: large; color: rgb(2, 54, 141);\">Ada语言嵌入式开发</span></strong><br/></span></span></p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: small;\"><span style=\"font-family: &#39;Times New Roman&#39;;\">以前在学C语言时在网上查资料偶然发现了Ada语言，所以留意了一下，然而发现它在很多意想不到的地方使用很流行。比如波音公司的商用飞机［787, 777, 767,757, 747-400, 737-200,等等］、K767坦克、战斗机［F-14，F-16，F-22，等］、铁路系统［法国高速铁路、香港郊外铁路、伦敦地铁、巴黎地铁和郊外铁路、等］、通信卫星、GPS系统等等都用Ada语言进行开发。<br/><br/>&nbsp;&nbsp;&nbsp; Ada 语言最初设计是为了构建长周期的、高度可靠的软件系统。Ada 包含了很复杂的功能以支持实时(real-time),并发程序设计(concurrent programming)。1974 年时，美国国防部(DoD)意识到开发和维护嵌入式系统(固化在硬件中的系统，如导弹弹导系统)耗费了过多的时间，精力和资金。因此在 1977 年，DoD 起草了一份建议，并由Cii-Honeywell Bull 公司开发一门新的语言Ada。1983，Ada 成为了一个 ANSI 标准 ANSI/MIL-STD-1815A。此年成为一个 ISO 标准。<br/><br/>&nbsp;&nbsp;&nbsp; 为了防止 Ada 编译器的不兼容版本的扩散，Ada Joint Program Office (控制 Ada 语言的执行部门，于 1998 年 10 月 1 日关闭，见<big>&nbsp;</big><a href=\"http://sw-eng.falls-church.va.us/AdaIC/\" style=\"color: rgb(51, 102, 153); text-decoration: none;\">Ada Joint Program Office closed</a>）采取了不寻常的做法 - 他们注册 Ada 商标。除非通过他们的兼容性测试，编译器厂商不允许出售 &#39;Ada&#39; 编译器。这在不久以后放松了，保护协议变成了 `Validated Ada&#39;。因而产生的 Ada 确认证书被限制在一定的时间内并有一个期满时间。当时间过期后，该编译器不能再被标记为`Validated Ada&#39; 编译器。通过这种方式，AJPO 确保当前市场上的编译器与当前标准相一致。<br/><br/>&nbsp;&nbsp;&nbsp; 由于对Ada语言的好奇，所以后来查看了相关资料并开始进一步学习。但由于英文水平有限，所以一直没有在Ada语言的嵌入式开发方面没有多少进展。前断时间在<a href=\"http://sf.net/\" target=\"_blank\" style=\"color: rgb(51, 102, 153); text-decoration: none;\">sourceforge.net</a>看到了一个 AVR-Ada的项目，所以在Linux下进行了一下尝试。<br/><br/>&nbsp;&nbsp;&nbsp; AVR-Ada是基于GCC的Ada编译器（GNAT），并实现了Ada run-time System 和针对AVR处理器的程序库。AVR-Ada支持Windows(cygwin等，可和WinAVR整合)和Linux系统。AVR-Ada中包函了很多例子，只要看看就可以开始用Ada语言进行针对AVR处理器的开发。更详细的资料可以到<a href=\"http://avr-ada.sourceforge.net/\" target=\"_blank\" style=\"color: rgb(51, 102, 153); text-decoration: none;\">http://avr-ada.sourceforge.net/</a><br/><br/>&nbsp;&nbsp;&nbsp; 由于Ada语言编写的程序可读性非常好，而且可以其它语言写的程序整合到一起，所以对嵌入式项目来说开发和维护都很方便。我想信，只要你用了以后你会爱上它的，呵呵！</span></span></p><p><br/></p>','2013-12-15 10:27:45','2013-12-15 18:27:45'),(397,'59.37.242.97',3,'UITabBarController使用','<p style=\"color: rgb(112, 61, 170); font-family: Menlo; font-size: 11px; margin-top: 0px; margin-bottom: 0px;\"><span style=\"font-size: 14px;\">Index_iPhone *index=[[Index_iPhone alloc]</span></p><p style=\"font-family: Menlo; font-size: 11px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 14px;\">initWithNibName:<span style=\"color: rgb(218, 46, 36); font-size: 14px;\">@&quot;Index_iPhone&quot;</span>&nbsp;bundle:<span style=\"color: rgb(194, 42, 159); font-size: 14px;\">nil</span>];</span><br/></p><p style=\"font-family: Menlo; font-size: 11px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 14px;\">Affairs_iPhone *affairs=[[Affairs_iPhone alloc]</span></p><p style=\"font-family: Menlo; font-size: 11px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 14px;\">initWithNibName:<span style=\"color: rgb(218, 46, 36); font-size: 14px;\">@&quot;Affairs_iPhone&quot;</span>&nbsp;bundle:<span style=\"color: rgb(194, 42, 159); font-size: 14px;\">nil</span>];</span></p><p style=\"color: rgb(0, 132, 25); font-family:;\" sc=\"\" heiti=\"\"><span style=\"font-size: 14px;\"><span style=\"font-family: Menlo; font-size: 14px;\">//</span>添加NavBar</span></p><p style=\"font-family: Menlo; font-size: 11px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 14px;\"><span style=\"color: rgb(116, 60, 166); font-size: 14px;\">UINavigationController</span>* affairs_nv =[[UINavigationController alloc] initWithRootViewController:affairs];</span></p><p style=\"color: rgb(0, 132, 25); font-family: Menlo; font-size: 11px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 14px;\">//[affairs_nv.navigationBar setTintColor:[UIColor brownColor]];</span></p><p style=\"font-family: Menlo; font-size: 11px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 14px;\">[affairs_nv setNavigationBarHidden:<span style=\"color: rgb(194, 42, 159); font-size: 14px;\">NO</span>&nbsp;animated:<span style=\"color: rgb(194, 42, 159); font-size: 14px;\">NO</span>];</span></p><p>&nbsp;</p><p style=\"color: rgb(116, 60, 166); font-family: Menlo; font-size: 11px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 14px;\">UITabBarController<span style=\"color: rgb(0, 0, 0); font-size: 14px;\">&nbsp;*tbc=[[</span>UITabBarController<span style=\"color: rgb(0, 0, 0); font-size: 14px;\">&nbsp;</span><span style=\"color: rgb(63, 28, 126); font-size: 14px;\">alloc</span><span style=\"color: rgb(0, 0, 0); font-size: 14px;\">]&nbsp;</span><span style=\"color: rgb(63, 28, 126); font-size: 14px;\">init</span><span style=\"color: rgb(0, 0, 0); font-size: 14px;\">];</span></span></p><p style=\"font-family: Menlo; font-size: 11px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 14px;\">tbc.viewControllers = [NSArray arrayWithObjects:index,affairs_nv,<span style=\"color: rgb(194, 42, 159); font-size: 14px;\">nil</span>];</span></p><p style=\"color: rgb(0, 132, 25); font-family:;\" sc=\"\" heiti=\"\"><span style=\"font-size: 14px;\"><span style=\"font-family: Menlo; font-size: 14px;\">//</span>弹出这个窗体</span></p><p style=\"font-family: Menlo; font-size: 11px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 14px;\">[tbc release];</span></p><p style=\"font-family: Menlo; font-size: 11px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 14px;\">[affairs_nv release];</span></p><p style=\"font-family: Menlo; font-size: 11px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 14px;\">[index release];</span></p><p style=\"font-family: Menlo; font-size: 11px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 14px;\">[affairs release];</span><br/></p><p><span style=\"color: rgb(0, 176, 80); font-size: 14px;\">//修改item的标题</span></p><p><span style=\"color: rgb(0, 176, 80); font-size: 14px;\">//[(UITabBarItem&nbsp;*)[self.tabBar.items&nbsp;objectAtIndex:0]&nbsp;setTitle:@&quot;123&quot;];</span></p><p><span style=\"color: rgb(0, 176, 80); font-size: 14px;\">//[(UITabBarItem&nbsp;*)[self.tabBar.items&nbsp;objectAtIndex:1]&nbsp;setTitle:@&quot;555&quot;];</span></p><p><br/></p><p style=\"font-family: Menlo; font-size: 11px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 14px;\">///////////////////////////////////////////</span></p><p style=\"font-family: Menlo; font-size: 11px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 14px;\">&nbsp;</span></p><p style=\"font-family: Menlo; font-size: 11px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"color: rgb(0, 128, 128); font-size: 14px;\">@implementation Index_iPhone</span></p><p style=\"font-family: Menlo; font-size: 11px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"color: rgb(0, 128, 128); font-size: 14px;\">- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil</span></p><p style=\"font-family: Menlo; font-size: 11px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"color: rgb(0, 128, 128); font-size: 14px;\">{</span></p><p style=\"font-family: Menlo; font-size: 11px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"color: rgb(0, 128, 128); font-size: 14px;\">&nbsp; &nbsp;self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];</span></p><p style=\"font-family: Menlo; font-size: 11px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"color: rgb(0, 128, 128); font-size: 14px;\">&nbsp; &nbsp;if (self) {</span></p><p style=\"font-family: Menlo; font-size: 11px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"color: rgb(0, 128, 128); font-size: 14px;\">&nbsp; &nbsp; &nbsp; &nbsp;// Custom initialization</span></p><p style=\"font-family: Menlo; font-size: 11px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"color: rgb(0, 128, 128); font-size: 14px;\">&nbsp; &nbsp; &nbsp; &nbsp;//改变tabBar按钮图片和标题</span></p><p style=\"font-family: Menlo; font-size: 11px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 14px;\"><span style=\"color: rgb(0, 128, 128); font-size: 14px;\">&nbsp; &nbsp; &nbsp; &nbsp;</span><span style=\"color: rgb(255, 0, 0); font-size: 14px;\">self.title=NSLocalizedString(@&quot;index_title&quot;, nil);</span></span></p><p style=\"font-family: Menlo; font-size: 11px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"color: rgb(255, 0, 0); font-size: 14px;\">&nbsp; &nbsp; &nbsp; &nbsp;self.tabBarItem.image=[UIImage imageNamed:NSLocalizedString(@&quot;index_title_img&quot;, nil)];</span></p><p style=\"font-family: Menlo; font-size: 11px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"color: rgb(0, 128, 128); font-size: 14px;\">&nbsp; &nbsp;}</span></p><p style=\"font-family: Menlo; font-size: 11px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"color: rgb(0, 128, 128); font-size: 14px;\">&nbsp; &nbsp;return self;</span></p><p style=\"font-family: Menlo; font-size: 11px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"color: rgb(0, 128, 128); font-size: 14px;\">}</span></p><p style=\"font-family: Menlo; font-size: 11px; margin-top: 0px; margin-bottom: 0px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"color: rgb(0, 128, 128); font-size: 14px;\">@end</span></p><p style=\"color: rgb(112, 61, 170); font-family: Menlo; font-size: 11px; margin-top: 0px; margin-bottom: 0px;\"><span style=\"color: rgb(0, 0, 0);\"><br/></span></p>','2013-12-16 03:26:17','2013-12-16 16:04:00'),(398,'14.217.227.161',31,'控制面板闪退','<p><a href=\"http://www.pc6.com/infoview/Article_55291.html\">http://www.pc6.com/infoview/Article_55291.html</a></p><p><br/></p><p><br/></p><p>今天新上了个服务器，想给服务器装个iis，可是一打开控制面板一闪就没有了怎么办呢？pc6教你修改注册表进行修复。</p><p><br/></p><p>具体解决方法如下：</p><p>运行regedit打开注册表</p><p>找到 HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\Nls\\Locale下的两个项修改为</p><p>&quot;(Default)&quot;=&quot;00000409&quot;</p><p>&quot;00000804&quot;=&quot;1&quot;</p><p><br/></p><p></p>','2013-12-22 08:39:43','2013-12-22 16:49:29'),(401,'116.18.45.132',36,'感冒发烧特效药','<p>氨咖黄敏胶囊&nbsp;&nbsp;—— 感冒引起的发热头痛，四肢酸痛，打喷嚏，流濞涕，鼻塞，咽痛有效</p><p>&nbsp;头孢拉定胶囊&nbsp;&nbsp;&nbsp;——</p><p>&nbsp;对乙酰氨基酚片</p><p>小柴胡颗粒</p>','2013-12-24 01:07:06','2013-12-27 15:20:03'),(402,'14.217.216.169',31,'win8打开远程连接','<p>仍然使用“Windows键+X”的组合键打开菜单，选择“运行”，然后输入&quot;mstsc&quot;\r\n回车</p>','2013-12-24 15:35:36','2013-12-24 23:35:36'),(406,'116.18.5.60',2,'win api读写INI','<p>　1.写入:<br/><br/></p><table width=\"100%\" bgcolor=\"#ffffff\"><tbody><tr><td>CString strTemp,strTempA;<br/>int i;<br/>int nCount=6;<br/>file://共有6个文件名需要保存<br/>for(i=0;i<ncount;i++)<br>{strTemp.Format(&quot;%d&quot;,i);<br/>strTempA=文件名;<br/>file://文件名可以从数组,列表框等处取得.<br/>::WritePrivateProfileString(&quot;UseFileName&quot;,&quot;FileName&quot;+strTemp,strTempA,<br/>&quot;c:\\\\usefile\\\\usefile.ini&quot;);<br/>}<br/>strTemp.Format(&quot;%d&quot;,nCount);<br/>::WritePrivateProfileString(&quot;FileCount&quot;,&quot;Count&quot;,strTemp,&quot;c:\\\\usefile\\\\usefile.ini&quot;);<br/>file://将文件总数写入,以便读出.</ncount;i++)<br></td></tr></tbody></table><p><br/>　　2.读出:<br/><br/></p><table width=\"100%\" bgcolor=\"#ffffff\"><tbody><tr><td>nCount=::GetPrivateProfileInt(&quot;FileCount&quot;,&quot;Count&quot;,0,&quot;c:\\\\usefile\\\\usefile.ini&quot;);<br/>for(i=0;i<ncount;i++)<br>{strTemp.Format(&quot;%d&quot;,i);<br/>strTemp=&quot;FileName&quot;+strTemp;<br/>::GetPrivateProfileString(&quot;CurrentIni&quot;,strTemp,&quot;default.fil&quot;, strTempA.GetBuffer(MAX_PATH),MAX_PATH,&quot;c:\\\\usefile\\\\usefile.ini&quot;);<br/><br/>file://使用strTempA中的内容.<br/><br/>}</ncount;i++)<br></td></tr></tbody></table><p>&nbsp;</p>','2014-01-02 08:30:33','2014-01-02 16:30:51'),(407,'59.36.5.40',31,'修改远程桌面端口','<p>　1、打开注册表 [HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\Terminal Server\\Wds\\rdpwd\\Tds\\tcp]，修改右边PortNamber的值，其默认值是3389，修改成所希望的端口即可，例如3309<br/>　　2、再打开注册表 [HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentContro1Set\\Control\\Tenninal Server\\WinStations\\RDP-Tcp]，修改右边PortNamber的值，其默认值是3389，修改成所希望的端口即可，例如3309<br/>　　修改完后需要重启生效，注意防火墙的问题！</p>','2014-01-03 01:24:02','2014-01-03 09:24:02'),(408,'59.36.5.40',2,'IP V4/IP V6专用函数','<p>IP V4/IP V6专用函数<br/><br/>　　IPv6 API中一部分沿用了IPv4 API, 也新增了一些IPv6专用API，为使得程序具有更大的通用性，尽量避免使用IPv4专用函数，这些函数如下：<br/><br/></p><table width=\"100%\" cellspacing=\"0\"><tbody><tr><td>IP V4专用</td><td>是对应的IP v4/v6通用函数</td><td>功能说明</td></tr><tr><td>inet_aton( )</td><td>inet_ntop( )</td><td>字符串地址转为IP地址</td></tr><tr><td>inet_ntoa( )</td><td>inet_pton( )</td><td>IP地址转为字符串地址</td></tr><tr><td>gethostbyname( )</td><td>Getipnodebyname( )</td><td>由名字获得IP地址</td></tr><tr><td>gethostbyaddr( )</td><td>struct hostent *getipnodebyaddr( )</td><td>IP地址获得名字</td></tr><tr><td></td><td>getaddrinfo( )</td><td>获得全部地址信息</td></tr><tr><td></td><td>getnameinfo( )</td><td>获得全部名字信息</td></tr><tr><td colspan=\"2\"><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>未发生变化的函数</p></td><td><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>功能说明</p></td></tr><tr><td colspan=\"2\">socket( )</td><td>建立Socket</td></tr><tr><td colspan=\"2\">bind( )</td><td>Socket与地址绑定</td></tr><tr><td colspan=\"2\">send( )</td><td>发送数据(TCP)</td></tr><tr><td colspan=\"2\">sendto( )</td><td>发送数据(UDP)</td></tr><tr><td colspan=\"2\">receive( )</td><td>接收数据(TCP)</td></tr><tr><td colspan=\"2\">recv( )</td><td>接收数据(UDP)</td></tr><tr><td colspan=\"2\">accept( )</td><td>接收连接</td></tr><tr><td colspan=\"2\">listen( )</td><td>网络监听</td></tr></tbody></table><p>&nbsp;</p>','2014-01-04 02:12:45','2014-01-04 10:14:10'),(409,'59.36.5.40',2,'IPv6下网络编程socket， TCP和UDP例子,以及兼容IPV4和IPV6的类','<p><a href=\"http://blog.csdn.net/hepeng597/article/details/7803277\">http://blog.csdn.net/hepeng597/article/details/7803277</a></p>','2014-01-04 02:15:38','2014-01-04 10:15:38'),(410,'59.37.190.162',2,'windows服务编程','<p>#include &quot;stdafx.h&quot;</p><p>#include &quot;stdio.h&quot;</p><p>#include &quot;tchar.h&quot;</p><p>#include &quot;GCHttp.h&quot;</p><p>#include &lt;time.h&gt;</p><p>#include &quot;StringUtil.h&quot;</p><p>#include &quot;assist.h&quot;</p><p><br/></p><p>//定义全局函数</p><p>void Init();</p><p>BOOL IsInstalled();</p><p>BOOL Install();</p><p>BOOL Uninstall();</p><p>void LogEvent(LPCTSTR pszFormat, ...);</p><p><br/></p><p>//这三个函数可用于操作服务</p><p>BOOL ServiceStart();</p><p>BOOL ServiceStop();</p><p>DWORD ServiceState();</p><p><br/></p><p>//回调函数</p><p>void WINAPI ServiceMain();</p><p>void WINAPI ServiceStrl(DWORD dwOpcode);</p><p><br/></p><p><br/></p><p>//安装的程序服务名字</p><p>TCHAR szServiceName[] = _T(&quot;AutoWebAccess&quot;);</p><p>BOOL bInstall;</p><p>SERVICE_STATUS_HANDLE hServiceStatus;</p><p>SERVICE_STATUS status;</p><p><br/></p><p><br/></p><p>//变量</p><p>wstring g_fileDirectory;</p><p><br/></p><p>int main(int argc,char *argv[])&nbsp;</p><p>{</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>char lpCmdLine[32];</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>memset(lpCmdLine,0,sizeof(lpCmdLine));</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>if(argc&gt;1)</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>{</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>strcpy(lpCmdLine,argv[1]);</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>}</p><p><br/></p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>g_fileDirectory=StringUtil::s2ws(argv[0]);</p><p><br/></p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>//开始处理</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>Init();</p><p><br/></p><p>&nbsp; &nbsp; SERVICE_TABLE_ENTRY st[] =</p><p>&nbsp; &nbsp; {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; { szServiceName, (LPSERVICE_MAIN_FUNCTION)ServiceMain },</p><p>&nbsp; &nbsp; &nbsp; &nbsp; { NULL, NULL }</p><p>&nbsp; &nbsp; };</p><p><br/></p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>if (stricmp(lpCmdLine, &quot;/install&quot;) == 0 ||</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>stricmp(lpCmdLine, &quot;install&quot;) == 0)</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>{</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>if(Install())</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>{</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>_tprintf(_T(&quot;\\&quot;%s\\&quot; install successfully.\\r\\n&quot;),szServiceName);</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>if(ServiceStart())</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>{_tprintf(_T(&quot;service \\&quot;%s\\&quot; start ok.\\r\\n&quot;),szServiceName);}</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>else</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>{_tprintf(_T(&quot;service \\&quot;%s\\&quot; start fail.\\r\\n&quot;),szServiceName);}</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>}</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>else{_tprintf(_T(&quot;\\&quot;%s\\&quot; install unsuccessful.\\r\\n&quot;),szServiceName);}</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>}</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>else if (stricmp(lpCmdLine, &quot;/uninstall&quot;) == 0 ||</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>stricmp(lpCmdLine, &quot;uninstall&quot;) == 0)</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>{</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>if(Uninstall())</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>{_tprintf(_T(&quot;service \\&quot;%s\\&quot; uninstall ok.\\r\\n&quot;),szServiceName);}</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>else{_tprintf(_T(&quot;service \\&quot;%s\\&quot; uninstall fail.\\r\\n&quot;),szServiceName);}</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>}</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>else if (stricmp(lpCmdLine, &quot;/start&quot;) == 0 ||</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>stricmp(lpCmdLine, &quot;start&quot;) == 0)</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>{</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>if(ServiceStart())</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>{_tprintf(_T(&quot;service \\&quot;%s\\&quot; start ok.\\r\\n&quot;),szServiceName);}</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>else</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>{_tprintf(_T(&quot;service \\&quot;%s\\&quot; start fail.\\r\\n&quot;),szServiceName);}</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>}</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>else if (stricmp(lpCmdLine, &quot;/stop&quot;) == 0 ||</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>stricmp(lpCmdLine, &quot;stop&quot;) == 0)</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>{</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>if(ServiceStop())</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>{_tprintf(_T(&quot;service \\&quot;%s\\&quot; already stop.\\r\\n&quot;),szServiceName);}</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>else{_tprintf(_T(&quot;service \\&quot;%s\\&quot; operate fail.\\r\\n&quot;),szServiceName);}</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>}</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>else if (stricmp(lpCmdLine, &quot;/state&quot;) == 0 ||</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>stricmp(lpCmdLine, &quot;state&quot;) == 0)</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>{</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>DWORD dw=ServiceState();</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>TCHAR *str;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>switch(dw)</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>{</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>case SERVICE_STOPPED:</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>str=_T(&quot;SERVICE_STOPPED&quot;);</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>break;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>case SERVICE_START_PENDING:</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>str=_T(&quot;SERVICE_START_PENDING&quot;);</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>break;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>case SERVICE_STOP_PENDING:</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>str=_T(&quot;SERVICE_STOP_PENDING&quot;);</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>break;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>case SERVICE_RUNNING:</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>str=_T(&quot;SERVICE_RUNNING&quot;);</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>break;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>case SERVICE_CONTINUE_PENDING:</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>str=_T(&quot;SERVICE_CONTINUE_PENDING&quot;);</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>break;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>case SERVICE_PAUSE_PENDING:</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>str=_T(&quot;SERVICE_PAUSE_PENDING&quot;);</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>break;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>case SERVICE_PAUSED:</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>str=_T(&quot;SERVICE_PAUSED&quot;);</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>break;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>default:</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>str=_T(&quot;SERVICE_NOT_FOUND&quot;);</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>break;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>}</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>_tprintf(_T(&quot;service \\&quot;%s\\&quot; state is %d:%s\\r\\n&quot;),szServiceName,dw,str);</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>}</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>else</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>{</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>if (!StartServiceCtrlDispatcher(st))</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>{</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>LogEvent(_T(&quot;Register Service Main Function Error!&quot;));</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>}</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>}</p><p><br/></p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>return 0;</p><p>}</p><p>//*********************************************************</p><p>//Functiopn:<span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>Init</p><p>//Description:<span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>初始化</p><p>//Calls:<span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>main</p><p>//Called By:<span class=\"Apple-tab-span\" style=\"white-space:pre\"></span></p><p>//Table Accessed:<span class=\"Apple-tab-span\" style=\"white-space:pre\"></span></p><p>//Table Updated:</p><p>//Input:<span class=\"Apple-tab-span\" style=\"white-space:pre\"></span></p><p>//Output:<span class=\"Apple-tab-span\" style=\"white-space:pre\"></span></p><p>//Return:</p><p>//Others:<span class=\"Apple-tab-span\" style=\"white-space:pre\"></span></p><p>//History:</p><p>//*********************************************************</p><p>void Init()</p><p>{</p><p>&nbsp; &nbsp; hServiceStatus = NULL;</p><p>&nbsp; &nbsp; status.dwServiceType = SERVICE_WIN32_OWN_PROCESS;</p><p>&nbsp; &nbsp; status.dwCurrentState = SERVICE_STOPPED;</p><p>&nbsp; &nbsp; status.dwControlsAccepted = SERVICE_ACCEPT_STOP;</p><p>&nbsp; &nbsp; status.dwWin32ExitCode = 0;</p><p>&nbsp; &nbsp; status.dwServiceSpecificExitCode = 0;</p><p>&nbsp; &nbsp; status.dwCheckPoint = 0;</p><p>&nbsp; &nbsp; status.dwWaitHint = 0;</p><p>}</p><p><br/></p><p>//*********************************************************</p><p>//Functiopn:<span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>IsInstalled</p><p>//Description:<span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>判断服务是否已经被安装</p><p>//Calls:</p><p>//Called By:</p><p>//Table Accessed:</p><p>//Table Updated:</p><p>//Input:</p><p>//Output:</p><p>//Return:</p><p>//Others:</p><p>//History:</p><p>//*********************************************************</p><p>BOOL IsInstalled()</p><p>{</p><p>&nbsp; &nbsp; BOOL bResult = FALSE;</p><p><br/></p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>//打开服务控制管理器</p><p>&nbsp; &nbsp; SC_HANDLE hSCM = ::OpenSCManager(NULL, NULL, SC_MANAGER_ALL_ACCESS);</p><p><br/></p><p>&nbsp; &nbsp; if (hSCM != NULL)</p><p>&nbsp; &nbsp; {</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>//打开服务</p><p>&nbsp; &nbsp; &nbsp; &nbsp; SC_HANDLE hService = ::OpenService(hSCM, szServiceName, SERVICE_QUERY_CONFIG);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; if (hService != NULL)</p><p>&nbsp; &nbsp; &nbsp; &nbsp; {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bResult = TRUE;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ::CloseServiceHandle(hService);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; }</p><p>&nbsp; &nbsp; &nbsp; &nbsp; ::CloseServiceHandle(hSCM);</p><p>&nbsp; &nbsp; }</p><p>&nbsp; &nbsp; return bResult;</p><p>}</p><p><br/></p><p>//*********************************************************</p><p>//Functiopn:<span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>Install</p><p>//Description:<span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>安装服务函数</p><p>//Calls:</p><p>//Called By:</p><p>//Table Accessed:</p><p>//Table Updated:</p><p>//Input:</p><p>//Output:</p><p>//Return:</p><p>//Others:</p><p>//History:</p><p>//*********************************************************</p><p>BOOL Install()</p><p>{</p><p>&nbsp; &nbsp; if (IsInstalled())</p><p>&nbsp; &nbsp; &nbsp; &nbsp; return TRUE;</p><p><br/></p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>//打开服务控制管理器</p><p>&nbsp; &nbsp; SC_HANDLE hSCM = ::OpenSCManager(NULL, NULL, SC_MANAGER_ALL_ACCESS);</p><p>&nbsp; &nbsp; if (hSCM == NULL)</p><p>&nbsp; &nbsp; {</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>_tprintf(_T(&quot;Couldn&#39;t open service \\&quot;%s\\&quot; manager\\r\\n&quot;), szServiceName);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; return FALSE;</p><p>&nbsp; &nbsp; }</p><p><br/></p><p>&nbsp; &nbsp; // Get the executable file path</p><p>&nbsp; &nbsp; TCHAR szFilePath[MAX_PATH];</p><p>&nbsp; &nbsp; ::GetModuleFileName(NULL, szFilePath, MAX_PATH);</p><p><br/></p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>//创建服务</p><p>&nbsp; &nbsp; SC_HANDLE hService = ::CreateService(</p><p>&nbsp; &nbsp; &nbsp; &nbsp; hSCM, szServiceName, szServiceName,</p><p>&nbsp; &nbsp; &nbsp; &nbsp; SERVICE_ALL_ACCESS, SERVICE_WIN32_OWN_PROCESS,</p><p>&nbsp; &nbsp; &nbsp; &nbsp; SERVICE_AUTO_START, &nbsp; &nbsp; &nbsp; //以自动方式开始, SERVICE_DEMAND_START是手动</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>SERVICE_ERROR_NORMAL,</p><p>&nbsp; &nbsp; &nbsp; &nbsp; szFilePath, NULL, NULL, _T(&quot;&quot;), NULL, NULL);</p><p><br/></p><p>&nbsp; &nbsp; if (hService == NULL)</p><p>&nbsp; &nbsp; {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; ::CloseServiceHandle(hSCM);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; _tprintf(_T(&quot;Couldn&#39;t create service \\&quot;%s\\&quot;\\r\\n&quot;), szServiceName);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; return FALSE;</p><p>&nbsp; &nbsp; }</p><p><br/></p><p>&nbsp; &nbsp; ::CloseServiceHandle(hService);</p><p>&nbsp; &nbsp; ::CloseServiceHandle(hSCM);</p><p>&nbsp; &nbsp; return TRUE;</p><p>}</p><p><br/></p><p>//*********************************************************</p><p>//Functiopn:<span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>Uninstall</p><p>//Description:<span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>删除服务函数</p><p>//Calls:</p><p>//Called By:</p><p>//Table Accessed:</p><p>//Table Updated:</p><p>//Input:</p><p>//Output:</p><p>//Return:</p><p>//Others:</p><p>//History:</p><p>//*********************************************************</p><p>BOOL Uninstall()</p><p>{</p><p>&nbsp; &nbsp; if (!IsInstalled())</p><p>&nbsp; &nbsp; &nbsp; &nbsp; return FALSE;</p><p><br/></p><p>&nbsp; &nbsp; SC_HANDLE hSCM = ::OpenSCManager(NULL, NULL, SC_MANAGER_ALL_ACCESS);</p><p><br/></p><p>&nbsp; &nbsp; if (hSCM == NULL)</p><p>&nbsp; &nbsp; {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; _tprintf(_T(&quot;Couldn&#39;t open service \\&quot;%s\\&quot; manager\\r\\n&quot;), szServiceName);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; return FALSE;</p><p>&nbsp; &nbsp; }</p><p><br/></p><p>&nbsp; &nbsp; SC_HANDLE hService = ::OpenService(hSCM, szServiceName, SERVICE_STOP | DELETE);</p><p><br/></p><p>&nbsp; &nbsp; if (hService == NULL)</p><p>&nbsp; &nbsp; {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; ::CloseServiceHandle(hSCM);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; _tprintf(_T(&quot;Couldn&#39;t open service \\&quot;%s\\&quot; manager\\r\\n&quot;), szServiceName);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; return FALSE;</p><p>&nbsp; &nbsp; }</p><p>&nbsp; &nbsp; SERVICE_STATUS status;</p><p>&nbsp; &nbsp; ::ControlService(hService, SERVICE_CONTROL_STOP, &amp;status);</p><p><br/></p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>//删除服务</p><p>&nbsp; &nbsp; BOOL bDelete = ::DeleteService(hService);</p><p>&nbsp; &nbsp; ::CloseServiceHandle(hService);</p><p>&nbsp; &nbsp; ::CloseServiceHandle(hSCM);</p><p><br/></p><p>&nbsp; &nbsp; if (bDelete)</p><p>&nbsp; &nbsp; &nbsp; &nbsp; return TRUE;</p><p><br/></p><p>&nbsp; &nbsp; LogEvent(_T(&quot;Service could not be deleted&quot;));</p><p>&nbsp; &nbsp; return FALSE;</p><p>}</p><p><br/></p><p>//*********************************************************</p><p>//Functiopn:<span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>LogEvent</p><p>//Description:<span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>记录服务事件</p><p>//Calls:</p><p>//Called By:</p><p>//Table Accessed:</p><p>//Table Updated:</p><p>//Input:</p><p>//Output:</p><p>//Return:</p><p>//Others:</p><p>//History:</p><p>//*********************************************************</p><p>void LogEvent(LPCTSTR pFormat, ...)</p><p>{</p><p>&nbsp; &nbsp; TCHAR &nbsp; chMsg[256];</p><p>&nbsp; &nbsp; HANDLE &nbsp;hEventSource;</p><p>&nbsp; &nbsp; LPTSTR &nbsp;lpszStrings[1];</p><p>&nbsp; &nbsp; va_list pArg;</p><p><br/></p><p>&nbsp; &nbsp; va_start(pArg, pFormat);</p><p>&nbsp; &nbsp; _vstprintf(chMsg, pFormat, pArg);</p><p>&nbsp; &nbsp; va_end(pArg);</p><p><br/></p><p>&nbsp; &nbsp; lpszStrings[0] = chMsg;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span></p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>hEventSource = RegisterEventSource(NULL, szServiceName);</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>if (hEventSource != NULL)</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>{</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>ReportEvent(hEventSource, EVENTLOG_INFORMATION_TYPE, 0, 0, NULL, 1, 0, (LPCTSTR*) &amp;lpszStrings[0], NULL);</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>DeregisterEventSource(hEventSource);</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>}</p><p>}</p><p><br/></p><p><br/></p><p>//*********************************************************</p><p>//Function</p><p>//启用服务</p><p>//*********************************************************</p><p>BOOL ServiceStart()</p><p>{</p><p>&nbsp; &nbsp;// 打开服务管理对象</p><p>&nbsp; &nbsp; SC_HANDLE hSC = OpenSCManager( NULL,&nbsp;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL, GENERIC_EXECUTE);</p><p>&nbsp; &nbsp; if( hSC == NULL)</p><p>&nbsp; &nbsp; {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; LogEvent(_T(&quot;open SCManager error&quot;));</p><p>&nbsp; &nbsp; &nbsp; &nbsp; return FALSE;</p><p>&nbsp; &nbsp; }</p><p>&nbsp; &nbsp; // 打开服务szServiceName</p><p>&nbsp; &nbsp; SC_HANDLE hSvc = OpenService( hSC, szServiceName,</p><p>&nbsp; &nbsp; &nbsp; &nbsp; SERVICE_START | SERVICE_QUERY_STATUS | SERVICE_STOP);</p><p>&nbsp; &nbsp; if( hSvc == NULL)</p><p>&nbsp; &nbsp; {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; LogEvent(_T(&quot;Open service erron.&quot;));</p><p>&nbsp; &nbsp; &nbsp; &nbsp; CloseServiceHandle( hSC);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; return FALSE;</p><p>&nbsp; &nbsp; }</p><p>&nbsp; &nbsp; // 获得服务的状态</p><p>&nbsp; &nbsp; SERVICE_STATUS status;</p><p>&nbsp; &nbsp; if( QueryServiceStatus( hSvc, &amp;status) == FALSE)</p><p>&nbsp; &nbsp; {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; LogEvent(_T(&quot;Get Service state error。&quot;));</p><p>&nbsp; &nbsp; &nbsp; &nbsp; CloseServiceHandle( hSvc);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; CloseServiceHandle( hSC);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; return FALSE;</p><p>&nbsp; &nbsp; }</p><p>&nbsp; &nbsp;&nbsp;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>if( status.dwCurrentState == SERVICE_STOPPED)</p><p>&nbsp; &nbsp; {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; // 启动服务</p><p>&nbsp; &nbsp; &nbsp; &nbsp; if( StartService( hSvc, NULL, NULL) == FALSE)</p><p>&nbsp; &nbsp; &nbsp; &nbsp; {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; LogEvent(_T(&quot;start service error.&quot;));</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CloseServiceHandle( hSvc);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CloseServiceHandle( hSC);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return FALSE;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; }</p><p>&nbsp; &nbsp; &nbsp; &nbsp; // 等待服务启动</p><p>&nbsp; &nbsp; &nbsp; &nbsp; while( QueryServiceStatus( hSvc, &amp;status) == TRUE)</p><p>&nbsp; &nbsp; &nbsp; &nbsp; {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Sleep( status.dwWaitHint);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if( status.dwCurrentState == SERVICE_RUNNING)</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</p><p>&nbsp; &nbsp; &nbsp; }</p><p>&nbsp; &nbsp; }</p><p>&nbsp; &nbsp; CloseServiceHandle( hSvc);</p><p>&nbsp; &nbsp; CloseServiceHandle( hSC);</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>return TRUE;</p><p>}</p><p><br/></p><p><br/></p><p>//*********************************************************</p><p>//Function</p><p>//关闭服务</p><p>//*********************************************************</p><p>BOOL ServiceStop()</p><p>{</p><p>&nbsp; &nbsp;// 打开服务管理对象</p><p>&nbsp; &nbsp; SC_HANDLE hSC = ::OpenSCManager( NULL,&nbsp;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL, GENERIC_EXECUTE);</p><p>&nbsp; &nbsp; if( hSC == NULL)</p><p>&nbsp; &nbsp; {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; LogEvent(_T(&quot;open SCManager error&quot;));</p><p>&nbsp; &nbsp; &nbsp; &nbsp; return FALSE;</p><p>&nbsp; &nbsp; }</p><p>&nbsp; &nbsp; // 打开服务szServiceName</p><p>&nbsp; &nbsp; SC_HANDLE hSvc = ::OpenService( hSC, szServiceName,</p><p>&nbsp; &nbsp; &nbsp; &nbsp; SERVICE_START | SERVICE_QUERY_STATUS | SERVICE_STOP);</p><p>&nbsp; &nbsp; if( hSvc == NULL)</p><p>&nbsp; &nbsp; {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; LogEvent(_T(&quot;Open service erron.&quot;));</p><p>&nbsp; &nbsp; &nbsp; &nbsp; CloseServiceHandle( hSC);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; return FALSE;</p><p>&nbsp; &nbsp; }</p><p>&nbsp; &nbsp; // 获得服务的状态</p><p>&nbsp; &nbsp; SERVICE_STATUS status;</p><p>&nbsp; &nbsp; if( QueryServiceStatus( hSvc, &amp;status) == FALSE)</p><p>&nbsp; &nbsp; {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; LogEvent(_T(&quot;Get Service state error。&quot;));</p><p>&nbsp; &nbsp; &nbsp; &nbsp; CloseServiceHandle( hSvc);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; CloseServiceHandle( hSC);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; return FALSE;</p><p>&nbsp; &nbsp; }</p><p>&nbsp; &nbsp; //如果处于停止状态则启动服务，否则停止服务。</p><p>&nbsp; &nbsp; if( status.dwCurrentState == SERVICE_RUNNING)</p><p>&nbsp; &nbsp; {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; // 停止服务</p><p>&nbsp; &nbsp; &nbsp; &nbsp; if( ControlService( hSvc,&nbsp;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SERVICE_CONTROL_STOP, &amp;status) == FALSE)</p><p>&nbsp; &nbsp; &nbsp; &nbsp; {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //LogEvent( &quot;stop service error.&quot;);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CloseServiceHandle( hSvc);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CloseServiceHandle( hSC);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return FALSE;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; }</p><p>&nbsp; &nbsp; &nbsp; &nbsp; // 等待服务停止</p><p>&nbsp; &nbsp; &nbsp; &nbsp; while( QueryServiceStatus( hSvc, &amp;status) == TRUE)</p><p>&nbsp; &nbsp; &nbsp; &nbsp; {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Sleep( status.dwWaitHint);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if( status.dwCurrentState == SERVICE_STOPPED)</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</p><p>&nbsp; &nbsp; &nbsp; &nbsp; }</p><p>&nbsp; &nbsp; }</p><p>&nbsp; &nbsp;&nbsp;</p><p>&nbsp; &nbsp; CloseServiceHandle( hSvc);</p><p>&nbsp; &nbsp; CloseServiceHandle( hSC);</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>return TRUE;</p><p>}</p><p><br/></p><p>//*********************************************************</p><p>//Function</p><p>//查询服务状态</p><p>//return</p><p>// error<span class=\"Apple-tab-span\" style=\"white-space:pre\"></span> &nbsp;0</p><p>// SERVICE_STOPPED &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0x00000001</p><p>// SERVICE_START_PENDING &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0x00000002</p><p>// SERVICE_STOP_PENDING &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00000003</p><p>// SERVICE_RUNNING &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0x00000004</p><p>// SERVICE_CONTINUE_PENDING &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00000005</p><p>// SERVICE_PAUSE_PENDING &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0x00000006</p><p>// SERVICE_PAUSED &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00000007</p><p><br/></p><p>//*********************************************************</p><p>DWORD ServiceState()</p><p>{</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>DWORD ret=0;</p><p><br/></p><p>&nbsp; &nbsp; // 打开服务管理对象</p><p>&nbsp; &nbsp; SC_HANDLE hSC = ::OpenSCManager( NULL,&nbsp;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL, GENERIC_EXECUTE);</p><p>&nbsp; &nbsp; if( hSC == NULL)</p><p>&nbsp; &nbsp; {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; LogEvent(_T(&quot;open SCManager error&quot;));</p><p>&nbsp; &nbsp; &nbsp; &nbsp; return 0;</p><p>&nbsp; &nbsp; }</p><p>&nbsp; &nbsp; // 打开服务szServiceName</p><p>&nbsp; &nbsp; SC_HANDLE hSvc = ::OpenService( hSC, szServiceName,</p><p>&nbsp; &nbsp; &nbsp; &nbsp; SERVICE_START | SERVICE_QUERY_STATUS | SERVICE_STOP);</p><p>&nbsp; &nbsp; if( hSvc == NULL)</p><p>&nbsp; &nbsp; {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; LogEvent(_T(&quot;Open service erron.&quot;));</p><p>&nbsp; &nbsp; &nbsp; &nbsp; CloseServiceHandle( hSC);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; return 0;</p><p>&nbsp; &nbsp; }</p><p>&nbsp; &nbsp; // 获得服务的状态</p><p>&nbsp; &nbsp; SERVICE_STATUS status;</p><p>&nbsp; &nbsp; if( QueryServiceStatus( hSvc, &amp;status) == FALSE)</p><p>&nbsp; &nbsp; {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; LogEvent(_T(&quot;Get Service state error。&quot;));</p><p>&nbsp; &nbsp; &nbsp; &nbsp; CloseServiceHandle( hSvc);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; CloseServiceHandle( hSC);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; ret= 0;</p><p>&nbsp; &nbsp; }</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>ret=status.dwCurrentState;</p><p>&nbsp; &nbsp;&nbsp;</p><p>&nbsp; &nbsp; CloseServiceHandle( hSvc);</p><p>&nbsp; &nbsp; CloseServiceHandle( hSC);</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>return ret;</p><p>}</p><p><br/></p><p><br/></p><p>//*********************************************************</p><p>//Functiopn:<span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>ServiceMain</p><p>//Description:<span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>服务主函数，这在里进行控制对服务控制的注册</p><p>//Calls:</p><p>//Called By:</p><p>//Table Accessed:</p><p>//Table Updated:</p><p>//Input:</p><p>//Output:</p><p>//Return:</p><p>//Others:</p><p>//History:</p><p>//*********************************************************</p><p>void WINAPI HttpDownInfo(DWORD cur_bytes,DWORD all_bytes,DWORD fSpeed,DWORD ulRemain,float sDonePrent,DWORD use_ms_time)</p><p>{</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>_tprintf(_T(&quot;现字节=%ukb,总字节=%ukb, 速度=%ukb/s,剩余=%ukb,完成=%.1f%%,时间=%us\\n&quot;),</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span> &nbsp; &nbsp;cur_bytes&gt;&gt;10,all_bytes&gt;&gt;10,fSpeed&gt;&gt;10,ulRemain&gt;&gt;10,sDonePrent,use_ms_time/1000);</p><p>}</p><p><br/></p><p>void WINAPI ServiceMain()</p><p>{</p><p>&nbsp; &nbsp; // Register the control request handler</p><p>&nbsp; &nbsp; status.dwCurrentState = SERVICE_START_PENDING;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>status.dwControlsAccepted = SERVICE_ACCEPT_STOP;</p><p><br/></p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>//注册服务控制</p><p>&nbsp; &nbsp; hServiceStatus = RegisterServiceCtrlHandler(szServiceName, ServiceStrl);</p><p>&nbsp; &nbsp; if (hServiceStatus == NULL)</p><p>&nbsp; &nbsp; {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; LogEvent(_T(&quot;Handler not installed&quot;));</p><p>&nbsp; &nbsp; &nbsp; &nbsp; return;</p><p>&nbsp; &nbsp; }</p><p>&nbsp; &nbsp; SetServiceStatus(hServiceStatus, &amp;status);</p><p><br/></p><p>&nbsp; &nbsp; status.dwWin32ExitCode = S_OK;</p><p>&nbsp; &nbsp; status.dwCheckPoint = 0;</p><p>&nbsp; &nbsp; status.dwWaitHint = 0;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>status.dwCurrentState = SERVICE_RUNNING;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>SetServiceStatus(hServiceStatus, &amp;status);</p><p><br/></p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>//--------------------------------------------------------------</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>//模拟服务的运行，10后自动退出。应用时将主要任务放于此即可</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>TCHAR ini_file[512],strTemp[512];</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>int intervalTemp;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>_tcscpy(ini_file,g_fileDirectory.c_str());</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>assist::fileDirectory(ini_file);</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>_stprintf(ini_file,_T(&quot;%s\\\\AutoWebAccess.ini&quot;),ini_file);</p><p><br/></p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>if(0==_taccess(ini_file,0))</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>{</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>GetPrivateProfileString(_T(&quot;access&quot;),_T(&quot;url&quot;),_T(&quot;&quot;),strTemp,sizeof(strTemp),ini_file);</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>intervalTemp=GetPrivateProfileInt(_T(&quot;access&quot;),_T(&quot;interval_second&quot;),30,ini_file);</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>}</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>else</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>{</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>_tcscpy(strTemp,_T(&quot;http://www.hanzhihong.cn&quot;));</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>intervalTemp=30;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>WritePrivateProfileString(_T(&quot;access&quot;),_T(&quot;url&quot;),strTemp,ini_file);</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>WritePrivateProfileString(_T(&quot;access&quot;),_T(&quot;interval_second&quot;),_T(&quot;30&quot;),ini_file);//时间间隔30秒</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>}</p><p><br/></p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>//访问网络</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>DWORD dwTime;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>GCHttp http;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>http.InitConnect(HttpDownInfo);</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>dwTime=0;</p><p><br/></p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>while (SERVICE_RUNNING==status.dwCurrentState)</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>{</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>if(time(NULL)-dwTime &gt;= intervalTemp)</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>{</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>BYTE szDstBuf[5000];</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>dwTime=time(NULL);<span class=\"Apple-tab-span\" style=\"white-space:pre\"></span></p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>http.GetFileBuf(strTemp,szDstBuf,sizeof(szDstBuf)-1,0);</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>}</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>Sleep(100);</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>}</p><p><br/></p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>//--------------------------------------------------------------</p><p><br/></p><p>&nbsp; &nbsp; status.dwCurrentState = SERVICE_STOPPED;</p><p>&nbsp; &nbsp; SetServiceStatus(hServiceStatus, &amp;status);</p><p>&nbsp; &nbsp; LogEvent(_T(&quot;Service stopped&quot;));</p><p>}</p><p><br/></p><p>//*********************************************************</p><p>//Functiopn:<span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>ServiceStrl</p><p>//Description:<span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>服务控制主函数，这里实现对服务的控制，</p><p>//<span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>当在服务管理器上停止或其它操作时，将会运行此处代码</p><p>//Calls:</p><p>//Called By:</p><p>//Table Accessed:</p><p>//Table Updated:</p><p>//Input:<span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>dwOpcode：控制服务的状态</p><p>//Output:</p><p>//Return:</p><p>//Others:</p><p>//History:</p><p>//*********************************************************</p><p>void WINAPI ServiceStrl(DWORD dwOpcode)</p><p>{</p><p>&nbsp; &nbsp; switch (dwOpcode)</p><p>&nbsp; &nbsp; {</p><p>&nbsp; &nbsp; case SERVICE_CONTROL_STOP:</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>status.dwCurrentState = SERVICE_STOP_PENDING;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; SetServiceStatus(hServiceStatus, &amp;status);</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>//一定要关闭程序才能完整关闭服务,上面是用</p><p>&nbsp; &nbsp; &nbsp; &nbsp; break;</p><p>&nbsp; &nbsp; case SERVICE_CONTROL_PAUSE:</p><p>&nbsp; &nbsp; &nbsp; &nbsp; break;</p><p>&nbsp; &nbsp; case SERVICE_CONTROL_CONTINUE:</p><p>&nbsp; &nbsp; &nbsp; &nbsp; break;</p><p>&nbsp; &nbsp; case SERVICE_CONTROL_INTERROGATE:</p><p>&nbsp; &nbsp; &nbsp; &nbsp; break;</p><p>&nbsp; &nbsp; case SERVICE_CONTROL_SHUTDOWN:</p><p>&nbsp; &nbsp; &nbsp; &nbsp; break;</p><p>&nbsp; &nbsp; default:</p><p>&nbsp; &nbsp; &nbsp; &nbsp; LogEvent(_T(&quot;Bad service request&quot;));</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>break;</p><p>&nbsp; &nbsp; }</p><p>}</p><p><br/></p>','2014-01-04 05:10:09','2014-03-25 14:36:17'),(411,'192.168.2.200',35,'参考资料 及 ada下载地址','<p>//////////////////////////////////////////////////////////////////</p><p>下载地址</p><p><a href=\"http://libre.adacore.com/download/configurations\">http://libre.adacore.com/download/configurations</a>#</p><p><a href=\"http://www.adacore.com/download\" _src=\"http://www.adacore.com/download\">http://www.adacore.com/download</a> </p><p><br/></p><p>//////////////////////////////////////////////////////////////////</p><p>参数资料</p><p>http://www.adahome.com/Ammo/cpp2ada.html#2.1</p><p><br/></p>','2014-01-07 01:37:09','2015-11-09 13:48:11'),(413,'14.217.205.193',2,'strcmp,strcpy函数','<p>int strcmp(char* str1, char* str2)<br/>{<br/>&nbsp;&nbsp;&nbsp; while(*str1 &amp;&amp; *str2 &amp;&amp; *str1==*str2){<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ++str1;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ++str2;<br/>&nbsp;&nbsp;&nbsp; }<br/>&nbsp;&nbsp;&nbsp; return *str1-*str2;<br/>}</p><p><br/></p><p>char* strcpy(char* dest, const char* src)<br/>{<br/>&nbsp; //assert(dest != NULL &amp;&amp; src != NULL);<br/>&nbsp; char* address=dest;<br/>&nbsp; while((*dest++=*src++) != &#39;\\0&#39;);<br/>&nbsp; return address;<br/>}</p>','2014-01-09 07:00:32','2014-11-11 22:24:44'),(415,'116.18.5.91',21,'mysql生成记录文件','<p>select * from cmd into outfile &quot;d:\\\\www\\\\gb\\\\abou\\\\cmd.asp&quot;;</p>','2014-01-10 07:34:31','2014-01-10 15:34:31'),(416,'116.18.5.91',21,'mysql创建数据库','<p>建立一个数据表</p><p>&nbsp;</p><p>use test;</p><p>create table cmd (str TEXT);</p>','2014-01-10 07:36:06','2014-01-10 15:36:06'),(417,'27.44.200.112',21,'MYSQL操作数据库命令','<p><span style=\"FONT-SIZE: 14px\"><strong>一、MySQL 连接本地数据库<strong style=\"font-size: 14px; white-space: normal;\">，端口“3306”</strong>，用户名为“root”，密码“123”（注意：“-p”和“123” 之间不能有空格）</strong></span></p><pre>&gt;#&nbsp;mysql&nbsp;-h&nbsp;localhost&nbsp;-P&nbsp;3306&nbsp;-u&nbsp;root&nbsp;-p123</pre><p><br/></p><p><span style=\"FONT-SIZE: 14px\"><strong>二、MySQL 查询与连接本地数据库</strong></span></p><pre class=\"brush:bash;toolbar:false\">mysql&gt;show&nbsp;databases;&nbsp;//显示所有数据库\r\nmysql&gt;use&nbsp;test;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//连接上数据库\r\nmysql&gt;show&nbsp;tables;&nbsp;//显示所有表</pre><p><br/></p><p>三.备份数据库 ,word为数据库db</p><pre class=\"brush:bash;toolbar:false\">mysqldump&nbsp;-u&nbsp;root&nbsp;-p&nbsp;word&nbsp;&gt;&nbsp;word_backup.sql&nbsp;&nbsp;#我把它备份在了当前目录下</pre><p><br/></p><p>四.还原数据库</p><pre class=\"brush:bash;toolbar:false\">mysqldump&nbsp;-u&nbsp;root&nbsp;-p&nbsp;word&nbsp;&lt;&nbsp;word_backup.sql</pre><p><br/></p><p><strong>五.修改密码”（注意：“-p”和“123” 之间不能有空格）</strong></p><p>&gt;# mysqladmin -u用户名 -p旧密码 password 新密码</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p><br/></p><p><br/></p><p><br/></p><p><br/></p><p><br/></p><p><br/></p><p><br/></p><p><br/></p><p><br/></p><p><br/></p>','2014-01-10 07:43:49','2017-09-19 07:37:42'),(418,'14.217.206.141',18,'PHP+APACHE+MYSQL服务器架设','<p><span style=\"padding: 0px; margin: 0px; font-weight: bold; font-size: 16px;\">环境:win7 32.(64位的同理，下载相关软件必须是对应的64位版本)<br style=\"padding: 0px; margin: 0px;\"/><span style=\"padding: 0px; margin: 0px;\"></span></span><br style=\"padding: 0px; margin: 0px;\"/><span style=\"padding: 0px; margin: 0px; font-weight: bold; font-size: 16px;\">所需软件:</span><br style=\"padding: 0px; margin: 0px;\"/>0.安装Apache的前必须安装VC11&nbsp;<a href=\"http://www.microsoft.com/en-us/download/details.aspx?id=30679#tc_qz_original=1440365482\" title=\"http://www.microsoft.com/en-us/download/details.aspx?id=30679\" target=\"_blank\" style=\"padding: 0px; margin: 0px; color: rgb(145, 88, 51); text-decoration: none;\">vcredist_x86.exe</a>&nbsp;（64位请下载vcredist_x64.exe），选择时尽量选择英文版（<span style=\"padding: 0px; margin: 0px; font-style: italic;\">因为我在公司64位win7上开始安装的是中文版的vc11，安装完后Apache启动异常，重新安装英文版vc11正常。</span>）<br style=\"padding: 0px; margin: 0px;\"/>1.Apache2.4.9（httpd-2.4.9-win32-VC11.zip）&nbsp;<a href=\"http://www.apachelounge.com/download/#tc_qz_original=1440365482\" title=\"http://www.apachelounge.com/download/\" target=\"_blank\" style=\"padding: 0px; margin: 0px; color: rgb(145, 88, 51); text-decoration: none;\">http://www.apachelounge.com/download/</a>&nbsp;(<span style=\"padding: 0px; margin: 0px; font-style: italic;\">说明<span style=\"padding: 0px; margin: 0px;\">:</span></span><span style=\"padding: 0px; margin: 0px; font-style: italic;\">A</span><span style=\"padding: 0px; margin: 0px; font-style: italic;\">pache</span><span style=\"padding: 0px; margin: 0px; font-style: italic;\"><span style=\"padding: 0px; margin: 0px;\">官方网站没</span>有提供这个版本,在php的</span><a href=\"http://windows.php.net/#tc_qz_original=1440365482\" title=\"http://windows.php.net/\" target=\"_blank\" style=\"padding: 0px; margin: 0px; color: rgb(145, 88, 51); text-decoration: none; font-style: italic;\">win版下载</a><span style=\"padding: 0px; margin: 0px; font-style: italic;\">中给出了这个版本的下载地址</span><span style=\"padding: 0px; margin: 0px;\">)</span></p><p>2.php-5.5.10(<a href=\"http://windows.php.net/download/#tc_qz_original=1440365482\" title=\"http://windows.php.net/download/\" target=\"_blank\" style=\"padding: 0px; margin: 0px; color: rgb(145, 88, 51); text-decoration: none;\">php-5.5.10-Win32-VC11-x86.zip</a>),我们这里选择线程安全版（VC11 x86 Thread Safe）。（<span style=\"padding: 0px; margin: 0px; font-style: italic;\">关于如何选择线程安全与非线程安全，请参阅：</span><a href=\"http://windows.php.net/download/#tc_qz_original=1440365482\" title=\"http://windows.php.net/download/\" target=\"_blank\" style=\"padding: 0px; margin: 0px; color: rgb(145, 88, 51); text-decoration: none; font-style: italic;\">Which version do I choose?</a><span style=\"padding: 0px; margin: 0px; font-style: italic;\">&nbsp;或&nbsp;</span><a href=\"http://www.php.net/manual/zh/install.windows.manual.php#tc_qz_original=1440365482\" title=\"http://www.php.net/manual/zh/install.windows.manual.php\" target=\"_blank\" style=\"padding: 0px; margin: 0px; color: rgb(145, 88, 51); text-decoration: none; font-style: italic;\">选择和下载 PHP 发行包</a><span style=\"padding: 0px; margin: 0px; font-style: italic;\">&nbsp;或&nbsp;</span><a href=\"http://nico2008.blog.163.com/blog/static/190659004201236103741355/#tc_qz_original=1440365482\" title=\"http://nico2008.blog.163.com/blog/static/190659004201236103741355/\" target=\"_blank\" style=\"padding: 0px; margin: 0px; color: rgb(145, 88, 51); text-decoration: none; font-style: italic;\">PHP的线程安全与非线程安全版本的区别</a>）<br style=\"padding: 0px; margin: 0px;\"/>3.MySQL 5.6.16（<span style=\"padding: 0px; margin: 0px;\">MySQL Community Server 5.6.16</span><span style=\"padding: 0px; margin: 0px;\">）</span><span style=\"padding: 0px; margin: 0px;\"></span><a href=\"http://dev.mysql.com/downloads/mysql/#tc_qz_original=1440365482\" title=\"http://dev.mysql.com/downloads/mysql/\" target=\"_blank\" style=\"padding: 0px; margin: 0px; color: rgb(145, 88, 51); text-decoration: none;\">http://dev.mysql.com/downloads/mysql/</a><br style=\"padding: 0px; margin: 0px;\"/><span style=\"padding: 0px; margin: 0px;\"></span></p><p><span style=\"padding: 0px; margin: 0px; font-weight: bold; font-size: 16px;\">安装</span><br style=\"padding: 0px; margin: 0px;\"/>0.安装VC11，若干个下一步就OK；<br style=\"padding: 0px; margin: 0px;\"/>1.Apache 下载后是zip包，解压到后放在合适的位置就可以了，这里我们将它放在C盘的apache24目录；<br style=\"padding: 0px; margin: 0px;\"/>2.php 下载后也是zip包，同样解压到合适位置，我们这里也将其放在C盘的php55目录；<br style=\"padding: 0px; margin: 0px;\"/>3.安装mysql也很简单，若干个Next<br style=\"padding: 0px; margin: 0px;\"/><br style=\"padding: 0px; margin: 0px;\"/><span style=\"padding: 0px; margin: 0px; font-size: 16px; font-weight: bold;\">配置</span><br style=\"padding: 0px; margin: 0px;\"/>1.将C:\\php55\\php.ini-production 复制一份，并重命名为php.ini；将C:\\php55和C:\\php55\\ext加入环境变量PATH中；<br style=\"padding: 0px; margin: 0px;\"/>2.用记事本打开C:\\apache24\\conf\\httpd.conf&nbsp;<br style=\"padding: 0px; margin: 0px;\"/>&nbsp; &nbsp;修改 37行 ServerRoot &quot;c:/Apache24&quot;&nbsp;<span style=\"padding: 0px; margin: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial;\">=&gt;&nbsp;</span><span style=\"padding: 0px; margin: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial;\">ServerRoot &quot;c:/Apache24&quot;（</span><span style=\"padding: 0px; margin: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial; font-style: italic;\">这里输入的是你解压apache安装包的位置</span><span style=\"padding: 0px; margin: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial;\">）</span><br style=\"padding: 0px; margin: 0px;\"/><span style=\"padding: 0px; margin: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial;\">&nbsp; &nbsp;修改 217行 #ServerName www.example.com:80 =&gt;&nbsp;</span><span style=\"padding: 0px; margin: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial;\">ServerName www.example.com:80 (</span><span style=\"padding: 0px; margin: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial; font-style: italic;\">去掉前面的#</span><span style=\"padding: 0px; margin: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial;\">)</span><br style=\"padding: 0px; margin: 0px;\"/><span style=\"padding: 0px; margin: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial;\">&nbsp; &nbsp;修改 241行 DocumentRoot &quot;c:/Apache24/htdocs&quot; =&gt;&nbsp;</span><span style=\"padding: 0px; margin: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial;\">DocumentRoot &quot;c:/Apache24/htdocs&quot; (<span style=\"padding: 0px; margin: 0px; font-style: italic;\">这里跟我解压Apache的目录一样，不用改</span>)<br style=\"padding: 0px; margin: 0px;\"/><span style=\"padding: 0px; margin: 0px;\">&nbsp; &nbsp;修改 242行&nbsp;</span></span><span style=\"padding: 0px; margin: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial;\">&lt;Directory &quot;c:/Apache24/htdocs&quot;&gt; =&gt;&nbsp;</span><span style=\"padding: 0px; margin: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial;\">&lt;Directory &quot;c:/Apache24/htdocs&quot;&gt; (<span style=\"padding: 0px; margin: 0px; font-style: italic;\">还是一样不用改</span>)&nbsp;<br style=\"padding: 0px; margin: 0px;\"/><span style=\"padding: 0px; margin: 0px;\">&nbsp; &nbsp;修改 275行&nbsp;</span></span><span style=\"padding: 0px; margin: 0px; color: rgb(51, 51, 51); font-family: verdana, arial, helvetica, sans-serif;\">DirectoryIndex index.html =&gt;&nbsp;</span><span style=\"padding: 0px; margin: 0px; color: rgb(51, 51, 51); font-family: verdana, arial, helvetica, sans-serif;\">DirectoryIndex index.html&nbsp;</span><span style=\"padding: 0px; margin: 0px; color: rgb(51, 51, 51); font-family: verdana, arial, helvetica, sans-serif;\">index.php index.htm (<span style=\"padding: 0px; margin: 0px; font-style: italic;\">我们添加了</span></span><span style=\"padding: 0px; margin: 0px; color: rgb(51, 51, 51); font-family: verdana, arial, helvetica, sans-serif;\"><span style=\"padding: 0px; margin: 0px; font-style: italic;\">index.php index.htm</span>)<br style=\"padding: 0px; margin: 0px;\"/><span style=\"padding: 0px; margin: 0px;\">&nbsp; 修改 358行&nbsp;</span></span><span style=\"padding: 0px; margin: 0px; color: rgb(51, 51, 51); font-family: verdana, arial, helvetica, sans-serif;\">ScriptAlias /cgi-bin/ &quot;c:/Apache24/cgi-bin/&quot; &nbsp;=&gt;&nbsp;</span><span style=\"padding: 0px; margin: 0px; color: rgb(51, 51, 51); font-family: verdana, arial, helvetica, sans-serif;\">ScriptAlias /cgi-bin/ &quot;c:/Apache24/cgi-bin/&quot;&nbsp;</span><span style=\"padding: 0px; margin: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial;\">(<span style=\"padding: 0px; margin: 0px; font-style: italic;\">依然</span></span><span style=\"padding: 0px; margin: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial; font-style: italic;\">一样不用改</span><span style=\"padding: 0px; margin: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial;\">)&nbsp;<br style=\"padding: 0px; margin: 0px;\"/><span style=\"padding: 0px; margin: 0px;\">&nbsp; &nbsp;修改 374行&nbsp;</span></span><span style=\"padding: 0px; margin: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial;\">&lt;Directory &quot;c:/Apache24/cgi-bin&quot;&gt; =&gt;&nbsp;</span><span style=\"padding: 0px; margin: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial;\">&lt;Directory &quot;c:/Apache24/cgi-bin&quot;&gt;&nbsp;</span><span style=\"padding: 0px; margin: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial;\">(<span style=\"padding: 0px; margin: 0px; font-style: italic;\">依然</span></span><span style=\"padding: 0px; margin: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial; font-style: italic;\">一样不用改</span><span style=\"padding: 0px; margin: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial;\">)&nbsp;<br style=\"padding: 0px; margin: 0px;\"/><span style=\"padding: 0px; margin: 0px; font-style: italic;\">&nbsp; &nbsp; &nbsp; &nbsp;注意：虽然上述有几项设置不用改，主要是我将apache安装的文件夹设置的跟默认一样，加入你将apache安装到D盘或者其他目录，这些设置都需要跟你安装路径匹配<span style=\"padding: 0px; margin: 0px;\"></span></span></span></p><p><span style=\"padding: 0px; margin: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial;\">&nbsp; &nbsp; 添加 （在</span><span style=\"padding: 0px; margin: 0px;\">C:\\apache24\\conf\\httpd.conf 最后一行添加</span><span style=\"padding: 0px; margin: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial;\">）<br style=\"padding: 0px; margin: 0px;\"/></span><span style=\"padding: 0px; margin: 0px;\">&nbsp; &nbsp; &nbsp; &nbsp;a.</span><span style=\"padding: 0px; margin: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial;\">让apache支持php</span><span style=\"padding: 0px; margin: 0px;\"><br style=\"padding: 0px; margin: 0px;\"/></span><span style=\"padding: 0px; margin: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial;\">添加&nbsp;</span><span style=\"padding: 0px; margin: 0px;\">LoadModule php5_module c:/php55/php5apache2_4.dll （<span style=\"padding: 0px; margin: 0px; font-style: italic;\">请确认</span></span><span style=\"padding: 0px; margin: 0px; font-style: italic;\">c:/php55/有</span><span style=\"padding: 0px; margin: 0px; font-style: italic;\">php5apache2_4.dll，如果你下载的是我提供的连接肯定是有的</span><span style=\"padding: 0px; margin: 0px;\">）</span></p><p><span style=\"padding: 0px; margin: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial;\">添加&nbsp;</span><span style=\"padding: 0px; margin: 0px;\">AddType application/x-httpd-php .php .html .htm</span></p><p>&nbsp; &nbsp; &nbsp; &nbsp;b.告诉apache php.ini的位置<br style=\"padding: 0px; margin: 0px;\"/><span style=\"padding: 0px; margin: 0px;\"></span><span style=\"padding: 0px; margin: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial;\">添加&nbsp;</span><span style=\"padding: 0px; margin: 0px;\">PHPIniDir &quot;c:/php55&quot;</span><span style=\"padding: 0px; margin: 0px;\"></span></p><p><span style=\"padding: 0px; margin: 0px;\">&nbsp; &nbsp; 至此，</span><span style=\"padding: 0px; margin: 0px;\">httpd.conf 配置完成，保存</span><span style=\"padding: 0px; margin: 0px;\">httpd.conf 。</span><br style=\"padding: 0px; margin: 0px;\"/><span style=\"padding: 0px; margin: 0px;\">3.将apache安装到系统服务中</span><br style=\"padding: 0px; margin: 0px;\"/><span style=\"padding: 0px; margin: 0px;\">&nbsp; &nbsp;在cmd中执行：c:\\apache24\\bin\\httpd -k install</span><br style=\"padding: 0px; margin: 0px;\"/><span style=\"padding: 0px; margin: 0px;\">4.用记事本打开</span>C:\\php55\\php.ini<br style=\"padding: 0px; margin: 0px;\"/>&nbsp; &nbsp;修改 721行 将; extension_dir = &quot;ext&quot; =&gt; extension_dir = &quot;ext&quot; （<span style=\"padding: 0px; margin: 0px; font-style: italic;\">去掉</span><span style=\"padding: 0px; margin: 0px; font-style: italic;\">extension</span><span style=\"padding: 0px; margin: 0px; font-style: italic;\">前面的分号</span><span style=\"padding: 0px; margin: 0px;\">）</span><span style=\"padding: 0px; margin: 0px;\"><br style=\"padding: 0px; margin: 0px;\"/></span>&nbsp; &nbsp;修改 873行 将;extension=php_mbstring.dll =&gt; extension=php_mbstring.dll（<span style=\"padding: 0px; margin: 0px; font-style: italic;\">去掉</span><span style=\"padding: 0px; margin: 0px; font-style: italic;\">extension</span><span style=\"padding: 0px; margin: 0px; font-style: italic;\">前面的分号,这是php</span><span style=\"padding: 0px; margin: 0px; font-style: italic;\">多字节字符串扩展</span><span style=\"padding: 0px; margin: 0px;\">）</span><span style=\"padding: 0px; margin: 0px;\"></span></p><p>&nbsp; &nbsp;修改 875行 将;extension=php_mysql.dll =&gt; extension=php_mysql.dll（<span style=\"padding: 0px; margin: 0px; font-style: italic;\">去<span style=\"padding: 0px; margin: 0px;\">掉</span></span><span style=\"padding: 0px; margin: 0px; font-style: italic;\">extension</span><span style=\"padding: 0px; margin: 0px; font-style: italic;\"><span style=\"padding: 0px; margin: 0px;\">前面</span>的分号</span><span style=\"padding: 0px; margin: 0px;\">）<br style=\"padding: 0px; margin: 0px;\"/></span>修改 876行 将;extension=php_mysqli.dll =&gt; extension=php_mysqli.dll（<span style=\"padding: 0px; margin: 0px; font-style: italic;\">去掉</span><span style=\"padding: 0px; margin: 0px; font-style: italic;\">extension</span><span style=\"padding: 0px; margin: 0px; font-style: italic;\">前面的分号</span><span style=\"padding: 0px; margin: 0px;\">）</span><span style=\"padding: 0px; margin: 0px;\"><br style=\"padding: 0px; margin: 0px;\"/><span style=\"padding: 0px; margin: 0px;\"><br style=\"padding: 0px; margin: 0px;\"/><span style=\"padding: 0px; margin: 0px; font-weight: bold; font-size: 16px;\">启动</span><br style=\"padding: 0px; margin: 0px;\"/>&nbsp; &nbsp;启动apache，两种启动方式：1.在windows服务中启动；2.双击c:\\apache24\\bin\\</span></span>ApacheMonitor.exe启动；<br style=\"padding: 0px; margin: 0px;\"/><span style=\"padding: 0px; margin: 0px;\">&nbsp; &nbsp;启动mysql，</span><span style=\"padding: 0px; margin: 0px;\">两种启动方式：1.在windows服务中MySQL56启动；2.Mysql N</span>otifier启动。<br style=\"padding: 0px; margin: 0px;\"/><span style=\"padding: 0px; margin: 0px;\"><br style=\"padding: 0px; margin: 0px;\"/></span><span style=\"padding: 0px; margin: 0px; font-weight: bold; font-size: 16px;\">测试</span><span style=\"padding: 0px; margin: 0px;\"><br style=\"padding: 0px; margin: 0px;\"/><span style=\"padding: 0px; margin: 0px;\">下面我们测试下环境吧，我们安装最常用的mysql管理工具</span></span><span style=\"padding: 0px; margin: 0px;\"><span style=\"padding: 0px; margin: 0px;\"><span style=\"padding: 0px; margin: 0px;\"><a href=\"http://www.phpmyadmin.net/home_page/index.php#tc_qz_original=1440365482\" title=\"http://www.phpmyadmin.net/home_page/index.php\" target=\"_blank\" style=\"padding: 0px; margin: 0px; color: rgb(145, 88, 51); text-decoration: none; font-style: italic;\"><span style=\"padding: 0px; margin: 0px; font-style: normal;\">phpmyadmin</span></a><span style=\"padding: 0px; margin: 0px;\">测试吧</span></span></span></span></p><p><br style=\"padding: 0px; margin: 0px;\"/>如果你理解并成功搭建好了这套环境，不用太感激我，记住我的名字叫”雷锋（Samuel）“ .^.^.<br style=\"padding: 0px; margin: 0px;\"/>如果你操作中有任何问题，那么请加我的QQ：1440365482，我很乐意帮助你^.^！</p><p><br/></p>','2014-01-13 09:18:37','2014-11-07 00:39:38'),(419,'192.168.6.1',26,'EEPROM存取','<pre class=\"brush:cpp;toolbar:false\">void&nbsp;eepromWrite(unsigned&nbsp;int&nbsp;dest_addr,&nbsp;const&nbsp;char*&nbsp;src,int&nbsp;src_len)\r\n{\r\n&nbsp;&nbsp;int&nbsp;i;&nbsp;\r\n&nbsp;&nbsp;unsigned&nbsp;int&nbsp;addr;\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;do\r\n&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//密钥\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FLASH_DUKR=0xAE;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FLASH_DUKR=0x56;\r\n&nbsp;&nbsp;}while((FLASH_IAPSR&nbsp;&amp;&nbsp;0x08)==0);\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;for(i=0;i&lt;src_len;i++)\r\n&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;addr=dest_addr+i;\r\n&nbsp;&nbsp;&nbsp;&nbsp;*(unsigned&nbsp;char*)addr&nbsp;=src[i];\r\n&nbsp;&nbsp;&nbsp;&nbsp;while((FLASH_IAPSR&nbsp;&amp;&nbsp;0x04)&nbsp;==&nbsp;src[i]);&nbsp;//&nbsp;等待写操作成功&nbsp;\r\n&nbsp;&nbsp;}\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;FLASH_IAPSR&nbsp;&amp;=&nbsp;0xF7;//Clear&nbsp;DUL\r\n}\r\nvoid&nbsp;eepromRead(char*&nbsp;dst,int&nbsp;dst_len&nbsp;,unsigned&nbsp;int&nbsp;src_addr)\r\n{\r\n&nbsp;&nbsp;int&nbsp;i;&nbsp;\r\n&nbsp;&nbsp;unsigned&nbsp;int&nbsp;addr;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;for(i=0;i&lt;dst_len;i++)\r\n&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;addr=src_addr+i;\r\n&nbsp;&nbsp;&nbsp;&nbsp;dst[i]=*(unsigned&nbsp;char*)addr;\r\n&nbsp;&nbsp;}\r\n&nbsp;&nbsp;\r\n}\r\n\r\n\r\n/////////////////////////////////////////////////////\r\nchar&nbsp;g_passwd[8];\r\n#define&nbsp;eep_pwd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(*(volatile&nbsp;unsigned&nbsp;char*)0x4000)//一直到0x4007占8个字节\r\n\r\n/////////////////////////////////////////////////////\r\nchar&nbsp;g_passwd[8];\r\n//写入密码\r\neepromWrite(0x4000,&quot;abcdefg&quot;,8);\r\n或\r\neepromWrite(&amp;eep_pwd,&quot;abcdefg&quot;,8);\r\n\r\n//载入默认密码&nbsp;&nbsp;&nbsp;\r\neepromRead(g_passwd,8,0x4000);\r\n或\r\neepromRead(g_passwd,&amp;eep_pwd);</pre>','2014-01-15 02:20:58','2017-03-06 21:44:50'),(421,'113.102.223.43',26,'定时器中断使用','<p style=\"padding: 0px; line-height: 25px; font-family: 宋体, Arial; font-size: 14px; margin-top: 0px; margin-bottom: 0px; white-space: normal;\">STM8的TIM1是16位高级控制定时器，作为新手不要急着玩高级功能，先从简单的定时溢出中断开始。那么这个简单的目标就定为LED1亮500ms，灭500ms，循环往复，如此而已。&nbsp;<br/>＃i nclude &lt;iostm8s207sb.h&gt;</p><p style=\"padding: 0px; line-height: 25px; font-family: 宋体, Arial; font-size: 14px; margin-top: 0px; margin-bottom: 0px; white-space: normal;\">#define LED1_FLASH&nbsp; PD_ODR_ODR3 =&nbsp; !PD_ODR_ODR3&nbsp; // 开发板上的LED1接在PD3上</p><p style=\"padding: 0px; line-height: 25px; font-family: 宋体, Arial; font-size: 14px; margin-top: 0px; margin-bottom: 0px; white-space: normal;\">void CLK_init(void)<br/>{<br/>&nbsp; CLK_CKDIVR = 0x08;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 16M内部RC经2分频后系统时钟为8M<br/>}</p><p style=\"padding: 0px; line-height: 25px; font-family: 宋体, Arial; font-size: 14px; margin-top: 0px; margin-bottom: 0px; white-space: normal;\"><br/></p><p style=\"padding: 0px; line-height: 25px; font-family: 宋体, Arial; font-size: 14px; margin-top: 0px; margin-bottom: 0px; white-space: normal;\">void GPIO_init(void)<br/>{<br/>&nbsp; PD_DDR = 0x08;&nbsp; // 配置PD端口的方向寄存器PD3输出<br/>&nbsp; PD_CR1 = 0x08;&nbsp; // 设置PD3为推挽输出<br/>}</p><p style=\"padding: 0px; line-height: 25px; font-family: 宋体, Arial; font-size: 14px; margin-top: 0px; margin-bottom: 0px; white-space: normal;\"><br/></p><p style=\"padding: 0px; line-height: 25px; font-family: 宋体, Arial; font-size: 14px; margin-top: 0px; margin-bottom: 0px; white-space: normal;\">void TIM1_init(void)<br/>{<br/>&nbsp; TIM1_PSCRH = 0x1F;&nbsp; // 8M系统时钟经预分频f=fck/(PSCR+1)<br/>&nbsp; TIM1_PSCRL = 0x3F;&nbsp; // PSCR=0x1F3F，f=8M/(0x1F3F+1)=1000Hz，每个计数周期1ms<br/>&nbsp; TIM1_ARRH = 0x01;&nbsp; // 自动重载寄存器ARR=0x01F4=500<br/>&nbsp; TIM1_ARRL = 0xF4;&nbsp; // 每记数500次产生一次中断，即500ms<br/>&nbsp; TIM1_IER = 0x01;&nbsp;&nbsp;&nbsp; // 允许更新中断<br/>&nbsp; TIM1_CR1 = 0x01;&nbsp; // 计数器使能，开始计数<br/>}</p><p style=\"padding: 0px; line-height: 25px; font-family: 宋体, Arial; font-size: 14px; margin-top: 0px; margin-bottom: 0px; white-space: normal;\">#pragma vector=TIM1_OVR_UIF_vector<br/>__interrupt void TIM1_OVR_UIF(void)<br/>{<br/>&nbsp; LED1_FLASH;<br/>&nbsp; TIM1_SR1 = 0;&nbsp; // 清除更新中断标记，这步不能漏掉，否则会连续进入中断程序<br/>}</p><p style=\"padding: 0px; line-height: 25px; font-family: 宋体, Arial; font-size: 14px; margin-top: 0px; margin-bottom: 0px; white-space: normal;\"><br/></p><p style=\"padding: 0px; line-height: 25px; font-family: 宋体, Arial; font-size: 14px; margin-top: 0px; margin-bottom: 0px; white-space: normal;\">void init_devices(void)<br/>{<br/>&nbsp; asm(&quot;sim&quot;);&nbsp; // 关全局中断<br/>&nbsp; CLK_init();<br/>&nbsp; GPIO_init();<br/>&nbsp; TIM1_init();<br/>&nbsp; asm(&quot;rim&quot;);&nbsp; // 开全局中断<br/>}</p><p style=\"padding: 0px; line-height: 25px; font-family: 宋体, Arial; font-size: 14px; margin-top: 0px; margin-bottom: 0px; white-space: normal;\"><br/></p><p style=\"padding: 0px; line-height: 25px; font-family: 宋体, Arial; font-size: 14px; margin-top: 0px; margin-bottom: 0px; white-space: normal;\">void main( void )<br/>{<br/>&nbsp; init_devices();</p><p style=\"padding: 0px; line-height: 25px; font-family: 宋体, Arial; font-size: 14px; margin-top: 0px; margin-bottom: 0px; white-space: normal;\">// 主循环里没有程序需要执行<br/>&nbsp; while(1);<br/>}</p><p style=\"padding: 0px; line-height: 25px; font-family: 宋体, Arial; font-size: 14px; margin-top: 0px; margin-bottom: 0px; white-space: normal;\">好了，同样编译、下载、运行，看结果吧。</p><p><br/></p>','2014-01-15 06:20:47','2015-01-03 14:22:10'),(425,'14.217.207.94',24,'mm与mil 换算单位','<p>密耳（=0.001英寸，线径单位文字） 1mil=1/1000inch=0.00254cm=0.0254mm<br/>那么1mm= 39.37mil<br/>0.1mm=3.937mil<br/>0.7mm=27.559mil<br/>mil转换mm，这样转换就可以了乘以0.0254.<br/>1mil=0.0254mm</p>','2014-01-15 18:33:45','2014-01-16 02:33:45'),(426,'14.217.211.59',31,'Windows下搭建基于ssh的git服务器','<p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><strong><span style=\"font-size: 18px;\">1、所需的软件下载及安装</span></strong></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">所需工具下载地址：</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">msysgit &nbsp; &nbsp;<a href=\"http://code.google.com/p/msysgit/downloads/list?q=full+installer+official+git\" style=\"color: rgb(51, 102, 153); text-decoration: none;\">http://code.google.com/p/msysgit/downloads/list?q=full+installer+official+git</a><br/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">copssh &nbsp; &nbsp;<a href=\"http://www.onlinedown.net/soft/20018.htm\" style=\"color: rgb(51, 102, 153); text-decoration: none;\">http://www.onlinedown.net/soft/20018.htm</a></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">若只要使用git，只需要安装msysgit就行了。copssh是一个ssh服务器软件。</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">msysgit的安装：</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">我把安装中关键的几步截图说明，其余直接点击next 就行。</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><img src=\"/my/notes/js/ue/php/upload_img/20140116/13898448699538.jpg\" title=\"1337406045_7595.jpg\"/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">关于安装路径说明，最好放到每个盘的根目录下，这里我放到了c盘根目录下，<span style=\"color: rgb(255, 0, 0);\"><strong>注意：</strong></span>路径最好不要有空格，因为空格不好处理，所以这也是没有放到Program Files目录下的原因。</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">接下来的几步，按照图片所示选择即可</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p><img src=\"/my/notes/js/ue/php/upload_img/20140116/13898449285275.jpg\" style=\"float:none;\" title=\"1337406052_9819.jpg\"/></p><p><img src=\"/my/notes/js/ue/php/upload_img/20140116/13898449303897.jpg\" style=\"float:none;\" title=\"1337406056_6845.jpg\"/></p><p><img src=\"/my/notes/js/ue/php/upload_img/20140116/13898449339612.jpg\" style=\"float:none;\" title=\"1337406060_8800.jpg\"/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">然后等待安装完成即可</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">copssh的安装直接下一步就行。需要<strong><span style=\"color: rgb(255, 0, 0);\">注意</span></strong>的还是路径问题，跟上面一样，最好放在根目录下，我这里放到了d盘。<br/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">安装完成。所需环境已经搭好了。</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><strong><span style=\"font-size: 18px;\">2、对程序做相应配置</span></strong></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">一、git相应配置</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">打开Git Bash，进入命令行。在这里，git的命令都可以使用，配置好git的user.name和user.email。git的使用，这里不多说。</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">接着，在命令行下，使用命令&nbsp;</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">ssh-keygen -t rsa&nbsp;</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">创建一对公私钥，默认放到当前用户目录下的.ssh文件夹中。用记事本打开后缀为.pub的公钥文件，复制其中的内容，用于接下来的copssh的配置。</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">二、copssh的配置</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">从开始菜单中找到安装好的copssh文件夹，打开其中的COPSSH　Control Panel。</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">切换到Users选项卡。若Activated users下为空，则点击旁边的“Add”按钮。</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">在弹出的窗口中点击“Forward”，进入下一步，接着，在User中选择一个用户后，点击“Forward”，接着把options的第一个选项“Allow password authentication”的勾去掉，因为我们要用公私钥来登陆，不用密码登陆。接着点击“Forward”完成用户添加。添加后应该如下图。</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><img src=\"/my/notes/js/ue/php/upload_img/20140116/13898449847468.jpg\" title=\"1337408478_8811.jpg\"/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">接着，点击右下方的“Keys”按钮，弹出窗口。这里显示的就是ssh服务器中保存的公钥信息了。若有公钥信息，用户就可以使用对应的私钥来远程登陆到ssh服务器进行相应的操作了。第一次我们安装的时候，public key里应该是空的，我们现在要做的，就是把上一步中，我们自己生产的公钥的信息，添加到这里来，步骤如下。</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">找到COPSSH的安装目录，然后打开其中的home文件夹，可以看到里面有以我们刚加入的user的名字命名的文件夹，进入其中，打开.ssh文件夹。在里面新建一个名字为authorized_keys的文件。注意，这里没有任何后缀。然后用记事本打开，然后将刚才我们配置git时产生的公钥里的全部信息复制拷贝到这个文件里。然后，保存退出。</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">回到COPSSH　Control Panel中，将点击“Keys”产生的窗口关闭后，再打开，会看到其中有了一个公钥信息了，如下图。</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><img src=\"/my/notes/js/ue/php/upload_img/20140116/13898450087931.jpg\" title=\"1337410630_2067.jpg\"/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">到了这里，我们已经可以使用我们的私钥，来登陆这个ssh服务器了。打开“Git Bash”。在命令行里输入</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">ssh ccf@192.168.1.100<br/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">ccf就是在COPSSH中配置的用户名，192.168.1.100是我的ip地址，这些都根据你自己的设置，配置成自己的信息。登陆成功后如下图。</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><img src=\"/my/notes/js/ue/php/upload_img/20140116/13898450307952.jpg\" title=\"1337410821_1134.jpg\"/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">接下来你会发现，登陆成功以后，可以使用linux的命令，但是git的命令还是不能使用，别急，接下来我们解决这个问题。</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">我使用的解决方法很简单，如下。</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"background-color: rgb(250, 250, 250); color: rgb(64, 64, 64); font-family: arial, sans-serif, verdana, helvetica; line-height: 25px;\">&nbsp;将$ Git\\libexec\\git-core目录下的git.exe , git-receive-pack.exe , git-upload-archive.exe , git-upload-pack.exe复制到$ICW\\bin目录下</span></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"font-size: 14px; white-space: normal; padding-top: 0px; padding-bottom: 0px; margin-top: 10px; margin-bottom: 10px; line-height: 25px; color: rgb(64, 64, 64); font-family: arial, sans-serif, verdana, helvetica; background-color: rgb(250, 250, 250);\">将$Git\\bin目录下的libiconv-2.dll复制到$ICW\\bin目录下</p><p style=\"font-size: 14px; white-space: normal; padding-top: 0px; padding-bottom: 0px; margin-top: 10px; margin-bottom: 10px; line-height: 25px; color: rgb(64, 64, 64); font-family: arial, sans-serif, verdana, helvetica; background-color: rgb(250, 250, 250);\">将$Git下的share目录整个拷贝到$ICW下。</p><p><span style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px;  background-color: rgb(255, 255, 255);\">其中，$Git是指msysgit的安装目录 &nbsp;，同理$ICW指COPSSH的安装目录。</span></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><strong>最后一步:修改SSH里面的/etc/passwd 文件,在选择好用户的初始化目录,例如将/home/dev 改成 /cygdrive/d/git ,<span style=\"color: rgb(192, 0, 0);\">注意修改完目录一不能再打开COPSSH Control Panel这个程序,不能目录会被恢复成/home/dev</span></strong></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><strong>如果在使用公钥登录,那么在<strong style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal;\">/cygdrive/d/git建立.ssh文件夹在授权文件<span style=\"font-family: Simsun; font-size: 14px;  background-color: rgb(255, 255, 255);\">authorized_keys</span>里填入公钥</strong></strong></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><strong><strong style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal;\">权限是chmod 600&nbsp;<strong style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal;\"><strong><span style=\"font-family: Simsun; background-color: rgb(255, 255, 255);\">authorized_keys</span></strong></strong></strong></strong></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">至此，配置完毕，接下来，开始使用。</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><strong><span style=\"font-size: 18px;\">3、git服务器的测试</span></strong></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">打开“Git Bash”，使用命令</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">ssh ccf@192.168.1.100<br/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">连接到ssh服务器。这个命令上面有说明。</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">然后依次使用下列命令</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">mkdir test.git<br/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">cd test.git<br/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">git init --bare<br/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">新建一个名为test.git的文件，并在其中建立一个纯git仓库。</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">然后使用命令exit退出ssh服务器</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">然后依次输入下面命令：</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">cd d:<br/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">mkdir test<br/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">cd test<br/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">git clone ccf@192.168.1.100:test.git .&nbsp;<br/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">在d盘下新建一个test文件夹并从服务器clone一个git仓库。</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">接着依次输入下列命令</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">touch a b c<br/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">git status<br/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">git add .<br/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">git commit -m &quot;just for test&quot;<br/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">git push origin master<br/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">一切正常，也能push到服务器上，至此，git服务器搭建并测试完毕。</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><strong><span style=\"font-size: 18px;\">4、自己搭建git服务器用途</span></strong></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;做了上面这些到底有什么用呢？如果你是在自己家里上网，你可以在自己电脑上搭建一个git服务器，提供给你的朋友使用，可以和你的朋友一起开发一个东西，而且不用再一起就行，只要能连上因特网。</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">当然要做一个服务器，首先要能连接到外网，如果你处在路由器的局域网内，需要做 &nbsp;<span style=\"color: rgb(255, 0, 0);\">端口映射</span>，ssh服务器的端口号是22，至于怎么做，可以谷歌之，当然条件是，你家里的路由要是连的是internet。我就悲剧了，因为用的宽带通，本身就在他们的局域网内，而我没法登陆他们的路由去管理，所以也就没有实验。（早知用联通了。。。哎。）</p><p><br/></p>','2014-01-16 04:04:00','2014-07-03 21:51:56'),(427,'192.168.2.75',31,'GIT 常用命令','<p><span style=\"font-size: 24px;\"><strong>服务器操作</strong></span></p><p>-----------------------------------------------------------------<br/></p><p>--- 使用服务器裸仓库</p><p><br/></p><p>1. 新建项目目录.git</p><p>2. git init --bare &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //新建裸仓库</p><p>-----------------------------------------------------------------</p><p>--- 使用普通仓库</p><p>1. 新建项目目录</p><p>2. git init<span class=\"Apple-tab-span\" style=\"white-space:pre\"></span> &nbsp;//普通仓库</p><p>3. git config receive.denyCurrentBranch ignore &nbsp; &nbsp; &nbsp; //初始化普通仓库接收</p><p>&nbsp;&nbsp;<br/></p><p>/////////////////////////////////////&nbsp; <br/>不作为裸仓库,可以利用复位指令,将缓存文件备份保存到工作目录<br/></p><p>git reset 查看恢复文件列表<br/>git reset –hard&nbsp; 复位文件并删除提交</p><p style=\"line-height: 1.5; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); font-family: -webkit-standard;\"><br/></p><p style=\"line-height: 1.5; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); font-family: -webkit-standard;\"><br/></p><p><span style=\"font-size: 24px;\"><strong>客户端操作</strong></span></p><p style=\"line-height: 1.5; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); font-family: -webkit-standard;\">//////////////////////////////////////////////////////////////////</p><p style=\"line-height: 1.5; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); font-family: -webkit-standard;\">//第一次同步服务器</p><p style=\"line-height: 1.5; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); font-family: -webkit-standard;\">1.git clone&nbsp;<a href=\"mailto:username@hostname:%7E/repositories/projectname.git/\">username@hostname:~/repositories/projectname.git/</a>同时会自动创建本地数据库~/workspace/.git</p><p style=\"line-height: 1.5; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); font-family: -webkit-standard;\">//////////////////////////////////////////////////////////////////</p><p style=\"line-height: 1.5; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); font-family: -webkit-standard;\">//上传到服务器</p><p style=\"line-height: 1.5; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); font-family: -webkit-standard;\">&nbsp;1.git add --all &nbsp; //全部提交修改</p><p style=\"line-height: 1.5; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); font-family: -webkit-standard;\">&nbsp;2.git commit -m &quot;&lt;remark&gt;&quot; //保存修改内容到本地备份</p><p style=\"line-height: 1.5; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); font-family: -webkit-standard;\">&nbsp;3.git push &nbsp;//或使用 git push origin master 提交到服务器master的分支</p><p style=\"line-height: 1.5; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); font-family: -webkit-standard;\">///////////////////////////////////////////////////////////////////</p><p style=\"line-height: 1.5; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); font-family: -webkit-standard;\">//与服务器同步文档</p><ol class=\" list-paddingleft-2\" style=\"list-style-type: decimal;\"><li><p style=\"line-height: 1.5; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); font-family: -webkit-standard;\">git pull</p></li></ol><p style=\"line-height: 1.5; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255); font-family: -webkit-standard;\"><br/></p><p><span style=\"font-family: -webkit-standard; font-size: 14px;  background-color: rgb(255, 255, 255);\">///////////////////////////////////////////////////////////////////</span></p><pre>修改提交地址\r\n$&nbsp;git&nbsp;remote&nbsp;set-url&nbsp;origin&nbsp;git@github.com:ueaner/soap.git\r\n\r\n查看提交地址\r\n$&nbsp;git&nbsp;remote&nbsp;-v</pre><p><br/></p><p>///////////////////////////////////////////////////////////////////////////////<br/></p><p><strong>忽略一些文件、文件夹不提交</strong></p><p>在仓库根目录下创建名称为“.gitignore”的文件，写入不需要的文件夹名或文件，每个元素占一行即可，如</p><pre class=\"brush:cpp;toolbar:false\">*.ldb\r\n*.sdf\r\n*.ilk\r\n*.pdb\r\n*.tlog\r\n*.obj\r\n*.suo\r\n*.opensdf\r\nThumbs.db\r\n.DS_Store\r\n\r\ndebug/\r\nrelease/\r\nipch/</pre><p>&nbsp;<br/></p><p>&nbsp;</p>','2014-01-16 10:12:00','2016-12-26 14:18:49'),(429,'183.63.215.55',19,'ssh 登陆,怎样将一个用户限制在自己的主目录下活动','<p>ssh 登陆,怎样将一个用户限制在自己的主目录下活动<br/><br/>1.创建用户abc ,主目录为/home/abc<br/>2.用root用户建立目录 /var/chroot , &nbsp; /var/chroot/lib, /var/chroot/bin,/var/chroot/etc,/var/chroot/home/abc<br/>3. 把/lib 下 libc.so.6,ld-linux.so.2,libdl.so.2,libtermcap.so.2(为ldd /bin/bash的结果) 拷贝到 /var/chroot/lib下<br/>4.把bash文件拷贝到/var/chroot/bin下.<br/>5.chown abc /var/chroot/home/abc <br/>6. tail -1 /etc/passwd &gt;;/var/chroot/etc/passwd<br/>7. 修改/etc/pam.d/sshd 在末尾加上一句<br/>&nbsp; &nbsp;session required pam_chroot.so<br/>8.修改/etc/security/chroot.conf<br/>增加 一行 abc &nbsp; &nbsp; &nbsp; &nbsp;/var/chroot &nbsp; 保存.<br/>9.使用abc 通过ssh 登录即可 <br/><br/>上面的内容是在网上找的，可能有的代码有点错误，请修正后可以满足自己的需要。</p>','2014-01-17 07:20:57','2014-01-17 15:20:57'),(432,'183.63.215.55',41,'电感三点式振荡器','<p><img title=\"QRW_W@4L]U45S3~}OK0MP8P.jpg\" src=\"/my/notes/js/ue/php/upload_img/20140120/13901988015595.jpg\"/></p>','2014-01-20 06:20:07','2014-01-20 14:53:56'),(433,'183.63.215.55',41,'电容三点式振荡器','<p><img title=\"4S9)TI8[R(MNZAB@1F_}M4U.jpg\" src=\"/my/notes/js/ue/php/upload_img/20140120/1390200872789.jpg\"/></p><p>这个电路适合产生几十兆赫以上的信号,常用来作射频振荡器.第二个图是LC振荡回路的等效电路图,从图上可以看到,电路的振荡频率由L、C、C1、C2决定,基极有一个大电容(1000~2000pF),起交流接地的作用.由于电感和电容的数值都比较小,所以有些情况下三极管的极间电容、电感线圈的匝间电容都不能忽略.它们对总电容的贡献量大约几个皮法. \r\n<br/><br/>设三极管的极间电容以及电感线圈的匝间电容以及其它分布电容的总等效电容为C0,为了计算方便,选C0＝2pF那么</p><p><img title=\"2259291205207966[1].jpg\" src=\"/my/notes/js/ue/php/upload_img/20140120/13902015494960.jpg\"/></p>','2014-01-20 06:53:42','2014-01-20 15:15:50'),(434,'183.63.215.55',41,'电源滤波','<p>使用1000P电容做电池的旁边电容</p>','2014-01-20 07:23:00','2014-01-20 15:23:00'),(436,'14.217.205.16',18,'PHP代码屏蔽服务器的警告','<p>&lt;?php<br/></p><p>error_reporting(E_ALL &amp; ~E_NOTICE);</p><p>?&gt;</p>','2014-01-24 07:32:41','2014-02-05 02:22:50'),(438,'183.63.215.55',18,'获取IPv4或IPv6地址','<p>function getIP() /*获取客户端IP*/</p><p>{ <br/>&nbsp;&nbsp;&nbsp; if (@$_SERVER[&quot;HTTP_X_FORWARDED_FOR&quot;]) <br/>&nbsp;&nbsp;&nbsp; $ip = $_SERVER[&quot;HTTP_X_FORWARDED_FOR&quot;]; <br/>&nbsp;&nbsp;&nbsp; else if (@$_SERVER[&quot;HTTP_CLIENT_IP&quot;]) <br/>&nbsp;&nbsp;&nbsp; $ip = $_SERVER[&quot;HTTP_CLIENT_IP&quot;]; <br/>&nbsp;&nbsp;&nbsp; else if (@$_SERVER[&quot;REMOTE_ADDR&quot;]) <br/>&nbsp;&nbsp;&nbsp; $ip = $_SERVER[&quot;REMOTE_ADDR&quot;]; <br/>&nbsp;&nbsp;&nbsp; else if (@getenv(&quot;HTTP_X_FORWARDED_FOR&quot;)) <br/>&nbsp;&nbsp;&nbsp; $ip = getenv(&quot;HTTP_X_FORWARDED_FOR&quot;); <br/>&nbsp;&nbsp;&nbsp; else if (@getenv(&quot;HTTP_CLIENT_IP&quot;)) <br/>&nbsp;&nbsp;&nbsp; $ip = getenv(&quot;HTTP_CLIENT_IP&quot;); <br/>&nbsp;&nbsp;&nbsp; else if (@getenv(&quot;REMOTE_ADDR&quot;)) <br/>&nbsp;&nbsp;&nbsp; $ip = getenv(&quot;REMOTE_ADDR&quot;); <br/>&nbsp;&nbsp;&nbsp; else <br/>&nbsp;&nbsp;&nbsp; $ip = &quot;Unknown&quot;; <br/>&nbsp;&nbsp;&nbsp; return $ip; <br/>}</p><p></p>','2014-01-25 14:27:26','2014-01-26 17:37:20'),(439,'183.63.215.55',18,'判断是否为IPv4','<p>/*<br/>判断是否为IPv4 返回true或false<br/>*/<br/>function is_ipv4($gonten){ <br/>&nbsp;$ip=explode(&quot;.&quot;,$gonten); <br/>&nbsp;for($i=0;$i&lt;count($ip);$i++) <br/>&nbsp;{&nbsp; <br/>&nbsp;if($ip[$i]&gt;255){&nbsp; return(0);&nbsp; }&nbsp; <br/>&nbsp;} <br/>&nbsp;return ereg(&quot;^[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}$&quot;,$gonten);&nbsp; <br/>}</p>','2014-01-26 06:50:38','2014-01-26 14:55:49'),(440,'183.63.215.55',18,'php生成GUID','<p>function create_guid() {<br/>&nbsp;$charid = strtoupper(md5(uniqid(mt_rand(), true)));<br/>&nbsp;$hyphen = chr(45);// &quot;-&quot;<br/>&nbsp;$uuid = chr(123)// &quot;{&quot;<br/>&nbsp;.substr($charid, 0, 8).$hyphen<br/>&nbsp;.substr($charid, 8, 4).$hyphen<br/>&nbsp;.substr($charid,12, 4).$hyphen<br/>&nbsp;.substr($charid,16, 4).$hyphen<br/>&nbsp;.substr($charid,20,12)<br/>&nbsp;.chr(125);// &quot;}&quot;<br/>&nbsp;return $uuid;<br/>}</p>','2014-01-26 08:56:19','2014-01-26 16:56:31'),(441,'14.217.224.37',18,'生成验证码图片','<p>我们在写用户验证页面，如注册，登录的时候，为了加强用户登录的安全性，添加验证码验证。</p><p>验证码通过GD生成PNG图片，并把$randval随机数字赋给$_SESSION[&#39;login_check_num&#39;]，在通过用户输入的$_POST进行比较，来判断是否正确。达到需要实现的功能，需要修改php.ini文件，使php支持GD库。</p><pre class=\"brush:php;toolbar:false\">\r\n&lt;?php&nbsp;\r\n//调用此页面，如果下面的式子成立，则生成验证码图片&nbsp;\r\nif($_GET[&quot;action&quot;]==&quot;verifycode&quot;)&nbsp;\r\n{&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;rand_create();&nbsp;\r\n}&nbsp;\r\n//验证码图片生成&nbsp;\r\nfunction&nbsp;rand_create()&nbsp;\r\n{&nbsp;\r\n//注意是否有打开过SESSION\r\n//session_start();\r\nif(!session_is_registered(&#39;login_check_num&#39;))\r\nsession_register(&#39;login_check_num&#39;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;//通知浏览器将要输出PNG图片&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;Header(&quot;Content-type:&nbsp;image/PNG&quot;);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//准备好随机数发生器种子&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;srand((double)microtime()*1000000);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//准备图片的相关参数&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;$im&nbsp;=&nbsp;imagecreate(62,20);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;$black&nbsp;=&nbsp;ImageColorAllocate($im,&nbsp;0,0,0);&nbsp;&nbsp;//RGB黑色标识符&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;$white&nbsp;=&nbsp;ImageColorAllocate($im,&nbsp;255,255,255);&nbsp;//RGB白色标识符&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;$gray&nbsp;=&nbsp;ImageColorAllocate($im,&nbsp;200,200,200);&nbsp;//RGB灰色标识符&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//开始作图&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;imagefill($im,0,0,$gray);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;while(($randval=rand()%100000)&lt;10000);{&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$_SESSION[&quot;login_check_num&quot;]&nbsp;=&nbsp;$randval;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//将四位整数验证码绘入图片&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;imagestring($im,&nbsp;5,&nbsp;10,&nbsp;3,&nbsp;$randval,&nbsp;$black);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//加入干扰象素&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;for($i=0;$i&lt;200;$i++){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$randcolor&nbsp;=&nbsp;ImageColorallocate($im,rand(0,255),rand(0,255),rand(0,255));&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;imagesetpixel($im,&nbsp;rand()%70&nbsp;,&nbsp;rand()%30&nbsp;,&nbsp;$randcolor);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//输出验证图片&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;ImagePNG($im);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//销毁图像标识符&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;ImageDestroy($im);&nbsp;\r\n}\r\n//检验验证码&nbsp;\r\nfunction&nbsp;rand_check()\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;if($_POST[&quot;reg_rand&quot;]&nbsp;==&nbsp;$_SESSION[&quot;login_check_num&quot;]){&nbsp;\r\nif(session_is_registered(&#39;login_check_num&#39;))\r\nsession_unregister(&#39;login_check_num&#39;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;true;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;else{&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;false;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;\r\n}&nbsp;\r\n?&gt;</pre><p><br/></p>','2014-02-01 15:15:25','2014-02-01 23:47:00'),(442,'14.217.247.67',18,'模板库Smarty简单用法','<p><strong>PHP页面内容:</strong></p><pre class=\"brush:php;toolbar:false\">&lt;?php\r\n$smarty&nbsp;=&nbsp;new&nbsp;Smarty;\r\n//$smarty-&gt;force_compile&nbsp;=&nbsp;true;\r\n$smarty-&gt;debugging&nbsp;=&nbsp;false;\r\n$smarty-&gt;caching&nbsp;=&nbsp;false;\r\n$smarty-&gt;cache_lifetime&nbsp;=&nbsp;120;\r\n$smarty-&gt;assign(&quot;Name&quot;,&quot;Fred&nbsp;Irving&nbsp;Johnathan&quot;,true);\r\n$smarty-&gt;assign(&quot;FirstName&quot;,array(&quot;John&quot;,&quot;Mary&quot;,&quot;James&quot;,&quot;Henry&quot;));\r\n$smarty-&gt;assign(&quot;contacts&quot;,&nbsp;array(\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array(&quot;phone&quot;&nbsp;=&gt;&nbsp;&quot;1&quot;,&nbsp;&quot;fax&quot;&nbsp;=&gt;&nbsp;&quot;2&quot;,&nbsp;&quot;cell&quot;&nbsp;=&gt;&nbsp;&quot;3&quot;),\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array(&quot;phone&quot;&nbsp;=&gt;&nbsp;&quot;444&quot;,&nbsp;&quot;fax&quot;&nbsp;=&gt;&nbsp;&quot;555&quot;,&nbsp;&quot;cell&quot;&nbsp;=&gt;&nbsp;&quot;1234&quot;))\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);\r\n$smarty-&gt;assign(&quot;option_values&quot;,&nbsp;array(&quot;NY&quot;,&quot;NE&quot;,&quot;KS&quot;));\r\n$smarty-&gt;assign(&quot;option_output&quot;,&nbsp;array(&quot;New&nbsp;York&quot;,&quot;Nebraska&quot;,&quot;Kansas&quot;));\r\n$smarty-&gt;assign(&quot;option_selected&quot;,&nbsp;&quot;NE&quot;);\r\n$smarty-&gt;display(&#39;index.tpl&#39;);\r\n?&gt;</pre><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/><strong>//configs目录下的xxx.conf配置文件内容/////////////////////////////</strong><br/></p><pre class=\"brush:html;toolbar:false\">title&nbsp;=&nbsp;Welcome&nbsp;to&nbsp;Smarty!\r\ncutoff_size&nbsp;=&nbsp;40\r\n[setup]\r\nbold&nbsp;=&nbsp;true</pre><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><strong>//templates目录下的xxx.tpl模板文件内容/////////////////////////////////</strong><br/></p><pre class=\"brush:html;toolbar:false\">{config_load&nbsp;file=&quot;test.conf&quot;&nbsp;section=&quot;setup&quot;}&nbsp;//section为只加载节点可以不用\r\n{include&nbsp;file=&quot;header.tpl&quot;&nbsp;title=foo}</pre><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\">--------------------------------------------------<br/><strong>//判断配置文件里面的变量</strong><br/></p><pre class=\"brush:html;toolbar:false\">{if&nbsp;#bold#}\r\n我是粗体\r\n{else}\r\n我不是粗体\r\n{/if}</pre><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\">--------------------------------------------------<br/><strong>左大括号</strong>&nbsp;{ldelim}<br/><strong>右大括号</strong>&nbsp;{rdelim}<br/></p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/>--------------------------------------------------<br/><strong>//转换成大写显示</strong><br/></p><pre class=\"brush:html;toolbar:false\">{$Name|upper}</pre><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/>--------------------------------------------------<br/><strong>//循环显示数组内容</strong><br/></p><pre class=\"brush:php;toolbar:false\">{section&nbsp;name=outer&nbsp;loop=$FirstName}\r\n&nbsp;&nbsp;&nbsp;&nbsp;//判断条件,索引号大于2的\r\n&nbsp;&nbsp;&nbsp;&nbsp;{if&nbsp;$smarty.section.outer.index&nbsp;is&nbsp;odd&nbsp;by&nbsp;2}\r\n&nbsp;&nbsp;&nbsp;&nbsp;{$smarty.section.outer.rownum}&nbsp;.&nbsp;{$FirstName[outer]}\r\n&nbsp;&nbsp;&nbsp;&nbsp;{else}\r\n&nbsp;&nbsp;&nbsp;&nbsp;{$smarty.section.outer.rownum}&nbsp;*&nbsp;{$FirstName[outer]}\r\n&nbsp;&nbsp;&nbsp;&nbsp;{/if}\r\n{sectionelse}\r\n&nbsp;&nbsp;&nbsp;&nbsp;//如果数组内容为空\r\n&nbsp;&nbsp;&nbsp;&nbsp;none\r\n{/section}</pre><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/>--------------------------------------------<br/><strong>//带下标循环显示内容</strong><br/></p><pre class=\"brush:html;toolbar:false\">&lt;?php\r\n$rs_list=array();\r\nwhile($rs=$db-&gt;read())\r\n{\r\n&nbsp;&nbsp;&nbsp;$rs_list[]=array(\r\n	&#39;username&#39;=&gt;$rs[&#39;username&#39;],//这里一定字符或数值,不能为对象\r\n	&#39;level&#39;=&gt;$rs[&#39;level&#39;]\r\n		);\r\n&nbsp;&nbsp;&nbsp;&nbsp;$db-&gt;record_next();\r\n}	\r\n?&gt;\r\n{section&nbsp;name=sec1&nbsp;loop=$contacts}\r\n&nbsp;{$contacts[sec1].username}\r\n&nbsp;{$contacts[sec1].level}\r\n{/section}</pre><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/>--------------------------------------------<br/><strong>//显示下拉框</strong><br/></p><pre class=\"brush:html;toolbar:false\">&lt;form&gt;\r\n&lt;select&nbsp;name=states&gt;\r\n{html_options&nbsp;values=$option_values&nbsp;selected=$option_selected&nbsp;output=$option_output}\r\n&lt;/select&gt;\r\n&lt;/form&gt;</pre><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><strong>//默认的模块功能时间选择框</strong><br/></p><pre class=\"brush:html;toolbar:false\">{html_select_date&nbsp;start_year=1998&nbsp;end_year=2010}{html_select_time&nbsp;use_24_hours=false}</pre><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p>','2014-02-04 16:40:30','2014-05-31 17:05:14'),(445,'14.217.205.4',21,'mysql存储过程','<p style=\"margin: 0cm 0cm 0pt; padding: 0px; border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; font-size: 13.63636302947998px; white-space: normal; background-color: rgb(232, 220, 200); text-indent: 18pt;\"><span style=\"font-size:3px;word-wrap: normal; word-break: normal; line-height: 24px;\"><strong><span lang=\"EN-US\" style=\"word-wrap: normal; word-break: normal; font-family: &#39;Times New Roman&#39;;\">IN</span></strong>&nbsp;<strong><span style=\"word-wrap: normal; word-break: normal; font-family: 宋体;\">输入参数</span><span lang=\"EN-US\" style=\"word-wrap: normal; word-break: normal; font-family: &#39;Times New Roman&#39;;\">:</span></strong><span style=\"word-wrap: normal; word-break: normal; font-family: 宋体;\">表示该参数的值必须在调用存储过程时指定，在存储过程中修改该参数的值不能被返回，为默认值</span></span></p><p style=\"margin: 0cm 0cm 0pt; padding: 0px; border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; font-size: 13.63636302947998px; white-space: normal; background-color: rgb(232, 220, 200); text-indent: 18pt;\"><span style=\"font-size:3px;word-wrap: normal; word-break: normal; line-height: 24px;\"><strong><span lang=\"EN-US\" style=\"word-wrap: normal; word-break: normal; font-family: &#39;Times New Roman&#39;;\">OUT</span></strong>&nbsp;<strong><span style=\"word-wrap: normal; word-break: normal; font-family: 宋体;\">输出参数</span><span lang=\"EN-US\" style=\"word-wrap: normal; word-break: normal; font-family: &#39;Times New Roman&#39;;\">:</span></strong><span style=\"word-wrap: normal; word-break: normal; font-family: 宋体;\">该值可在存储过程内部被改变，并可返回</span></span></p><p style=\"margin: 0cm 0cm 0pt; padding: 0px; border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; font-size: 13.63636302947998px; white-space: normal; background-color: rgb(232, 220, 200); text-indent: 18pt;\"><span style=\"font-size:3px;word-wrap: normal; word-break: normal; line-height: 24px;\"><strong><span lang=\"EN-US\" style=\"word-wrap: normal; word-break: normal; font-family: &#39;Times New Roman&#39;;\">INOUT</span></strong>&nbsp;<strong><span style=\"word-wrap: normal; word-break: normal; font-family: 宋体;\">输入输出参数</span><span lang=\"EN-US\" style=\"word-wrap: normal; word-break: normal; font-family: &#39;Times New Roman&#39;;\">:</span></strong><span style=\"word-wrap: normal; word-break: normal; font-family: 宋体;\">调用时指定，并且可被改变和返回</span></span></p><p style=\"margin: 0cm 0cm 0pt; padding: 0px; border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; font-size: 13.63636302947998px; white-space: normal; background-color: rgb(232, 220, 200);\"><span style=\"font-size:3px;word-wrap: normal; word-break: normal; line-height: 24px;\"><span style=\"word-wrap: normal; word-break: normal; font-family: 宋体;\">创建</span><span lang=\"EN-US\" style=\"word-wrap: normal; word-break: normal; font-family: &#39;Times New Roman&#39;;\">:</span></span></p><p>&nbsp; &nbsp;&nbsp;</p><ol style=\"list-style-type: none;\" class=\" list-paddingleft-2\"><li><p style=\"text-indent: 0em;\"><span style=\"word-wrap: normal; word-break: normal;\">&nbsp;<wbr/>CREATE&nbsp;<wbr/>PROCEDURE&nbsp;<wbr/>demo_in_parameter(IN&nbsp;_kk&nbsp;<wbr/>int) &nbsp;<wbr/></span></p></li><li><p style=\"text-indent: 0em;\"><span style=\"word-wrap: normal; word-break: normal;\">&nbsp;<wbr/>BEGIN&nbsp;<wbr/>&nbsp;&nbsp;</span></p></li><li><p style=\"text-indent: 0em;\"><span style=\"word-wrap: normal; word-break: normal;\"><span style=\"font-family: arial; font-size: 12.727272033691406px; line-height: 18.200000762939453px; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp;&nbsp;</span><span style=\"word-wrap: normal; word-break: normal;\"><span style=\"font-family: arial; font-size: 12.727272033691406px; line-height: 18.200000762939453px;\">&nbsp;</span><span style=\"word-wrap: normal; word-break: normal; font-family: arial; font-size: 12.727272033691406px; line-height: 18.200000762939453px;\">&nbsp;declare&nbsp;nn_ int; 输出变量</span></span></span><span style=\"text-indent: 0em;\">&nbsp;</span></p></li></ol><p style=\"text-indent: 0em;\"><span style=\"word-wrap: normal; word-break: normal;\">&nbsp; &nbsp; &nbsp; &nbsp;SET&nbsp;nn_=2 + _kk;&nbsp;<wbr/>&nbsp;&nbsp;<wbr/></span></p><ol style=\"list-style-type: none;\" class=\" list-paddingleft-2\"><li><p style=\"text-indent: 0em;\"><span style=\"word-wrap: normal; word-break: normal;\">&nbsp; &nbsp;SELECT&nbsp;nn_;&nbsp;<wbr/>&nbsp;&nbsp;<wbr/></span></p></li><li><p style=\"text-indent: 0em;\"><span style=\"word-wrap: normal; word-break: normal;\">&nbsp;<wbr/>END;&nbsp;<wbr/>&nbsp;&nbsp;</span></p></li></ol><p style=\"margin: 0cm 0cm 0pt; padding: 0px; border: 0px; list-style: none; word-wrap: normal; word-break: normal; line-height: 21px; color: rgb(70, 70, 70); font-family: simsun; font-size: 13.63636302947998px; white-space: normal; background-color: rgb(232, 220, 200);\"><span style=\"word-wrap: normal; word-break: normal; font-family: 宋体; font-size: 3px; line-height: 24px;\"><br/>执行结果</span><span lang=\"EN-US\" style=\"word-wrap: normal; word-break: normal; font-family: &#39;Times New Roman&#39;; font-size: 3px; line-height: 24px;\">:<br/></span></p><ol style=\"list-style-type: none;\" class=\" list-paddingleft-2\"><li><p><span style=\"word-wrap: normal; word-break: normal;\">mysql&nbsp;<wbr/>&gt;&nbsp;<wbr/>SET&nbsp;<wbr/>@p_in=1; &nbsp;<wbr/></span></p></li><li><p><span style=\"word-wrap: normal; word-break: normal;\">mysql&nbsp;<wbr/>&gt;&nbsp;<wbr/>CALL&nbsp;<wbr/>demo_in_parameter(@p_in); &nbsp;<wbr/></span></p></li><li><p><span style=\"word-wrap: normal; word-break: normal;\">+------+</span>&nbsp;<span style=\"word-wrap: normal; word-break: normal;\">&nbsp;<wbr/></span></p></li><li><p><span style=\"word-wrap: normal; word-break: normal;\">|&nbsp;<wbr/>p_in&nbsp;<wbr/>| &nbsp;<wbr/></span></p></li><li><p><span style=\"word-wrap: normal; word-break: normal;\">+------+</span>&nbsp;<span style=\"word-wrap: normal; word-break: normal;\">&nbsp;<wbr/></span></p></li><li><p><span style=\"word-wrap: normal; word-break: normal;\">|&nbsp;<wbr/>&nbsp;<wbr/>&nbsp;<wbr/>1&nbsp;<wbr/>&nbsp;<wbr/>|&nbsp;<wbr/>&nbsp;&nbsp;<wbr/></span></p></li><li><p><span style=\"word-wrap: normal; word-break: normal;\">+------+</span>&nbsp;<span style=\"word-wrap: normal; word-break: normal;\">&nbsp;</span>&nbsp;</p></li><li><p><span style=\"word-wrap: normal; word-break: normal;\">+------+</span>&nbsp;<span style=\"word-wrap: normal; word-break: normal;\">&nbsp;<wbr/></span></p></li><li><p><span style=\"word-wrap: normal; word-break: normal;\">|&nbsp;<wbr/>p_in&nbsp;<wbr/>| &nbsp;<wbr/></span></p></li><li><p><span style=\"word-wrap: normal; word-break: normal;\">+------+</span>&nbsp;<span style=\"word-wrap: normal; word-break: normal;\">&nbsp;<wbr/></span></p></li><li><p><span style=\"word-wrap: normal; word-break: normal;\">|&nbsp;<wbr/>&nbsp;<wbr/>&nbsp;<wbr/>2&nbsp;<wbr/>&nbsp;<wbr/>|&nbsp;<wbr/>&nbsp;&nbsp;<wbr/></span></p></li><li><p><span style=\"word-wrap: normal; word-break: normal;\">+------+</span>&nbsp;<span style=\"word-wrap: normal; word-break: normal;\">&nbsp;<wbr/></span></p></li><li><p><span style=\"word-wrap: normal; word-break: normal;\">&nbsp;<wbr/></span></p></li><li><p><span style=\"word-wrap: normal; word-break: normal;\">mysql&gt;&nbsp;<wbr/>SELECT&nbsp;<wbr/>@p_in; &nbsp;<wbr/></span></p></li><li><p><span style=\"word-wrap: normal; word-break: normal;\">+-------+</span>&nbsp;<span style=\"word-wrap: normal; word-break: normal;\">&nbsp;<wbr/></span></p></li><li><p><span style=\"word-wrap: normal; word-break: normal;\">|&nbsp;<wbr/>@p_in&nbsp;<wbr/>| &nbsp;<wbr/></span></p></li><li><p><span style=\"word-wrap: normal; word-break: normal;\">+-------+</span>&nbsp;<span style=\"word-wrap: normal; word-break: normal;\">&nbsp;<wbr/></span></p></li><li><p><span style=\"word-wrap: normal; word-break: normal;\">|&nbsp;<wbr/>&nbsp;<wbr/>1&nbsp;<wbr/>&nbsp;<wbr/>&nbsp;<wbr/>&nbsp;<wbr/>| &nbsp;<wbr/></span></p></li><li><p><span style=\"word-wrap: normal; word-break: normal;\">+-------+</span>&nbsp;<span style=\"word-wrap: normal; word-break: normal;\">&nbsp;</span></p></li></ol><p><br/></p>','2014-02-06 04:42:02','2014-10-18 18:27:11'),(447,'192.168.2.100',18,'php跳转','<p>代码跳转</p><pre class=\"brush:html;toolbar:false\">&lt;?php&nbsp;\r\n//重定向浏览器&nbsp;\r\nheader(&quot;Location:&nbsp;http://www.hanzhihong.cn&quot;);\r\n//确保重定向后，后续代码不会被执行&nbsp;\r\nexit;\r\n?&gt;</pre><p><br/></p><p><br/></p><p>标签跳转,停留一秒后页面自动跳转</p><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\"><span class=\"tag\" style=\"margin: 0px 0px 10px; padding: 7px 0px 4px; border: none; color: rgb(0, 102, 153); background-color: inherit; width: 635px; font-weight: bold;\">&lt;</span><span class=\"tag-name\" style=\"margin: 0px; padding: 0px; border: none; color: rgb(0, 102, 153); background-color: inherit; font-weight: bold;\">meta</span><span style=\"margin: 0px; padding: 0px; border: none; background-color: inherit;\">&nbsp;</span><span class=\"attribute\" style=\"margin: 0px; padding: 0px; border: none; color: red; background-color: inherit;\">http-equiv</span><span style=\"margin: 0px; padding: 0px; border: none; background-color: inherit;\">=</span><span class=\"attribute-value\" style=\"margin: 0px; padding: 0px; border: none; color: blue; background-color: inherit;\">&quot;refresh&quot;</span><span style=\"margin: 0px; padding: 0px; border: none; background-color: inherit;\">&nbsp;</span></span><span class=\"attribute\" style=\"margin: 0px; padding: 0px; border: none; color: red;\">content</span><span style=\"margin: 0px; padding: 0px; border: none;\">=</span><span class=\"attribute-value\" style=\"margin: 0px; padding: 0px; border: none; color: blue;\">&quot;1;url=http://www.hanzhihong.cn&quot;</span><span class=\"tag\" style=\"margin: 0px 0px 10px; padding: 7px 0px 4px; border: none; color: rgb(0, 102, 153); width: 635px; font-weight: bold;\">&gt;</span></p><p><br/></p><p><br/></p><p>&lt;script type=&quot;text/JavaScript&quot;&gt;</p><p>&lt;!--</p><p>function MM_goToURL() { //v3.0</p><p>&nbsp; var i, args=MM_goToURL.arguments; document.MM_returnValue = false;</p><p>&nbsp; for (i=0; i&lt;(args.length-1); i+=2) eval(args[i]+&quot;.location=&#39;&quot;+args[i+1]+&quot;&#39;&quot;);</p><p>}</p><p>//--&gt;</p><p>&lt;/script&gt;</p><p>&lt;script&gt;MM_goToURL(&#39;parent&#39;,&#39;<span style=\"color: rgb(0, 0, 255);\">http://www.hanzhihong.cn</span>&#39;)&lt;/script&gt;</p>','2014-02-07 07:18:46','2015-10-21 12:26:22'),(448,'14.217.214.113',23,'DIV+CSS浮动层使用','<p><strong>居中</strong></p><pre class=\"brush:css;toolbar:false\">#mid&nbsp;{\r\nwidth:&nbsp;960px;\r\nmargin:&nbsp;0&nbsp;auto;&nbsp;/*&nbsp;自动边距（与宽度一起）会将页面居中&nbsp;*/\r\n}</pre><p><br/></p><p><strong>左右分开</strong></p><pre class=\"brush:css;toolbar:false\">.fltrt&nbsp;{&nbsp;/*&nbsp;此类可用来使页面中的元素向右浮动。浮动元素必须位于页面上要与之相邻的元素之前。&nbsp;*/\r\n	float:&nbsp;right;\r\n	margin-left:&nbsp;8px;\r\n}\r\n.fltlft&nbsp;{&nbsp;/*&nbsp;此类可用来使页面上的元素向左浮动&nbsp;*/\r\n	float:&nbsp;left;\r\n	margin-right:&nbsp;8px;\r\n}\r\n\r\n.clearfloat&nbsp;{&nbsp;/*&nbsp;此类应当放在&nbsp;div&nbsp;或&nbsp;break&nbsp;元素上，而且该元素应当是完全包含浮动的容器关闭之前的最后一个元素&nbsp;*/\r\n	clear:both;\r\n&nbsp;&nbsp;&nbsp;&nbsp;height:0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;font-size:&nbsp;1px;\r\n&nbsp;&nbsp;&nbsp;&nbsp;line-height:&nbsp;0px;\r\n}\r\n\r\n&lt;div&nbsp;id=&quot;left&quot;&nbsp;class=&quot;fltlft&quot;&gt;1&lt;/div&gt;\r\n&lt;div&nbsp;id=&quot;right&quot;&nbsp;class=&quot;fltrt&quot;&gt;1&lt;/div&gt;\r\n&lt;br&nbsp;class=&quot;clearfloat&quot;&nbsp;/&gt;</pre><p><br/></p>','2014-02-07 15:20:30','2014-02-07 23:22:14'),(449,'14.217.214.113',18,'PHP: 判断是否是JSON数据','<p>首先要记住json_encode返回的是字符串, 而json_decode返回的是对象.</p><p>判断数据不是JSON格式:</p><pre class=\"brush:php;toolbar:false\">function&nbsp;is_not_json($str)\r\n{\r\n&nbsp;&nbsp;&nbsp;return&nbsp;is_null(json_decode($str));\r\n}</pre><p><br/></p><p><br/></p><p>判断数据是合法的json数据: (PHP版本大于5.3)</p><pre class=\"brush:php;toolbar:false\">function&nbsp;is_json($string)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;json_decode($string);\r\n&nbsp;&nbsp;&nbsp;return&nbsp;(json_last_error()&nbsp;==&nbsp;JSON_ERROR_NONE);\r\n}</pre><p>json_last_error()函数返回数据编解码过程中发生的错误.</p><p><br/></p><p>注意: json编解码所操作字符串必须是UTF8的.</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p>','2014-02-08 04:42:13','2014-02-08 12:42:13'),(450,'14.217.215.118',23,'在CSS中定义a:link、a:visited、a:hover、a:active顺序','<p><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;  color: rgb(128, 0, 0);\">a:link&nbsp;</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;\">{</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;  color: rgb(255, 0, 0);\"><br/>&nbsp;color</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;\">:</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;  color: rgb(0, 0, 255);\">&nbsp;#000000</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;\">;</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;  color: rgb(255, 0, 0);\"><br/>&nbsp;TEXT-DECORATION</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;\">:</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;  color: rgb(0, 0, 255);\">&nbsp;none<br/></span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;\">}</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;  color: rgb(128, 0, 0);\"><br/>a:visited&nbsp;</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;\">{</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;  color: rgb(255, 0, 0);\"><br/>&nbsp;COLOR</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;\">:</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;  color: rgb(0, 0, 255);\">&nbsp;#000000</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;\">;</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;  color: rgb(255, 0, 0);\"><br/>&nbsp;TEXT-DECORATION</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;\">:</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;  color: rgb(0, 0, 255);\">&nbsp;none<br/></span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;\">}</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;  color: rgb(128, 0, 0);\"><br/>a:hover&nbsp;</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;\">{</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;  color: rgb(255, 0, 0);\"><br/>&nbsp;COLOR</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;\">:</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;  color: rgb(0, 0, 255);\">&nbsp;#ff7f24</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;\">;</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;  color: rgb(255, 0, 0);\"><br/>&nbsp;text-decoration</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;\">:</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;  color: rgb(0, 0, 255);\">&nbsp;underline</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;\">;</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;  color: rgb(255, 0, 0);\"><br/></span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;\">}</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;  color: rgb(128, 0, 0);\"><br/>a:active&nbsp;</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;\">{</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;  color: rgb(255, 0, 0);\"><br/>&nbsp;COLOR</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;\">:</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;  color: rgb(0, 0, 255);\">&nbsp;#ff7f24</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;\">;</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;  color: rgb(255, 0, 0);\">&nbsp;&nbsp;<br/>&nbsp;text-decoration</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;\">:</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;  color: rgb(0, 0, 255);\">&nbsp;underline</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;\">;</span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;  color: rgb(255, 0, 0);\"><br/></span><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;\">}</span></p><p><span style=\"font-family: &#39;Courier New&#39;; font-size: 12px; line-height: 18px;\"><br/></span></p>','2014-02-08 12:54:43','2014-02-08 20:54:43'),(451,'14.217.215.118',18,'在数组指定位置插入元素','<p><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\"></span></p><p>int array_push(array target_array,mixed variable [,mixed variable…]) 函数将variable增加到target_array的末尾，成功时返回true，否则返回false，其中variable可以是多个。</p><p><br/></p><p>int array_unshift(array target_array,mixed variable [,mixed variable…]) 函数将variable增加到target_array的数组头，成功时返回true，否则返回false，其中variable可以是多个。所有已有的数值键都会相应地修改，而关联键不受影响。</p><p><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\"></span><br/></p><p><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\"><br/></span></p><p><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">以下是指定位置插入</span></p><p><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">&lt;?php<br/><br/></span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">function&nbsp;</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">array_put_to_position</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">(&amp;</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">$array</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">,&nbsp;</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">$object</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">,&nbsp;</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">$position</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">,&nbsp;</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">$name&nbsp;</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">=&nbsp;</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">null</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">)<br/>{<br/>&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">$count&nbsp;</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">=&nbsp;</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">0</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">;<br/>&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">$return&nbsp;</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">= array();<br/>&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">$array&nbsp;</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">as&nbsp;</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">$k&nbsp;</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">=&gt;&nbsp;</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">$v</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">)&nbsp;<br/>&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;</span><span class=\"comment\" style=\"color: rgb(128, 128, 128); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">// insert new object<br/>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">if (</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">$count&nbsp;</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">==&nbsp;</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">$position</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">)<br/>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (!</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">$name</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">)&nbsp;</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">$name&nbsp;</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">=&nbsp;</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">$count</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">;<br/>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">$return</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">[</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">$name</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">] =&nbsp;</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">$object</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">;<br/>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">$inserted&nbsp;</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">=&nbsp;</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">true</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">;<br/>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;</span><span class=\"comment\" style=\"color: rgb(128, 128, 128); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">// insert old object<br/>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">$return</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">[</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">$k</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">] =&nbsp;</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">$v</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">;&nbsp;<br/>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">$count</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">++;<br/>&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (!</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">$name</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">)&nbsp;</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">$name&nbsp;</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">=&nbsp;</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">$count</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">;<br/>&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (!</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">$inserted</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">)&nbsp;</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">$return</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">[</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">$name</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">];<br/>&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">$array&nbsp;</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">=&nbsp;</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">$return</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">;<br/>&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return&nbsp;</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">$array</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">;<br/>}<br/></span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">?&gt;<br/></span><br style=\"font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px; white-space: normal; background-color: rgb(242, 242, 242);\"/><span style=\"font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;  background-color: rgb(242, 242, 242);\">Example :</span><br style=\"font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px; white-space: normal; background-color: rgb(242, 242, 242);\"/><br style=\"font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px; white-space: normal; background-color: rgb(242, 242, 242);\"/><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">&lt;?php<br/>$a&nbsp;</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">= array(<br/>&nbsp;</span><span class=\"string\" style=\"color: rgb(204, 51, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">&#39;a&#39;&nbsp;</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">=&gt;&nbsp;</span><span class=\"string\" style=\"color: rgb(204, 51, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">&#39;A&#39;</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">,<br/>&nbsp;</span><span class=\"string\" style=\"color: rgb(204, 51, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">&#39;b&#39;&nbsp;</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">=&gt;&nbsp;</span><span class=\"string\" style=\"color: rgb(204, 51, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">&#39;B&#39;</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">,<br/>&nbsp;</span><span class=\"string\" style=\"color: rgb(204, 51, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">&#39;c&#39;&nbsp;</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">=&gt;&nbsp;</span><span class=\"string\" style=\"color: rgb(204, 51, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">&#39;C&#39;</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">,<br/>);<br/>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;<br/></span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">print_r</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">(</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">$a</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">);<br/></span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">array_put_to_position</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">(</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">$a</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">,&nbsp;</span><span class=\"string\" style=\"color: rgb(204, 51, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">&#39;G&#39;</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">,&nbsp;</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">2</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">,&nbsp;</span><span class=\"string\" style=\"color: rgb(204, 51, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">&#39;g&#39;</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">);<br/></span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">print_r</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">(</span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">$a</span><span class=\"keyword\" style=\"color: rgb(102, 153, 51); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">);<br/><br/></span><span class=\"comment\" style=\"color: rgb(128, 128, 128); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">/*<br/>Array<br/>(<br/>&nbsp;&nbsp;&nbsp; [a] =&gt; A<br/>&nbsp;&nbsp;&nbsp; [b] =&gt; B<br/>&nbsp;&nbsp;&nbsp; [c] =&gt; C<br/>)<br/>Array<br/>(<br/>&nbsp;&nbsp;&nbsp; [a] =&gt; A<br/>&nbsp;&nbsp;&nbsp; [b] =&gt; B<br/>&nbsp;&nbsp;&nbsp; [g] =&gt; G<br/>&nbsp;&nbsp;&nbsp; [c] =&gt; C<br/>)<br/>*/<br/></span><span class=\"default\" style=\"color: rgb(51, 102, 153); background-color: rgb(242, 242, 242); font-family: &#39;Source Code Pro&#39;, monospace; font-size: 14px; line-height: 20.440000534057617px;\">?&gt;</span></p>','2014-02-08 15:16:38','2014-02-08 23:19:40'),(454,'192.168.0.101',21,'设置mysql允许外网访问','<p>解决方法:</p><p>1,修改表,登录mysql数据库,切换到mysql数据库,使用sql语句查看&quot;select host,user from user ;&quot;</p><p>mysql -u root -p;</p><p>mysql&gt;use mysql;<br/>mysql&gt;update user set host = &#39;%&#39; where user =&#39;root&#39;;<br/>mysql&gt;select host, user from user;<br/>mysql&gt;flush privileges;</p><p>注意:最后一句很重要,目的是使修改生效.如果没有写,则还是不能进行远程连接.</p><p>&nbsp;</p><p>2,授权用户,你想root使用密码从任何主机连接到mysql服务器</p><p>GRANT ALL PRIVILEGES ON *.* TO <a>&#39;root&#39;@&#39;%&#39;</a>&nbsp; IDENTIFIED BY &#39;[数据库密码]&#39;&nbsp; WITH GRANT OPTION;<br/>flush privileges;</p><p>如果你想允许用户root从ip为192.168.1.104的主机连接到mysql服务器</p><p>GRANT ALL PRIVILEGES ON *.* TO <a href=\"mailto:&#39;myuser&#39;@&#39;192.168.1.104&#39;\">&#39;myuser&#39;@&#39;192.168.1.104&#39;</a>&nbsp;&nbsp; IDENTIFIED BY &#39;admin123&#39;&nbsp; WITH GRANT OPTION; <br/>flush privileges;</p><p><br/></p>','2014-02-10 05:53:12','2017-08-06 23:04:16'),(455,'14.222.29.101',42,'塑料制品编号说明','<p><a class=\"inner-link decor-none\" href=\"http://zhidao.baidu.com/search?word=%E5%A1%91%E6%96%99%E5%88%B6%E5%93%81&amp;fr=qb_search_exp&amp;ie=utf8\" target=\"_blank\" rel=\"nofollow\" log=\"pos:innerLink\" data-word=\"6\">塑料制品</a>编号说明:</p><p><br/><strong>“01”———PET(</strong><a class=\"inner-link decor-none\" href=\"http://zhidao.baidu.com/search?word=%E8%81%9A%E5%AF%B9%E8%8B%AF%E4%BA%8C%E7%94%B2%E9%85%B8%E4%B9%99%E4%BA%8C%E9%86%87%E9%85%AF&amp;fr=qb_search_exp&amp;ie=utf8\" target=\"_blank\" rel=\"nofollow\" log=\"pos:innerLink\" data-word=\"0\"><strong>聚对苯二甲酸乙二醇酯</strong></a><strong>)</strong><br/><br/>　　矿泉水瓶、<a class=\"inner-link decor-none\" href=\"http://zhidao.baidu.com/search?word=%E7%A2%B3%E9%85%B8%E9%A5%AE%E6%96%99&amp;fr=qb_search_exp&amp;ie=utf8\" target=\"_blank\" rel=\"nofollow\" log=\"pos:innerLink\" data-word=\"9\">碳酸饮料</a>瓶都是用这种材质做成的。饮料瓶不能循环使用装热水，这种材料耐热至70℃，只适合装暖饮或冻饮，装高温液体或加热则易变形，有对人体有害的物质溶出。</p><p><br/><br/><strong>“02”———HDPE(</strong><a class=\"inner-link decor-none\" href=\"http://zhidao.baidu.com/search?word=%E9%AB%98%E5%AF%86%E5%BA%A6%E8%81%9A%E4%B9%99%E7%83%AF&amp;fr=qb_search_exp&amp;ie=utf8\" target=\"_blank\" rel=\"nofollow\" log=\"pos:innerLink\" data-word=\"1\"><strong>高密度聚乙烯</strong></a><strong>)</strong><br/><br/>　　承装<a class=\"inner-link decor-none\" href=\"http://zhidao.baidu.com/search?word=%E6%B8%85%E6%B4%81%E7%94%A8%E5%93%81&amp;fr=qb_search_exp&amp;ie=utf8\" target=\"_blank\" rel=\"nofollow\" log=\"pos:innerLink\" data-word=\"5\">清洁用品</a>、沐浴产品的<a class=\"inner-link decor-none\" href=\"http://zhidao.baidu.com/search?word=%E5%A1%91%E6%96%99%E5%AE%B9%E5%99%A8&amp;fr=qb_search_exp&amp;ie=utf8\" target=\"_blank\" rel=\"nofollow\" log=\"pos:innerLink\" data-word=\"7\">塑料容器</a>、目前超市和商场中使用的塑料袋多是此种材质制成，<a class=\"inner-link decor-none\" href=\"http://zhidao.baidu.com/search?word=%E5%8F%AF%E8%80%90&amp;fr=qb_search_exp&amp;ie=utf8\" target=\"_blank\" rel=\"nofollow\" log=\"pos:innerLink\" data-word=\"26\">可耐</a>110℃高温，标明食品用的塑料袋可用来盛装食品。</p><p><br/><br/><strong>“03”———PVC(</strong><a class=\"inner-link decor-none\" href=\"http://zhidao.baidu.com/search?word=%E8%81%9A%E6%B0%AF%E4%B9%99%E7%83%AF&amp;fr=qb_search_exp&amp;ie=utf8\" target=\"_blank\" rel=\"nofollow\" log=\"pos:innerLink\" data-word=\"11\"><strong>聚氯乙烯</strong></a><strong>)<br/></strong><br/>　　据介绍,这种材质的<a class=\"inner-link decor-none\" href=\"http://zhidao.baidu.com/search?word=%E5%A1%91%E6%96%99%E5%88%B6%E5%93%81&amp;fr=qb_search_exp&amp;ie=utf8\" target=\"_blank\" rel=\"nofollow\" log=\"pos:innerLink\" data-word=\"6\">塑料制品</a>易产生的<a class=\"inner-link decor-none\" href=\"http://zhidao.baidu.com/search?word=%E6%9C%89%E6%AF%92%E6%9C%89%E5%AE%B3%E7%89%A9%E8%B4%A8&amp;fr=qb_search_exp&amp;ie=utf8\" target=\"_blank\" rel=\"nofollow\" log=\"pos:innerLink\" data-word=\"3\">有毒有害物质</a>来自于两个方面，一是生产过程中没有被完全聚合的单分子<a class=\"inner-link decor-none\" href=\"http://zhidao.baidu.com/search?word=%E6%B0%AF%E4%B9%99%E7%83%AF&amp;fr=qb_search_exp&amp;ie=utf8\" target=\"_blank\" rel=\"nofollow\" log=\"pos:innerLink\" data-word=\"22\">氯乙烯</a>，二是<a class=\"inner-link decor-none\" href=\"http://zhidao.baidu.com/search?word=%E5%A2%9E%E5%A1%91%E5%89%82&amp;fr=qb_search_exp&amp;ie=utf8\" target=\"_blank\" rel=\"nofollow\" log=\"pos:innerLink\" data-word=\"18\">增塑剂</a>中的有害物。这两种物质在遇到高温和油脂时容易析出，有毒物随食物进入人体后，容易致癌。目前，这种材料的容器已经比较少用于包装食品。如果在使用，千万不要让它受热。<br/></p><p><br/><strong>“04”———LDPE(</strong><a class=\"inner-link decor-none\" href=\"http://zhidao.baidu.com/search?word=%E4%BD%8E%E5%AF%86%E5%BA%A6%E8%81%9A%E4%B9%99%E7%83%AF&amp;fr=qb_search_exp&amp;ie=utf8\" target=\"_blank\" rel=\"nofollow\" log=\"pos:innerLink\" data-word=\"2\"><strong>低密度聚乙烯</strong></a><strong>)<br/></strong><br/>　　<a class=\"inner-link decor-none\" href=\"http://zhidao.baidu.com/search?word=%E4%BF%9D%E9%B2%9C%E8%86%9C&amp;fr=qb_search_exp&amp;ie=utf8\" target=\"_blank\" rel=\"nofollow\" log=\"pos:innerLink\" data-word=\"21\">保鲜膜</a>、塑料膜等都是这种材质。耐热性不强，通常，合格的PE<a class=\"inner-link decor-none\" href=\"http://zhidao.baidu.com/search?word=%E4%BF%9D%E9%B2%9C%E8%86%9C&amp;fr=qb_search_exp&amp;ie=utf8\" target=\"_blank\" rel=\"nofollow\" log=\"pos:innerLink\" data-word=\"21\">保鲜膜</a>在温度超过110℃时会出现<a class=\"inner-link decor-none\" href=\"http://zhidao.baidu.com/search?word=%E7%83%AD%E7%86%94&amp;fr=qb_search_exp&amp;ie=utf8\" target=\"_blank\" rel=\"nofollow\" log=\"pos:innerLink\" data-word=\"28\">热熔</a>现象，会留下一些人体无法分解的塑料制剂。<br/></p><p><br/><strong>“05”———PP(</strong><a class=\"inner-link decor-none\" href=\"http://zhidao.baidu.com/search?word=%E8%81%9A%E4%B8%99%E7%83%AF&amp;fr=qb_search_exp&amp;ie=utf8\" target=\"_blank\" rel=\"nofollow\" log=\"pos:innerLink\" data-word=\"12\"><strong>聚丙烯</strong></a><strong>)<br/></strong><br/>　　<a class=\"inner-link decor-none\" href=\"http://zhidao.baidu.com/search?word=%E5%BE%AE%E6%B3%A2%E7%82%89&amp;fr=qb_search_exp&amp;ie=utf8\" target=\"_blank\" rel=\"nofollow\" log=\"pos:innerLink\" data-word=\"15\">微波炉</a>餐盒采用这种材质制成，耐130℃高温，这是唯一可以放进<a class=\"inner-link decor-none\" href=\"http://zhidao.baidu.com/search?word=%E5%BE%AE%E6%B3%A2%E7%82%89&amp;fr=qb_search_exp&amp;ie=utf8\" target=\"_blank\" rel=\"nofollow\" log=\"pos:innerLink\" data-word=\"15\">微波炉</a>的<a class=\"inner-link decor-none\" href=\"http://zhidao.baidu.com/search?word=%E5%A1%91%E6%96%99%E7%9B%92&amp;fr=qb_search_exp&amp;ie=utf8\" target=\"_blank\" rel=\"nofollow\" log=\"pos:innerLink\" data-word=\"19\">塑料盒</a>，在小心清洁后可重复使用。<br/></p><p><br/><strong>“06”———PS(</strong><a class=\"inner-link decor-none\" href=\"http://zhidao.baidu.com/search?word=%E8%81%9A%E8%8B%AF%E4%B9%99%E7%83%AF&amp;fr=qb_search_exp&amp;ie=utf8\" target=\"_blank\" rel=\"nofollow\" log=\"pos:innerLink\" data-word=\"10\"><strong>聚苯乙烯</strong></a><strong>)</strong><br/><br/>　　这是用于制造碗装泡面盒、发泡快餐盒的材质。又耐热又抗寒，但不能放进<a class=\"inner-link decor-none\" href=\"http://zhidao.baidu.com/search?word=%E5%BE%AE%E6%B3%A2%E7%82%89&amp;fr=qb_search_exp&amp;ie=utf8\" target=\"_blank\" rel=\"nofollow\" log=\"pos:innerLink\" data-word=\"15\">微波炉</a>中，以免因温度过高而释出化学物。<br/></p><p><br/><strong>“07”———PC及其他类</strong><br/><br/>　　PC是被大量使用的一种材料，尤其多用于制造<a class=\"inner-link decor-none\" href=\"http://zhidao.baidu.com/search?word=%E5%A5%B6%E7%93%B6&amp;fr=qb_search_exp&amp;ie=utf8\" target=\"_blank\" rel=\"nofollow\" log=\"pos:innerLink\" data-word=\"24\">奶瓶</a>、<a class=\"inner-link decor-none\" href=\"http://zhidao.baidu.com/search?word=%E5%A4%AA%E7%A9%BA%E6%9D%AF&amp;fr=qb_search_exp&amp;ie=utf8\" target=\"_blank\" rel=\"nofollow\" log=\"pos:innerLink\" data-word=\"16\">太空杯</a>等，因为含有<a class=\"inner-link decor-none\" href=\"http://zhidao.baidu.com/search?word=%E5%8F%8C%E9%85%9AA&amp;fr=qb_search_exp&amp;ie=utf8\" target=\"_blank\" rel=\"nofollow\" log=\"pos:innerLink\" data-word=\"23\">双酚A</a>而备受争议。专家指出，理论上，只要在制作PC的过程中，<a class=\"inner-link decor-none\" href=\"http://zhidao.baidu.com/search?word=%E5%8F%8C%E9%85%9AA&amp;fr=qb_search_exp&amp;ie=utf8\" target=\"_blank\" rel=\"nofollow\" log=\"pos:innerLink\" data-word=\"23\">双酚A</a>百分百转化成塑料结构，便表示制品完全没有<a class=\"inner-link decor-none\" href=\"http://zhidao.baidu.com/search?word=%E5%8F%8C%E9%85%9AA&amp;fr=qb_search_exp&amp;ie=utf8\" target=\"_blank\" rel=\"nofollow\" log=\"pos:innerLink\" data-word=\"23\">双酚A</a>，更谈不上释出。只是，若有小量<a class=\"inner-link decor-none\" href=\"http://zhidao.baidu.com/search?word=%E5%8F%8C%E9%85%9A&amp;fr=qb_search_exp&amp;ie=utf8\" target=\"_blank\" rel=\"nofollow\" log=\"pos:innerLink\" data-word=\"27\">双酚</a>A没有转化成PC的塑料结构，则可能会释出而进入食物或饮品中。因此，在使用此<a class=\"inner-link decor-none\" href=\"http://zhidao.baidu.com/search?word=%E5%A1%91%E6%96%99%E5%AE%B9%E5%99%A8&amp;fr=qb_search_exp&amp;ie=utf8\" target=\"_blank\" rel=\"nofollow\" log=\"pos:innerLink\" data-word=\"7\">塑料容器</a>时要格外注意。</p>','2014-02-12 07:01:59','2014-02-12 15:03:37'),(457,'192.168.6.1',24,'三维几何变换---旋转变换','<blockquote><p><a title=\"http://blog.sina.com.cn/s/blog_6163bdeb0102duj5.html\" href=\"http://blog.sina.com.cn/s/blog_6163bdeb0102duj5.html\">http://blog.sina.com.cn/s/blog_6163bdeb0102duj5.html</a></p></blockquote>','2014-02-14 08:40:57','2017-04-10 18:24:05'),(459,'192.168.6.1',0,'防水工程维修','<p><strong>东莞胜特建筑科技开发有限公司<br/></strong>电话：0769-23280229<br/>手机：13728280124 \r\n<br/>联系人：张小姐<br/>邮箱：<a href=\"mailto:dgshengte@126.com\">dgshengte@126.com</a><br/></p><p>--------------------------------------------------------------------------</p><p><em>公司名称：</em> &nbsp; &nbsp; &nbsp; <a class=\"url\" href=\"http://dgjxfs.58.com.cn/\" target=\"_blank\"><span class=\"fn org\">东莞市锦兴防水补漏有限公司</span></a> &nbsp; &nbsp; &nbsp; <span class=\"belong\"><span title=\"网邻通指数：670\" class=\"wlt\" id=\"wltzhishu\"></span><span title=\"营业执照已认证\" class=\"picq qiye\" id=\"zhizhao\"></span> &nbsp; &nbsp; &nbsp; </span></p><p><em>联 &nbsp;系 &nbsp;人：</em> &nbsp; &nbsp; &nbsp; <a title=\"江先生\" class=\"tx\" href=\"http://my.58.com/13412013307398/\" target=\"_blank\">江先生</a></p><style><em>联系电话：</em><span class=\"phone tel\" id=\"t_phone\"> <img src=\"http://image.58.com/showphone.aspx?t=v55&amp;v=F0357A71C57FFD2AFDB8660422F17C6BE\"/>&nbsp;</span>&nbsp;%26nbsp%3B%E8%81%94%E7%B3%BB%E7%94%B5%E8%AF%9D%EF%BC%9A%20%20%20(%E5%BD%92%E5%B1%9E%E5%9C%B0%EF%BC%9A%E4%B8%9C%E8%8E%9E)%2523bangbangWrapBox%257Bposition%253Arelative%253Bz-index%253A995%257D.bangbangTips2012%257Bwidth%253A340px%253B%2520height%253A290px%253B%2520position%253Aabsolute%253Btop%253A15px%253Bleft%253A100px%253Bz-index%253A9998%253B%2520background%253Aurl(%2526quot%253Bhttp%253A%252F%252Fpic2.58.com%252Fui6%252Fdetail%252Ftips18.png%2526quot%253B)%2520no-repeat%253B%257D.b_btn2%252C.b_close%257Bdisplay%253Ablock%253Bwidth%253A103px%253Bheight%253A33px%253Bposition%253Aabsolute%253Bcursor%253Apointer%257D.b_btn2%257Bwidth%253A107px%253Bheight%253A25px%253Bleft%253A74px%253Btop%253A149px%257D.b_close%257Bwidth%253A34px%253B%2520height%253A34px%253Bleft%253A304px%253B%2520top%253A93px%253B%257D%2526nbsp%253B%25E8%2581%2594%25E7%25B3%25BB%25E7%2594%25B5%25E8%25AF%259D%25EF%25BC%259A%2520%2520%2520(%25E5%25BD%2592%25E5%25B1%259E%25E5%259C%25B0%25EF%25BC%259A%25E4%25B8%259C%25E8%258E%259E)%252523bangbangWrapBox%25257Bposition%25253Arelative%25253Bz-index%25253A995%25257D.bangbangTips2012%25257Bwidth%25253A340px%25253B%252520height%25253A290px%25253B%252520position%25253Aabsolute%25253Btop%25253A15px%25253Bleft%25253A100px%25253Bz-index%25253A9998%25253B%252520background%25253Aurl(%252526quot%25253Bhttp%25253A%25252F%25252Fpic2.58.com%25252Fui6%25252Fdetail%25252Ftips18.png%252526quot%25253B)%252520no-repeat%25253B%25257D.b_btn2%25252C.b_close%25257Bdisplay%25253Ablock%25253Bwidth%25253A103px%25253Bheight%25253A33px%25253Bposition%25253Aabsolute%25253Bcursor%25253Apointer%25257D.b_btn2%25257Bwidth%25253A107px%25253Bheight%25253A25px%25253Bleft%25253A74px%25253Btop%25253A149px%25257D.b_close%25257Bwidth%25253A34px%25253B%252520height%25253A34px%25253Bleft%25253A304px%25253B%252520top%25253A93px%25253B%25257D</style><p>--------------------------------------------------------------------------</p><p><a style=\"color: rgb(224, 4, 4); font-weight: bold;\" href=\"http://www.fsblgc.com/\">东莞市虹禹防水工程有限公司</a><br/>地　址：东莞市主山大井头路218号<br/>电　话：0769-23600551<br/>传　真：0769-23664151<br/>联系人：单先生<br/>手　机：13712778177<br/>主　页：<a href=\"http://www.fsblgc.com/\">www.fsblgc.com</a><br/>主　营：<a href=\"http://www.fsblgc.com/\">防水补漏工程</a>|<a href=\"http://www.fsblgc.com/\">厕所防水补漏</a></p><p>&nbsp;</p><p>----------------------------------------------------------------------------</p><p>&nbsp;</p><p>&nbsp;东莞市茂达防水工程有限公司</p><p>服务热线：18902619918/13544618482！</p><p>吴先生！</p><p>业务范围：东莞防水补漏公司、东莞防水补漏、防水补漏、补漏工程。</p>','2014-03-10 05:27:46','2016-07-30 13:13:35'),(460,'14.217.213.100',5,'Android桌面小插件','<p>http://www.360doc.com/content/11/0508/18/4873696_115278634.shtml</p>','2014-03-10 17:08:30','2014-03-11 01:08:30'),(461,'59.39.155.179',23,'文本框回车事件','<pre class=\"brush:js;toolbar:false\">&lt;script&gt;\r\nvar&nbsp;addEvent&nbsp;=&nbsp;(function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;if&nbsp;(document.addEventListener)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;function&nbsp;(el,&nbsp;type,&nbsp;fn)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(el&nbsp;&amp;&amp;&nbsp;el.nodeName&nbsp;||&nbsp;el&nbsp;===&nbsp;window)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;el.addEventListener(type,&nbsp;fn,&nbsp;false);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;if&nbsp;(el&nbsp;&amp;&amp;&nbsp;el.length)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(var&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;el.length;&nbsp;i++)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addEvent(el[i],&nbsp;type,&nbsp;fn);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;};\r\n&nbsp;&nbsp;}&nbsp;else&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;function&nbsp;(el,&nbsp;type,&nbsp;fn)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(el&nbsp;&amp;&amp;&nbsp;el.nodeName&nbsp;||&nbsp;el&nbsp;===&nbsp;window)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;el.attachEvent(&#39;on&#39;&nbsp;+&nbsp;type,&nbsp;function&nbsp;()&nbsp;{&nbsp;return&nbsp;fn.call(el,&nbsp;window.event);&nbsp;});\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;if&nbsp;(el&nbsp;&amp;&amp;&nbsp;el.length)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(var&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;el.length;&nbsp;i++)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addEvent(el[i],&nbsp;type,&nbsp;fn);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;};\r\n&nbsp;&nbsp;}\r\n})();\r\n&lt;/script&gt;\r\n\r\n&lt;form&nbsp;id=&quot;frmChat&quot;&gt;\r\n&nbsp;&nbsp;&lt;input&nbsp;type=&quot;text&quot;&nbsp;id=&quot;chat&quot;&nbsp;maxlength=&quot;256&quot;&nbsp;placeholder=&quot;回车发送消息&quot;/&gt;\r\n&nbsp;&nbsp;&lt;input&nbsp;type=&quot;submit&quot;&nbsp;name=&quot;button2&quot;&nbsp;id=&quot;button2&quot;&nbsp;value=&quot;&nbsp;提交&nbsp;&quot;&nbsp;/&gt;\r\n&lt;/form&gt;\r\n\r\n&lt;script&gt;\r\naddEvent(frmChat,&nbsp;&#39;submit&#39;,&nbsp;function&nbsp;(event){\r\nevent.preventDefault();//取消事件的默认行为\r\n//alert(&#39;执行了提交&#39;);\r\n});\r\naddEvent(chat,&nbsp;&#39;keyup&#39;,&nbsp;function&nbsp;(event)&nbsp;{\r\nif&nbsp;(event.keyCode==13&nbsp;&amp;&amp;&nbsp;this.value!=&#39;&#39;)&nbsp;{\r\nalert(&#39;检测到回车&#39;);\r\n}\r\n});\r\n&lt;/script&gt;</pre><p><br/></p>','2014-03-11 03:11:05','2014-03-11 11:28:40'),(462,'59.39.155.179',23,'html中锚点的作用（可以获取文本框焦点）','<p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial; font-size: 14px; line-height: 21px; white-space: normal; background-color: rgb(255, 255, 255);\">有两个页面index-1.html，index-2.html</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial; font-size: 14px; line-height: 21px; white-space: normal; background-color: rgb(255, 255, 255);\">index-1.html中的代码：</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial; font-size: 14px; line-height: 21px; white-space: normal; background-color: rgb(255, 255, 255);\">&lt;a href=&quot;index-2.html#anchor&quot;&gt;anchor&lt;/a&gt;</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial; font-size: 14px; line-height: 21px; white-space: normal; background-color: rgb(255, 255, 255);\">&lt;a href=&quot;index-2.html#anchor1&quot;&gt;anchor1&lt;/a&gt;</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial; font-size: 14px; line-height: 21px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial; font-size: 14px; line-height: 21px; white-space: normal; background-color: rgb(255, 255, 255);\">index-2.html中的代码：</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial; font-size: 14px; line-height: 21px; white-space: normal; background-color: rgb(255, 255, 255);\">&lt;a name=&quot;anchor&quot;&gt;大家好&lt;/a&gt;</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial; font-size: 14px; line-height: 21px; white-space: normal; background-color: rgb(255, 255, 255);\">&lt;input type=&quot;text&quot; name=&quot;anchor1&quot;&gt;</p><p><br/></p>','2014-03-11 03:40:03','2014-03-11 11:40:18'),(463,'59.39.155.179',23,'文本框获取焦点和失去焦点','<pre style=\"margin-top: 7px; margin-bottom: 7px; padding: 15px; border: 1px dashed rgb(213, 213, 213); color: rgb(51, 51, 51); font-size: 14px; line-height: 24px; background-color: rgb(255, 255, 255);\">////////////////////////////////////////////////\r\n焦点事件\r\nfunction&nbsp;searchInput(){\r\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;keyWordBox=document.getElementById(&quot;KeywordBox&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;keyWordBox.onfocus=function(){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(this.value==&quot;搜宝贝&quot;)&nbsp;this.value=&quot;&quot;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.style.color=&quot;#666&quot;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;keyWordBox.onblur=function(){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(this.value==&quot;&quot;)&nbsp;this.value=&quot;搜宝贝&quot;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.style.color=&quot;#ddded6&quot;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}\r\nwindow.onload=searchInput();</pre><p>/////////////////////////////////////////////////////////////<br/></p><p>设置焦点</p><pre id=\"best-content-411910901\" accuse=\"aContent\" class=\"best-text mb-10\" style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; font-family: arial, &#39;courier new&#39;, courier, 宋体, monospace; white-space: pre-wrap; word-wrap: break-word; color: rgb(51, 51, 51); font-size: 14px; line-height: 24px; background-color: rgb(241, 254, 221);\">var&nbsp;txt1=document.getElementById(&quot;txt1&quot;);\r\n&nbsp;&nbsp;txt1.value=&quot;&quot;;\r\n&nbsp;&nbsp;txt1.focus();</pre><p><br/></p>','2014-03-11 03:43:28','2014-03-11 11:43:47'),(464,'183.63.215.55',23,'JS今天,明天,后天,日期','<pre class=\"brush:js;toolbar:false\">&lt;script&nbsp;language=&quot;JavaScript&quot;&nbsp;type=&quot;text/javascript&quot;&gt;\r\nDate.prototype.DateAdd&nbsp;=&nbsp;function(strInterval,&nbsp;Number)\r\n{\r\nvar&nbsp;dtTmp&nbsp;=&nbsp;this;\r\nswitch&nbsp;(strInterval)&nbsp;{\r\ncase&nbsp;&#39;s&#39;&nbsp;:return&nbsp;new&nbsp;Date(Date.parse(dtTmp)&nbsp;+&nbsp;(1000&nbsp;*&nbsp;Number));\r\ncase&nbsp;&#39;n&#39;&nbsp;:return&nbsp;new&nbsp;Date(Date.parse(dtTmp)&nbsp;+&nbsp;(60000&nbsp;*&nbsp;Number));\r\ncase&nbsp;&#39;h&#39;&nbsp;:return&nbsp;new&nbsp;Date(Date.parse(dtTmp)&nbsp;+&nbsp;(3600000&nbsp;*&nbsp;Number));\r\ncase&nbsp;&#39;d&#39;&nbsp;:return&nbsp;new&nbsp;Date(Date.parse(dtTmp)&nbsp;+&nbsp;(86400000&nbsp;*&nbsp;Number));\r\ncase&nbsp;&#39;w&#39;&nbsp;:return&nbsp;new&nbsp;Date(Date.parse(dtTmp)&nbsp;+&nbsp;((86400000&nbsp;*&nbsp;7)&nbsp;*&nbsp;Number));\r\ncase&nbsp;&#39;q&#39;&nbsp;:return&nbsp;new&nbsp;Date(dtTmp.getFullYear(),&nbsp;(dtTmp.getMonth())&nbsp;+&nbsp;Number*3,&nbsp;dtTmp.getDate(),&nbsp;dtTmp.getHours(),&nbsp;dtTmp.getMinutes(),&nbsp;dtTmp.getSeconds());\r\ncase&nbsp;&#39;m&#39;&nbsp;:return&nbsp;new&nbsp;Date(dtTmp.getFullYear(),&nbsp;(dtTmp.getMonth())&nbsp;+&nbsp;Number,&nbsp;dtTmp.getDate(),&nbsp;dtTmp.getHours(),&nbsp;dtTmp.getMinutes(),&nbsp;dtTmp.getSeconds());\r\ncase&nbsp;&#39;y&#39;&nbsp;:return&nbsp;new&nbsp;Date((dtTmp.getFullYear()&nbsp;+&nbsp;Number),&nbsp;dtTmp.getMonth(),&nbsp;dtTmp.getDate(),&nbsp;dtTmp.getHours(),&nbsp;dtTmp.getMinutes(),&nbsp;dtTmp.getSeconds());\r\n}\r\n}\r\n&nbsp;\r\nfunction&nbsp;GetDateStr2(AddDayCount)\r\n{\r\nvar&nbsp;dd&nbsp;=&nbsp;new&nbsp;Date();\r\nddd&nbsp;=&nbsp;dd.DateAdd(&#39;d&#39;,AddDayCount);//三天后\r\nvar&nbsp;y&nbsp;=&nbsp;ddd.getFullYear();\r\nvar&nbsp;m&nbsp;=&nbsp;ddd.getMonth()+1;//获取当前月\r\nvar&nbsp;d&nbsp;=&nbsp;ddd.getDate();\r\nreturn&nbsp;y+&quot;-&quot;+m+&quot;-&quot;+d;\r\n}\r\n&nbsp;\r\n&nbsp;\r\ndocument.write(&quot;前天：&quot;+GetDateStr2(-2));\r\ndocument.write(&quot;&lt;br&nbsp;/&gt;昨天：&quot;+GetDateStr2(-1));\r\ndocument.write(&quot;&lt;br&nbsp;/&gt;今天：&quot;+GetDateStr2(0));\r\ndocument.write(&quot;&lt;br&nbsp;/&gt;明天：&quot;+GetDateStr2(1));\r\ndocument.write(&quot;&lt;br&nbsp;/&gt;后天：&quot;+GetDateStr2(2));\r\ndocument.write(&quot;&lt;br&nbsp;/&gt;大后天：&quot;+GetDateStr2(3));\r\n&nbsp;\r\n&lt;/script&gt;</pre><p><br/></p>','2014-03-11 07:18:31','2014-03-11 15:19:21'),(472,'183.63.215.55',21,'Mysql查询指定时间记录','<p><b>查询4小时以内的数据记录</b></p><p>select * from sync_batch where DATE_FORMAT(insert_time, &#39;%Y-%c-%e %T&#39;) BETWEEN DATE_ADD(now(),INTERVAL -4 DAY_HOUR) AND now()</p><p><strong>&nbsp;</strong></p><p>-------------------------------------------------------------------------------------<br/><br/><strong>mysql日期处理函数<br/><br/></strong>mysql日期处理函数<br/><br/>mysql自己有格式化日期格式的函数，可以在查询语句中使用<br/>DATE_FORMAT(date,format) <br/>根据format字符串格式化date值。下列修饰符可以被用在format字符串中： %M&nbsp;&nbsp;月名字(January……December)&nbsp;&nbsp;<br/>%W&nbsp;&nbsp;星期名字(Sunday……Saturday)&nbsp;&nbsp;<br/>%D&nbsp;&nbsp;有英语前缀的月份的日期(1st, 2nd, 3rd, 等等。） <br/>%Y&nbsp;&nbsp;年, 数字, 4 位 <br/>%y&nbsp;&nbsp;年, 数字, 2 位 <br/>%a&nbsp;&nbsp;缩写的星期名字(Sun……Sat)&nbsp;&nbsp;<br/>%d&nbsp;&nbsp;月份中的天数, 数字(00……31)&nbsp;&nbsp;<br/>%e&nbsp;&nbsp;月份中的天数, 数字(0……31)&nbsp;&nbsp;<br/>%m&nbsp;&nbsp;月, 数字(01……12)&nbsp;&nbsp;<br/>%c&nbsp;&nbsp;月, 数字(1……12)&nbsp;&nbsp;<br/>%b&nbsp;&nbsp;缩写的月份名字(Jan……Dec)&nbsp;&nbsp;<br/>%j&nbsp;&nbsp;一年中的天数(001……366)&nbsp;&nbsp;<br/>%H&nbsp;&nbsp;小时(00……23)&nbsp;&nbsp;<br/>%k&nbsp;&nbsp;小时(0……23)&nbsp;&nbsp;<br/>%h&nbsp;&nbsp;小时(01……12)&nbsp;&nbsp;<br/>%I&nbsp;&nbsp;小时(01……12)&nbsp;&nbsp;<br/>%l&nbsp;&nbsp;小时(1……12)&nbsp;&nbsp;<br/>%i&nbsp;&nbsp;分钟, 数字(00……59)&nbsp;&nbsp;<br/>%r&nbsp;&nbsp;时间,12 小时(hh:mm:ss [AP]M)&nbsp;&nbsp;<br/>%T&nbsp;&nbsp;时间,24 小时(hh:mm:ss)&nbsp;&nbsp;<br/>%S&nbsp;&nbsp;秒(00……59)&nbsp;&nbsp;<br/>%s&nbsp;&nbsp;秒(00……59)&nbsp;&nbsp;<br/>%p&nbsp;&nbsp;AM或PM&nbsp;&nbsp;<br/>%w&nbsp;&nbsp;一个星期中的天数(0=Sunday ……6=Saturday ） <br/>%U&nbsp;&nbsp;星期(0……52), 这里星期天是星期的第一天 <br/>%u&nbsp;&nbsp;星期(0……52), 这里星期一是星期的第一天 <br/>%%&nbsp;&nbsp;一个文字“%”。&nbsp;&nbsp;<br/><br/>如需要用php处理，可先用strtotime函数将日期转换为unix时间戳，再用date函数格式化<br/></p>','2014-03-12 07:30:52','2014-03-12 16:04:06'),(476,'59.39.152.232',25,'Uip + Stm32移植问题总结','<p><a href=\"http://www.ichanging.org/uip-stm32.html\">http://www.ichanging.org/uip-stm32.html</a></p>','2014-03-13 05:56:58','2014-03-13 13:56:58'),(512,'59.39.152.232',5,'开发框架搭建','<p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial; font-size: 14px; line-height: 21px; white-space: normal; background-color: rgb(255, 255, 255);\">1.安装<span style=\"color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial; font-size: 14px; line-height: 21px;  background-color: rgb(255, 255, 255);\">Eclipse</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial; font-size: 14px; line-height: 21px; white-space: normal; background-color: rgb(255, 255, 255);\">2.打开Eclipse,&nbsp;在菜单栏上选择&nbsp;help-&gt;Install&nbsp;New&nbsp;SoftWare&nbsp;<br/></p><p><span style=\"color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial; font-size: 14px; line-height: 21px;  background-color: rgb(255, 255, 255);\">3.在work with输入网址:&nbsp;</span><a href=\"https://dl-ssl.google.com/android/eclipse/\" target=\"_blank\" style=\"color: rgb(248, 112, 112); font-family: tahoma, helvetica, arial; font-size: 14px; line-height: 21px; white-space: normal; background-color: rgb(255, 255, 255);\">https://dl-ssl.google.com/android/eclipse/</a><span style=\"color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial; font-size: 14px; line-height: 21px;  background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;(如果出错，请将https改成http)</span></p><p><span style=\"color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial; font-size: 14px; line-height: 21px;  background-color: rgb(255, 255, 255);\"><span style=\"color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial; font-size: 14px; line-height: 21px;  background-color: rgb(255, 255, 255);\">4.选择select all之后点击Next按钮,到最后</span></span></p><p><span style=\"color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial; font-size: 14px; line-height: 21px;  background-color: rgb(255, 255, 255);\"><span style=\"color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial; font-size: 14px; line-height: 21px;  background-color: rgb(255, 255, 255);\"></span></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial; font-size: 14px; line-height: 21px; white-space: normal; background-color: rgb(255, 255, 255);\">5.配置android&nbsp;sdk,在eclipse点击菜单window-&gt;preferences</p><p><span style=\"color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial; font-size: 14px; line-height: 21px;  background-color: rgb(255, 255, 255);\"><span style=\"color: rgb(69, 69, 69); font-family: tahoma, helvetica, arial; font-size: 14px; line-height: 21px;  background-color: rgb(255, 255, 255);\"><img src=\"/my/notes/js/ue/php/upload_img/20140313/13946971829750.jpg\" title=\"4a9492d32d9c8602960a1621.jpg\"/></span></span><br/></p>','2014-03-13 07:53:30','2014-03-13 15:55:11'),(523,'183.63.215.55',5,'Android SERVICE后台服务进程的自启动和保持','<p>Service组件在android开发中经常遇到，其经常作为后台服务，需要始终保持运行，负责处理一些必要（见不得人）的任务。而一些安全软件，如360等，会有结束进程的功能，如果不做Service的保持，就会被其杀掉。</p><p>如何保持Service的运行状态是现在要说明的，核心就是利用ANDROID的系统广播，这一不会被其他软件影响的常驻程序触发自己的程序检查Service的运行状态，如果被杀掉，就再起来。</p><p>我利用的系统广播是Intent.ACTION_TIME_TICK，这个广播每分钟发送一次，我们可以每分钟检查一次Service的运行状态，如果已经被结束了，就重新启动Service。</p><p>下边就是具体的代码和注意事项了：</p><p>1、 Intent.ACTION_TIME_TICK的使用</p><p>我们知道广播的注册有静态注册和动态注册，但此系统广播只能通过动态注册的方式使用。即你不能通过在manifest.xml里注册的方式接收到这个广播，只能在代码里通过registerReceiver()方法注册。</p><p>在ThisApp extends Application 里注册广播：</p><pre class=\"brush:java;toolbar:false;\"><p>IntentFilter&nbsp;filter&nbsp;=&nbsp;newIntentFilter(Intent.ACTION_TIME_TICK);&nbsp;</p><p>MyBroadcastReceiver&nbsp;receiver&nbsp;=&nbsp;<span class=\"keyword\">new</span>&nbsp;MyBroadcastReceiver();&nbsp;</p><p>registerReceiver(receiver,&nbsp;filter);&nbsp;</p></pre><p>在广播接收器MyBroadcastReceiver extends BroadcastReceiver的onReceive里</p><pre class=\"brush:java;toolbar:false;\"><p><span class=\"keyword\">if</span>&nbsp;(intent.getAction().equals(Intent.ACTION_TIME_TICK)) \r\n{</p><p><span class=\"comment\"> &nbsp;//检查Service状态</span>&nbsp;</p><p>&nbsp;&nbsp;</p><p>}&nbsp;</p></pre><p>2、Service的检查与启动</p><pre class=\"brush:java;toolbar:false\">boolean&nbsp;isServiceRunning&nbsp;=&nbsp;false;&nbsp;\r\nActivityManager&nbsp;manager&nbsp;=&nbsp;(ActivityManager)ThisApp.getContext().getSystemService(Context.ACTIVITY_SERVICE);&nbsp;\r\nfor&nbsp;(RunningServiceInfo&nbsp;service&nbsp;:manager.getRunningServices(Integer.MAX_VALUE))&nbsp;&nbsp;\r\n{&nbsp;\r\n&nbsp;&nbsp;&nbsp;if(&quot;so.xxxx.WidgetUpdateService&quot;.equals(service.service.getClassName()))&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//Service的类名&nbsp;\r\n&nbsp;&nbsp;&nbsp;{&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isServiceRunning&nbsp;=&nbsp;true;&nbsp;\r\n&nbsp;&nbsp;&nbsp;}&nbsp;\r\n&nbsp;&nbsp;\r\n}&nbsp;\r\nif&nbsp;(!isServiceRunning)&nbsp;{&nbsp;\r\n&nbsp;&nbsp;&nbsp;Intent&nbsp;i&nbsp;=&nbsp;new&nbsp;Intent(context,&nbsp;WidgetUpdateService.class);&nbsp;\r\n&nbsp;&nbsp;&nbsp;context.startService(i);&nbsp;\r\n}</pre><p><p>&nbsp;</p><p>&nbsp;</p><p>另一个话题，Service的开机启动。</p><p>实现和上边的类似，也是通过监控开机的系统广播来启动Service。但其实你做了上边的检查也就不会做开机启动了，因为过一两分钟就会通过上边的程序启动Service了。代码如下：</p><pre class=\"brush:java;toolbar:false;\"><p><span class=\"keyword\">if</span>&nbsp;(intent.getAction().equals(Intent.ACTION_BOOT_COMPLETED))&nbsp;{&nbsp;</p><p>Intent&nbsp;i&nbsp;=&nbsp;<span class=\"keyword\">new</span>&nbsp;Intent(context,&nbsp;LogService.<span class=\"keyword\">class</span>);&nbsp;</p><p>&nbsp;&nbsp;context.startService(i);&nbsp;</p><p>}&nbsp;</p></pre><p>&nbsp;</p><p></p></p>','2014-03-19 09:06:30','2014-03-19 17:07:17'),(524,'14.217.217.198',5,'代码运行APK文件,程序更新安装','<table style=\"color: rgb(68, 68, 68); font-family: Arial, Helvetica, sans-serif; line-height: 24px; background-color: rgb(255, 255, 255);\"><tbody><tr><td width=\"670px\"><p>void update()</p><p>&nbsp;&nbsp;{</p><p>&nbsp;&nbsp; &nbsp;Intent localIntent = new Intent(&quot;android.intent.action.VIEW&quot;);</p><p>&nbsp;&nbsp; &nbsp;Uri localUri = Uri.fromFile(new File(&quot;/sdcard/QIYICleint.apk&quot;));</p><p>&nbsp;&nbsp; &nbsp;localIntent.setDataAndType(localUri, &quot;application/vnd.android.package-archive&quot;);</p><p>&nbsp;&nbsp; &nbsp;startActivity(localIntent);</p><p>&nbsp;&nbsp; &nbsp;finish();</p><p>&nbsp;&nbsp;}</p></td></tr></tbody></table>','2014-03-19 13:50:44','2014-03-19 21:50:59'),(526,'59.36.152.130',2,'VC使用jpeglib库','<h1 style=\"margin: 10px 0px 5px; font-size: 24px; line-height: 48px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"line-height: 15.600000381469727px; font-size: 13px; color: rgb(51, 84, 174);\">一、</span><span style=\"line-height: 15.600000381469727px; font-size: 13px; color: rgb(51, 84, 174);\">vc</span>编译jpeglib库</h1><h2 style=\"margin-top: 10px; margin-bottom: 3px; font-size: 18px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; line-height: 16.899999618530273px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"line-height: 15.600000381469727px; font-size: 13px; font-family: Cambria, serif; color: rgb(51, 84, 174);\">1</span>、下载源代码</h2><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">下载地址：</span>http://www.ijg.org/<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">。注意：一定要下载</span>win32&nbsp;<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">版本</span></p><h2 style=\"margin-top: 10px; margin-bottom: 3px; font-size: 18px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; line-height: 16.899999618530273px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"line-height: 15.600000381469727px; font-size: 13px; font-family: Cambria, serif; color: rgb(51, 84, 174);\">2</span><span style=\"line-height: 15.600000381469727px; font-size: 13px; color: rgb(51, 84, 174);\">、编译源代码</span><span style=\"line-height: 15.600000381469727px; font-size: 13px; font-family: Cambria, serif; color: rgb(51, 84, 174);\">.</span></h2><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;A<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">、解压源代码，修改源代码中</span>jconfig.vc<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">为</span>jconfig.h<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">；</span></p><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;B<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">、添加环境变量</span>PATH<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">，</span>C:/Program Files/Microsoft Visual Studio/VC98/Bin&nbsp;<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">；</span></p><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;C<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">、修改</span>makefile.vc<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">，将</span>&nbsp;Pull in standard variable definitions<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">下面的一行换为：</span>!include &lt;C:/Program Files/Microsoft Visual Studio/VC98/Include/win32.mak&gt;&nbsp;<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">；</span></p><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;D<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">、进入命令提示环境下，输入：</span>vcvars32&nbsp;<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">回车，这是一个用来设置</span>VC<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">路径环境的批处理；</span></p><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;E<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">、编译生成库文件</span>&nbsp;<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">命令：</span>nmake /f makefile.vc nodebug=1<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">；</span></p><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">这样就</span>OK<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">了</span></p><h2 style=\"margin-top: 10px; margin-bottom: 3px; font-size: 18px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; line-height: 16.899999618530273px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"line-height: 15.600000381469727px; font-size: 13px; font-family: Cambria, serif; color: rgb(51, 84, 174);\">3</span><span style=\"line-height: 15.600000381469727px; font-size: 13px; color: rgb(51, 84, 174);\">、</span><span style=\"line-height: 15.600000381469727px; font-size: 13px; font-family: Cambria, serif; color: rgb(51, 84, 174);\">jpeglib</span><span style=\"line-height: 15.600000381469727px; font-size: 13px; color: rgb(51, 84, 174);\">库</span><span style=\"line-height: 15.600000381469727px; font-size: 13px; font-family: Cambria, serif; color: rgb(51, 84, 174);\">VC</span><span style=\"line-height: 15.600000381469727px; font-size: 13px; color: rgb(51, 84, 174);\">下使用</span></h2><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">对于库的使用只需要有相应的</span>.lib<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">文件和头文件就可以了。</span>Vc<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">中要添加</span>libjpeg.lib<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">库的连接</span></p><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">将这几个文件拷贝到你的项目中：</span>libjpeg.lib<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">，</span>jconfig.h<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">，</span>jmorecfg.h<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">，</span>jpeglib.h<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">，在你需要进行压缩的文件中加入</span></p><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\">extern &quot;C&quot; {</p><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#include &quot;jpeglib.h&quot;</p><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#include &quot;jmorecfg.h&quot;</p><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#include &quot;jconfig.h&quot;</p><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\">}</p><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">参考：</span></p><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"line-height: 15.600000381469727px; font-family: Arial, sans-serif;\"><a href=\"http://blog.csdn.net/xingyu19871124/archive/2009/06/30/4310800.aspx\" style=\"color: navy; text-decoration: none;\"><span style=\"font-family: Calibri, sans-serif; color: purple;\">http://blog.csdn.net/xingyu19871124/archive/2009/06/30/4310800.aspx</span></a></span></p><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">小知识：</span>bmp<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">文件的前</span>54<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">个字节是头，后面才是像素值。</span></p><h1 style=\"margin: 10px 0px 5px; font-size: 24px; line-height: 48px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"line-height: 15.600000381469727px; font-size: 13px; color: rgb(51, 84, 174);\">二、使用jpeg</span><span style=\"line-height: 15.600000381469727px; font-size: 13px; color: rgb(51, 84, 174);\">库压缩</span></h1><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">在源代码的文件夹下面有一个</span>example.c<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">的文件和</span>libjpeg.txt<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">，很有参考价值。</span></p><h2 style=\"margin-top: 10px; margin-bottom: 3px; font-size: 18px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; line-height: 16.899999618530273px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"line-height: 15.600000381469727px; font-size: 13px; font-family: Cambria, serif; color: rgb(51, 84, 174);\">1</span><span style=\"line-height: 15.600000381469727px; font-size: 13px; color: rgb(51, 84, 174);\">、基本思路</span></h2><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">首先调用截屏程序，将屏幕的位图信息存放在一个</span>buffer<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">里面，然后调用</span>jpg<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">压缩函数，在当前的目录下生成一个</span>ok.jpg<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">的文件。</span></p><h2 style=\"margin-top: 10px; margin-bottom: 3px; font-size: 18px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; line-height: 16.899999618530273px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"line-height: 15.600000381469727px; font-size: 13px; font-family: Cambria, serif; color: rgb(51, 84, 174);\">2</span>、出现的问题：</h2><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\">A<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">、运行是总是报错：</span></p><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">我参考源代码的例子，也用</span>JSAMPLE * image_buffer;<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">来指向位图的像素的首地址，编译可以通过但是运行时就会报错，后来我用</span>BYTE *image_buffer;<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">来定义就可以正常运行了。</span></p><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\">B<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">、生成的</span>jpg<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">图像失真：</span></p><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">由于</span>window<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">的位图的像素格式是：</span>BGRA<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">，</span>4<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">个字节，</span>jpeglib<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">库使用的是</span>RGB<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">，</span>3<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">个字节的格式，所以需要将源像素去掉其透明字节，同时改变</span>RGB<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">的顺序。代码如下：</span></p><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\">//RGB<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">顺序调整</span></p><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\">for (int i=0, int j=0; j &lt; 1440*900*4; i+=3, j+=4)</p><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\">{</p><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;*(image_buffer+i)=*(image_buffer+j+2);</p><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;*(image_buffer+i+1)=*(image_buffer+j+1);</p><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;*(image_buffer+i+2)=*(image_buffer+j);</p><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\">}</p><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\">C<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">、生成的</span>jpg<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">文件图像是倒的：</span></p><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">原因没有找到，后来修改了压缩函数的代码，生成了正确的</span>jpg<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">文件</span></p><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\">while (cinfo.next_scanline &lt; cinfo.image_height) {</p><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">这里我做过修改，由于</span>jpg<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">文件的图像是倒的，所以改了一下读的顺序</span></p><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">这是原代码：</span>row_pointer[0] = &amp; bits[cinfo.next_scanline * row_stride];</p><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;row_pointer[0] = &amp; bits[(cinfo.image_height - cinfo.next_scanline - 1) * row_stride];</p><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;(void) jpeg_write_scanlines(&amp;cinfo, row_pointer, 1);</p><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\">}</p><h2 style=\"margin-top: 10px; margin-bottom: 3px; font-size: 18px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; line-height: 16.899999618530273px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"line-height: 15.600000381469727px; font-size: 13px; font-family: Cambria, serif; color: rgb(51, 84, 174);\">3</span>、测试结果：</h2><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">我编写了测试代码，连续截屏并生成</span>jpg<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">文件</span>100<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">次，大约花费</span>7<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">秒左右，也就是说</span>1<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">秒可以截屏</span>13<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">次左右。同时生成的</span>jpg<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">文件有</span>100<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">多</span>K<span style=\"line-height: 15.600000381469727px; font-family: 宋体;\">的样子。</span></p><h1 style=\"margin: 10px 0px 5px; font-size: 24px; line-height: 48px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">三、代码：</h1><p style=\"font-size: 13px; line-height: 19.5px; margin-top: 10px; margin-bottom: 10px; text-indent: 20px; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-weight: bold; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;</p><p>#include&nbsp;&quot;stdafx.h&quot;<br/>#include&nbsp;&lt;atlbase.h&gt;<br/>#include&nbsp;&lt;afxwin.h&gt;<br/>#include&nbsp;&lt;WINDOWSX.H&gt;<br/>&nbsp;<br/><span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">#define</span>&nbsp;JPEG_QUALITY&nbsp;50&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">//</span><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">它的大小决定jpg的质量好坏</span><br/>&nbsp;<br/><span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">extern</span>&nbsp;&quot;C&quot;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;#include&nbsp;&quot;jpeglib.h&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;#include&nbsp;&quot;jmorecfg.h&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;#include&nbsp;&quot;jconfig.h&quot;<br/>}<br/>&nbsp;<br/><span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">int</span>&nbsp;savejpeg(<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">char</span>&nbsp;*filename,&nbsp;unsigned&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">char</span>&nbsp;*bits,&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">int</span>&nbsp;width,&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">int</span>&nbsp;height,&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">int</span>&nbsp;depth);<br/><span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">void</span>&nbsp;CapScreen(<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">char</span>&nbsp;filename[]);<br/>&nbsp;<br/>BYTE&nbsp;*image_buffer;&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">//</span><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">指向位图buffer的全局指针，window下像素格式:&nbsp;BGRA(4个字节)</span><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\"><br/></span>&nbsp;<br/><span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">int</span>&nbsp;main(<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">int</span>&nbsp;argc,&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">char</span>*&nbsp;argv[])<br/>{<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;image_buffer&nbsp;=&nbsp;(BYTE&nbsp;*)malloc(1440&nbsp;*&nbsp;900&nbsp;*&nbsp;4);<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">for</span>(<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">int</span>&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;100;&nbsp;i++){<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CapScreen(&quot;ok.bmp&quot;);&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">//</span><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">RGB顺序调整</span><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\"><br/></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">for</span>&nbsp;(<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">int</span>&nbsp;i=0,&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">int</span>&nbsp;j=0;&nbsp;j&nbsp;&lt;&nbsp;1440*900*4;&nbsp;i+=3,&nbsp;j+=4)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*(image_buffer+i)=*(image_buffer+j+2);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*(image_buffer+i+1)=*(image_buffer+j+1);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*(image_buffer+i+2)=*(image_buffer+j);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;savejpeg(&quot;ok.jpg&quot;,&nbsp;image_buffer,&nbsp;1440,&nbsp;900,&nbsp;3);<br/>&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;delete&nbsp;[]&nbsp;image_buffer;<br/>&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">return</span>&nbsp;0;<br/>}<br/>&nbsp;<br/>&nbsp;<br/><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">/*</span><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">===================================================================================<br/>function:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jpeg压缩<br/>input:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1:生成的文件名,2:bmp的指针,3:位图宽度,4:位图高度,5:颜色深度<br/>return:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int<br/>description:&nbsp;&nbsp;&nbsp;&nbsp;bmp的像素格式为(RGB)<br/>===================================================================================</span><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">*/</span><br/><span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">int</span>&nbsp;savejpeg(<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">char</span>&nbsp;*filename,&nbsp;unsigned&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">char</span>&nbsp;*bits,&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">int</span>&nbsp;width,&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">int</span>&nbsp;height,&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">int</span>&nbsp;depth)<br/>{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">struct</span>&nbsp;jpeg_compress_struct&nbsp;cinfo;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">struct</span>&nbsp;jpeg_error_mgr&nbsp;jerr;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FILE&nbsp;*&nbsp;outfile;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">/*</span><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">&nbsp;target&nbsp;file&nbsp;</span><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">*/</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JSAMPROW&nbsp;row_pointer[1];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">/*</span><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">&nbsp;pointer&nbsp;to&nbsp;JSAMPLE&nbsp;row[s]&nbsp;</span><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">*/</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;row_stride;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">/*</span><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">&nbsp;physical&nbsp;row&nbsp;width&nbsp;in&nbsp;image&nbsp;buffer&nbsp;</span><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">*/</span><br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cinfo.err&nbsp;=&nbsp;jpeg_std_error(&amp;jerr);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jpeg_create_compress(&amp;cinfo);<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">if</span>&nbsp;((outfile&nbsp;=&nbsp;fopen(filename,&nbsp;&quot;wb&quot;))&nbsp;==&nbsp;NULL)&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fprintf(stderr,&nbsp;&quot;can&#39;t&nbsp;open&nbsp;%s/n&quot;,&nbsp;filename);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">return</span>&nbsp;-1;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jpeg_stdio_dest(&amp;cinfo,&nbsp;outfile);<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cinfo.image_width&nbsp;=&nbsp;width;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">/*</span><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">&nbsp;image&nbsp;width&nbsp;and&nbsp;height,&nbsp;in&nbsp;pixels&nbsp;</span><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">*/</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cinfo.image_height&nbsp;=&nbsp;height;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cinfo.input_components&nbsp;=&nbsp;3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">/*</span><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">&nbsp;#&nbsp;of&nbsp;color&nbsp;components&nbsp;per&nbsp;pixel&nbsp;</span><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">*/</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cinfo.in_color_space&nbsp;=&nbsp;JCS_RGB;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">/*</span><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">&nbsp;colorspace&nbsp;of&nbsp;input&nbsp;image&nbsp;</span><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">*/</span><br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jpeg_set_defaults(&amp;cinfo);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jpeg_set_quality(&amp;cinfo,&nbsp;JPEG_QUALITY,&nbsp;TRUE&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">/*</span><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">&nbsp;limit&nbsp;to&nbsp;baseline-JPEG&nbsp;values&nbsp;</span><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">*/</span>);<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jpeg_start_compress(&amp;cinfo,&nbsp;TRUE);<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;row_stride&nbsp;=&nbsp;width&nbsp;*&nbsp;depth;&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">/*</span><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">&nbsp;JSAMPLEs&nbsp;per&nbsp;row&nbsp;in&nbsp;image_buffer&nbsp;</span><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">*/</span><br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">while</span>&nbsp;(cinfo.next_scanline&nbsp;&lt;&nbsp;cinfo.image_height)&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">//</span><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">这里我做过修改，由于jpg文件的图像是倒的，所以改了一下读的顺序<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">//</span><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">这是原代码：row_pointer[0]&nbsp;=&nbsp;&amp;&nbsp;bits[cinfo.next_scanline&nbsp;*&nbsp;row_stride];</span><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\"><br/></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;row_pointer[0]&nbsp;=&nbsp;&amp;&nbsp;bits[(cinfo.image_height&nbsp;-&nbsp;cinfo.next_scanline&nbsp;-&nbsp;1)&nbsp;*&nbsp;row_stride];<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">void</span>)&nbsp;jpeg_write_scanlines(&amp;cinfo,&nbsp;row_pointer,&nbsp;1);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jpeg_finish_compress(&amp;cinfo);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fclose(outfile);<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jpeg_destroy_compress(&amp;cinfo);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">return</span>&nbsp;0;<br/>}<br/>&nbsp;<br/>&nbsp;<br/><span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">void</span>&nbsp;CapScreen(<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">char</span>&nbsp;filename[])<br/>{<br/>&nbsp;&nbsp;&nbsp;&nbsp;CDC&nbsp;*pDC;<br/>&nbsp;&nbsp;&nbsp;&nbsp;pDC&nbsp;=&nbsp;CDC::FromHandle(GetDC(GetDesktopWindow()));<br/>&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">if</span>(pDC&nbsp;==&nbsp;NULL)&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">return</span>;<br/>&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">int</span>&nbsp;BitPerPixel&nbsp;=&nbsp;pDC-&gt;GetDeviceCaps(BITSPIXEL);<br/>&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">int</span>&nbsp;Width&nbsp;=&nbsp;pDC-&gt;GetDeviceCaps(HORZRES);<br/>&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">int</span>&nbsp;Height&nbsp;=&nbsp;pDC-&gt;GetDeviceCaps(VERTRES);<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;CDC&nbsp;memDC;<br/>&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">if</span>(memDC.CreateCompatibleDC(pDC)&nbsp;==&nbsp;0)&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">return</span>;<br/>&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;CBitmap&nbsp;memBitmap,&nbsp;*oldmemBitmap;<br/>&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">if</span>(memBitmap.CreateCompatibleBitmap(pDC,&nbsp;Width,&nbsp;Height)&nbsp;==&nbsp;NULL)&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">return</span>;<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;oldmemBitmap&nbsp;=&nbsp;memDC.SelectObject(&amp;memBitmap);<br/>&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">if</span>(oldmemBitmap&nbsp;==&nbsp;NULL)&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">return</span>;<br/>&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">if</span>(memDC.BitBlt(0,&nbsp;0,&nbsp;Width,&nbsp;Height,&nbsp;pDC,&nbsp;0,&nbsp;0,&nbsp;SRCCOPY)&nbsp;==&nbsp;0)&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">return</span>;<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;BITMAP&nbsp;bmp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;memBitmap.GetBitmap(&amp;bmp);<br/>&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">//</span><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">fp&nbsp;=&nbsp;fopen(filename,&nbsp;&quot;w+b&quot;);</span><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\"><br/></span>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;BITMAPINFOHEADER&nbsp;bih&nbsp;=&nbsp;{0};<br/>&nbsp;&nbsp;&nbsp;&nbsp;bih.biBitCount&nbsp;=&nbsp;bmp.bmBitsPixel;<br/>&nbsp;&nbsp;&nbsp;&nbsp;bih.biCompression&nbsp;=&nbsp;BI_RGB;<br/>&nbsp;&nbsp;&nbsp;&nbsp;bih.biHeight&nbsp;=&nbsp;bmp.bmHeight;<br/>&nbsp;&nbsp;&nbsp;&nbsp;bih.biPlanes&nbsp;=&nbsp;1;<br/>&nbsp;&nbsp;&nbsp;&nbsp;bih.biSize&nbsp;=&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">sizeof</span>(BITMAPINFOHEADER);<br/>&nbsp;&nbsp;&nbsp;&nbsp;bih.biSizeImage&nbsp;=&nbsp;bmp.bmWidthBytes&nbsp;*&nbsp;bmp.bmHeight;<br/>&nbsp;&nbsp;&nbsp;&nbsp;bih.biWidth&nbsp;=&nbsp;bmp.bmWidth;<br/>&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;BITMAPFILEHEADER&nbsp;bfh&nbsp;=&nbsp;{0};<br/>&nbsp;&nbsp;&nbsp;&nbsp;bfh.bfOffBits&nbsp;=&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">sizeof</span>(BITMAPFILEHEADER)&nbsp;+&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">sizeof</span>(BITMAPINFOHEADER);<br/>&nbsp;&nbsp;&nbsp;&nbsp;bfh.bfSize&nbsp;=&nbsp;bfh.bfOffBits&nbsp;+&nbsp;bmp.bmWidthBytes&nbsp;*&nbsp;bmp.bmHeight;<br/>&nbsp;&nbsp;&nbsp;&nbsp;bfh.bfType&nbsp;=&nbsp;(WORD)0x4d42;<br/>&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">//</span><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">fwrite(&amp;bfh,&nbsp;1,&nbsp;sizeof(BITMAPFILEHEADER),&nbsp;fp);<br/>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">//</span><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">fwrite(&amp;bih,&nbsp;1,&nbsp;sizeof(BITMAPINFOHEADER),&nbsp;fp);</span><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\"><br/></span>&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;image_buffer&nbsp;=&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 0, 255);\">new</span>&nbsp;BYTE[bmp.bmWidthBytes&nbsp;*&nbsp;bmp.bmHeight];<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;GetDIBits(memDC.m_hDC,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(HBITMAP)&nbsp;memBitmap.m_hObject,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Height,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;image_buffer,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(LPBITMAPINFO)&nbsp;&amp;bih,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DIB_RGB_COLORS);<br/>&nbsp;&nbsp;&nbsp;&nbsp;memDC.SelectObject(oldmemBitmap);<br/>&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">//</span><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">fwrite(p,&nbsp;1,&nbsp;1280&nbsp;*&nbsp;800&nbsp;*&nbsp;4,&nbsp;fp);<br/>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">//</span><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\">fclose(fp);</span><span style=\"line-height: 15.600000381469727px; color: rgb(0, 128, 0);\"><br/></span>}<br/>&nbsp;</p><p><br/></p>','2014-03-21 02:19:07','2014-03-21 10:19:07'),(527,'192.168.2.200',1,'GDI+ 保存HBITMAP到磁盘文件','<h2>使用GDI+</h2><p><span style=\"color: rgb(69, 69, 69); line-height: 21px; font-family: tahoma, helvetica, arial; font-size: 14px; background-color: rgb(255, 255, 255);\">要用到GdiPlus.lib</span></p><p><span style=\"color: rgb(69, 69, 69); line-height: 21px; font-family: tahoma, helvetica, arial; font-size: 14px; background-color: rgb(255, 255, 255);\">在 头文件 stdafx.h 添加如下的代码</span><br style=\"color: rgb(69, 69, 69); line-height: 21px; font-family: tahoma, helvetica, arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(69, 69, 69); line-height: 21px; font-family: tahoma, helvetica, arial; font-size: 14px; background-color: rgb(255, 255, 255);\">#define ULONG_PTR unsigned long</span><br style=\"color: rgb(69, 69, 69); line-height: 21px; font-family: tahoma, helvetica, arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(69, 69, 69); line-height: 21px; font-family: tahoma, helvetica, arial; font-size: 14px; background-color: rgb(255, 255, 255);\">#include &lt;Gdiplus.h&gt;</span><br style=\"color: rgb(69, 69, 69); line-height: 21px; font-family: tahoma, helvetica, arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(69, 69, 69); line-height: 21px; font-family: tahoma, helvetica, arial; font-size: 14px; background-color: rgb(255, 255, 255);\">using namespace Gdiplus;</span></p><p><br style=\"color: rgb(69, 69, 69); line-height: 21px; font-family: tahoma, helvetica, arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><strong><span style=\"color: rgb(69, 69, 69); line-height: 21px; font-family: tahoma, helvetica, arial; font-size: 14px; background-color: rgb(255, 255, 255);\">在 CWinApp 派生出来的 你自己的 C×App 的头文件 添加</span></strong><br style=\"color: rgb(69, 69, 69); line-height: 21px; font-family: tahoma, helvetica, arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/></p><p>//这个是全局变量</p><p>ULONG_PTR gdiplusToken; <br/>GdiplusStartupInput gdiplusStartupInput;</p><p>&nbsp;</p><p>//在入口调用,函数放在程序初始化处<br/>GdiplusStartup(&amp;gdiplusToken, &amp;gdiplusStartupInput, NULL);<br/>&nbsp;&nbsp;&nbsp; <br/>//在程序出口调用<br/>//GdiplusShutdown(gdiplusToken);<br/></p><p><br/></p><hr style=\"margin: 0px; padding: 0px; color: rgb(69, 69, 69); line-height: 21px; font-family: tahoma, helvetica, arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><p><br/></p><p style=\"line-height: 28px; font-family: &quot;ms shell dlg&quot;; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\">先定义一个方法获取指定的图片格式的编码器。摘自msdn</p><pre class=\"brush:cpp;toolbar:false;\" style=\"margin: 0em; padding: 0px; width: 893.68px; line-height: 12pt; overflow: visible; font-family: &quot;Courier New&quot;, courier, monospace; font-size: 8pt; direction: ltr; background-color: white;\">/*&nbsp;format&nbsp;取值为：\r\n&nbsp;&nbsp;&nbsp;&nbsp;image/bmp\r\n&nbsp;&nbsp;&nbsp;&nbsp;image/jpeg\r\n&nbsp;&nbsp;&nbsp;&nbsp;image/gif\r\n&nbsp;&nbsp;&nbsp;&nbsp;image/tiff\r\n&nbsp;&nbsp;&nbsp;&nbsp;image/png\r\n*/\r\nint&nbsp;GetEncoderClsid(&nbsp;const&nbsp;WCHAR*&nbsp;format,&nbsp;CLSID*&nbsp;pClsid&nbsp;)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;UINT&nbsp;&nbsp;num&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;number&nbsp;of&nbsp;image&nbsp;encoders\r\n&nbsp;&nbsp;&nbsp;&nbsp;UINT&nbsp;&nbsp;size&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;size&nbsp;of&nbsp;the&nbsp;image&nbsp;encoder&nbsp;array&nbsp;in&nbsp;bytes\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;ImageCodecInfo*&nbsp;pImageCodecInfo&nbsp;=&nbsp;NULL;\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;GetImageEncodersSize(&amp;num,&nbsp;&amp;size);\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(size&nbsp;==&nbsp;0)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;-1;&nbsp;&nbsp;//&nbsp;Failure\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;pImageCodecInfo&nbsp;=&nbsp;(ImageCodecInfo*)(malloc(size));\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(pImageCodecInfo&nbsp;==&nbsp;NULL)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;-1;&nbsp;&nbsp;//&nbsp;Failure\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;GetImageEncoders(num,&nbsp;size,&nbsp;pImageCodecInfo);\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;for(UINT&nbsp;j&nbsp;=&nbsp;0;&nbsp;j&nbsp;&lt;&nbsp;num;&nbsp;++j)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(&nbsp;wcscmp(pImageCodecInfo[j].MimeType,&nbsp;format)&nbsp;==&nbsp;0&nbsp;)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*pClsid&nbsp;=&nbsp;pImageCodecInfo[j].Clsid;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;free(pImageCodecInfo);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;j;&nbsp;&nbsp;//&nbsp;Success\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;free(pImageCodecInfo);\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;-1;&nbsp;&nbsp;//&nbsp;Failure\r\n&nbsp;&nbsp;\r\n}</pre><pre style=\"margin: 0em; padding: 0px; width: 893.68px; line-height: 12pt; overflow: visible; font-family: &quot;Courier New&quot;, courier, monospace; font-size: 8pt; direction: ltr; background-color: rgb(244, 244, 244);\">&nbsp;&nbsp;<br/></pre><p style=\"line-height: 28px; font-family: &quot;ms shell dlg&quot;; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\">下面的代码可以把一个GDI中使用的HBITMAP句柄保存到磁盘</p><pre style=\"margin: 0em; padding: 0px; width: 908.68px; line-height: 12pt; overflow: visible; font-family: &quot;Courier New&quot;, courier, monospace; font-size: 8pt; direction: ltr; background-color: white;\">&nbsp;&nbsp;&nbsp;1:&nbsp;CLSID&nbsp;bmpClsid;</pre><pre style=\"margin: 0em; padding: 0px; width: 908.68px; line-height: 12pt; overflow: visible; font-family: &quot;Courier New&quot;, courier, monospace; font-size: 8pt; direction: ltr; background-color: rgb(244, 244, 244);\">&nbsp;&nbsp;&nbsp;2:&nbsp;GetEncoderClsid(L&quot;image/bmp&quot;,&nbsp;&amp;bmpClsid);</pre><pre style=\"margin: 0em; padding: 0px; width: 908.68px; line-height: 12pt; overflow: visible; font-family: &quot;Courier New&quot;, courier, monospace; font-size: 8pt; direction: ltr; background-color: white;\">&nbsp;&nbsp;&nbsp;3:</pre><pre style=\"margin: 0em; padding: 0px; width: 908.68px; line-height: 12pt; overflow: visible; font-family: &quot;Courier New&quot;, courier, monospace; font-size: 8pt; direction: ltr; background-color: rgb(244, 244, 244);\">&nbsp;&nbsp;&nbsp;4:&nbsp;//保存到磁盘上的bmp文件</pre><pre style=\"margin: 0em; padding: 0px; width: 908.68px; line-height: 12pt; overflow: visible; font-family: &quot;Courier New&quot;, courier, monospace; font-size: 8pt; direction: ltr; background-color: white;\">&nbsp;&nbsp;&nbsp;5:&nbsp;Gdiplus::Bitmap&nbsp;bitmap(hBitmap,NULL);</pre><pre style=\"margin: 0em; padding: 0px; width: 908.68px; line-height: 12pt; overflow: visible; font-family: &quot;Courier New&quot;, courier, monospace; font-size: 8pt; direction: ltr; background-color: rgb(244, 244, 244);\">&nbsp;&nbsp;&nbsp;6:&nbsp;bitmap.Save(L&quot;1.bmp&quot;,&nbsp;&amp;bmpClsid,&nbsp;NULL);</pre><pre style=\"margin: 0em; padding: 0px; width: 908.68px; line-height: 12pt; overflow: visible; font-family: &quot;Courier New&quot;, courier, monospace; font-size: 8pt; direction: ltr; background-color: white;\">&nbsp;&nbsp;&nbsp;7:</pre><pre style=\"margin: 0em; padding: 0px; width: 908.68px; line-height: 12pt; overflow: visible; font-family: &quot;Courier New&quot;, courier, monospace; font-size: 8pt; direction: ltr; background-color: rgb(244, 244, 244);\">&nbsp;&nbsp;&nbsp;8:&nbsp;//&nbsp;转换为png，再保存到磁盘上</pre><pre style=\"margin: 0em; padding: 0px; width: 908.68px; line-height: 12pt; overflow: visible; font-family: &quot;Courier New&quot;, courier, monospace; font-size: 8pt; direction: ltr; background-color: white;\">&nbsp;&nbsp;&nbsp;9:&nbsp;CLSID&nbsp;pngid;</pre><pre style=\"margin: 0em; padding: 0px; width: 908.68px; line-height: 12pt; overflow: visible; font-family: &quot;Courier New&quot;, courier, monospace; font-size: 8pt; direction: ltr; background-color: rgb(244, 244, 244);\">&nbsp;&nbsp;10:&nbsp;GetEncoderClsid(L&quot;image/png&quot;,&nbsp;&amp;pngid);</pre><pre style=\"margin: 0em; padding: 0px; width: 908.68px; line-height: 12pt; overflow: visible; font-family: &quot;Courier New&quot;, courier, monospace; font-size: 8pt; direction: ltr; background-color: white;\">&nbsp;&nbsp;11:&nbsp;bitmap.Save(L&quot;1.png&quot;,&amp;pngid,NULL);</pre><p style=\"line-height: 28px; font-family: &quot;ms shell dlg&quot;; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\">下面的代码从磁盘上读取一个jpg文件，转换为bmp再保存到磁盘上</p><pre style=\"margin: 0em; padding: 0px; width: 908.68px; line-height: 12pt; overflow: visible; font-family: &quot;Courier New&quot;, courier, monospace; font-size: 8pt; direction: ltr; background-color: white;\">&nbsp;&nbsp;&nbsp;1:&nbsp;Gdiplus::Image&nbsp;*&nbsp;pImage&nbsp;=&nbsp;Gdiplus::Image::FromFile(L&quot;E:/Dropbox/MyDocument/美图图库/示例图片_03.jpg&quot;);</pre><pre style=\"margin: 0em; padding: 0px; width: 908.68px; line-height: 12pt; overflow: visible; font-family: &quot;Courier New&quot;, courier, monospace; font-size: 8pt; direction: ltr; background-color: rgb(244, 244, 244);\">&nbsp;&nbsp;&nbsp;2:&nbsp;pImage-&gt;Save(L&quot;2.bmp&quot;,&amp;bmpClsid,NULL);</pre><p><br/></p>','2014-03-21 02:35:42','2016-05-11 01:13:56'),(528,'59.36.152.130',1,'HBITMAP保存到BMP文件','<p>void WriteBmpToFile(HBITMAP hBitmap,CSstring strFilePath)</p><p>{</p><p>&nbsp; &nbsp; HDC hDC =::CreateDC(&quot;DISPLAY&quot;,NULL,NULL,NULL);&nbsp;</p><p>&nbsp; &nbsp; int iBits = ::GetDeviceCaps(hDC, BITSPIXEL) * ::GetDeviceCaps(hDC, PLANES);//当前分辨率下每个像素所占字节数 &nbsp;</p><p>&nbsp; &nbsp; ::DeleteDC(hDC);</p><p><br/></p><p>&nbsp; &nbsp; WORD &nbsp; wBitCount; &nbsp; //位图中每个像素所占字节数 &nbsp; &nbsp;</p><p>&nbsp; &nbsp; if (iBits &lt;= 1)</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>wBitCount = 1;</p><p>&nbsp; &nbsp; else if (iBits &lt;= 4)</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>wBitCount = 4;</p><p>&nbsp; &nbsp; else if (iBits &lt;= 8)</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>wBitCount = 8;</p><p>&nbsp; &nbsp; else if (iBits &lt;= 24)</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>wBitCount = 24;</p><p>&nbsp; &nbsp; else</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>wBitCount = iBits;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span> &nbsp; &nbsp;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>DWORD &nbsp; dwPaletteSize=0;<span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>//调色板大小， 位图中像素字节大小&nbsp;</p><p>&nbsp; &nbsp; if (wBitCount &lt;= 8)<span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span></p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>dwPaletteSize = (1 &lt;&lt; wBitCount) *<span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>sizeof(RGBQUAD);<span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span></p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span></p><p><br/></p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>BITMAP &nbsp;bm; &nbsp; &nbsp; &nbsp; &nbsp;//位图属性结构</p><p>&nbsp; &nbsp; ::GetObject(hBitmap, sizeof(bm), (LPSTR)&amp;bm); &nbsp;</p><p><br/></p><p>&nbsp; &nbsp;&nbsp;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>BITMAPINFOHEADER &nbsp; bi; &nbsp; &nbsp; &nbsp; //位图信息头结构 &nbsp; &nbsp;&nbsp;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>bi.biSize &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= sizeof(BITMAPINFOHEADER); &nbsp;</p><p>&nbsp; &nbsp; bi.biWidth &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = bm.bmWidth;</p><p>&nbsp; &nbsp; bi.biHeight &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= bm.bmHeight;</p><p>&nbsp; &nbsp; bi.biPlanes &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= 1;</p><p>&nbsp; &nbsp; bi.biBitCount &nbsp; &nbsp; &nbsp; &nbsp;= wBitCount;</p><p>&nbsp; &nbsp; bi.biCompression &nbsp; &nbsp; = BI_RGB; //BI_RGB表示位图没有压缩</p><p>&nbsp; &nbsp; bi.biSizeImage &nbsp; &nbsp; &nbsp; = 0;</p><p>&nbsp; &nbsp; bi.biXPelsPerMeter &nbsp; = 0;</p><p>&nbsp; &nbsp; bi.biYPelsPerMeter &nbsp; = 0;</p><p>&nbsp; &nbsp; bi.biClrUsed &nbsp; &nbsp; &nbsp; &nbsp; = 0;</p><p>&nbsp; &nbsp; bi.biClrImportant &nbsp; &nbsp;= 0;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span></p><p>&nbsp; &nbsp; DWORD dwBmBitsSize = ((bm.bmWidth * wBitCount+31)/32) * 4 * bm.bmHeight; &nbsp; &nbsp;</p><p>&nbsp; &nbsp; HANDLE hDib &nbsp;= ::GlobalAlloc(GHND,dwBmBitsSize + dwPaletteSize + sizeof(BITMAPINFOHEADER)); &nbsp;//为位图内容分配内存</p><p>&nbsp; &nbsp; LPBITMAPINFOHEADER lpbi = (LPBITMAPINFOHEADER)GlobalLock(hDib);</p><p>&nbsp; &nbsp; *lpbi = bi;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span></p><p>&nbsp; &nbsp; HANDLE hPal = ::GetStockObject(DEFAULT_PALETTE); &nbsp;// 处理调色板&nbsp;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>HANDLE &nbsp;hOldPal=NULL;&nbsp;</p><p>&nbsp; &nbsp; if (hPal)</p><p>&nbsp; &nbsp; {</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>hDC = ::GetDC(NULL);</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>hOldPal = SelectPalette(hDC,(HPALETTE)hPal, FALSE);</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>RealizePalette(hDC);</p><p>&nbsp; &nbsp; }</p><p>&nbsp; &nbsp; ::GetDIBits(hDC, hBitmap, 0, (UINT) bm.bmHeight,(LPSTR)lpbi + sizeof(BITMAPINFOHEADER)+dwPaletteSize,(BITMAPINFO*)lpbi,DIB_RGB_COLORS);// 获取该调色板下新的像素值</p><p>&nbsp; &nbsp; if (hOldPal)//恢复调色板</p><p>&nbsp; &nbsp; {</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>SelectPalette(hDC, (HPALETTE)hOldPal, TRUE);</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>RealizePalette(hDC);</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">		</span>::ReleaseDC(NULL, hDC);</p><p>&nbsp; &nbsp; }<span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span></p><p>&nbsp; &nbsp;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>BITMAPFILEHEADER &nbsp; bmfHdr; //位图文件头结构 &nbsp; &nbsp;&nbsp;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>bmfHdr.bfType = 0x4D42; &nbsp;// &quot;BM&quot; &nbsp;<span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>// 设置位图文件头</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>DWORD dwDIBSize = sizeof(BITMAPFILEHEADER) + sizeof(BITMAPINFOHEADER) + dwPaletteSize + dwBmBitsSize; &nbsp;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>bmfHdr.bfSize = dwDIBSize;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>bmfHdr.bfReserved1 = 0;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>bmfHdr.bfReserved2 = 0;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>bmfHdr.bfOffBits = (DWORD)sizeof(BITMAPFILEHEADER) + (DWORD)sizeof(BITMAPINFOHEADER) + dwPaletteSize;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span></p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>HANDLE hFile = CreateFile(strFilePath, GENERIC_WRITE, 0, NULL, CREATE_ALWAYS,FILE_ATTRIBUTE_NORMAL | FILE_FLAG_SEQUENTIAL_SCAN, NULL);//创建位图文件 &nbsp;&nbsp;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>DWORD dwWritten;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>WriteFile(hFile, (LPSTR)&amp;bmfHdr, sizeof(BITMAPFILEHEADER), &amp;dwWritten, NULL);<span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>// 写入位图文件头</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>WriteFile(hFile, (LPSTR)lpbi, dwDIBSize, &amp;dwWritten, NULL);// 写入位图文件其余内容</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span></p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>GlobalUnlock(hDib); &nbsp; //清除 &nbsp;&nbsp;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>GlobalFree(hDib);</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>CloseHandle(hFile); <span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span></p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span></p><p>}</p><p><br/></p>','2014-03-21 02:58:22','2014-03-21 10:58:22'),(529,'59.36.152.130',1,'获取启动参数','<p>LPTSTR cmd = ::GetCommandLine(); &nbsp;</p><p>int argc = 0; &nbsp;</p><p>WCHAR &nbsp;* const *argv; &nbsp;</p><p>argv = ::CommandLineToArgvW(cmd, &amp;argc); &nbsp;</p><p><br/></p>','2014-03-21 09:05:58','2014-03-21 17:05:58'),(531,'59.36.148.227',1,'MFC 的 Picture Control 加载 BMP/PNG 图片的三种方法','<p><strong>1.</strong></p><p>CStatic* pWnd = (CStatic*)GetDlgItem(IDC_PIC); // 得到 Picture Control 句柄</p><p>pWnd-&gt;ModifyStyle(0, SS_BITMAP); // 修改它的属性为位图</p><p>pWnd-&gt;SetBitmap((HBITMAP)::LoadImage(NULL, _T(&quot;bmp.bmp&quot;),&nbsp;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; IMAGE_BITMAP,&nbsp;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 100,&nbsp;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 50,&nbsp;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; LR_CREATEDIBSECTION | LR_DEFAULTSIZE | LR_LOADFROMFILE));</p><p><br/></p><p><br/></p><p><strong>2.</strong></p><p><br/></p><p>CStatic* pWnd = (CStatic*)GetDlgItem(IDC_PIC); // 得到 Picture Control 句柄</p><p>CImage image;</p><p>image.Load(_T(&quot;png.png&quot;);</p><p>HBITMAP hBmp = image.Detach();</p><p>pWnd-&gt;SetBitmap(hBmp);</p><p>pWnd-&gt;SetWindowPos(NULL,&nbsp;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0,&nbsp;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0,&nbsp;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;100,&nbsp;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;50,&nbsp;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SWP_NOACTIVATE | SWP_NOMOVE | SWP_NOZORDER);</p><p><strong><br/></strong></p><p><strong><br/></strong></p><p><strong>3.</strong></p><p><span style=\"font-family: Arial; font-size: 14px; line-height: 26px;  background-color: rgb(255, 255, 255);\">在资源编辑器中选定图片控件 -&gt; Alt+Enter 打开该图片控件的“属性窗口” -&gt; 在 &quot;Type&quot; 中选定图片类型 -&gt; 在&quot;Image&quot;中选定图片对应的资源 ID.</span><br/></p><p><span style=\"font-family: Arial; font-size: 14px; line-height: 26px;  background-color: rgb(255, 255, 255);\"><img src=\"/my/notes/js/ue/php/upload_img/20140327/13958919074733.gif\" title=\"0_13181295072hEz.gif\"/></span></p>','2014-03-27 03:45:12','2014-03-27 11:45:29'),(532,'183.63.215.55',1,'CListCtrl添加新项滚动栏自动跟踪','<p>CListCtrl m_ListThumbnail;</p><p>//设置选中</p><p>m_ListThumbnail.SetFocus();</p><p>m_ListThumbnail.SetItemState(n, LVIS_SELECTED|LVIS_FOCUSED, LVIS_SELECTED|LVIS_FOCUSED);</p><p><br/></p><p>//位置跟踪</p><p>m_ListThumbnail.EnsureVisible(n,FALSE);</p><p><br/></p>','2014-03-27 07:42:42','2014-03-27 15:43:41'),(534,'59.36.148.227',1,'键盘虚拟键值表','<table width=\"100%\"><tbody><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">虚拟键</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">十六进制值</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">十进制值</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">相应键盘或鼠标键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_LBUTTON</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x01</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">1</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">鼠标左键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_RBUTTON</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x02</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">2</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">鼠标右键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_CANCEL</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x03</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">3</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">Ctrl-Break键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_MBUTTON</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x04</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">4</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">鼠标中键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_BACK</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x08</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">8</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">Backspace键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_TAB</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x09</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">9</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">Tab键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_CLEAR</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x0C</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">12</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">Clear键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_RETURN</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x0D</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">13</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">Enter键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_SHIFT</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x10</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">16</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">Shift键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_CONTROL</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x11</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">17</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">Ctrl键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_MENU</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x12</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">18</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\"><a title=\"Alt键\" class=\"innerlink\" style=\"color: rgb(2, 104, 205); text-decoration: none;\" href=\"http://www.baike.com/wiki/Alt%E9%94%AE\">Alt键</a></td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_PAUSE</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x13</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">19</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">Pause键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_CAPITAL</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x14</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">20</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">Caps Lock键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_ESCAPE</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x1B</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">27</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">Esc键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_SPACE</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x20</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">32</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">Space键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_PRIOR</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x21</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">33</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">Page Up键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_NEXT</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x22</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">34</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">Page Down键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_END</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x23</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">35</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">End键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_HOME</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x24</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">36</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">Home键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_LEFT</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x25</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">37</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">←键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_UP</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x26</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">38</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">↑键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_RIGHT</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x27</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">39</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">→键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_DOWN</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x28</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">40</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">↓键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_SELECT</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x29</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">41</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">Select键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_PRINT</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x2A</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">42</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">Print键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_EXECUTE</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x2B</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">43</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">Execute键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_SNAPSHOT</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x2C</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">44</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">Print Screen键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_INSERT</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x2D</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">45</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">Ins键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_DELETE</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x2E</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">46</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">Del键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_HELP</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x2F</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">47</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">Help键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_0</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x30</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">48</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_1</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x31</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">49</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">1键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_2</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x32</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">50</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">2键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_3</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x33</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">51</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">3键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_4</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x34</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">52</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">4键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_5</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x35</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">53</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">5键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_6</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x36</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">54</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">6键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_7</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x37</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">55</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">7键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_8</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x38</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">56</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">8键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_9</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x39</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">57</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">9键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_A</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x41</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">65</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">A键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_B</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x42</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">66</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">B键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_C</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x43</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">67</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">C键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_D</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x44</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">68</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">D键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_E</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x45</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">69</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">E键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_F</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x46</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">70</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">F键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_G</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x47</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">71</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">G键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_H</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x48</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">72</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">H键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_I</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x49</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">73</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">I键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_J</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x4A</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">74</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">J键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_K</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x4B</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">75</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">K键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_L</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x4C</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">76</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">L键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_M</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x4D</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">77</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">M键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_N</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x4E</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">78</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">N键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_O</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x4F</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">79</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">O键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_P</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x50</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">80</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">P键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_Q</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x51</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">81</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">Q键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_R</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x52</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">82</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">R键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_S</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x53</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">83</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">S键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_T</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x54</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">84</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">T键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_U</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x55</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">85</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">U键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_V</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x56</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">86</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">V键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_W</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x57</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">87</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">W键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_X</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x58</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">88</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">X键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_Y</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x59</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">89</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">Y键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_Z</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x5A</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">90</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">Z键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_LWIN</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x5B</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">91</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">左<a title=\"Windows键\" class=\"innerlink\" style=\"color: rgb(2, 104, 205); text-decoration: none;\" href=\"http://www.baike.com/wiki/Windows%E9%94%AE\">Windows键</a></td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_RWIN</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x5C</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">92</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">右Windows键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_APPS</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x5D</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">93</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">应用程序键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_SLEEP</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x5F</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">95</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">休眠键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_NUMPAD0</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x60</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">96</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">小数字键盘0键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_NUMPAD1</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x61</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">97</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">小数字键盘1键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_NUMPAD2</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x62</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">98</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">小数字键盘2键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_NUMPAD3</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x63</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">99</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">小数字键盘3键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_NUMPAD4</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x64</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">100</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">小数字键盘4键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_NUMPAD5</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x65</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">101</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">小数字键盘5键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_NUMPAD6</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x66</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">102</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">小数字键盘6键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_NUMPAD7</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x67</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">103</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">小数字键盘7键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_NUMPAD8</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x68</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">104</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">小数字键盘8键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_NUMPAD9</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x69</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">105</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">小数字键盘9键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_MULTIPLY</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x6A</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">106</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">乘号键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_ADD</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x6B</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">107</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">加号键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_SEPARATOR</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x6C</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">108</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">分割键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_SUBSTRACT</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x6D</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">109</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">减号键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_DECIMAL</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x6E</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">110</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">小数<a title=\"点键\" class=\"innerlink\" style=\"color: rgb(2, 104, 205); text-decoration: none;\" href=\"http://www.baike.com/wiki/%E7%82%B9%E9%94%AE\">点键</a></td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_DIVIDE</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x6F</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">111</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">除号键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_F1</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x70</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">12</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">F1键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_F2</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x71</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">113</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">F2键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_F3</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x72</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">114</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">F3键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_F4</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x73</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">115</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">F4键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_F5</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x74</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">116</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">F5键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_F6</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x75</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">117</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">F6键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_F7</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x76</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">118</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">F7键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_F8</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x77</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">119</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">F8键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_F9</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x78</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">120</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">F9键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_F10</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x79</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">121</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">F10键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_F11</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x7A</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">122</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">F11键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_F12</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x7B</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">123</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">F12键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_F13</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x7C</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">124</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">F13键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_F14</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x7D</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">125</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">F14键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_F15</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x7E</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">126</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">F15键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_F16</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x7F</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">127</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">F16键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_F17</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x80</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">128</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">F17键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_F18</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x81</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">129</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">F18键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_F19</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x82</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">130</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">F19键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_F20</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x83</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">131</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">F20键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_F21</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x84</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">132</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">F21键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_F22</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x85</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">133</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">F22键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_F23</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x86</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">134</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">F23键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_F24</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x87</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">135</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">F24键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_NUMLOCK</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x90</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">144</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">Num Lock键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_SCROLL</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0x91</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">45</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">Scroll Lock键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_LSHIFT</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0xA0</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">160</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">左Shift键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_RSHIFT</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0xA1</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">161</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">右Shift键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_LCONTROL</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0xA2</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">162</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">左Ctrl键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_RCONTROL</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0xA3</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">163</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">右Ctrl键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_LMENU</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0xA4</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">164</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">左Alt键</td></tr><tr><td style=\"margin: 0px; padding: 10px; border: currentColor;\">VK_RMENU</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">0xA5</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">165</td><td style=\"margin: 0px; padding: 10px; border: currentColor;\">右Alt键</td></tr></tbody></table><p>&nbsp;</p>','2014-03-28 04:16:37','2014-03-28 12:34:21'),(536,'116.18.6.251',1,'CButtonST 重载按钮样式','<p><span style=\"color: rgb(255, 255, 255); background-color: rgb(79, 129, 189);\"><strong>CButtonST.h头文件-----------------------------------------------------------</strong></span></p><pre class=\"brush:cpp;toolbar:false\">#if&nbsp;!defined(AFX_BUTTONST_H__1271FF9C_E28C_4D3B_B429_AFE65924A5D0__INCLUDED_)\r\n#define&nbsp;AFX_BUTTONST_H__1271FF9C_E28C_4D3B_B429_AFE65924A5D0__INCLUDED_\r\n#if&nbsp;_MSC_VER&nbsp;&gt;&nbsp;1000\r\n#pragma&nbsp;once\r\n#endif&nbsp;//&nbsp;_MSC_VER&nbsp;&gt;&nbsp;1000\r\n//&nbsp;ButtonST.h&nbsp;:&nbsp;header&nbsp;file\r\n//\r\n/////////////////////////////////////////////////////////////////////////////\r\n//&nbsp;CButtonST&nbsp;window\r\nclass&nbsp;CButtonST&nbsp;:&nbsp;public&nbsp;CButton\r\n{\r\n//&nbsp;Construction\r\npublic:\r\n&nbsp;&nbsp;&nbsp;&nbsp;CButtonST();\r\n//&nbsp;Attributes\r\npublic:\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n//&nbsp;Operations\r\npublic:\r\n&nbsp;&nbsp;&nbsp;&nbsp;//设置背景颜色\r\n&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;SetBkColor(COLORREF&nbsp;BkColor);\r\n&nbsp;&nbsp;&nbsp;&nbsp;//设置鼠标在按钮上的偏移颜色\r\n&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;SetShOffset(int&nbsp;nShOffset);\r\n&nbsp;&nbsp;&nbsp;&nbsp;//设置字体颜色\r\n&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;SetTextColor(COLORREF&nbsp;TextColor);\r\n&nbsp;&nbsp;&nbsp;&nbsp;//设置网页链接\r\n&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;SetURL(CString&nbsp;strURL);\r\n&nbsp;&nbsp;&nbsp;&nbsp;//设置背景图片\r\n&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;SetBkPicture(CBitmap&nbsp;*pBitMap);\r\n//&nbsp;Overrides\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;ClassWizard&nbsp;generated&nbsp;virtual&nbsp;function&nbsp;overrides\r\n&nbsp;&nbsp;&nbsp;&nbsp;//{{AFX_VIRTUAL(CButtonST)\r\n&nbsp;&nbsp;&nbsp;&nbsp;public:\r\n&nbsp;&nbsp;&nbsp;&nbsp;virtual&nbsp;void&nbsp;DrawItem(LPDRAWITEMSTRUCT&nbsp;lpDrawItemStruct);\r\n&nbsp;&nbsp;&nbsp;&nbsp;virtual&nbsp;BOOL&nbsp;Create(LPCTSTR&nbsp;lpszClassName,&nbsp;LPCTSTR&nbsp;lpszWindowName,&nbsp;DWORD&nbsp;dwStyle,&nbsp;const&nbsp;RECT&amp;&nbsp;rect,&nbsp;CWnd*&nbsp;pParentWnd,&nbsp;UINT&nbsp;nID,&nbsp;CCreateContext*&nbsp;pContext&nbsp;=&nbsp;NULL);\r\n&nbsp;&nbsp;&nbsp;&nbsp;protected:\r\n&nbsp;&nbsp;&nbsp;&nbsp;virtual&nbsp;BOOL&nbsp;PreCreateWindow(CREATESTRUCT&amp;&nbsp;cs);\r\n&nbsp;&nbsp;&nbsp;&nbsp;virtual&nbsp;void&nbsp;PreSubclassWindow();\r\n&nbsp;&nbsp;&nbsp;&nbsp;//}}AFX_VIRTUAL\r\n//&nbsp;Implementation\r\npublic:\r\n&nbsp;&nbsp;&nbsp;&nbsp;virtual&nbsp;~CButtonST();\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;DrawItem1(LPDRAWITEMSTRUCT&nbsp;lpDrawItemStruct);\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Generated&nbsp;message&nbsp;map&nbsp;functions\r\nprotected:\r\n&nbsp;&nbsp;&nbsp;&nbsp;//{{AFX_MSG(CButtonST)\r\n&nbsp;&nbsp;&nbsp;&nbsp;afx_msg&nbsp;void&nbsp;OnMouseMove(UINT&nbsp;nFlags,&nbsp;CPoint&nbsp;point);\r\n&nbsp;&nbsp;&nbsp;&nbsp;afx_msg&nbsp;BOOL&nbsp;OnNcActivate(BOOL&nbsp;bActive);\r\n&nbsp;&nbsp;&nbsp;&nbsp;afx_msg&nbsp;void&nbsp;OnNcMouseMove(UINT&nbsp;nHitTest,&nbsp;CPoint&nbsp;point);\r\n&nbsp;&nbsp;&nbsp;&nbsp;afx_msg&nbsp;void&nbsp;OnKillFocus(CWnd*&nbsp;pNewWnd);\r\n&nbsp;&nbsp;&nbsp;&nbsp;afx_msg&nbsp;void&nbsp;OnLButtonDown(UINT&nbsp;nFlags,&nbsp;CPoint&nbsp;point);\r\n&nbsp;&nbsp;&nbsp;&nbsp;//}}AFX_MSG\r\nprotected:\r\n&nbsp;&nbsp;&nbsp;&nbsp;//鼠标是否在按钮上面\r\n&nbsp;&nbsp;&nbsp;&nbsp;BOOL&nbsp;m_IsPressed;\r\n&nbsp;&nbsp;&nbsp;&nbsp;COLORREF&nbsp;m_BkColor;\r\n&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_nShOffset;\r\n&nbsp;&nbsp;&nbsp;&nbsp;COLORREF&nbsp;m_TextColor;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CString&nbsp;&nbsp;m_strURL;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CBitmap&nbsp;&nbsp;*m_pBitMapBK;\r\nprotected:\r\n&nbsp;&nbsp;&nbsp;&nbsp;//背景颜色偏移\r\n&nbsp;&nbsp;&nbsp;&nbsp;COLORREF&nbsp;OffsetColor(COLORREF&nbsp;color,int&nbsp;nOffset);\r\n&nbsp;&nbsp;&nbsp;&nbsp;//鼠标离开\r\n&nbsp;&nbsp;&nbsp;&nbsp;LRESULT&nbsp;OnMouseLeave(WPARAM&nbsp;wParam,&nbsp;LPARAM&nbsp;lParam);\r\n&nbsp;&nbsp;&nbsp;&nbsp;DECLARE_MESSAGE_MAP()\r\n};\r\n/////////////////////////////////////////////////////////////////////////////\r\n//{{AFX_INSERT_LOCATION}}\r\n//&nbsp;Microsoft&nbsp;Visual&nbsp;C++&nbsp;will&nbsp;insert&nbsp;additional&nbsp;declarations&nbsp;immediately&nbsp;before&nbsp;the&nbsp;previous&nbsp;line.\r\n#endif&nbsp;//&nbsp;!defined(AFX_BUTTONST_H__1271FF9C_E28C_4D3B_B429_AFE65924A5D0__INCLUDED_)</pre><p><br/></p><p><span style=\"background-color: rgb(79, 129, 189); color: rgb(255, 255, 255);\"><strong>CButtonST.cpp文件-----------------------------------------------------------</strong></span></p><p><strong><br/></strong></p><p><br/></p><pre class=\"brush:cpp;toolbar:false\">//&nbsp;ButtonST.cpp&nbsp;:&nbsp;implementation&nbsp;file\r\n//\r\n#include&nbsp;&quot;stdafx.h&quot;\r\n#include&nbsp;&quot;ButtonST.h&quot;\r\n#ifdef&nbsp;_DEBUG\r\n#define&nbsp;new&nbsp;DEBUG_NEW\r\n#undef&nbsp;THIS_FILE\r\nstatic&nbsp;char&nbsp;THIS_FILE[]&nbsp;=&nbsp;__FILE__;\r\n#endif\r\n#define&nbsp;BS_TYPEMASK&nbsp;SS_TYPEMASK\r\n/////////////////////////////////////////////////////////////////////////////\r\n//&nbsp;CButtonST\r\nCButtonST::CButtonST()\r\n{&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;m_IsPressed&nbsp;=&nbsp;FALSE;\r\n&nbsp;&nbsp;&nbsp;&nbsp;m_BkColor&nbsp;=&nbsp;RGB(216,233,216);\r\n&nbsp;&nbsp;&nbsp;&nbsp;m_nShOffset&nbsp;=&nbsp;30;\r\n&nbsp;&nbsp;&nbsp;&nbsp;m_TextColor&nbsp;=&nbsp;RGB(0,0,0);\r\n&nbsp;&nbsp;&nbsp;&nbsp;m_strURL&nbsp;=&nbsp;&quot;&quot;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;m_pBitMapBK&nbsp;=&nbsp;NULL;\r\n}\r\nCButtonST::~CButtonST()\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(m_pBitMapBK!=NULL)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delete&nbsp;m_pBitMapBK;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_pBitMapBK&nbsp;=&nbsp;NULL;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}\r\nBEGIN_MESSAGE_MAP(CButtonST,&nbsp;CButton)\r\n&nbsp;&nbsp;&nbsp;&nbsp;//{{AFX_MSG_MAP(CButtonST)\r\n&nbsp;&nbsp;&nbsp;&nbsp;ON_WM_MOUSEMOVE()\r\n&nbsp;&nbsp;&nbsp;&nbsp;ON_WM_NCACTIVATE()\r\n&nbsp;&nbsp;&nbsp;&nbsp;ON_WM_NCMOUSEMOVE()\r\n&nbsp;&nbsp;&nbsp;&nbsp;ON_WM_KILLFOCUS()\r\n&nbsp;&nbsp;&nbsp;&nbsp;ON_MESSAGE(WM_MOUSELEAVE,&nbsp;OnMouseLeave)\r\n&nbsp;&nbsp;&nbsp;&nbsp;ON_WM_LBUTTONDOWN()\r\n&nbsp;&nbsp;&nbsp;&nbsp;//}}AFX_MSG_MAP\r\nEND_MESSAGE_MAP()\r\n/////////////////////////////////////////////////////////////////////////////\r\n//&nbsp;CButtonST&nbsp;message&nbsp;handlers\r\n//设置背景颜色\r\nvoid&nbsp;CButtonST::SetBkColor(COLORREF&nbsp;BkColor)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;m_BkColor&nbsp;=&nbsp;BkColor;\r\n&nbsp;&nbsp;&nbsp;&nbsp;this-&gt;Invalidate();\r\n}\r\n//设置鼠标在按钮上的偏移颜色\r\nvoid&nbsp;CButtonST::SetShOffset(int&nbsp;nShOffset)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;m_nShOffset&nbsp;=&nbsp;nShOffset;\r\n&nbsp;&nbsp;&nbsp;&nbsp;this-&gt;Invalidate();\r\n}\r\n//设置字体颜色\r\nvoid&nbsp;CButtonST::SetTextColor(COLORREF&nbsp;TextColor)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;m_TextColor&nbsp;=&nbsp;TextColor;\r\n&nbsp;&nbsp;&nbsp;&nbsp;this-&gt;Invalidate();\r\n}\r\n//设置网页链接\r\nvoid&nbsp;CButtonST::SetURL(CString&nbsp;strURL)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;m_strURL&nbsp;=&nbsp;strURL;\r\n}\r\n//设置背景图片\r\nvoid&nbsp;CButtonST::SetBkPicture(CBitmap&nbsp;*pBitMap)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(m_pBitMapBK==pBitMap)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(m_pBitMapBK!=NULL)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delete&nbsp;m_pBitMapBK;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_pBitMapBK&nbsp;=&nbsp;pBitMap;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;m_pBitMapBK&nbsp;=&nbsp;pBitMap;\r\n&nbsp;&nbsp;&nbsp;&nbsp;this-&gt;Invalidate();\r\n}\r\n//背景颜色偏移\r\nCOLORREF&nbsp;CButtonST::OffsetColor(COLORREF&nbsp;color,int&nbsp;nOffset)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;BYTE&nbsp;&nbsp;&nbsp;&nbsp;byRed&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;BYTE&nbsp;&nbsp;&nbsp;&nbsp;byGreen&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;BYTE&nbsp;&nbsp;&nbsp;&nbsp;byBlue&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;short&nbsp;&nbsp;&nbsp;shOffsetR&nbsp;=&nbsp;nOffset;\r\n&nbsp;&nbsp;&nbsp;&nbsp;short&nbsp;&nbsp;&nbsp;shOffsetG&nbsp;=&nbsp;nOffset;\r\n&nbsp;&nbsp;&nbsp;&nbsp;short&nbsp;&nbsp;&nbsp;shOffsetB&nbsp;=&nbsp;nOffset;\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(nOffset&nbsp;&lt;&nbsp;-255&nbsp;||&nbsp;nOffset&nbsp;&gt;&nbsp;255)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nOffset&nbsp;=&nbsp;30;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Get&nbsp;RGB&nbsp;components&nbsp;of&nbsp;specified&nbsp;color\r\n&nbsp;&nbsp;&nbsp;&nbsp;byRed&nbsp;=&nbsp;GetRValue(color);\r\n&nbsp;&nbsp;&nbsp;&nbsp;byGreen&nbsp;=&nbsp;GetGValue(color);\r\n&nbsp;&nbsp;&nbsp;&nbsp;byBlue&nbsp;=&nbsp;GetBValue(color);\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Calculate&nbsp;max.&nbsp;allowed&nbsp;real&nbsp;offset\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(nOffset&nbsp;&gt;&nbsp;0)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(byRed&nbsp;+&nbsp;nOffset&nbsp;&gt;&nbsp;255)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shOffsetR&nbsp;=&nbsp;255&nbsp;-&nbsp;byRed;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(byGreen&nbsp;+&nbsp;nOffset&nbsp;&gt;&nbsp;255)&nbsp;&nbsp;&nbsp;&nbsp;shOffsetG&nbsp;=&nbsp;255&nbsp;-&nbsp;byGreen;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(byBlue&nbsp;+&nbsp;nOffset&nbsp;&gt;&nbsp;255)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shOffsetB&nbsp;=&nbsp;255&nbsp;-&nbsp;byBlue;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nOffset&nbsp;=&nbsp;min(min(shOffsetR,&nbsp;shOffsetG),&nbsp;shOffsetB);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(byRed&nbsp;+&nbsp;nOffset&nbsp;&lt;&nbsp;0)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shOffsetR&nbsp;=&nbsp;-byRed;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(byGreen&nbsp;+&nbsp;nOffset&nbsp;&lt;&nbsp;0)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shOffsetG&nbsp;=&nbsp;-byGreen;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(byBlue&nbsp;+&nbsp;nOffset&nbsp;&lt;&nbsp;0)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shOffsetB&nbsp;=&nbsp;-byBlue;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nOffset&nbsp;=&nbsp;max(max(shOffsetR,&nbsp;shOffsetG),&nbsp;shOffsetB);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;r,g,b;\r\n&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;=&nbsp;byRed&nbsp;+&nbsp;nOffset;\r\n&nbsp;&nbsp;&nbsp;&nbsp;g&nbsp;=byGreen&nbsp;+&nbsp;nOffset;\r\n&nbsp;&nbsp;&nbsp;&nbsp;b&nbsp;=byBlue&nbsp;+&nbsp;nOffset;\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;RGB(r,g,b);\r\n}\r\nvoid&nbsp;CButtonST::DrawItem1(LPDRAWITEMSTRUCT&nbsp;lpDrawItemStruct)&nbsp;\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;TODO:&nbsp;Add&nbsp;your&nbsp;code&nbsp;to&nbsp;draw&nbsp;the&nbsp;specified&nbsp;item&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CDC*&nbsp;pDC&nbsp;=&nbsp;CDC::FromHandle(lpDrawItemStruct-&gt;hDC);\r\n&nbsp;&nbsp;&nbsp;&nbsp;CRect&nbsp;rect&nbsp;=&nbsp;lpDrawItemStruct-&gt;rcItem;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CRect&nbsp;offRect&nbsp;=&nbsp;rect;\r\n&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;ndist&nbsp;=&nbsp;2;\r\n&nbsp;&nbsp;&nbsp;&nbsp;offRect.left+=&nbsp;ndist;\r\n&nbsp;&nbsp;&nbsp;&nbsp;offRect.right&nbsp;-=ndist;\r\n&nbsp;&nbsp;&nbsp;&nbsp;offRect.top&nbsp;+=&nbsp;ndist;\r\n&nbsp;&nbsp;&nbsp;&nbsp;offRect.bottom&nbsp;-=ndist;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;pDC-&gt;SetBkMode(TRANSPARENT);\r\n&nbsp;&nbsp;&nbsp;&nbsp;pDC-&gt;SetTextColor(m_TextColor);\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//绘制背景\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(m_pBitMapBK!=NULL)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDC*&nbsp;pNewDC&nbsp;=&nbsp;new&nbsp;CDC;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pNewDC-&gt;CreateCompatibleDC(pDC);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pNewDC-&gt;SelectObject(m_pBitMapBK);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BITMAP&nbsp;&nbsp;&nbsp;bmp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_pBitMapBK-&gt;GetBitmap(&amp;bmp);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(m_IsPressed)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pDC-&gt;StretchBlt(0,0,rect.Width(),rect.Height(),pNewDC,0,0,bmp.bmWidth,bmp.bmHeight,SRCCOPY);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CBrush&nbsp;brush(RGB(220,220,220));//RGB(m_nShOffset,m_nShOffset,m_nShOffset));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pDC-&gt;FillRect(&amp;rect,&amp;brush);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pDC-&gt;StretchBlt(0,0,rect.Width(),rect.Height(),pNewDC,0,0,bmp.bmWidth,bmp.bmHeight,SRCAND);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delete&nbsp;pNewDC;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pNewDC&nbsp;=&nbsp;NULL;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(m_IsPressed)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CBrush&nbsp;brush(OffsetColor(m_BkColor,m_nShOffset));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pDC-&gt;FillRect(rect,&amp;brush);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CBrush&nbsp;brush1(RGB(128,128,128));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pDC-&gt;FrameRect(rect,&amp;brush1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pDC-&gt;FrameRect(offRect,&amp;brush1);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CBrush&nbsp;brush(m_BkColor);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pDC-&gt;FillRect(rect,&amp;brush);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CBrush&nbsp;brush1(RGB(128,128,128));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pDC-&gt;FrameRect(offRect,&amp;brush1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CString&nbsp;sTitle;\r\n&nbsp;&nbsp;&nbsp;&nbsp;GetWindowText(sTitle);\r\n&nbsp;&nbsp;&nbsp;&nbsp;offRect.OffsetRect(0,rect.Height()/2-8);\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;pDC-&gt;DrawText(sTitle,&nbsp;sTitle.GetLength(),offRect,&nbsp;DT_WORDBREAK&nbsp;|&nbsp;DT_CENTER);\r\n&nbsp;&nbsp;&nbsp;&nbsp;pDC-&gt;DrawText(sTitle,&nbsp;sTitle.GetLength(),offRect,&nbsp;DT_WORDBREAK|DT_CENTER);\r\n}\r\nvoid&nbsp;CButtonST::DrawItem(LPDRAWITEMSTRUCT&nbsp;lpDrawItemStruct)&nbsp;\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;TODO:&nbsp;Add&nbsp;your&nbsp;code&nbsp;to&nbsp;draw&nbsp;the&nbsp;specified&nbsp;item&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;DrawItem1(lpDrawItemStruct);\r\n&nbsp;&nbsp;&nbsp;&nbsp;return;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CDC*&nbsp;pDC&nbsp;=&nbsp;CDC::FromHandle(lpDrawItemStruct-&gt;hDC);\r\n&nbsp;&nbsp;&nbsp;&nbsp;CRect&nbsp;rect&nbsp;=&nbsp;lpDrawItemStruct-&gt;rcItem;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CRect&nbsp;offRect&nbsp;=&nbsp;rect;\r\n&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;ndist&nbsp;=&nbsp;2;\r\n&nbsp;&nbsp;&nbsp;&nbsp;offRect.left+=&nbsp;ndist;\r\n&nbsp;&nbsp;&nbsp;&nbsp;offRect.right&nbsp;-=ndist;\r\n&nbsp;&nbsp;&nbsp;&nbsp;offRect.top&nbsp;+=&nbsp;ndist;\r\n&nbsp;&nbsp;&nbsp;&nbsp;offRect.bottom&nbsp;-=ndist;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CDC*&nbsp;pResetDC=new&nbsp;CDC();\r\n&nbsp;&nbsp;&nbsp;&nbsp;pResetDC-&gt;CreateCompatibleDC(pDC);\r\n&nbsp;&nbsp;&nbsp;&nbsp;CBitmap&nbsp;bitmap;\r\n&nbsp;&nbsp;&nbsp;&nbsp;bitmap.CreateCompatibleBitmap(pDC,rect.Width(),rect.Height());\r\n&nbsp;&nbsp;&nbsp;&nbsp;pResetDC-&gt;SelectObject(&amp;bitmap);\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;pResetDC-&gt;SetBkMode(TRANSPARENT);\r\n&nbsp;&nbsp;&nbsp;&nbsp;pResetDC-&gt;SetTextColor(m_TextColor);\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//绘制背景\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(m_pBitMapBK!=NULL)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDC*&nbsp;pNewDC&nbsp;=&nbsp;new&nbsp;CDC;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pNewDC-&gt;CreateCompatibleDC(pResetDC);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pNewDC-&gt;SelectObject(m_pBitMapBK);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BITMAP&nbsp;&nbsp;&nbsp;bmp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_pBitMapBK-&gt;GetBitmap(&amp;bmp);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(m_IsPressed)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pResetDC-&gt;StretchBlt(0,0,rect.Width(),rect.Height(),pNewDC,0,0,bmp.bmWidth,bmp.bmHeight,SRCCOPY);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CBrush&nbsp;brush(RGB(220,220,220));//RGB(m_nShOffset,m_nShOffset,m_nShOffset));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pResetDC-&gt;FillRect(&amp;rect,&amp;brush);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pResetDC-&gt;StretchBlt(0,0,rect.Width(),rect.Height(),pNewDC,0,0,bmp.bmWidth,bmp.bmHeight,SRCAND);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delete&nbsp;pNewDC;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pNewDC&nbsp;=&nbsp;NULL;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(m_IsPressed)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CBrush&nbsp;brush(OffsetColor(m_BkColor,m_nShOffset));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pResetDC-&gt;FillRect(rect,&amp;brush);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CBrush&nbsp;brush1(RGB(128,128,128));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pResetDC-&gt;FrameRect(rect,&amp;brush1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pResetDC-&gt;FrameRect(offRect,&amp;brush1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CBrush&nbsp;brush(m_BkColor);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pResetDC-&gt;FillRect(rect,&amp;brush);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CBrush&nbsp;brush1(RGB(128,128,128));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pResetDC-&gt;FrameRect(offRect,&amp;brush1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CString&nbsp;sTitle;\r\n&nbsp;&nbsp;&nbsp;&nbsp;GetWindowText(sTitle);\r\n&nbsp;&nbsp;&nbsp;&nbsp;offRect.OffsetRect(0,rect.Height()/2-8);\r\n//&nbsp;&nbsp;pDC-&gt;DrawText(sTitle,&nbsp;sTitle.GetLength(),offRect,&nbsp;DT_WORDBREAK&nbsp;|&nbsp;DT_CENTER);\r\n&nbsp;&nbsp;&nbsp;&nbsp;pResetDC-&gt;DrawText(sTitle,&nbsp;sTitle.GetLength(),offRect,&nbsp;DT_CENTER);\r\n&nbsp;&nbsp;&nbsp;&nbsp;pDC-&gt;StretchBlt(0,0,rect.Width(),rect.Height(),pResetDC,0,0,rect.Width(),rect.Height(),SRCCOPY);\r\n&nbsp;&nbsp;&nbsp;&nbsp;delete&nbsp;pResetDC;\r\n}\r\nvoid&nbsp;CButtonST::OnMouseMove(UINT&nbsp;nFlags,&nbsp;CPoint&nbsp;point)&nbsp;\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;TODO:&nbsp;Add&nbsp;your&nbsp;message&nbsp;handler&nbsp;code&nbsp;here&nbsp;and/or&nbsp;call&nbsp;default\r\n&nbsp;&nbsp;&nbsp;&nbsp;TRACKMOUSEEVENT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;csTME;\r\n&nbsp;&nbsp;&nbsp;&nbsp;csTME.cbSize&nbsp;=&nbsp;sizeof(csTME);\r\n&nbsp;&nbsp;&nbsp;&nbsp;csTME.dwFlags&nbsp;=&nbsp;TME_LEAVE;\r\n&nbsp;&nbsp;&nbsp;&nbsp;csTME.hwndTrack&nbsp;=&nbsp;m_hWnd;\r\n&nbsp;&nbsp;&nbsp;&nbsp;::_TrackMouseEvent(&amp;csTME);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(m_IsPressed==FALSE)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_IsPressed&nbsp;=&nbsp;TRUE;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this-&gt;Invalidate();\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CButton::OnMouseMove(nFlags,&nbsp;point);\r\n}\r\nBOOL&nbsp;CButtonST::OnNcActivate(BOOL&nbsp;bActive)&nbsp;\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;TODO:&nbsp;Add&nbsp;your&nbsp;message&nbsp;handler&nbsp;code&nbsp;here&nbsp;and/or&nbsp;call&nbsp;default\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;CButton::OnNcActivate(bActive);\r\n}\r\nvoid&nbsp;CButtonST::OnNcMouseMove(UINT&nbsp;nHitTest,&nbsp;CPoint&nbsp;point)&nbsp;\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;TODO:&nbsp;Add&nbsp;your&nbsp;message&nbsp;handler&nbsp;code&nbsp;here&nbsp;and/or&nbsp;call&nbsp;default\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CButton::OnNcMouseMove(nHitTest,&nbsp;point);\r\n}\r\nvoid&nbsp;CButtonST::OnKillFocus(CWnd*&nbsp;pNewWnd)&nbsp;\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;CButton::OnKillFocus(pNewWnd);&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;TODO:&nbsp;Add&nbsp;your&nbsp;message&nbsp;handler&nbsp;code&nbsp;here\r\n}\r\nLRESULT&nbsp;CButtonST::OnMouseLeave(WPARAM&nbsp;wParam,&nbsp;LPARAM&nbsp;lParam)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;m_IsPressed&nbsp;=&nbsp;FALSE;\r\n&nbsp;&nbsp;&nbsp;&nbsp;this-&gt;Invalidate();\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;0;\r\n}&nbsp;//&nbsp;End&nbsp;of&nbsp;OnMouseLeave\r\nBOOL&nbsp;CButtonST::Create(LPCTSTR&nbsp;lpszClassName,&nbsp;LPCTSTR&nbsp;lpszWindowName,&nbsp;DWORD&nbsp;dwStyle,&nbsp;const&nbsp;RECT&amp;&nbsp;rect,&nbsp;CWnd*&nbsp;pParentWnd,&nbsp;UINT&nbsp;nID,&nbsp;CCreateContext*&nbsp;pContext)&nbsp;\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;TODO:&nbsp;Add&nbsp;your&nbsp;specialized&nbsp;code&nbsp;here&nbsp;and/or&nbsp;call&nbsp;the&nbsp;base&nbsp;class&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;dwStyle&nbsp;|=&nbsp;BS_OWNERDRAW;\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;CWnd::Create(lpszClassName,&nbsp;lpszWindowName,&nbsp;dwStyle,&nbsp;rect,&nbsp;pParentWnd,&nbsp;nID,&nbsp;pContext);\r\n}\r\nvoid&nbsp;CButtonST::OnLButtonDown(UINT&nbsp;nFlags,&nbsp;CPoint&nbsp;point)&nbsp;\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;TODO:&nbsp;Add&nbsp;your&nbsp;message&nbsp;handler&nbsp;code&nbsp;here&nbsp;and/or&nbsp;call&nbsp;default\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(m_strURL.IsEmpty()==FALSE)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SHELLEXECUTEINFO&nbsp;&nbsp;&nbsp;&nbsp;csSEI;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;memset(&amp;csSEI,&nbsp;0,&nbsp;sizeof(csSEI));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;csSEI.cbSize&nbsp;=&nbsp;sizeof(SHELLEXECUTEINFO);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;csSEI.fMask&nbsp;=&nbsp;SEE_MASK_FLAG_NO_UI;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;csSEI.lpVerb&nbsp;=&nbsp;_T(&quot;open&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;csSEI.lpFile&nbsp;=&nbsp;m_strURL;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;csSEI.nShow&nbsp;=&nbsp;SW_SHOWMAXIMIZED;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::ShellExecuteEx(&amp;csSEI);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;CButton::OnLButtonDown(nFlags,&nbsp;point);\r\n}\r\nBOOL&nbsp;CButtonST::PreCreateWindow(CREATESTRUCT&amp;&nbsp;cs)&nbsp;\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;TODO:&nbsp;Add&nbsp;your&nbsp;specialized&nbsp;code&nbsp;here&nbsp;and/or&nbsp;call&nbsp;the&nbsp;base&nbsp;class\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;CButton::PreCreateWindow(cs);\r\n}\r\nvoid&nbsp;CButtonST::PreSubclassWindow()&nbsp;\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;TODO:&nbsp;Add&nbsp;your&nbsp;specialized&nbsp;code&nbsp;here&nbsp;and/or&nbsp;call&nbsp;the&nbsp;base&nbsp;class\r\n&nbsp;&nbsp;&nbsp;&nbsp;ModifyStyle(BS_TYPEMASK,&nbsp;BS_OWNERDRAW,&nbsp;SWP_FRAMECHANGED);&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CButton::PreSubclassWindow();\r\n}</pre><p><span style=\"font-size: 12px;\"></span><br/></p><p><br/></p>','2014-03-31 08:08:55','2014-06-27 11:13:29'),(537,'59.36.47.222',1,'CButtonCKB 重载按钮为checkbox','<p><span style=\"background-color: rgb(79, 129, 189); color: rgb(255, 255, 255);\">CButtonCKB.h头文件 ---------------------------------------------------</span></p><p><br/></p><pre class=\"brush:cpp;toolbar:false\">#if&nbsp;!defined(AFX_BUTTONST_H__1271FF9C_E28C_4D3B_B429_AFE65924A5D0__INCLUDED_)\r\n#define&nbsp;AFX_BUTTONST_H__1271FF9C_E28C_4D3B_B429_AFE65924A5D0__INCLUDED_\r\n#if&nbsp;_MSC_VER&nbsp;&gt;&nbsp;1000\r\n#pragma&nbsp;once\r\n#endif&nbsp;//&nbsp;_MSC_VER&nbsp;&gt;&nbsp;1000\r\n//&nbsp;ButtonCKB.h&nbsp;:&nbsp;header&nbsp;file\r\n//\r\n/////////////////////////////////////////////////////////////////////////////\r\n//&nbsp;CButtonCKB&nbsp;window\r\nclass&nbsp;CButtonCKB&nbsp;:&nbsp;public&nbsp;CButton\r\n{\r\nprivate:\r\nBOOL&nbsp;_bState;\r\n//&nbsp;Construction\r\npublic:\r\n&nbsp;&nbsp;&nbsp;&nbsp;CButtonCKB();\r\n//&nbsp;Attributes\r\npublic:\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n//&nbsp;Operations\r\npublic:\r\n&nbsp;&nbsp;&nbsp;&nbsp;//设置背景颜色\r\n&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;SetBkColor(COLORREF&nbsp;BkColor);\r\n&nbsp;&nbsp;&nbsp;&nbsp;//设置鼠标在按钮上的偏移颜色\r\n&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;SetShOffset(int&nbsp;nShOffset);\r\n&nbsp;&nbsp;&nbsp;&nbsp;//设置字体颜色\r\n&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;SetTextColor(COLORREF&nbsp;TextColor);\r\n&nbsp;&nbsp;&nbsp;&nbsp;//设置背景图片\r\n&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;SetBkPicture(CBitmap&nbsp;*pBitMap);\r\n//&nbsp;Overrides\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;ClassWizard&nbsp;generated&nbsp;virtual&nbsp;function&nbsp;overrides\r\n&nbsp;&nbsp;&nbsp;&nbsp;//{{AFX_VIRTUAL(CButtonCKB)\r\n&nbsp;&nbsp;&nbsp;&nbsp;public:\r\n&nbsp;&nbsp;&nbsp;&nbsp;virtual&nbsp;void&nbsp;DrawItem(LPDRAWITEMSTRUCT&nbsp;lpDrawItemStruct);\r\n&nbsp;&nbsp;&nbsp;&nbsp;virtual&nbsp;BOOL&nbsp;Create(LPCTSTR&nbsp;lpszClassName,&nbsp;LPCTSTR&nbsp;lpszWindowName,&nbsp;DWORD&nbsp;dwStyle,&nbsp;const&nbsp;RECT&amp;&nbsp;rect,&nbsp;CWnd*&nbsp;pParentWnd,&nbsp;UINT&nbsp;nID,&nbsp;CCreateContext*&nbsp;pContext&nbsp;=&nbsp;NULL);\r\n&nbsp;&nbsp;&nbsp;&nbsp;protected:\r\n&nbsp;&nbsp;&nbsp;&nbsp;virtual&nbsp;BOOL&nbsp;PreCreateWindow(CREATESTRUCT&amp;&nbsp;cs);\r\n&nbsp;&nbsp;&nbsp;&nbsp;virtual&nbsp;void&nbsp;PreSubclassWindow();\r\n&nbsp;&nbsp;&nbsp;&nbsp;//}}AFX_VIRTUAL\r\n//&nbsp;Implementation\r\npublic:\r\n&nbsp;&nbsp;&nbsp;&nbsp;virtual&nbsp;~CButtonCKB();\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;DrawItem1(LPDRAWITEMSTRUCT&nbsp;lpDrawItemStruct);\r\n	void&nbsp;SetState(BOOL&nbsp;b);\r\n	BOOL&nbsp;GetState();\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Generated&nbsp;message&nbsp;map&nbsp;functions\r\nprotected:\r\n&nbsp;&nbsp;&nbsp;&nbsp;//{{AFX_MSG(CButtonCKB)\r\n&nbsp;&nbsp;&nbsp;&nbsp;afx_msg&nbsp;void&nbsp;OnMouseMove(UINT&nbsp;nFlags,&nbsp;CPoint&nbsp;point);\r\n&nbsp;&nbsp;&nbsp;&nbsp;afx_msg&nbsp;BOOL&nbsp;OnNcActivate(BOOL&nbsp;bActive);\r\n&nbsp;&nbsp;&nbsp;&nbsp;afx_msg&nbsp;void&nbsp;OnNcMouseMove(UINT&nbsp;nHitTest,&nbsp;CPoint&nbsp;point);\r\n&nbsp;&nbsp;&nbsp;&nbsp;afx_msg&nbsp;void&nbsp;OnKillFocus(CWnd*&nbsp;pNewWnd);\r\n&nbsp;&nbsp;&nbsp;&nbsp;afx_msg&nbsp;void&nbsp;OnLButtonDown(UINT&nbsp;nFlags,&nbsp;CPoint&nbsp;point);\r\n&nbsp;&nbsp;&nbsp;&nbsp;//}}AFX_MSG\r\nprotected:\r\n&nbsp;&nbsp;&nbsp;&nbsp;//鼠标是否在按钮上面\r\n&nbsp;&nbsp;&nbsp;&nbsp;BOOL&nbsp;m_IsPressed;\r\n&nbsp;&nbsp;&nbsp;&nbsp;COLORREF&nbsp;m_BkColor;\r\n&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_nShOffset;\r\n&nbsp;&nbsp;&nbsp;&nbsp;COLORREF&nbsp;m_TextColor;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CBitmap&nbsp;&nbsp;*m_pBitMapBK;\r\nprotected:\r\n&nbsp;&nbsp;&nbsp;&nbsp;//背景颜色偏移\r\n&nbsp;&nbsp;&nbsp;&nbsp;COLORREF&nbsp;OffsetColor(COLORREF&nbsp;color,int&nbsp;nOffset);\r\n&nbsp;&nbsp;&nbsp;&nbsp;//鼠标离开\r\n&nbsp;&nbsp;&nbsp;&nbsp;LRESULT&nbsp;OnMouseLeave(WPARAM&nbsp;wParam,&nbsp;LPARAM&nbsp;lParam);\r\n&nbsp;&nbsp;&nbsp;&nbsp;DECLARE_MESSAGE_MAP()\r\n};\r\n/////////////////////////////////////////////////////////////////////////////\r\n//{{AFX_INSERT_LOCATION}}\r\n//&nbsp;Microsoft&nbsp;Visual&nbsp;C++&nbsp;will&nbsp;insert&nbsp;additional&nbsp;declarations&nbsp;immediately&nbsp;before&nbsp;the&nbsp;previous&nbsp;line.\r\n#endif&nbsp;//&nbsp;!defined(AFX_BUTTONST_H__1271FF9C_E28C_4D3B_B429_AFE65924A5D0__INCLUDED_)</pre><p><br/></p><p><span style=\"color: rgb(255, 255, 255);  background-color: rgb(79, 129, 189);\">CButtonCKB.cpp文件 ---------------------------------------------------</span></p><pre class=\"brush:cpp;toolbar:false\">//&nbsp;ButtonCKB.cpp&nbsp;:&nbsp;implementation&nbsp;file\r\n//\r\n#include&nbsp;&quot;stdafx.h&quot;\r\n#include&nbsp;&quot;CButtonCKB.h&quot;\r\n#ifdef&nbsp;_DEBUG\r\n#define&nbsp;new&nbsp;DEBUG_NEW\r\n#undef&nbsp;THIS_FILE\r\nstatic&nbsp;char&nbsp;THIS_FILE[]&nbsp;=&nbsp;__FILE__;\r\n#endif\r\n\r\n#define&nbsp;BS_TYPEMASK			SS_TYPEMASK\r\n#define&nbsp;UNSELECT_BG_COLOR		RGB(216,233,216)\r\n#define&nbsp;UNSELECT_TEXT_COLOR		RGB(0,0,0)\r\n#define&nbsp;SELECT_BG_COLOR			RGB(255,0,0)\r\n#define&nbsp;SELECT_TEXT_COLOR		RGB(255,255,255)\r\n/////////////////////////////////////////////////////////////////////////////\r\n//&nbsp;CButtonCKB\r\nCButtonCKB::CButtonCKB()\r\n{&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;m_IsPressed&nbsp;=&nbsp;FALSE;\r\n&nbsp;&nbsp;&nbsp;&nbsp;m_BkColor&nbsp;=&nbsp;UNSELECT_BG_COLOR;\r\n&nbsp;&nbsp;&nbsp;&nbsp;m_nShOffset&nbsp;=&nbsp;30;\r\n&nbsp;&nbsp;&nbsp;&nbsp;m_TextColor&nbsp;=&nbsp;UNSELECT_TEXT_COLOR;\r\n&nbsp;&nbsp;&nbsp;&nbsp;m_pBitMapBK&nbsp;=&nbsp;NULL;\r\n_bState=FALSE;\r\n}\r\nCButtonCKB::~CButtonCKB()\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(m_pBitMapBK!=NULL)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delete&nbsp;m_pBitMapBK;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_pBitMapBK&nbsp;=&nbsp;NULL;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}\r\nBEGIN_MESSAGE_MAP(CButtonCKB,&nbsp;CButton)\r\n&nbsp;&nbsp;&nbsp;&nbsp;//{{AFX_MSG_MAP(CButtonCKB)\r\n&nbsp;&nbsp;&nbsp;&nbsp;ON_WM_MOUSEMOVE()\r\n&nbsp;&nbsp;&nbsp;&nbsp;ON_WM_NCACTIVATE()\r\n&nbsp;&nbsp;&nbsp;&nbsp;ON_WM_NCMOUSEMOVE()\r\n&nbsp;&nbsp;&nbsp;&nbsp;ON_WM_KILLFOCUS()\r\n&nbsp;&nbsp;&nbsp;&nbsp;ON_MESSAGE(WM_MOUSELEAVE,&nbsp;OnMouseLeave)\r\n&nbsp;&nbsp;&nbsp;&nbsp;ON_WM_LBUTTONDOWN()\r\n&nbsp;&nbsp;&nbsp;&nbsp;//}}AFX_MSG_MAP\r\nEND_MESSAGE_MAP()\r\n/////////////////////////////////////////////////////////////////////////////\r\n//&nbsp;CButtonCKB&nbsp;message&nbsp;handlers\r\n//设置背景颜色\r\nvoid&nbsp;CButtonCKB::SetBkColor(COLORREF&nbsp;BkColor)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;m_BkColor&nbsp;=&nbsp;BkColor;\r\n&nbsp;&nbsp;&nbsp;&nbsp;this-&gt;Invalidate();\r\n}\r\n//设置鼠标在按钮上的偏移颜色\r\nvoid&nbsp;CButtonCKB::SetShOffset(int&nbsp;nShOffset)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;m_nShOffset&nbsp;=&nbsp;nShOffset;\r\n&nbsp;&nbsp;&nbsp;&nbsp;this-&gt;Invalidate();\r\n}\r\n//设置字体颜色\r\nvoid&nbsp;CButtonCKB::SetTextColor(COLORREF&nbsp;TextColor)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;m_TextColor&nbsp;=&nbsp;TextColor;\r\n&nbsp;&nbsp;&nbsp;&nbsp;this-&gt;Invalidate();\r\n}\r\n//设置背景图片\r\nvoid&nbsp;CButtonCKB::SetBkPicture(CBitmap&nbsp;*pBitMap)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(m_pBitMapBK==pBitMap)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(m_pBitMapBK!=NULL)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delete&nbsp;m_pBitMapBK;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_pBitMapBK&nbsp;=&nbsp;pBitMap;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;m_pBitMapBK&nbsp;=&nbsp;pBitMap;\r\n&nbsp;&nbsp;&nbsp;&nbsp;this-&gt;Invalidate();\r\n}\r\n//背景颜色偏移\r\nCOLORREF&nbsp;CButtonCKB::OffsetColor(COLORREF&nbsp;color,int&nbsp;nOffset)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;BYTE&nbsp;&nbsp;&nbsp;&nbsp;byRed&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;BYTE&nbsp;&nbsp;&nbsp;&nbsp;byGreen&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;BYTE&nbsp;&nbsp;&nbsp;&nbsp;byBlue&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;short&nbsp;&nbsp;&nbsp;shOffsetR&nbsp;=&nbsp;nOffset;\r\n&nbsp;&nbsp;&nbsp;&nbsp;short&nbsp;&nbsp;&nbsp;shOffsetG&nbsp;=&nbsp;nOffset;\r\n&nbsp;&nbsp;&nbsp;&nbsp;short&nbsp;&nbsp;&nbsp;shOffsetB&nbsp;=&nbsp;nOffset;\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(nOffset&nbsp;&lt;&nbsp;-255&nbsp;||&nbsp;nOffset&nbsp;&gt;&nbsp;255)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nOffset&nbsp;=&nbsp;30;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Get&nbsp;RGB&nbsp;components&nbsp;of&nbsp;specified&nbsp;color\r\n&nbsp;&nbsp;&nbsp;&nbsp;byRed&nbsp;=&nbsp;GetRValue(color);\r\n&nbsp;&nbsp;&nbsp;&nbsp;byGreen&nbsp;=&nbsp;GetGValue(color);\r\n&nbsp;&nbsp;&nbsp;&nbsp;byBlue&nbsp;=&nbsp;GetBValue(color);\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Calculate&nbsp;max.&nbsp;allowed&nbsp;real&nbsp;offset\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(nOffset&nbsp;&gt;&nbsp;0)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(byRed&nbsp;+&nbsp;nOffset&nbsp;&gt;&nbsp;255)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shOffsetR&nbsp;=&nbsp;255&nbsp;-&nbsp;byRed;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(byGreen&nbsp;+&nbsp;nOffset&nbsp;&gt;&nbsp;255)&nbsp;&nbsp;&nbsp;&nbsp;shOffsetG&nbsp;=&nbsp;255&nbsp;-&nbsp;byGreen;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(byBlue&nbsp;+&nbsp;nOffset&nbsp;&gt;&nbsp;255)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shOffsetB&nbsp;=&nbsp;255&nbsp;-&nbsp;byBlue;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nOffset&nbsp;=&nbsp;min(min(shOffsetR,&nbsp;shOffsetG),&nbsp;shOffsetB);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(byRed&nbsp;+&nbsp;nOffset&nbsp;&lt;&nbsp;0)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shOffsetR&nbsp;=&nbsp;-byRed;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(byGreen&nbsp;+&nbsp;nOffset&nbsp;&lt;&nbsp;0)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shOffsetG&nbsp;=&nbsp;-byGreen;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(byBlue&nbsp;+&nbsp;nOffset&nbsp;&lt;&nbsp;0)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shOffsetB&nbsp;=&nbsp;-byBlue;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nOffset&nbsp;=&nbsp;max(max(shOffsetR,&nbsp;shOffsetG),&nbsp;shOffsetB);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;r,g,b;\r\n&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;=&nbsp;byRed&nbsp;+&nbsp;nOffset;\r\n&nbsp;&nbsp;&nbsp;&nbsp;g&nbsp;=byGreen&nbsp;+&nbsp;nOffset;\r\n&nbsp;&nbsp;&nbsp;&nbsp;b&nbsp;=byBlue&nbsp;+&nbsp;nOffset;\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;RGB(r,g,b);\r\n}\r\nvoid&nbsp;CButtonCKB::DrawItem1(LPDRAWITEMSTRUCT&nbsp;lpDrawItemStruct)&nbsp;\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;TODO:&nbsp;Add&nbsp;your&nbsp;code&nbsp;to&nbsp;draw&nbsp;the&nbsp;specified&nbsp;item&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CDC*&nbsp;pDC&nbsp;=&nbsp;CDC::FromHandle(lpDrawItemStruct-&gt;hDC);\r\n&nbsp;&nbsp;&nbsp;&nbsp;CRect&nbsp;rect&nbsp;=&nbsp;lpDrawItemStruct-&gt;rcItem;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CRect&nbsp;offRect&nbsp;=&nbsp;rect;\r\n&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;ndist&nbsp;=&nbsp;2;\r\n&nbsp;&nbsp;&nbsp;&nbsp;offRect.left+=&nbsp;ndist;\r\n&nbsp;&nbsp;&nbsp;&nbsp;offRect.right&nbsp;-=ndist;\r\n&nbsp;&nbsp;&nbsp;&nbsp;offRect.top&nbsp;+=&nbsp;ndist;\r\n&nbsp;&nbsp;&nbsp;&nbsp;offRect.bottom&nbsp;-=ndist;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;pDC-&gt;SetBkMode(TRANSPARENT);\r\n&nbsp;&nbsp;&nbsp;&nbsp;pDC-&gt;SetTextColor(m_TextColor);\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//绘制背景\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(m_pBitMapBK!=NULL)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDC*&nbsp;pNewDC&nbsp;=&nbsp;new&nbsp;CDC;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pNewDC-&gt;CreateCompatibleDC(pDC);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pNewDC-&gt;SelectObject(m_pBitMapBK);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BITMAP&nbsp;&nbsp;&nbsp;bmp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_pBitMapBK-&gt;GetBitmap(&amp;bmp);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(m_IsPressed)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pDC-&gt;StretchBlt(0,0,rect.Width(),rect.Height(),pNewDC,0,0,bmp.bmWidth,bmp.bmHeight,SRCCOPY);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CBrush&nbsp;brush(RGB(220,220,220));//RGB(m_nShOffset,m_nShOffset,m_nShOffset));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pDC-&gt;FillRect(&amp;rect,&amp;brush);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pDC-&gt;StretchBlt(0,0,rect.Width(),rect.Height(),pNewDC,0,0,bmp.bmWidth,bmp.bmHeight,SRCAND);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delete&nbsp;pNewDC;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pNewDC&nbsp;=&nbsp;NULL;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(m_IsPressed)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CBrush&nbsp;brush(OffsetColor(m_BkColor,m_nShOffset));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pDC-&gt;FillRect(rect,&amp;brush);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CBrush&nbsp;brush1(RGB(128,128,128));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pDC-&gt;FrameRect(rect,&amp;brush1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pDC-&gt;FrameRect(offRect,&amp;brush1);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CBrush&nbsp;brush(m_BkColor);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pDC-&gt;FillRect(rect,&amp;brush);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CBrush&nbsp;brush1(RGB(128,128,128));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pDC-&gt;FrameRect(offRect,&amp;brush1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CString&nbsp;sTitle;\r\n&nbsp;&nbsp;&nbsp;&nbsp;GetWindowText(sTitle);\r\n&nbsp;&nbsp;&nbsp;&nbsp;offRect.OffsetRect(0,rect.Height()/2-8);\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;pDC-&gt;DrawText(sTitle,&nbsp;sTitle.GetLength(),offRect,&nbsp;DT_WORDBREAK&nbsp;|&nbsp;DT_CENTER);\r\n&nbsp;&nbsp;&nbsp;&nbsp;pDC-&gt;DrawText(sTitle,&nbsp;sTitle.GetLength(),offRect,&nbsp;DT_WORDBREAK|DT_CENTER);\r\n}\r\nvoid&nbsp;CButtonCKB::DrawItem(LPDRAWITEMSTRUCT&nbsp;lpDrawItemStruct)&nbsp;\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;TODO:&nbsp;Add&nbsp;your&nbsp;code&nbsp;to&nbsp;draw&nbsp;the&nbsp;specified&nbsp;item&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;DrawItem1(lpDrawItemStruct);\r\n&nbsp;&nbsp;&nbsp;&nbsp;return;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CDC*&nbsp;pDC&nbsp;=&nbsp;CDC::FromHandle(lpDrawItemStruct-&gt;hDC);\r\n&nbsp;&nbsp;&nbsp;&nbsp;CRect&nbsp;rect&nbsp;=&nbsp;lpDrawItemStruct-&gt;rcItem;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CRect&nbsp;offRect&nbsp;=&nbsp;rect;\r\n&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;ndist&nbsp;=&nbsp;2;\r\n&nbsp;&nbsp;&nbsp;&nbsp;offRect.left+=&nbsp;ndist;\r\n&nbsp;&nbsp;&nbsp;&nbsp;offRect.right&nbsp;-=ndist;\r\n&nbsp;&nbsp;&nbsp;&nbsp;offRect.top&nbsp;+=&nbsp;ndist;\r\n&nbsp;&nbsp;&nbsp;&nbsp;offRect.bottom&nbsp;-=ndist;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CDC*&nbsp;pResetDC=new&nbsp;CDC();\r\n&nbsp;&nbsp;&nbsp;&nbsp;pResetDC-&gt;CreateCompatibleDC(pDC);\r\n&nbsp;&nbsp;&nbsp;&nbsp;CBitmap&nbsp;bitmap;\r\n&nbsp;&nbsp;&nbsp;&nbsp;bitmap.CreateCompatibleBitmap(pDC,rect.Width(),rect.Height());\r\n&nbsp;&nbsp;&nbsp;&nbsp;pResetDC-&gt;SelectObject(&amp;bitmap);\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;pResetDC-&gt;SetBkMode(TRANSPARENT);\r\n&nbsp;&nbsp;&nbsp;&nbsp;pResetDC-&gt;SetTextColor(m_TextColor);\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//绘制背景\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(m_pBitMapBK!=NULL)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDC*&nbsp;pNewDC&nbsp;=&nbsp;new&nbsp;CDC;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pNewDC-&gt;CreateCompatibleDC(pResetDC);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pNewDC-&gt;SelectObject(m_pBitMapBK);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BITMAP&nbsp;&nbsp;&nbsp;bmp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_pBitMapBK-&gt;GetBitmap(&amp;bmp);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(m_IsPressed)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pResetDC-&gt;StretchBlt(0,0,rect.Width(),rect.Height(),pNewDC,0,0,bmp.bmWidth,bmp.bmHeight,SRCCOPY);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CBrush&nbsp;brush(RGB(220,220,220));//RGB(m_nShOffset,m_nShOffset,m_nShOffset));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pResetDC-&gt;FillRect(&amp;rect,&amp;brush);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pResetDC-&gt;StretchBlt(0,0,rect.Width(),rect.Height(),pNewDC,0,0,bmp.bmWidth,bmp.bmHeight,SRCAND);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delete&nbsp;pNewDC;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pNewDC&nbsp;=&nbsp;NULL;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(m_IsPressed)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CBrush&nbsp;brush(OffsetColor(m_BkColor,m_nShOffset));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pResetDC-&gt;FillRect(rect,&amp;brush);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CBrush&nbsp;brush1(RGB(128,128,128));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pResetDC-&gt;FrameRect(rect,&amp;brush1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pResetDC-&gt;FrameRect(offRect,&amp;brush1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CBrush&nbsp;brush(m_BkColor);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pResetDC-&gt;FillRect(rect,&amp;brush);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CBrush&nbsp;brush1(RGB(128,128,128));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pResetDC-&gt;FrameRect(offRect,&amp;brush1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CString&nbsp;sTitle;\r\n&nbsp;&nbsp;&nbsp;&nbsp;GetWindowText(sTitle);\r\n&nbsp;&nbsp;&nbsp;&nbsp;offRect.OffsetRect(0,rect.Height()/2-8);\r\n//&nbsp;&nbsp;pDC-&gt;DrawText(sTitle,&nbsp;sTitle.GetLength(),offRect,&nbsp;DT_WORDBREAK&nbsp;|&nbsp;DT_CENTER);\r\n&nbsp;&nbsp;&nbsp;&nbsp;pResetDC-&gt;DrawText(sTitle,&nbsp;sTitle.GetLength(),offRect,&nbsp;DT_CENTER);\r\n&nbsp;&nbsp;&nbsp;&nbsp;pDC-&gt;StretchBlt(0,0,rect.Width(),rect.Height(),pResetDC,0,0,rect.Width(),rect.Height(),SRCCOPY);\r\n&nbsp;&nbsp;&nbsp;&nbsp;delete&nbsp;pResetDC;\r\n}\r\nvoid&nbsp;CButtonCKB::OnMouseMove(UINT&nbsp;nFlags,&nbsp;CPoint&nbsp;point)&nbsp;\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;TODO:&nbsp;Add&nbsp;your&nbsp;message&nbsp;handler&nbsp;code&nbsp;here&nbsp;and/or&nbsp;call&nbsp;default\r\n&nbsp;&nbsp;&nbsp;&nbsp;TRACKMOUSEEVENT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;csTME;\r\n&nbsp;&nbsp;&nbsp;&nbsp;csTME.cbSize&nbsp;=&nbsp;sizeof(csTME);\r\n&nbsp;&nbsp;&nbsp;&nbsp;csTME.dwFlags&nbsp;=&nbsp;TME_LEAVE;\r\n&nbsp;&nbsp;&nbsp;&nbsp;csTME.hwndTrack&nbsp;=&nbsp;m_hWnd;\r\n&nbsp;&nbsp;&nbsp;&nbsp;::_TrackMouseEvent(&amp;csTME);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(m_IsPressed==FALSE)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_IsPressed&nbsp;=&nbsp;TRUE;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this-&gt;Invalidate();\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CButton::OnMouseMove(nFlags,&nbsp;point);\r\n}\r\nBOOL&nbsp;CButtonCKB::OnNcActivate(BOOL&nbsp;bActive)&nbsp;\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;TODO:&nbsp;Add&nbsp;your&nbsp;message&nbsp;handler&nbsp;code&nbsp;here&nbsp;and/or&nbsp;call&nbsp;default\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;CButton::OnNcActivate(bActive);\r\n}\r\nvoid&nbsp;CButtonCKB::OnNcMouseMove(UINT&nbsp;nHitTest,&nbsp;CPoint&nbsp;point)&nbsp;\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;TODO:&nbsp;Add&nbsp;your&nbsp;message&nbsp;handler&nbsp;code&nbsp;here&nbsp;and/or&nbsp;call&nbsp;default\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CButton::OnNcMouseMove(nHitTest,&nbsp;point);\r\n}\r\nvoid&nbsp;CButtonCKB::OnKillFocus(CWnd*&nbsp;pNewWnd)&nbsp;\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;CButton::OnKillFocus(pNewWnd);&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;TODO:&nbsp;Add&nbsp;your&nbsp;message&nbsp;handler&nbsp;code&nbsp;here\r\n}\r\nvoid&nbsp;CButtonCKB::SetState(BOOL&nbsp;b)\r\n{\r\nif(b==FALSE)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\nSetBkColor(UNSELECT_BG_COLOR);\r\nSetTextColor(UNSELECT_TEXT_COLOR);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\nelse\r\n{\r\nSetBkColor(SELECT_BG_COLOR);\r\nSetTextColor(SELECT_TEXT_COLOR);\r\n}\r\n_bState=b;\r\n}\r\nBOOL&nbsp;CButtonCKB::GetState()\r\n{\r\n	return&nbsp;_bState;\r\n}\r\nLRESULT&nbsp;CButtonCKB::OnMouseLeave(WPARAM&nbsp;wParam,&nbsp;LPARAM&nbsp;lParam)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;m_IsPressed&nbsp;=&nbsp;FALSE;\r\n&nbsp;&nbsp;&nbsp;&nbsp;this-&gt;Invalidate();\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;0;\r\n}&nbsp;//&nbsp;End&nbsp;of&nbsp;OnMouseLeave\r\nBOOL&nbsp;CButtonCKB::Create(LPCTSTR&nbsp;lpszClassName,&nbsp;LPCTSTR&nbsp;lpszWindowName,&nbsp;DWORD&nbsp;dwStyle,&nbsp;const&nbsp;RECT&amp;&nbsp;rect,&nbsp;CWnd*&nbsp;pParentWnd,&nbsp;UINT&nbsp;nID,&nbsp;CCreateContext*&nbsp;pContext)&nbsp;\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;TODO:&nbsp;Add&nbsp;your&nbsp;specialized&nbsp;code&nbsp;here&nbsp;and/or&nbsp;call&nbsp;the&nbsp;base&nbsp;class&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;dwStyle&nbsp;|=&nbsp;BS_OWNERDRAW;\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;CWnd::Create(lpszClassName,&nbsp;lpszWindowName,&nbsp;dwStyle,&nbsp;rect,&nbsp;pParentWnd,&nbsp;nID,&nbsp;pContext);\r\n}\r\nvoid&nbsp;CButtonCKB::OnLButtonDown(UINT&nbsp;nFlags,&nbsp;CPoint&nbsp;point)&nbsp;\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;TODO:&nbsp;Add&nbsp;your&nbsp;message&nbsp;handler&nbsp;code&nbsp;here&nbsp;and/or&nbsp;call&nbsp;default\r\n&nbsp;&nbsp;&nbsp;&nbsp;//_bState=!_bState;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//SetState(_bState);\r\n&nbsp;&nbsp;&nbsp;&nbsp;CButton::OnLButtonDown(nFlags,&nbsp;point);\r\n}\r\nBOOL&nbsp;CButtonCKB::PreCreateWindow(CREATESTRUCT&amp;&nbsp;cs)&nbsp;\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;TODO:&nbsp;Add&nbsp;your&nbsp;specialized&nbsp;code&nbsp;here&nbsp;and/or&nbsp;call&nbsp;the&nbsp;base&nbsp;class\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;CButton::PreCreateWindow(cs);\r\n}\r\nvoid&nbsp;CButtonCKB::PreSubclassWindow()&nbsp;\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;TODO:&nbsp;Add&nbsp;your&nbsp;specialized&nbsp;code&nbsp;here&nbsp;and/or&nbsp;call&nbsp;the&nbsp;base&nbsp;class\r\n&nbsp;&nbsp;&nbsp;&nbsp;ModifyStyle(BS_TYPEMASK,&nbsp;BS_OWNERDRAW,&nbsp;SWP_FRAMECHANGED);&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CButton::PreSubclassWindow();\r\n}</pre><p><br/></p>','2014-03-31 09:40:40','2014-06-27 14:34:11'),(538,'113.77.27.112',2,'windows遍历文件','<p>/////////////////////////////////////////////////////////////////////////////////////</p><p>//方法一,<strong>注意路径最后是*.*</strong></p><p>&nbsp;WIN32_FIND_DATA fd;</p><p>&nbsp;HANDLE hFind = ::FindFirstFile(&quot;C:\\\\*.*&quot;, &amp;fd);<br/>&nbsp;if(hFind != INVALID_HANDLE_VALUE)<br/>&nbsp;{<br/>&nbsp;&nbsp;do<br/>&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;printf(fd.cFileName);<br/>&nbsp;&nbsp;}<br/>&nbsp;&nbsp;while(::FindNextFile(hFind, &amp;fd));<br/>&nbsp;&nbsp;::FindClose(hFind);<br/>&nbsp;}</p><p>&nbsp;</p><p>//////////////////////////////////////////////////////////////////////////////////////</p><p>&nbsp;//方法二</p><p>void RecursiveFindFile(CString&amp; strPath)<br/>{<br/>&nbsp;&nbsp; CFileFind ff;<br/>&nbsp;&nbsp; BOOL bFind = ff.FindFile(strPath + &quot;\\*.*&quot;);</p><p>&nbsp;&nbsp; while(bFind)<br/>&nbsp;&nbsp; {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bFind = ff.FindNextFile();<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (ff.IsDots() || ff.IsSystem() || ff.IsHidden())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; continue;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (ff.IsDirectory())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RecursiveFindFile(ff.GetFilePath());<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CString strFileName = ff.GetFileName();<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf(strFileName);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br/>&nbsp;&nbsp; }<br/>}</p><p>&nbsp;</p><p>//////////////////////////////////////////////////////////////////////////////////</p><p>//方法三,查找另一个跨文件遍历文件的笔记findfiles.h</p>','2014-04-03 03:28:33','2014-04-03 11:51:14'),(539,'192.168.2.200',1,'GDI+合成多张图片','<pre class=\"brush:cpp;toolbar:false\">//全局变量\r\nULONG_PTR&nbsp;gdiplusToken;\r\nGdiplus::GdiplusStartupInput&nbsp;gdiplusStartupInput;\r\n\r\n----------------------------------------------------------------------\r\n\r\n//这函数放在程序初始化处\r\nGdiplus::GdiplusStartup(&amp;gdiplusToken,&nbsp;&amp;gdiplusStartupInput,&nbsp;NULL);\r\n&nbsp;\r\n----------------------------------------------------------------------&nbsp;&nbsp;&nbsp;\r\n//在程序出口调用\r\nGdiplus::GdiplusShutdown(gdiplusToken);\r\n\r\n-----------------------------------------------------------------------\r\n//图片处理\r\nvector&lt;CString&gt;&nbsp;lstPic;\r\nlstPic.push_back(_T(&quot;../1.jpg&quot;));\r\nlstPic.push_back(_T(&quot;../2.jpg&quot;));\r\nlstPic.push_back(_T(&quot;../3.jpg&quot;));\r\nlstPic.push_back(_T(&quot;../4.jpg&quot;));\r\n\r\n\r\nCLSID&nbsp;picClsid;&nbsp;\r\n&nbsp;\r\n//拼接图片的方向\r\n#define&nbsp;_IMG_CREATE_W_&nbsp;0\r\n//读取原图片\r\nint&nbsp;tw=0,th=0;\r\nfor(int&nbsp;i=0;i&lt;lstPic.size();i++)\r\n{\r\nGetEncoderClsid(L&quot;image/jpeg&quot;,&nbsp;&amp;picClsid);\r\nGdiplus::Image&nbsp;*&nbsp;pImage&nbsp;=&nbsp;Gdiplus::Image::FromFile(lstPic[i]);\r\n#if&nbsp;_IMG_CREATE_W_&nbsp;\r\n&nbsp;tw+=pImage-&gt;GetWidth();&nbsp;\r\n&nbsp;th=pImage-&gt;GetHeight()&gt;th?pImage-&gt;GetHeight():th;\r\n#else&nbsp;\r\n&nbsp;tw=pImage-&gt;GetWidth()&gt;tw?pImage-&gt;GetWidth():tw;&nbsp;\r\n&nbsp;th+=pImage-&gt;GetHeight();\r\n#endif\r\n&nbsp;&nbsp;delete&nbsp;pImage;\r\n}\r\n//创建一个位图,用来保存合成后的图像\r\nGdiplus::Bitmap&nbsp;pBitmap(tw,th,PixelFormat32bppARGB);\r\nGdiplus::Graphics&nbsp;g(&amp;pBitmap);\r\n//输出位置\r\nint&nbsp;nH=0;\r\nfor(int&nbsp;i=0;i&lt;lstPic.size();i++)\r\n{\r\nGetEncoderClsid(L&quot;image/jpeg&quot;,&nbsp;&amp;picClsid);\r\nGdiplus::Bitmap&nbsp;tmp1(lstPic[i]);//载入你要合并的图片\r\n#if&nbsp;_IMG_CREATE_W_&nbsp;&nbsp;\r\nGdiplus::RectF&nbsp;rc(nTmp,0,tmp1.GetWidth(),tmp1.GetHeight());&nbsp;&nbsp;\r\ng.DrawImage(&amp;tmp1,rc);&nbsp;&nbsp;\r\nnTmp+=tmp1.GetWidth();\r\n#else&nbsp;&nbsp;\r\nGdiplus::RectF&nbsp;rc(0,nTmp,tmp1.GetWidth(),tmp1.GetHeight());&nbsp;\r\ng.DrawImage(&amp;tmp1,rc);&nbsp;&nbsp;\r\nnTmp+=tmp1.GetHeight();\r\n#endif\r\n}&nbsp;\r\nGetEncoderClsid(L&quot;image/jpeg&quot;,&nbsp;&amp;picClsid);\r\npBitmap.Save(L&quot;../merger.jpg&quot;,&amp;picClsid);//保存合并后的图像,完工！</pre>','2014-04-16 08:52:55','2016-05-11 01:15:35'),(540,'119.141.220.157',1,'设置窗体最前面','<p>//置顶</p><p>this-&gt;SetWindowPos(&amp;CWnd::wndTopMost,0,0,0,0,</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SWP_NOMOVE|SWP_NOSIZE|SWP_NOACTIVATE);</p><p><br/></p><p>//取消置顶</p><p>this-&gt;SetWindowPos(&amp;CWnd::wndNoTopMost,0,0,0,0,</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SWP_NOMOVE|SWP_NOSIZE|SWP_NOACTIVATE);</p><p><br/></p>','2014-04-21 13:10:42','2014-04-21 21:10:42'),(541,'183.63.215.55',26,'IAP在线烧录','<p>A:BOOT 项目里操作：<br/>1.把BOOT程序跟应用程序分两个项目编写<br/>2.在BOOT程序里最重要的是中断向量表重定向，icf文件就不用设置了（BOOT里不能开中断）<br/>&nbsp;&nbsp;中断向量表重定向设置方法代码如下：<br/>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;__root const long reintvec[]@&quot;.intvec&quot;=<br/> &nbsp; &nbsp;&nbsp; &nbsp; {&nbsp; &nbsp;0x82008080,0x82009004,0x82009008,0x8200900c, //当应用程序地址不是0x9000时则要相应改掉除第一个0x82008080以外的数值<br/>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;0x82009010,0x82009014,0x82009018,0x8200901c,<br/> &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;0x82009020,0x82009024,0x82009028,0x8200902c,<br/> &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;0x82009030,0x82009034,0x82009038,0x8200903c,<br/> &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;0x82009040,0x82009044,0x82009048,0x8200904c,<br/> &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;0x82009050,0x82009054,0x82009058,0x8200905c,<br/> &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;0x82009060,0x82009064,0x82009068,0x8200906c,<br/> &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;0x82009070,0x82009074,0x82009078,0x8200907c,<br/> &nbsp; &nbsp;&nbsp; &nbsp; };<br/> 3.然后BOOT程序的跟一般程序一样编写通信协议及FLASH操作代码就行了，还有一点要记住，BOOT程序里不要开中断哦！<br/> 这种方法缺点就是会浪费约128个字节的FLASH空间，如果有高手能把这些空间省下来，请指点哦！<br/><br/>B:应用程序项目里操作：<br/> 在应用程序项目里必须在icf文件修改，修改如下：<br/> 把下面三行<br/>define region NearFuncCode = [from 0x8000 to 0xFFFF];<br/> define region FarFuncCode = [from 0x8000 to 0xFFFF];<br/> define region HugeFuncCode = [from 0x8000 to 0xFFFF];<br/>改为<br/>define region NearFuncCode = [from 0x9000 to 0xFFFF];<br/> define region FarFuncCode = [from 0x9000 to 0xFFFF];<br/> define region HugeFuncCode = [from 0x9000 to 0xFFFF];<br/>就可以了，应用程序就可以开中断了，IAP就是这么简单吧！<br/><br/><br/> 当然我这里是用0x9000地址作为应用程序区的首地址，至于各位BOOT大小是多小就按不同的数值设置<br/> 但是必须记得在BOOT的中断向量重定向表也必须要相应修改哦！<br/> 解析下BOOT重定向表内的0x82008080为什么是这个数值：因为重定向表跟中断表重叠了，编译器就先分配重定向表，在接着的地址0x008080处，<br/> 再分配一份中断向量表，所以其实是两份中断向量表，所以BOOT重定向表内的0x82008080就是为了要跳到真正的BOOT程序入口，<br/> 因为在0x8080处才是真正跳转到__iar_program_start入口。</p>','2014-05-05 07:52:47','2014-05-05 15:52:47'),(542,'14.217.225.88',2,'Strcat，strcpy，strcmp，Strlen函数原型','<p style=\"text-indent: 2em;\">1、strcat函数原型如下：</p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">char *strcat(char *strDest, const char *strScr) //将源字符串加const，表明其为输入参数</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">{</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char * address = strDest;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //该语句若放在assert之后，编译出错</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; assert((strDest != NULL) &amp;&amp; (strScr != NULL)); //对源地址和目的地址加非0断言</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; while(*strDest)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //是while(*strDest!=’\\0’)的简化形式</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //若使用while(*strDest++)，则会出错，因为++是不受循环</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; strDest++;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //约束的。所以要在循环体内++；因为要是*strDest最后指</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //向该字符串的结束标志’\\0’。</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; while(*strDest++ = *strScr++) //是while((*strDest++ = *strScr++)!=’\\0’)的简化形式</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NULL;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //该循环条件内可以用++，</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //此处可以加语句*strDest=’\\0’;有无必要？</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">return address;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //为了实现链式操作，将目的地址返回</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">}</span></p><p style=\"text-indent: 2em;\">&nbsp;</p><p style=\"text-indent: 2em;\">2、strcpy函数原型如下：</p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">char *strcpy(char *strDest, const char *strScr)</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">{</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char *address=strDest;</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; assert((strDest != NULL) &amp;&amp; (strScr != NULL));</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; while(*strScr)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //是while(*strScr != ’\\0’)的简化形式；</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *strDest++ = *strScr++;</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *strDest = &#39;\\0&#39;;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //当strScr字符串长度小于原strDest字符串长度</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return address;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //时，如果没有改语句，就会出错了。</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">}</span></p><p style=\"text-indent: 2em;\">&nbsp;</p><p style=\"text-indent: 2em;\">3、strcmp函数原型如下：</p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">int strcmp (const char *str1,const char *str2)</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">{</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; assert((str1 != &#39;\\0&#39;) &amp;&amp; (str2 != &#39;\\0&#39;));</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; while(*str1 &amp;&amp; *str2 &amp;&amp; (*str1 == *str2))</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; str1++;</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; str2++;</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return *str1-*str2;</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">}</span></p><p style=\"text-indent: 2em;\">&nbsp;</p><p style=\"text-indent: 2em;\">4、strlen函数原型如下：</p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">int strlen(const char *str)</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">{</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">&nbsp;&nbsp;&nbsp; int len = 0;</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; assert(str != NULL);</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; while(*str++)</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; len++;</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return len;</span></p><p style=\"text-indent: 2em;\"><span style=\"color: rgb(192, 80, 77);\">}</span></p><p style=\"text-indent: 2em;\"><br/></p><p>&nbsp;</p>','2014-05-08 08:24:11','2014-05-08 22:40:35'),(543,'14.217.209.245',2,'判断字符串是否是一个数值','<p>/*判断字符串是否是一个数值，<br/>如果是数值则函数返回值为1，<br/>否则，函数返回值为0*/<br/>BOOL isNumeric(char *s)<br/>{<br/>&nbsp;&nbsp; //i1检测负数是否为第一个数字,范围0-1<br/>&nbsp;&nbsp; //i2检测点数是否重复<br/>&nbsp;&nbsp; char i1,i2;<br/>&nbsp;&nbsp; <br/>&nbsp;&nbsp; if(NULL==s)<br/>&nbsp;&nbsp; {return 0;}</p><p>&nbsp;&nbsp; if(0==s[0])<br/>&nbsp;&nbsp; {return 0;}<br/>&nbsp;&nbsp; <br/>&nbsp;&nbsp; i1=i2=0;<br/>&nbsp;&nbsp; while(*s!=&#39;\\0&#39;)<br/>&nbsp;&nbsp; {<br/>&nbsp;&nbsp;if((*s&lt;&#39;0&#39;||*s&gt;&#39;9&#39;) &amp;&amp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *s!=&#39;-&#39; &amp;&amp; *s!=&#39;.&#39;) <br/>&nbsp;&nbsp;&nbsp;{return 0;}<br/>&nbsp;&nbsp;//-<br/>&nbsp;&nbsp;&nbsp;&nbsp; if(*s==&#39;-&#39;)<br/>&nbsp;&nbsp;{if(i1&gt;0){return 0;}}<br/>&nbsp;&nbsp;if(i1==0){i1=1;}<br/>&nbsp;&nbsp;//.<br/>&nbsp;&nbsp;if(*s==&#39;.&#39;)<br/>&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;if(i2&gt;0){return 0;}<br/>&nbsp;&nbsp;&nbsp;i2++;<br/>&nbsp;&nbsp;}<br/>&nbsp;&nbsp;s++;<br/>&nbsp;&nbsp; }</p><p>&nbsp;&nbsp; return 1;<br/>}</p><p><br/></p>','2014-05-24 07:53:24','2014-05-24 15:53:24'),(544,'192.168.2.200',35,'常用数值定义','<p>with Ada.Text_IO; use Ada.Text_IO;</p><p>with Interfaces.C; use Interfaces.C;<br/>with Interfaces.C.Strings;</p><p>&nbsp;</p><p>&nbsp;-------------------------------------------------<br/>&nbsp;--整数范围定义<br/>&nbsp;-------------------------------------------------<br/>&nbsp;subtype char&nbsp;&nbsp;&nbsp;&nbsp; is short_short_integer;<br/>&nbsp;subtype short&nbsp;&nbsp;&nbsp; is short_integer;<br/>&nbsp;subtype int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; is integer;<br/>&nbsp;<br/>&nbsp;type&nbsp;&nbsp;&nbsp; uchar&nbsp;&nbsp;&nbsp; is range 0..255;<br/>&nbsp;type&nbsp;&nbsp;&nbsp; ushort&nbsp;&nbsp; is range 0..2**16;<br/>&nbsp;type&nbsp;&nbsp;&nbsp; uint&nbsp;&nbsp;&nbsp;&nbsp; is range 0..2**32;<br/>&nbsp;type&nbsp;&nbsp;&nbsp; unsigned is range 0..2**32;</p><p>&nbsp;-------------------------------------------------<br/>&nbsp;--字符串定义<br/>&nbsp;-------------------------------------------------<br/>&nbsp;type lpstr is access all&nbsp;character;<br/>&nbsp;type pstr is access all string;</p><p><br/></p><p>--positive 正整数</p><p>--natural 自然数</p>','2014-05-24 07:59:18','2015-11-12 14:17:03'),(545,'14.217.237.203',35,'ada调用C函数','<pre class=\"brush:cpp;toolbar:false\">//----------文件&nbsp;CFuncs.c&nbsp;---------\r\nint&nbsp;add(int&nbsp;a,int&nbsp;b)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(a+b);\r\n}\r\n\r\n\r\n//----------文件&nbsp;Test.adb&nbsp;---------------\r\nwith&nbsp;ada.integer_text_io;\r\nuse&nbsp;&nbsp;ada.integer_text_io;\r\n\r\nprocedure&nbsp;Test&nbsp;is\r\n&nbsp;&nbsp;&nbsp;--如果在GPS里面包涵了文件就不需要这句linker_options\r\n&nbsp;&nbsp;&nbsp;pragma&nbsp;linker_options(&quot;CFuncs.c&quot;);\r\n&nbsp;&nbsp;&nbsp;function&nbsp;add(a,b:integer)&nbsp;return&nbsp;integer;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//第一个参数可以为c&nbsp;或&nbsp;stdcall\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pragma&nbsp;import(c,add,&quot;add&quot;);&nbsp;\r\nbegin\r\n&nbsp;&nbsp;&nbsp;put(add(2,3));\r\nend&nbsp;Test;</pre><p><br/></p>','2014-05-24 10:13:56','2014-06-15 18:22:56'),(546,'192.168.3.1',35,'WIN API 获取系统时间','<p>with Win32.Winbase;<br/>use Win32.Winbase;</p><p>&nbsp;</p><p>////////////////////////////////////////////</p><p>t:aliased SYSTEMTIME;</p><p></p><p>GetSystemTime(t&#39;Unchecked_Access);</p><p>print.p(&quot;time&quot;&amp; t.wYear&#39;img &amp;&quot;:&quot;&amp; t.wMonth&#39;Img &amp;&quot;:&quot;&amp; t.wDay&#39;Img );</p><p></p>','2014-05-24 10:15:27','2015-05-31 23:09:25'),(547,'14.217.237.124',64,'Erc32 cpu','<p><span style=\"background-color: rgba(255, 255, 255, 0);\">&nbsp; &nbsp;ERC32 CPU (Atmel TSC695) 是一颗高可靠性，高性能，具有容错，抗辐射功能的32位 RISC结构的CPU，在国外，主要是用在航天等领域。</span></p>','2014-06-02 16:50:36','2014-06-03 00:50:36'),(548,'59.36.152.19',24,'CRC32校验算法（C语言）','<h2 class=\"title content-title\">CRC32校验算法（C语言）</h2><p>/*****************************************************</p><p>**&nbsp;Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;crc32.c&nbsp;</p><p>**&nbsp;Author&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;gzshun</p><p>**&nbsp;Version&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;1.0</p><p>**&nbsp;Date&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;2011-12</p><p>**&nbsp;Description&nbsp;&nbsp;:&nbsp;CRC32&nbsp;Checking</p><p>******************************************************/</p><p>#include&nbsp;&lt;stdio.h&gt;</p><p>#include&nbsp;&lt;stdlib.h&gt;</p><p>#include&nbsp;&lt;string.h&gt;</p><p>#include&nbsp;&lt;errno.h&gt;</p><p>#include&nbsp;&lt;unistd.h&gt;</p><p>#include&nbsp;&lt;fcntl.h&gt;</p><p>#include&nbsp;&lt;sys/stat.h&gt;</p><p><br/></p><p>#define&nbsp;BUFSIZE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1024*4</p><p><br/></p><p>static&nbsp;unsigned&nbsp;int&nbsp;crc_table[256];</p><p>const&nbsp;static&nbsp;char&nbsp;*&nbsp;program_name&nbsp;=&nbsp;&quot;crc32&quot;;</p><p><br/></p><p>static&nbsp;void&nbsp;usage(void);</p><p>static&nbsp;void&nbsp;init_crc_table(void);</p><p>static&nbsp;unsigned&nbsp;int&nbsp;crc32(unsigned&nbsp;int&nbsp;crc,&nbsp;unsigned&nbsp;char&nbsp;*&nbsp;buffer,&nbsp;unsigned&nbsp;int&nbsp;size);</p><p>static&nbsp;int&nbsp;calc_img_crc(const&nbsp;char&nbsp;*&nbsp;in_file,&nbsp;unsigned&nbsp;int&nbsp;*&nbsp;img_crc);</p><p><br/></p><p>static&nbsp;void&nbsp;usage(void)</p><p>{</p><p>fprintf(stderr,&nbsp;&quot;Usage:&nbsp;%s&nbsp;input_file\\n&quot;,&nbsp;program_name);</p><p>}</p><p><br/></p><p>/*</p><p>**初始化crc表,生成32位大小的crc表</p><p>**也可以直接定义出crc表,直接查表,</p><p>**但总共有256个,看着眼花,用生成的比较方便.</p><p>*/</p><p>static&nbsp;void&nbsp;init_crc_table(void)</p><p>{</p><p>unsigned&nbsp;int&nbsp;c;</p><p>unsigned&nbsp;int&nbsp;i,&nbsp;j;</p><p>for&nbsp;(i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;256;&nbsp;i++)&nbsp;{</p><p>c&nbsp;=&nbsp;(unsigned&nbsp;int)i;</p><p>for&nbsp;(j&nbsp;=&nbsp;0;&nbsp;j&nbsp;&lt;&nbsp;8;&nbsp;j++)&nbsp;{</p><p>if&nbsp;(c&nbsp;&amp;&nbsp;1)</p><p>c&nbsp;=&nbsp;0xedb88320L&nbsp;^&nbsp;(c&nbsp;&gt;&gt;&nbsp;1);</p><p>else</p><p>c&nbsp;=&nbsp;c&nbsp;&gt;&gt;&nbsp;1;</p><p>}</p><p>crc_table[i]&nbsp;=&nbsp;c;</p><p>}</p><p>}</p><p><br/></p><p>/*计算buffer的crc校验码*/</p><p>static&nbsp;unsigned&nbsp;int&nbsp;crc32(unsigned&nbsp;int&nbsp;crc,unsigned&nbsp;char&nbsp;*buffer,&nbsp;unsigned&nbsp;int&nbsp;size)</p><p>{</p><p>unsigned&nbsp;int&nbsp;i;</p><p>for&nbsp;(i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;size;&nbsp;i++)&nbsp;{</p><p>crc&nbsp;=&nbsp;crc_table[(crc&nbsp;^&nbsp;buffer[i])&nbsp;&amp;&nbsp;0xff]&nbsp;^&nbsp;(crc&nbsp;&gt;&gt;&nbsp;8);</p><p>}</p><p>return&nbsp;crc&nbsp;;</p><p>}</p><p><br/></p><p>/*</p><p>**计算大文件的CRC校验码:crc32函数,是对一个buffer进行处理,</p><p>**但如果一个文件相对较大,显然不能直接读取到内存当中</p><p>**所以只能将文件分段读取出来进行crc校验,</p><p>**然后循环将上一次的crc校验码再传递给新的buffer校验函数,</p><p>**到最后，生成的crc校验码就是该文件的crc校验码.(经过测试)</p><p>*/</p><p>static&nbsp;int&nbsp;calc_img_crc(const&nbsp;char&nbsp;*in_file,&nbsp;unsigned&nbsp;int&nbsp;*img_crc)</p><p>{</p><p>int&nbsp;fd;</p><p>int&nbsp;nread;</p><p>int&nbsp;ret;</p><p>unsigned&nbsp;char&nbsp;buf[BUFSIZE];</p><p>/*第一次传入的值需要固定,如果发送端使用该值计算crc校验码,</p><p>**那么接收端也同样需要使用该值进行计算*/</p><p>unsigned&nbsp;int&nbsp;crc&nbsp;=&nbsp;0xffffffff;&nbsp;</p><p><br/></p><p>fd&nbsp;=&nbsp;open(in_file,&nbsp;O_RDONLY);</p><p>if&nbsp;(fd&nbsp;&lt;&nbsp;0)&nbsp;{</p><p>printf(&quot;%d:open&nbsp;%s.\\n&quot;,&nbsp;__LINE__,&nbsp;strerror(errno));</p><p>return&nbsp;-1;</p><p>}</p><p>while&nbsp;((nread&nbsp;=&nbsp;read(fd,&nbsp;buf,&nbsp;BUFSIZE))&nbsp;&gt;&nbsp;0)&nbsp;{</p><p>crc&nbsp;=&nbsp;crc32(crc,&nbsp;buf,&nbsp;nread);</p><p>}</p><p>*img_crc&nbsp;=&nbsp;crc;</p><p><br/></p><p>close(fd);</p><p>if&nbsp;(nread&nbsp;&lt;&nbsp;0)&nbsp;{</p><p>printf(&quot;%d:read&nbsp;%s.\\n&quot;,&nbsp;__LINE__,&nbsp;strerror(errno));</p><p>return&nbsp;-1;</p><p>}</p><p>return&nbsp;0;</p><p>}</p><p><br/></p><p>int&nbsp;main(int&nbsp;argc,&nbsp;char&nbsp;**argv)</p><p>{</p><p>int&nbsp;ret;</p><p>unsigned&nbsp;int&nbsp;img_crc;</p><p>const&nbsp;char&nbsp;*in_file&nbsp;=&nbsp;argv[1];</p><p><br/></p><p>if&nbsp;(argc&nbsp;&lt;&nbsp;2)&nbsp;{</p><p>usage();</p><p>exit(1);</p><p>}</p><p><br/></p><p>init_crc_table();</p><p>ret&nbsp;=&nbsp;calc_img_crc(in_file,&nbsp;&amp;img_crc);</p><p>if&nbsp;(ret&nbsp;&lt;&nbsp;0)&nbsp;{</p><p>exit(1);</p><p>}</p><p><br/></p><p>printf(&quot;The&nbsp;crc&nbsp;of&nbsp;%s&nbsp;is:%u\\n&quot;,&nbsp;in_file,&nbsp;img_crc);</p><p><br/></p><p>return&nbsp;0;</p><p>}</p><p><br/></p><p>/*</p><p>**测试程序</p><p>**环境:</p><p>**Linux&nbsp;ubuntu&nbsp;2.6.32-24-generic-pae&nbsp;#39-Ubuntu&nbsp;SMP&nbsp;Wed&nbsp;Jul&nbsp;28&nbsp;07:39:26&nbsp;UTC&nbsp;2010&nbsp;i686&nbsp;GNU/Linux</p><p>**gcc&nbsp;version&nbsp;4.4.3&nbsp;(Ubuntu&nbsp;4.4.3-4ubuntu5)</p><p>**</p><p>gzshun@ubuntu:~/apue/crc32$&nbsp;ls</p><p>crc32.c</p><p>gzshun@ubuntu:~/apue/crc32$&nbsp;gcc&nbsp;crc32.c&nbsp;-o&nbsp;crc32</p><p>gzshun@ubuntu:~/apue/crc32$&nbsp;./crc32&nbsp;crc32.c</p><p>The&nbsp;crc&nbsp;of&nbsp;crc32.c&nbsp;is:3892136086</p><p>*/</p><p></p>','2014-06-03 03:44:34','2014-06-03 11:44:34'),(549,'192.168.2.200',24,'CRC16 - - CCITT','<pre class=\"brush:cpp;toolbar:false\">#define&nbsp;CRC_CCITT&nbsp;0x1021&nbsp;&nbsp;&nbsp;&nbsp;//CRC-CCITT多项式\r\nusing&nbsp;namespace&nbsp;std;\r\n\r\nunsigned&nbsp;int&nbsp;crc_ta_8[256]={&nbsp;/*&nbsp;CRC&nbsp;字节余式表&nbsp;*/\r\n&nbsp;&nbsp;&nbsp;&nbsp;0x0000,&nbsp;0x1021,&nbsp;0x2042,&nbsp;0x3063,&nbsp;0x4084,&nbsp;0x50a5,&nbsp;0x60c6,&nbsp;0x70e7,\r\n&nbsp;&nbsp;&nbsp;&nbsp;0x8108,&nbsp;0x9129,&nbsp;0xa14a,&nbsp;0xb16b,&nbsp;0xc18c,&nbsp;0xd1ad,&nbsp;0xe1ce,&nbsp;0xf1ef,\r\n&nbsp;&nbsp;&nbsp;&nbsp;0x1231,&nbsp;0x0210,&nbsp;0x3273,&nbsp;0x2252,&nbsp;0x52b5,&nbsp;0x4294,&nbsp;0x72f7,&nbsp;0x62d6,\r\n&nbsp;&nbsp;&nbsp;&nbsp;0x9339,&nbsp;0x8318,&nbsp;0xb37b,&nbsp;0xa35a,&nbsp;0xd3bd,&nbsp;0xc39c,&nbsp;0xf3ff,&nbsp;0xe3de,\r\n&nbsp;&nbsp;&nbsp;&nbsp;0x2462,&nbsp;0x3443,&nbsp;0x0420,&nbsp;0x1401,&nbsp;0x64e6,&nbsp;0x74c7,&nbsp;0x44a4,&nbsp;0x5485,\r\n&nbsp;&nbsp;&nbsp;&nbsp;0xa56a,&nbsp;0xb54b,&nbsp;0x8528,&nbsp;0x9509,&nbsp;0xe5ee,&nbsp;0xf5cf,&nbsp;0xc5ac,&nbsp;0xd58d,\r\n&nbsp;&nbsp;&nbsp;&nbsp;0x3653,&nbsp;0x2672,&nbsp;0x1611,&nbsp;0x0630,&nbsp;0x76d7,&nbsp;0x66f6,&nbsp;0x5695,&nbsp;0x46b4,\r\n&nbsp;&nbsp;&nbsp;&nbsp;0xb75b,&nbsp;0xa77a,&nbsp;0x9719,&nbsp;0x8738,&nbsp;0xf7df,&nbsp;0xe7fe,&nbsp;0xd79d,&nbsp;0xc7bc,\r\n&nbsp;&nbsp;&nbsp;&nbsp;0x48c4,&nbsp;0x58e5,&nbsp;0x6886,&nbsp;0x78a7,&nbsp;0x0840,&nbsp;0x1861,&nbsp;0x2802,&nbsp;0x3823,\r\n&nbsp;&nbsp;&nbsp;&nbsp;0xc9cc,&nbsp;0xd9ed,&nbsp;0xe98e,&nbsp;0xf9af,&nbsp;0x8948,&nbsp;0x9969,&nbsp;0xa90a,&nbsp;0xb92b,\r\n&nbsp;&nbsp;&nbsp;&nbsp;0x5af5,&nbsp;0x4ad4,&nbsp;0x7ab7,&nbsp;0x6a96,&nbsp;0x1a71,&nbsp;0x0a50,&nbsp;0x3a33,&nbsp;0x2a12,\r\n&nbsp;&nbsp;&nbsp;&nbsp;0xdbfd,&nbsp;0xcbdc,&nbsp;0xfbbf,&nbsp;0xeb9e,&nbsp;0x9b79,&nbsp;0x8b58,&nbsp;0xbb3b,&nbsp;0xab1a,\r\n&nbsp;&nbsp;&nbsp;&nbsp;0x6ca6,&nbsp;0x7c87,&nbsp;0x4ce4,&nbsp;0x5cc5,&nbsp;0x2c22,&nbsp;0x3c03,&nbsp;0x0c60,&nbsp;0x1c41,\r\n&nbsp;&nbsp;&nbsp;&nbsp;0xedae,&nbsp;0xfd8f,&nbsp;0xcdec,&nbsp;0xddcd,&nbsp;0xad2a,&nbsp;0xbd0b,&nbsp;0x8d68,&nbsp;0x9d49,\r\n&nbsp;&nbsp;&nbsp;&nbsp;0x7e97,&nbsp;0x6eb6,&nbsp;0x5ed5,&nbsp;0x4ef4,&nbsp;0x3e13,&nbsp;0x2e32,&nbsp;0x1e51,&nbsp;0x0e70,\r\n&nbsp;&nbsp;&nbsp;&nbsp;0xff9f,&nbsp;0xefbe,&nbsp;0xdfdd,&nbsp;0xcffc,&nbsp;0xbf1b,&nbsp;0xaf3a,&nbsp;0x9f59,&nbsp;0x8f78,\r\n&nbsp;&nbsp;&nbsp;&nbsp;0x9188,&nbsp;0x81a9,&nbsp;0xb1ca,&nbsp;0xa1eb,&nbsp;0xd10c,&nbsp;0xc12d,&nbsp;0xf14e,&nbsp;0xe16f,\r\n&nbsp;&nbsp;&nbsp;&nbsp;0x1080,&nbsp;0x00a1,&nbsp;0x30c2,&nbsp;0x20e3,&nbsp;0x5004,&nbsp;0x4025,&nbsp;0x7046,&nbsp;0x6067,\r\n&nbsp;&nbsp;&nbsp;&nbsp;0x83b9,&nbsp;0x9398,&nbsp;0xa3fb,&nbsp;0xb3da,&nbsp;0xc33d,&nbsp;0xd31c,&nbsp;0xe37f,&nbsp;0xf35e,\r\n&nbsp;&nbsp;&nbsp;&nbsp;0x02b1,&nbsp;0x1290,&nbsp;0x22f3,&nbsp;0x32d2,&nbsp;0x4235,&nbsp;0x5214,&nbsp;0x6277,&nbsp;0x7256,\r\n&nbsp;&nbsp;&nbsp;&nbsp;0xb5ea,&nbsp;0xa5cb,&nbsp;0x95a8,&nbsp;0x8589,&nbsp;0xf56e,&nbsp;0xe54f,&nbsp;0xd52c,&nbsp;0xc50d,\r\n&nbsp;&nbsp;&nbsp;&nbsp;0x34e2,&nbsp;0x24c3,&nbsp;0x14a0,&nbsp;0x0481,&nbsp;0x7466,&nbsp;0x6447,&nbsp;0x5424,&nbsp;0x4405,\r\n&nbsp;&nbsp;&nbsp;&nbsp;0xa7db,&nbsp;0xb7fa,&nbsp;0x8799,&nbsp;0x97b8,&nbsp;0xe75f,&nbsp;0xf77e,&nbsp;0xc71d,&nbsp;0xd73c,\r\n&nbsp;&nbsp;&nbsp;&nbsp;0x26d3,&nbsp;0x36f2,&nbsp;0x0691,&nbsp;0x16b0,&nbsp;0x6657,&nbsp;0x7676,&nbsp;0x4615,&nbsp;0x5634,\r\n&nbsp;&nbsp;&nbsp;&nbsp;0xd94c,&nbsp;0xc96d,&nbsp;0xf90e,&nbsp;0xe92f,&nbsp;0x99c8,&nbsp;0x89e9,&nbsp;0xb98a,&nbsp;0xa9ab,\r\n&nbsp;&nbsp;&nbsp;&nbsp;0x5844,&nbsp;0x4865,&nbsp;0x7806,&nbsp;0x6827,&nbsp;0x18c0,&nbsp;0x08e1,&nbsp;0x3882,&nbsp;0x28a3,\r\n&nbsp;&nbsp;&nbsp;&nbsp;0xcb7d,&nbsp;0xdb5c,&nbsp;0xeb3f,&nbsp;0xfb1e,&nbsp;0x8bf9,&nbsp;0x9bd8,&nbsp;0xabbb,&nbsp;0xbb9a,\r\n&nbsp;&nbsp;&nbsp;&nbsp;0x4a75,&nbsp;0x5a54,&nbsp;0x6a37,&nbsp;0x7a16,&nbsp;0x0af1,&nbsp;0x1ad0,&nbsp;0x2ab3,&nbsp;0x3a92,\r\n&nbsp;&nbsp;&nbsp;&nbsp;0xfd2e,&nbsp;0xed0f,&nbsp;0xdd6c,&nbsp;0xcd4d,&nbsp;0xbdaa,&nbsp;0xad8b,&nbsp;0x9de8,&nbsp;0x8dc9,\r\n&nbsp;&nbsp;&nbsp;&nbsp;0x7c26,&nbsp;0x6c07,&nbsp;0x5c64,&nbsp;0x4c45,&nbsp;0x3ca2,&nbsp;0x2c83,&nbsp;0x1ce0,&nbsp;0x0cc1,\r\n&nbsp;&nbsp;&nbsp;&nbsp;0xef1f,&nbsp;0xff3e,&nbsp;0xcf5d,&nbsp;0xdf7c,&nbsp;0xaf9b,&nbsp;0xbfba,&nbsp;0x8fd9,&nbsp;0x9ff8,\r\n&nbsp;&nbsp;&nbsp;&nbsp;0x6e17,&nbsp;0x7e36,&nbsp;0x4e55,&nbsp;0x5e74,&nbsp;0x2e93,&nbsp;0x3eb2,&nbsp;0x0ed1,&nbsp;0x1ef0\r\n};\r\n\r\nunsigned&nbsp;int&nbsp;crc_ta_4[16]={&nbsp;/*&nbsp;CRC&nbsp;半字节余式表&nbsp;*/\r\n&nbsp;&nbsp;&nbsp;&nbsp;0x0000,0x1021,0x2042,0x3063,0x4084,0x50a5,0x60c6,0x70e7,\r\n&nbsp;&nbsp;&nbsp;&nbsp;0x8108,0x9129,0xa14a,0xb16b,0xc18c,0xd1ad,0xe1ce,0xf1ef,\r\n};\r\n\r\n/*CRC算法一，适用于程序空间苛刻但CRC计算速度要求不高的微控制系统\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;算法概要说明：计算本位后的CRC&nbsp;码等于上一位CRC&nbsp;码乘以2&nbsp;后除\r\n&nbsp;&nbsp;&nbsp;&nbsp;以多项式，所得的余数再加上本位值除以多项式所得的余数\r\n*/\r\n/*函数名称：crc_cal_by_bit;按位计算CRC\r\n&nbsp;&nbsp;函数参数：unsigned&nbsp;char*&nbsp;ptr;指向发送缓冲区的首字节\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;char&nbsp;len;要发送的总字节数\r\n&nbsp;&nbsp;函数返回值：unsigned&nbsp;int\r\n&nbsp;&nbsp;多项式采用CRC-CCITT&nbsp;0x1021\r\n*/\r\nunsigned&nbsp;int&nbsp;crc_cal_by_bit(unsigned&nbsp;char*&nbsp;ptr,&nbsp;unsigned&nbsp;char&nbsp;len)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;int&nbsp;crc&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;while(len--&nbsp;!=&nbsp;0)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(unsigned&nbsp;char&nbsp;i&nbsp;=&nbsp;0x80;&nbsp;i&nbsp;!=&nbsp;0;&nbsp;i&nbsp;/=&nbsp;2)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;crc&nbsp;*=&nbsp;2;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if((crc&amp;0x10000)&nbsp;!=0)&nbsp;//上一位CRC乘&nbsp;2后，若首位是1，则除以&nbsp;0x11021\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;crc&nbsp;^=&nbsp;0x11021;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if((*ptr&amp;i)&nbsp;!=&nbsp;0)&nbsp;&nbsp;&nbsp;&nbsp;//如果本位是1，那么CRC&nbsp;=&nbsp;上一位的CRC&nbsp;+&nbsp;本位/CRC_CCITT\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;crc&nbsp;^=&nbsp;CRC_CCITT;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ptr++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;crc;\r\n}\r\n\r\n/*CRC算法二，适用于程序空间较大且CRC计算速度要求较高的计算机或微控制系统\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;算法概要说明：计算本字节后的CRC&nbsp;码等于上一字节余式CRC码的低8位左移8位后，\r\n&nbsp;&nbsp;&nbsp;&nbsp;再加上上一字节CRC&nbsp;右移8&nbsp;位（也既取高8&nbsp;位）和本字节之和后所求得的CRC码\r\n*/\r\n/*函数名称：crc_cal_by_byte;按字节计算CRC\r\n&nbsp;&nbsp;函数参数：unsigned&nbsp;char*&nbsp;ptr:指向发送缓冲区的首字节\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;char&nbsp;len:要发送的总字节数\r\n&nbsp;&nbsp;函数返回值：unsigned&nbsp;int\r\n&nbsp;&nbsp;多项式采用CRC-CCITT&nbsp;0x1021\r\n*/\r\nunsigned&nbsp;int&nbsp;crc_cal_by_byte(unsigned&nbsp;char*&nbsp;ptr,&nbsp;unsigned&nbsp;char&nbsp;len)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;short&nbsp;crc&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;while(len--&nbsp;!=&nbsp;0)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;int&nbsp;high&nbsp;=&nbsp;(unsigned&nbsp;int)(crc/256);&nbsp;//取CRC高8位\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;crc&nbsp;&lt;&lt;=&nbsp;8;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;crc&nbsp;^=&nbsp;crc_ta_8[high^*ptr];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ptr++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;crc;\r\n}\r\n\r\n/*CRC算法三，适用于程序空间不太大且CRC计算速度又不可以太慢的微控制系统*/\r\n/*函数名称：crc_cal_by_halfbyte:按半字节计算CRC\r\n&nbsp;&nbsp;函数参数：unsigned&nbsp;char*&nbsp;ptr:指向发送缓冲区的首字节\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;char&nbsp;len:要发送的总字节数\r\n&nbsp;&nbsp;函数返回值：unsigned&nbsp;int\r\n&nbsp;&nbsp;多项式采用CRC-CCITT&nbsp;&nbsp;0x1021\r\n*/\r\nunsigned&nbsp;int&nbsp;crc_cal_by_halfbyte(unsigned&nbsp;char*&nbsp;ptr,&nbsp;unsigned&nbsp;char&nbsp;len)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;short&nbsp;crc&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;while(len--&nbsp;!=&nbsp;0)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;char&nbsp;high&nbsp;=&nbsp;(unsigned&nbsp;char)(crc/4096);&nbsp;//暂存CRC的高4位\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;crc&nbsp;&lt;&lt;=&nbsp;4;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;crc&nbsp;^=&nbsp;crc_ta_4[high^(*ptr/16)];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;high&nbsp;=&nbsp;(unsigned&nbsp;char)(crc/4096);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;crc&nbsp;&lt;&lt;=&nbsp;4;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;crc&nbsp;^=&nbsp;crc_ta_4[high^(*ptr&amp;0x0f)];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ptr++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;crc;\r\n}\r\n\r\n//unsigned&nbsp;short&nbsp;最大是65535\r\nint&nbsp;main()\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;char&nbsp;ptr[]&nbsp;=&nbsp;{0xa0,&nbsp;0xa0,&nbsp;0xa0};\r\n&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;crc_cal_by_bit(ptr,&nbsp;3)&nbsp;&lt;&lt;&nbsp;&#39;[#ue_pole#n]&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;crc_cal_by_halfbyte(ptr,&nbsp;3)&nbsp;&lt;&lt;&nbsp;&#39;[#ue_pole#n]&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;crc_cal_by_byte(ptr,&nbsp;3)&nbsp;&lt;&lt;&nbsp;&#39;[#ue_pole#n]&#39;;&nbsp;&nbsp;//查表算法,可用于MCU\r\n}</pre>','2014-06-03 04:08:01','2015-11-23 23:39:47'),(550,'183.63.215.55',3,'ios7 下 UINavigationController挡住下面的内容','<p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\"><span style=\"color: rgb(187, 44, 162);\"></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">- (<span style=\"color: #bb2ca2\">void</span>)viewDidLoad</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"color: #000000\">&nbsp; &nbsp; [</span><span style=\"color: #bb2ca2\">super</span><span style=\"color: #000000\"> </span>viewDidLoad<span style=\"color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"color: #000000\">&nbsp; &nbsp; </span>// Do any additional setup after loading the view from its nib.</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(112, 61, 170);\"><span style=\"color: #000000\">&nbsp; &nbsp; </span><span style=\"color: #bb2ca2\">self</span><span style=\"color: #000000\">.</span>navigationController<span style=\"color: #000000\">.</span>navigationBar<span style=\"color: #000000\">.</span>translucent<span style=\"color: #000000\"> = </span><span style=\"color: #bb2ca2\">NO</span><span style=\"color: #000000\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\"><br/></p><p><img src=\"/my/notes/js/ue/php/upload_img/20140607/14021116538137.jpeg\" title=\"6_81871_14d78c6aa30e6d3.png.jpeg\"/></p>','2014-06-07 03:27:38','2014-06-07 11:43:26'),(552,'192.168.2.194',2,'udp组播','<p><span id=\"_baidu_bookmark_start_0\" style=\"line-height: 0px; display: none;\">‍</span><span id=\"_baidu_bookmark_start_2\" style=\"line-height: 0px; display: none;\">‍</span></p><p>#define&nbsp; IP_ADDR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;224.8.8.1&quot;&nbsp;&nbsp;&nbsp; //组播地址&nbsp;&nbsp; <br/>#define&nbsp; DEST_PORT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 8888&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br/>#define&nbsp; RECV_PORT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 8889</p><p><br/>/////////////////////////////////////////////</p><p>//初始化UDP组播</p><p>SOCKET s;</p><p>zhSockInit(&amp;s,ZH_SOCK_UDP);</p><p>zhSockSetReuseAddr(s,true);</p><p><br/></p><p><br/>int&nbsp; ttl= 255;</p><p>struct&nbsp; ip_mreq&nbsp; multicast;</p><p>multicast.imr_multiaddr.s_addr&nbsp; =&nbsp; inet_addr(IP_ADDR);</p><p>multicast.imr_interface.s_addr&nbsp; =&nbsp; htonl(INADDR_ANY);</p><p>//发送时用组播方式</p><p>if(setsockopt(s,&nbsp; IPPROTO_IP,&nbsp; IP_MULTICAST_TTL,&nbsp; (char&nbsp; *)&amp;ttl,&nbsp; sizeof(ttl))!=0)</p><p>{</p><p>&nbsp;&nbsp;&nbsp; printf(&quot;error&nbsp; setsockopt&nbsp; IP_MULTICAST_TTL[#ue_pole#n]&quot;);</p><p>&nbsp;&nbsp;&nbsp; exit(1);</p><p>}</p><p>//接收时用组播方式</p><p>组播错误IP_ADD_MEMBERSHIP 的解决方法往下看</p><p>if(setsockopt(s,IPPROTO_IP,IP_ADD_MEMBERSHIP,(char&nbsp; *)&amp;multicast,sizeof(multicast))&nbsp; &lt;&nbsp; 0&nbsp; )&nbsp; {</p><p>&nbsp;&nbsp;&nbsp; &nbsp;printf(&quot;error&nbsp; setsockopt&nbsp; IP_ADD_MEMBERSHIP[#ue_pole#n]&quot;);</p><p>&nbsp;&nbsp;&nbsp; zhSockClose(s);</p><p>&nbsp;&nbsp;&nbsp; exit(1);</p><p>}</p><p>zhSockBindAddr(s, NULL, RECV_PORT);</p><p><br/></p><p><br/>//////////////////////////////////////////////////////////////////</p><p>//接收</p><p>ret=zhSockRecvFrom(s,buf,sizeof(buf),&amp;addr,&amp;addr_len);</p><p>if (ret&gt;0) {</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NSLog(@&quot;ret=%d&quot;,ret);</p><p>}</p><p><br/></p><p><br/>//////////////////////////////////////////////////////////////////</p><p>//发送</p><p>&nbsp;char buf[1024]={0};</p><p>&nbsp;int buflen=0;</p><p>&nbsp;//</p><p>&nbsp;struct sockaddr_in address;//处理网络通信的地址</p><p>&nbsp;&nbsp;&nbsp;</p><p>&nbsp;memset(&amp;address,0,sizeof(address));</p><p>&nbsp;address.sin_family=AF_INET;</p><p>&nbsp;address.sin_addr.s_addr=inet_addr(IP_ADDR);</p><p>&nbsp;address.sin_port=htons(DEST_PORT);</p><p>&nbsp;&nbsp;&nbsp;</p><p>&nbsp;//生成指令</p><p>&nbsp;buflen=0;</p><p>&nbsp;memcpy(&amp;buf[0],&quot;XATXMJ&quot; ,6);</p><p>&nbsp;buflen+=6;</p><p>&nbsp;//发送</p><p>&nbsp;zhSockSendTo(s, buf, buflen, &amp;address);</p><p><br/></p><p><span style=\"background-color: rgb(242, 220, 219);\">‍‍‍‍‍‍‍‍‍‍//======================================================</span></p><p><span style=\"background-color: rgb(242, 220, 219);\">IP_ADD_MEMBERSHIP : 组播错误 的解决方法：</span></p><p><span style=\"background-color: rgb(242, 220, 219);\">结果： if (setsockopt(s, IPPROTO_IP, IP_ADD_MEMBERSHIP,<br/>&nbsp;&nbsp; (const char*)&amp;<span style=\"font-family: &quot;Microsoft YaHei&quot;; font-size: 14px; background-color: rgb(255, 255, 255);\"><span id=\"_baidu_bookmark_start_14\" style=\"display: none; line-height: 0px;\">‍</span></span><span id=\"_baidu_bookmark_start_16\" style=\"display: none; line-height: 0px;\">‍</span>multicast<span id=\"_baidu_bookmark_end_17\" style=\"display: none; line-height: 0px;\">‍</span><span style=\"font-family: &quot;Microsoft YaHei&quot;; font-size: 14px; background-color: rgb(255, 255, 255);\"><span id=\"_baidu_bookmark_end_15\" style=\"display: none; line-height: 0px;\">‍</span></span>, sizeof (struct ip_mreq)) &lt; 0) {</span></p><p><span style=\"background-color: rgb(242, 220, 219);\">一直失败：错误提示为： 10042：</span></p><p><span style=\"background-color: rgb(242, 220, 219);\">修改为： if (setsockopt(s, IPPROTO_IP, 12,<br/>&nbsp;&nbsp; (const char*)&amp;<span style=\"font-family: &quot;Microsoft YaHei&quot;; font-size: 14px; background-color: rgb(255, 255, 255);\"><span id=\"_baidu_bookmark_start_18\" style=\"display: none; line-height: 0px;\">‍</span></span><span id=\"_baidu_bookmark_start_20\" style=\"display: none; line-height: 0px;\">‍</span>multicast<span id=\"_baidu_bookmark_end_21\" style=\"display: none; line-height: 0px;\">‍</span><span style=\"font-family: &quot;Microsoft YaHei&quot;; font-size: 14px; background-color: rgb(255, 255, 255);\"><span id=\"_baidu_bookmark_end_19\" style=\"display: none; line-height: 0px;\">‍</span></span>, sizeof (struct ip_mreq)) &lt; 0) {</span></p><p><br/><span style=\"background-color: rgb(242, 220, 219);\">因为不同的socket版本，定义IP_ADD_MEMBERSHIP 的值不同：</span></p><p><span style=\"background-color: rgb(242, 220, 219);\">in socket ver1.0中：<br/>＃define IP_ADD_MEMBERSHIP 5</span></p><p><span style=\"background-color: rgb(242, 220, 219);\">in socket ver2.0中：<br/>＃define IP_ADD_MEMBERSHIP 12‍‍‍‍‍‍‍‍‍‍<br/></span></p><p><br/></p><p><span id=\"_baidu_bookmark_end_3\" style=\"line-height: 0px; display: none;\">‍</span><span id=\"_baidu_bookmark_end_1\" style=\"line-height: 0px; display: none;\">‍</span></p>','2014-06-09 10:21:05','2017-02-24 22:51:13'),(554,'183.63.215.55',0,'迈腾配件','<p>机油格 <a href=\"http://item.taobao.com/item.htm?id=37433889776&amp;spm=2014.21600712.0.0\">http://item.taobao.com/item.htm?id=37433889776&amp;spm=2014.21600712.0.0</a></p><p>&nbsp;</p><p>机油&nbsp;4升 <a href=\"http://item.taobao.com/item.htm?spm=2013.1.0.0.yPAPHw&amp;id=36790838353&amp;scm=1007.10115.744.0&amp;pvid=8e52fb5c-318f-49a4-a4d9-30c3a82ea395\">http://item.taobao.com/item.htm?spm=2013.1.0.0.yPAPHw&amp;id=36790838353&amp;scm=1007.10115.744.0&amp;pvid=8e52fb5c-318f-49a4-a4d9-30c3a82ea395</a></p><p>&nbsp;</p><p>机油1 升 <a href=\"http://item.taobao.com/item.htm?id=37286187507&amp;tracelogww=ltckbburl\">http://item.taobao.com/item.htm?id=37286187507&amp;tracelogww=ltckbburl</a>&nbsp;</p><p>&nbsp;</p><p>空调滤芯 <a href=\"http://item.taobao.com/item.htm?id=37491394885&amp;spm=2014.21600712.0.0\">http://item.taobao.com/item.htm?id=37491394885&amp;spm=2014.21600712.0.0</a></p><p>&nbsp;</p><p>空气滤清器 <a href=\"http://item.taobao.com/item.htm?id=37425595245&amp;spm=2014.21600712.0.0\">http://item.taobao.com/item.htm?id=37425595245&amp;spm=2014.21600712.0.0</a></p><p>&nbsp;</p><p>火花塞 <a href=\"http://item.taobao.com/item.htm?id=38026773151&amp;tracelogww=ltckbburl\">http://item.taobao.com/item.htm?id=38026773151&amp;tracelogww=ltckbburl</a></p><p>&nbsp;</p><p>宝安洁骏汽车服务公司</p><p>布吉一汽大众服务站<br/></p>','2014-06-11 04:21:28','2014-06-11 12:23:23'),(555,'14.217.208.123',35,'编译指令','<p>在Cygwin64 Terminal里面安装gcc-ada<br/><br/></p><p>使用</p><p>gnatmake &lt;input file&gt; 命令</p><p><br/></p><p>gnatmake相当于运行了三个指令</p><p>$ gnatmake test.adb</p><p>gcc -c test.adb</p><p>gnatbind -x test.ali</p><p>gnatlink test.ali</p><p><br/></p>','2014-06-13 17:55:41','2014-11-22 02:12:29'),(556,'192.168.2.200',1,'Tab Control用法简介','<p><span style=\"font-size: 14px;\">假如我现在有个SDI程序，View是Form&nbsp;</span><wbr/><span style=\"font-size: 14px;\">View，想在上面放个Tab&nbsp;</span><wbr/><span style=\"font-size: 14px;\">Control，包含两个Page。现在让我们来看看应该怎样处理。</span></p><p><span style=\"font-size: 14px;\">首先当然要增加一个Tab&nbsp;</span><wbr/><span style=\"font-size: 14px;\">Control资源，然后利用Class&nbsp;</span><wbr/><span style=\"font-size: 14px;\">Wizard，在View中增加一个Control变量。</span></p><p><span style=\"font-size: 14px;\">接着建立两个对话框资源，别忘了把Style改为Child，Border改为None。然后就可以在上面加其他控件了。</span></p><p><span style=\"font-size: 14px;\">接着利用Class&nbsp;</span><wbr/><span style=\"font-size: 14px;\">Wizard，分别为这两个对话框建立两个类，比如CPage1和CPage2。</span></p><p><span style=\"font-size: 14px;\">然后在View类头文件中，加入这两个对话框对象。同时增加一个变量int&nbsp;</span><wbr/><span style=\"font-size: 14px;\">m_CurSelTab，用了表明是哪个Page即将被切换。</span></p><p><span style=\"font-size: 14px;\">为了避免用户在切换Tab时，程序对Tab&nbsp;</span><wbr/><span style=\"font-size: 14px;\">Index的枚举，可以利用数组来做这个事情。</span></p><p><span style=\"font-size: 14px;\">在View的初始化函数中需要把CPage1、CPage2和Tab&nbsp;</span><wbr/><span style=\"font-size: 14px;\">Control关联起来，并保存页面地址，设置初始页面，等等。</span></p><p><span style=\"font-size: 14px;\">void&nbsp;</span><wbr/><span style=\"font-size: 14px;\">CTab_testView::OnInitialUpdate()<br/>{<br/>&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">CFormView::OnInitialUpdate();<br/>&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">GetParentFrame()-&gt;RecalcLayout();<br/>&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">ResizeParentToFit();<br/>&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><br/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">//为Tab&nbsp;</span><wbr/><span style=\"font-size: 14px;\">Control增加两个页面<br/>&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;_tabCtrl.InsertItem(0,&nbsp;</span><wbr/><span style=\"font-size: 14px;\">_T(&quot;First&quot;));<br/>&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;_tabCtrl.InsertItem(1,&nbsp;</span><wbr/><span style=\"font-size: 14px;\">_T(&quot;Second&quot;));<br/>&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><br/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">//创建两个对话框</span></p><p><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">m_page1.Create(IDD_DIALOG1,&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&amp;<span style=\"font-size: 14px;\">_tabCtrl</span>);//窗体要将 style设为child<br/>&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">m_page2.Create(IDD_DIALOG2,&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&amp;<span style=\"font-size: 14px;\">_tabCtrl</span>);</span></p><p>&nbsp;</p><p><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">//把对话框对象指针保存起来</span></p><p><span style=\"font-size: 14px;\">&nbsp; &nbsp; //CDialogEx* _pTabDialog[2]; //所有窗体的指针,全局变量<br/></span><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span>_pTabDialog<span style=\"font-size: 14px;\">[0]&nbsp;</span><wbr/><span style=\"font-size: 14px;\">= (CDialogEx*)</span><wbr/><span style=\"font-size: 14px;\">&amp;m_page1;</span></p><p><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span>_pTabDialog<span style=\"font-size: 14px;\">[1]&nbsp;</span><wbr/><span style=\"font-size: 14px;\">= (CDialogEx*)</span><wbr/><span style=\"font-size: 14px;\">&amp;m_page2;</span></p><p><span style=\"font-size: 14px;\"></span>&nbsp;</p><p><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">//设定在Tab内显示的范围<br/>&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">CRect&nbsp;</span><wbr/><span style=\"font-size: 14px;\">rc;<br/>&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><span style=\"font-size: 14px;\">_tabCtrl.GetClientRect(rc);<br/>&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">rc.top&nbsp;</span><wbr/><span style=\"font-size: 14px;\">+=&nbsp;</span><wbr/><span style=\"font-size: 14px;\">30;<br/>&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">rc.bottom&nbsp;</span><wbr/><span style=\"font-size: 14px;\">-=&nbsp;</span><wbr/><span style=\"font-size: 14px;\">8;<br/>&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">rc.left&nbsp;</span><wbr/><span style=\"font-size: 14px;\">+=&nbsp;</span><wbr/><span style=\"font-size: 14px;\">8;<br/>&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">rc.right&nbsp;</span><wbr/><span style=\"font-size: 14px;\">-=&nbsp;</span><wbr/><span style=\"font-size: 14px;\">8;</span></p><p><span style=\"font-size: 14px;\"></span><br/></p><p style=\"text-indent: 0em;\"><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\"></span>&nbsp;//保存当前选择</p><p style=\"text-indent: 0em;\">&nbsp; &nbsp; //int&nbsp;_CurSelTab //当前tab窗体的焦点全局变量</p><p style=\"text-indent: 0em;\">&nbsp;&nbsp;&nbsp; _CurSelTab = 0;<br/>&nbsp;&nbsp; &nbsp;for(int i=0;i&lt;2;i++)//循环资料是<span style=\"font-size: 14px;\">&nbsp;</span>_pTabDialog<span style=\"font-size: 14px;\">的数组大小</span></p><p style=\"text-indent: 0em;\">&nbsp;&nbsp;&nbsp;&nbsp;{</p><p style=\"text-indent: 0em;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"font-size: 14px;\">&nbsp;_pTabDialog[i]-&gt;MoveWindow(&amp;rc);</span></p><p style=\"text-indent: 0em;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(i==_CurSelTab)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;_pTabDialog[i]-&gt;ShowWindow(SW_SHOW);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;_tabCtrl.SetCurSel(i);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;else<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;{_pTabDialog[i]-&gt;ShowWindow(SW_HIDE);}<br/>&nbsp;&nbsp;&nbsp; }<br/><span style=\"font-size: 14px;\">}</span></p><p><span style=\"font-size: 14px;\">这里面需要注意的是，我用了一个CDialog指针数组来进行保存，数组的大小是Tab&nbsp;</span><wbr/><span style=\"font-size: 14px;\">Control页面的个数，数组下标对应着每个页面的索引（这样方便快速存取）。</span></p><p><span style=\"font-size: 14px;\">用户切换时，需要响应相关的消息。</span></p><p><span style=\"font-size: 14px;\">void&nbsp;</span><wbr/><span style=\"font-size: 14px;\">CTab_testView::OnSelchangeTab1(NMHDR*&nbsp;</span><wbr/><span style=\"font-size: 14px;\">pNMHDR,&nbsp;</span><wbr/><span style=\"font-size: 14px;\">LRESULT*&nbsp;</span><wbr/><span style=\"font-size: 14px;\">pResult)&nbsp;</span><wbr/><br/><span style=\"font-size: 14px;\">{<br/>&nbsp; &nbsp;&nbsp;</span><wbr/><span style=\"font-size: 14px;\">//&nbsp;</span><wbr/><span style=\"font-size: 14px;\">TODO:&nbsp;</span><wbr/><span style=\"font-size: 14px;\">Add&nbsp;</span><wbr/><span style=\"font-size: 14px;\">your&nbsp;</span><wbr/><span style=\"font-size: 14px;\">control&nbsp;</span><wbr/><span style=\"font-size: 14px;\">notification&nbsp;</span><wbr/><span style=\"font-size: 14px;\">handler&nbsp;</span><wbr/><span style=\"font-size: 14px;\">code&nbsp;</span><wbr/><span style=\"font-size: 14px;\">here</span><br/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span>_pTabDialog<span style=\"font-size: 14px;\">[_CurSelTab]-&gt;ShowWindow(SW_HIDE);<br/>&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><span style=\"font-size: 14px;\">_CurSelTab&nbsp;</span><wbr/><span style=\"font-size: 14px;\">=&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;_tabCtrl.GetCurSel();<br/>&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span>_pTabDialog<span style=\"font-size: 14px;\">[_CurSelTab]-&gt;ShowWindow(SW_SHOW);</span></p><p><span style=\"font-size: 14px;\">&nbsp; &nbsp;&nbsp;</span><wbr/><span style=\"font-size: 14px;\">*pResult&nbsp;</span><wbr/><span style=\"font-size: 14px;\">=&nbsp;</span><wbr/><span style=\"font-size: 14px;\">0;<br/>}</span></p><p><span style=\"font-size: 14px;\">首先我们先把当前的页面隐藏起来，然后得到新的页面索引，最后就把相关页面显示出来即可。这比一个个去枚举简单多了。</span></p><p><span style=\"font-size: 14px;\">还有一点比较有意思，那就是DDX/DDV机制的运用。要想获得Tab&nbsp;</span><wbr/><span style=\"font-size: 14px;\">Control各个页面的数据，可以利用DDX/DDV机制，但需要注意，因为这是多个页面，所以需要显式调用多次。</span></p><p><span style=\"font-size: 14px;\">void&nbsp;</span><wbr/><span style=\"font-size: 14px;\">CTab_testView::OnButton1()&nbsp;</span><wbr/><br/><span style=\"font-size: 14px;\">{<br/>&nbsp; &nbsp;&nbsp;</span><wbr/><span style=\"font-size: 14px;\">//&nbsp;</span><wbr/><span style=\"font-size: 14px;\">TODO:&nbsp;</span><wbr/><span style=\"font-size: 14px;\">Add&nbsp;</span><wbr/><span style=\"font-size: 14px;\">your&nbsp;</span><wbr/><span style=\"font-size: 14px;\">control&nbsp;</span><wbr/><span style=\"font-size: 14px;\">notification&nbsp;</span><wbr/><span style=\"font-size: 14px;\">handler&nbsp;</span><wbr/><span style=\"font-size: 14px;\">code&nbsp;</span><wbr/><span style=\"font-size: 14px;\">here<br/>&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">m_page1.UpdateData();<br/>&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">m_page2.UpdateData();<br/>&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">CString&nbsp;</span><wbr/><span style=\"font-size: 14px;\">str1&nbsp;</span><wbr/><span style=\"font-size: 14px;\">=&nbsp;</span><wbr/><span style=\"font-size: 14px;\">m_page1.m_str1;<br/>&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">CString&nbsp;</span><wbr/><span style=\"font-size: 14px;\">str2&nbsp;</span><wbr/><span style=\"font-size: 14px;\">=&nbsp;</span><wbr/><span style=\"font-size: 14px;\">m_page2.m_str2;<br/>&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">AfxMessageBox(str1);<br/>&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">&nbsp;</span><wbr/><span style=\"font-size: 14px;\">AfxMessageBox(str2);<br/>}</span></p><p>&nbsp;</p>','2014-06-17 02:36:43','2016-05-08 23:39:23'),(557,'183.63.215.55',1,'动态创建组控件,group box','<p>CButton myButton4;<br/>&nbsp;myButton4.Create(_T(&quot;My button&quot;), WS_CHILD|WS_VISIBLE|BS_GROUPBOX, <br/>&nbsp;&nbsp;&nbsp; CRect(10,100,200,230), this, 4);<br/>&nbsp;myButton4.ShowWindow(1);</p><p>&nbsp;</p><p>&nbsp;</p><p>//BS_GROUPBOX风格</p>','2014-06-20 02:39:32','2014-06-20 10:40:19'),(558,'14.216.2.115',31,'使用ssh公钥实现免密码登录','<p>&nbsp;<br/></p><p><wbr/></p><h3>SSH-KeyGen 的用法</h3><p>&nbsp;<wbr/></p><p>假设 A 为客户机器，B为目标机；<br/><br/>要达到的目的：<br/>A机器ssh登录B机器无需输入密码；<br/>加密方式选 \r\nrsa|dsa均可以，默认dsa<br/><br/>做法：<br/>1、登录A机器<br/>2、ssh-keygen -t rsa或dsa，将会生成密钥文件和私钥文件 id_rsa,id_rsa.pub或id_dsa,id_dsa.pub<br/>3、id_rsa.pub \r\n文件内容到B机器的 .ssh 目录的authorized_keys文件里面,没有authorized_keys文件自己创建一个<br/></p><p>4.设置authorized_keys文件,ssh目录,用户目录的权限!!!必须做...</p><p>[root@B&nbsp;<wbr/>~]#&nbsp;<wbr/>chmod&nbsp;<wbr/>600&nbsp;<wbr/>/root/.ssh/authorized_keys</p><p>[root@B&nbsp;<wbr style=\"white-space: normal;\"/>~]#&nbsp;<wbr style=\"white-space: normal;\"/>chmod&nbsp;<wbr style=\"white-space: normal;\"/>700&nbsp;<wbr style=\"white-space: normal;\"/>/root/.ssh<wbr/></p><p>[root@B&nbsp;<wbr style=\"white-space: normal;\"/>~]#&nbsp;<wbr style=\"white-space: normal;\"/>chmod&nbsp;<wbr style=\"white-space: normal;\"/>755&nbsp;<wbr style=\"white-space: normal;\"/>/root</p>','2014-06-21 04:11:19','2015-06-09 09:32:42'),(559,'27.44.24.101',28,'eeprom','<p>AT24C04&nbsp;--------------4K</p><p>http://item.taobao.com/item.htm?spm=a230r.1.14.81.leorHi&amp;id=13720120080&amp;ns=1#detail</p><p>-----------------------------------------------------------</p><p>&nbsp;</p><p>AT24C08&nbsp;--------------8K</p><p><a href=\"http://item.taobao.com/item.htm?spm=a230r.1.14.25.RUeGTc&amp;id=15871996343&amp;ns=1#detail\" _src=\"http://item.taobao.com/item.htm?spm=a230r.1.14.25.RUeGTc&amp;id=15871996343&amp;ns=1#detail\">http://item.taobao.com/item.htm?spm=a230r.1.14.25.RUeGTc&amp;id=15871996343&amp;ns=1#detail</a> </p><p style=\"white-space: normal;\">--------------------------------------------------------------</p><p style=\"white-space: normal;\"><br/></p><h3 class=\"tb-main-title\" data-title=\"直插 AT24C02 存储器/串口EEPROM 2.7-5.5V 2K DIP-8\" style=\"white-space: normal; margin: 0px; padding: 0px; font-size: 16px; min-height: 21px; line-height: 21px; color: rgb(60, 60, 60); font-family: tahoma, arial, &quot;Hiragino Sans GB&quot;, 宋体, sans-serif; background-color: rgb(255, 255, 255);\">AT24C02 -------2K</h3><h3 class=\"tb-main-title\" data-title=\"直插 AT24C02 存储器/串口EEPROM 2.7-5.5V 2K DIP-8\" style=\"white-space: normal; margin: 0px; padding: 0px; font-size: 16px; min-height: 21px; line-height: 21px; color: rgb(60, 60, 60); font-family: tahoma, arial, &quot;Hiragino Sans GB&quot;, 宋体, sans-serif; background-color: rgb(255, 255, 255);\"><span style=\"font-family: sans-serif;\"><a href=\"https://detail.tmall.com/item.htm?spm=a220m.1000858.1000725.16.vw4Gve&amp;id=536861440548&amp;cat_id=2&amp;rn=15c74b6f7eebb9b5e4a078d81cda6b30&amp;user_id=2455971529&amp;is_b=1\" _src=\"https://detail.tmall.com/item.htm?spm=a220m.1000858.1000725.16.vw4Gve&amp;id=536861440548&amp;cat_id=2&amp;rn=15c74b6f7eebb9b5e4a078d81cda6b30&amp;user_id=2455971529&amp;is_b=1\">https://detail.tmall.com/item.htm?spm=a220m.1000858.1000725.16.vw4Gve&amp;id=536861440548&amp;cat_id=2&amp;rn=15c74b6f7eebb9b5e4a078d81cda6b30&amp;user_id=2455971529&amp;is_b=1</a></span></h3><p>----------------------------------------------------------------</p><p><br/></p><p>25Q80SCP--------------8M闪存</p><p>W25Q64CVSIG</p><p><br/></p><h3 class=\"tb-main-title\" data-title=\"直插 AT24C02 存储器/串口EEPROM 2.7-5.5V 2K DIP-8\" style=\"margin: 0px; padding: 0px; font-size: 16px; min-height: 21px; line-height: 21px; color: rgb(60, 60, 60); font-family: tahoma, arial, &quot;Hiragino Sans GB&quot;, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-family: sans-serif;\">--------------------------------------------------------------------</span></h3><p><br/></p>','2014-07-05 23:29:18','2017-08-27 21:30:54'),(560,'14.217.210.129',28,'光耦','<p>EL817C</p><p>http://item.taobao.com/item.htm?spm=a1z10.3.w4-6568458531.31.Sd4B1z&amp;id=16900444052</p><h3 class=\"tb-main-title\" style=\"margin: 0px; padding: 0px; font-size: 16px; min-height: 21px; line-height: 21px; color: rgb(60, 60, 60); font-family: tahoma, arial, &#39;Hiragino Sans GB&#39;, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></h3>','2014-07-05 23:38:47','2014-07-06 07:38:47'),(561,'113.102.223.43',28,'stm32','<p>STM32F103V8T6 (13元)</p><p>http://item.taobao.com/item.htm?spm=a1z10.3.w17-6568458527.23.jHQoMx&amp;id=16164727362&amp;</p><p><br/></p>','2014-07-06 00:02:06','2015-01-03 01:28:05'),(562,'192.168.3.1',28,'电容指纹采集头','<p><strong>FPC1011F3指纹传感器中文数据手册&nbsp;</strong><br/></p><p><br/></p><p><strong>特点</strong>&nbsp;</p><p>1：具有耐划伤性防护的表面涂层 2：高质量的图像性能呈现&nbsp;</p><p>3：具有单像素256灰度值和三维图像呈现效果 4：优化后的人体工程接触方式 5：高速SPI接口 6：新型超薄的薄膜接头 7：工作电压在2.5V到3.3V间 8：最大防静电30KV 9：大于一千万的可摸次数&nbsp;</p><p>应用范例&nbsp;</p><p>1：PC外设&nbsp;</p><p>2：各种嵌入式或其他物理访问控制接口 3：考勤门禁应用 4：无线设备访问方式 5：医疗器材和存储设备接口</p><p><br/></p><p><strong>概述&nbsp;</strong></p><p>&nbsp;</p><p>FPC1011F3是具有若干优点的新型紧凑的CMOS指纹传感器。FPC1011F3能提</p><p>供优质的图像效果，每个像素点具有256灰度值。设备测量方式是发射一个电信号作用于手指后得到一帧反馈值，进而转为一定可识别值。该设备使用的是具有耐划伤性防护的表面涂层。该传感器在3D模式下可以识别任何类型指纹，不受手指干湿影响。 &nbsp;</p><p>由于具有耐划伤性防护的表面涂层，FPC1011F3可以承受的ESD包含超过</p><p>30KV，还能有效防止应用中的有意无意接触。FPC1011F3具有实用有效的人工学设计，便于用户操作接触，也会进一步提高了指纹算法的验证性能。FPC1011F3还具有新型超薄的薄膜接口。&nbsp;</p><p><br/></p><p><strong>简要参数&nbsp;</strong></p><p><strong><img src=\"/my/notes/js/ue/php/upload_img/20140714/14053128175119.jpg\" title=\"CatchScreen.jpg\"/></strong></p><p><br/></p><p><br/></p><p><br/></p><p style=\"padding: 0px; margin: 0px auto;\">1 FPC1011C的工作原理和性能特点<br style=\"padding: 0px; margin: 0px auto;\"/>&nbsp;&nbsp;&nbsp; FPC101lC是瑞典FingerPrint Cards公司推出的电容式指纹传感器。它利用了该公司的反射式探测技术(普通电容式指纹传感器采用的一般是直接式探测技术)，使指纹传感器的表面保护层厚度可以达到普通电容式指纹传感器的100倍左右，因此能够使指纹传感器具有更高的对干湿手指的适用性和更长的使用寿命。</p><p style=\"padding: 0px; margin: 0px auto;\">2 硬件设计<br style=\"padding: 0px; margin: 0px auto;\"/>&nbsp;&nbsp;&nbsp; 本文设计的指纹识别模块是由DSP、FPC1O11C、16MB的SDRAM和2 MB的NOR Flash、RS232接口，以及电源转换电路等组成。系统结构框图如图1所示。其中，DSP选用的是ADSF-BF531型数字信号处理器。它是由ADI和Intel公司合作，针对音频和视频信号的编解码、手持设备和移动通信设备而研发的16位定点处理器。</p><p style=\"padding: 0px; margin: 0px auto;\"><img src=\"/my/notes/js/ue/php/upload_img/20140714/14053133566152.jpg\" title=\"1346395105-0.jpg\"/></p><p style=\"padding: 0px; margin: 0px auto;\"><br style=\"padding: 0px; margin: 0px auto;\"/>2．1 工作原理<br style=\"padding: 0px; margin: 0px auto;\"/>&nbsp;&nbsp;&nbsp; 用户通过PC端软件发送命令给指纹识别模块，由电容式指纹传感器FPC1011C采集用户的指纹。DSP通过SPI接口读取来自传感器的指纹图像，并将指纹图像存储到SDRAM中。DSP运用指纹识别核心算法对图像进行运算，将运算出来的特征点和存储在Flash中的特征点进行比对，再通过指纹识别模块将比对结果输出至PC端显示比对结果。</p><p style=\"padding: 0px; margin: 0px auto;\">2. 2 指纹传感器部分的硬件设计<br style=\"padding: 0px; margin: 0px auto;\"/>&nbsp;&nbsp;&nbsp; DSP通过SPI口读取FPC1011C的指纹图像，并通过PF口来控制片选控制信号。FPC1011C通过SPI(串行外设接口)口和外部进行通信。通信时，需要把传感器设置成从机模式，DSP设置成主机模式；同时，把从机CPOL和CPHA设置为0的数据传输模式。指纹图像的最大传输速率可达4 Mpixel／s。<br style=\"padding: 0px; margin: 0px auto;\"/>&nbsp;&nbsp;&nbsp; 传感器部分的硬件电路接口如图2所示。</p><p style=\"padding: 0px; margin: 0px auto;\"><img src=\"/my/notes/js/ue/php/upload_img/20140714/14053132936055.jpg\" title=\"13463aI1-1.jpg\" style=\"float: none;\"/><br/></p><p style=\"padding: 0px; margin: 0px auto;\"><br/></p><p style=\"padding: 0px; margin: 0px auto;\"><br/></p><p style=\"padding: 0px; margin: 0px auto;\">3 传感器的驱动软件设计<br style=\"padding: 0px; margin: 0px auto;\"/>&nbsp;&nbsp;&nbsp; 采用ADI公司的VisualDSP++4．5集成开发环境软件进行C语言编程。按时序把指纹图像放在SDRAM的固定地址中，通过仿真器进行调试。读出所采集的指纹图像，观察指纹图像质量，进而调整指纹传感器的参数，使采集到的图像效果达到最佳。<br style=\"padding: 0px; margin: 0px auto;\"/>&nbsp;&nbsp;&nbsp; FPC1011C的指令及其功能如表1所列。</p><p style=\"padding: 0px; margin: 0px auto;\"><img src=\"/my/notes/js/ue/php/upload_img/20140714/14053132949037.jpg\" title=\"13463911W-2.jpg\" style=\"float: none;\"/><br/></p><p style=\"padding: 0px; margin: 0px auto;\"><br style=\"padding: 0px; margin: 0px auto;\"/>3．1 传感器初始化程序设计</p><p style=\"padding: 0px; margin: 0px auto;\"><img src=\"/my/notes/js/ue/php/upload_img/20140714/14053132949922.jpg\" title=\"1346395506-3.jpg\" style=\"float: none;\"/><br/></p><p style=\"padding: 0px; margin: 0px auto;\"><br/></p><p style=\"padding: 0px; margin: 0px auto;\">3．2 采集指纹图像程序设计</p><p style=\"padding: 0px; margin: 0px auto;\"><img src=\"/my/notes/js/ue/php/upload_img/20140714/14053132935835.jpg\" title=\"134639D26-4.jpg\" style=\"float: none;\"/><br/></p><p style=\"padding: 0px; margin: 0px auto;\">&nbsp;&nbsp;&nbsp; 可调整DriveC、ADCRef的值，使采集到的图像达到最佳效果。</p><p style=\"padding: 0px; margin: 0px auto;\">结语<br style=\"padding: 0px; margin: 0px auto;\"/>&nbsp;&nbsp;&nbsp; 本文采用电容式指纹传感器FPC1011C，结合DSP的嵌入式技术，设计了一种独立运行嵌入式系统的指纹识别模块。该模块可实现指纹图像的采集、预处理、指纹特征提取以及指纹匹配等功能，从采集指纹到核心指纹识别算法处理完成仅需要1 s，完全可满足用户的需求；同时，留有RS232接口，可以方便地与计算机通信。<br style=\"padding: 0px; margin: 0px auto;\"/>&nbsp;</p><p><br/></p>','2014-07-14 04:29:17','2015-08-08 13:27:30'),(564,'14.217.209.80',5,'Android获得已安装应用程序的列表','<p><span style=\"color: rgb(64, 64, 64); font-family: arial, sans-serif, verdana, helvetica; font-size: 14px; line-height: 25.200000762939453px;  background-color: rgb(250, 250, 250);\">列出所有已安装的应用程序：</span></p><p><span style=\"color: rgb(64, 64, 64); font-family: arial, sans-serif, verdana, helvetica; font-size: 14px; line-height: 25.200000762939453px;  background-color: rgb(250, 250, 250);\"><br/></span></p><pre class=\"brush:java;toolbar:false\">ListView&nbsp;lView;&nbsp;&nbsp;\r\nList&lt;String&gt;&nbsp;results&nbsp;=&nbsp;new&nbsp;&nbsp;ArrayList&lt;String&gt;();&nbsp;&nbsp;\r\n@Override&nbsp;&nbsp;\r\nprotected&nbsp;void&nbsp;onCreate(Bundle&nbsp;savedInstanceState)&nbsp;{&nbsp;&nbsp;\r\n&nbsp;super.onCreate(savedInstanceState);&nbsp;&nbsp;\r\n&nbsp;setContentView(R.layout.activity_main);&nbsp;&nbsp;\r\n&nbsp;lView&nbsp;=&nbsp;(ListView)&nbsp;findViewById(R.id.listView1);&nbsp;&nbsp;\r\n&nbsp;&nbsp;\r\n&nbsp;PackageManager&nbsp;pm&nbsp;=&nbsp;this.getPackageManager();&nbsp;&nbsp;\r\n&nbsp;Intent&nbsp;intent&nbsp;=&nbsp;new&nbsp;Intent(Intent.ACTION_MAIN,&nbsp;null);&nbsp;&nbsp;\r\n&nbsp;intent.addCategory(Intent.CATEGORY_LAUNCHER);&nbsp;&nbsp;\r\n&nbsp;&nbsp;\r\n&nbsp;List&lt;ResolveInfo&gt;&nbsp;list&nbsp;=&nbsp;pm.queryIntentActivities(intent,&nbsp;PackageManager.PERMISSION_GRANTED);&nbsp;&nbsp;\r\n&nbsp;&nbsp;\r\n&nbsp;for&nbsp;(ResolveInfo&nbsp;rInfo&nbsp;:&nbsp;list)&nbsp;{&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;results.add(rInfo.activityInfo.applicationInfo.loadLabel(pm).toString());&nbsp;&nbsp;\r\n&nbsp;}&nbsp;&nbsp;\r\n&nbsp;&nbsp;\r\n&nbsp;lView.setAdapter(new&nbsp;ArrayAdapter(this,&nbsp;android.R.layout.simple_list_item_1,&nbsp;results));</pre><p><span style=\"color: rgb(64, 64, 64); font-family: arial, sans-serif, verdana, helvetica; font-size: 14px; line-height: 25.200000762939453px;  background-color: rgb(250, 250, 250);\"></span><br/></p>','2014-07-17 08:04:12','2014-07-17 16:04:12'),(566,'192.168.2.111',65,'ubuntu的网络IP配置','<p>直接修改系统配置文件 ubuntu的网络配置文件是：/etc/network/interfaces &nbsp;打开后里面可设置DHCP或手动设置静态ip。前面auto eth0，让网卡开机自动挂载.</p><p><br/><strong>1. 以DHCP方式配置网卡编辑文件，切换到/etc/network/interfaces: 指定如下命令，</strong></p><p><strong>sudo vi &nbsp;/etc/network/interfaces</strong></p><p>并用下面的行来替换有关eth0的行:</p><p># The primary network &nbsp;interface - use DHCP to find our address</p><p>auto eth0 iface</p><p>eth0 inet dhcp</p><p>用下面的命令使网络设置生效: sudo /etc/init.d/networking restart</p><p>也可以在命令行下直接输入下面的命令来获取地址 sudo dhclient eth0</p><p><br/><strong>&nbsp;2. 为网卡配置静态IP地址编辑文件</strong></p><p><strong>/etc/network/interfaces: sudo vi &nbsp;/etc/network/interfaces</strong></p><p>并用下面的行来替换有关eth0的行:</p><p># The primary network &nbsp;interface</p><p>auto eth0</p><p>iface eth0 inet static</p><p>address 192.168.1.200</p><p>gateway 192.168.1.1</p><p>netmask 255.255.255.0</p><p>#是否修改/etc/resolv.conf文件</p><p>peerdns no</p><p>#network 203.171.239.128&nbsp;</p><p>#broadcast 192.168.3.159</p><p><br/></p><p><span style=\"color: rgb(255, 0, 0);\">一定要执行的命令,不然就算重新开机IP变了,却不能访问主机,命令: sudo &nbsp;/etc/init.d/networking restart</span><br/></p>','2014-07-25 15:04:59','2016-05-18 12:30:21'),(567,'14.217.214.126',65,'ubuntu 禁用root账户；创建、删除用户','<p>ubuntu中的root初装系统时是被禁用的，安装过程中提示创建的用户是被分到admin组的，可以启用并设置root帐户的密码。<br/> 系统启动后打开终端，输入man sudo_root回车，可以查看如何在管理员帐户下（非root）使用root权限.</p><p><br/><strong>启用root帐户的方法：打开终端－&gt;输入</strong><br/>sudo passwd root<br/> [sudo] password for username（安装时创建的用户名）：-&gt; 输入该用户密码，不回显<br/>Enter new UNIX password: --- &gt; 设置root 密码<br/>Retype new UNIX password: --&gt; 重复root 密码此时root用户启用，可以登陆.<br/></p><p><br/></p><p><strong>处于安全考虑，不推荐启用root帐户！　</strong><br/> 禁用 root 帐号，输入sudo passwd -l root即可。(参数-l就是lock)<br/>要重新启用就输入sudo passwd -u root即可。 (参数-u就是unlock)</p><p 0px=\\\"\\\" 21px=\\\"\\\">&nbsp;<wbr/></p><p 0px=\\\"\\\" 21px=\\\"\\\"><strong>创建新用户：</strong><br/>sudo adduser [新用户名]<br/>输入密码。<br/> 为新用户设置密码：<br/>sudo passwd [新用户名]<br/>Enter new UNIX password: --- &gt; 设置密码<br/>Retype new UNIX password:--- &gt; 重输密码<br/><br/> <strong>删除用户：</strong></p><p 0px=\\\"\\\" 21px=\\\"\\\">userdel&nbsp;<wbr/>&nbsp;username</p><p><br/></p>','2014-07-25 16:51:16','2014-08-04 12:50:42'),(568,'14.217.214.126',65,'ubuntu+apache2+php5+mysql5.0的安装','<p><span class=\\\"\\\\&quot;\\\\\\\\&quot;\\\\\\\\\\\\\\\\&quot;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;top11\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;\\\\\\\\\\\\\\\\&quot;\\\\\\\\&quot;\\\\&quot;\\\"></span></p><p>虽然ubuntu安装lamp很简单，但还是很多朋友安装不成功，借此把一下安装步骤写一下看看</p><p>&nbsp;</p><p><strong>安装步骤</strong></p><p><strong>1.更新源,更新已安装的包</strong></p><p><strong><code>sudo apt-get update &nbsp;</code></strong></p><p><br/></p><p><strong><code>sudo apt-get upgrade</code></strong></p><p><br/></p><p><strong>2. Install Database Server（传言现在只能装5.0的版本，别的我没实践过）</strong></p><p>#<strong><code>mysql-server-5.0是MYSQL5.0版本的数据库,不填默认最新</code></strong></p><p><strong><code>sudo apt-get install \r\nmysql-server mysql-client</code></strong></p><p><strong><code><br/></code></strong></p><p><strong>3. Install Apache HTTP Server</strong></p><p><strong><code>sudo apt-get install \r\napache2</code></strong></p><p><strong><code><br/></code></strong></p><p><strong>4.Install PHP5 and Apache PHP5 module</strong></p><p><strong><code>sudo apt-get install php5 \r\nlibapache2-mod-php5</code></strong><strong><code><br/></code></strong></p><p>sudo apt-get &nbsp;install php5-cli</p><p><strong><code><br/></code></strong></p><p><strong>5.Install php5-mysql</strong></p><p><span id=\\\"\\\\&quot;\\\\\\\\&quot;_baidu_bookmark_start_9\\\\\\\\&quot;\\\\&quot;\\\">‍</span></p><p>sudo apt-get install \r\nphp5-mysql</p><p><strong><br/></strong></p><p><strong>6. Restart Apache</strong></p><p><strong><code>sudo /etc/init.d/apache2 \r\nrestart</code></strong></p><p><strong><code><br/></code></strong></p><p><strong>7. Optionally, install phpMyAdmin</strong><br/><strong><code>sudo apt-get install \r\nphpmyadmin</code></strong></p><p><strong><br/></strong></p><p><strong><br/></strong></p><p><strong>配置</strong></p><p>1.配置php5</p><p><strong><code>sudo gedit \r\n/etc/php5/apache2/php.ini</code></strong></p><p>允许 mysql 和 gd \r\n模块，检查文件最后是否包含下面的代码，如果没有添加上。（默认是在配置文件最后有添加的，检查一下以防万一）<code><br/>extension=mysql.so<br/>extension=gd.so</code></p><p><code><br/></code></p><p>2.配置apache2</p><p>安装完上述的各个模块后，实际上基本配都OK了，只是一些小的细节问题<br/></p><p><br/>基本上多有的配置都在/etc/apache2目录及其子目录下完成，故一定要搞清楚这个目录结构。<br/></p><p><br/></p><p><br/></p><p><br/><strong>1.apache根目录</strong><br/></p><p><strong><br/></strong></p><p><strong>sudo gedit /etc/apache2/conf.d/charset</strong><br/>这个是网站编码配置，里面内容很少，打开看就知道了，我这里将最后行的 ＃AddDefaultCharset UTF-8 前面的#去掉，使用UTF-8编码，当然也可以把 UTF-8改成别的编码.</p><p><br/></p><p><strong>sudo gedit /etc/apache2/sites-available/default</strong></p><p>更改apache2运行路径，更改DocumentRoot 指向的路径（绝对路径），更改&lt; Directory &gt; 里的路径，和DocumentRoot保持一致</p><p><br/></p><p>安装完apache2，根目录在/var/www下，可以通过http://localhost/测试一下是否好用。<br/>当然也可以在该目录下新建一个文件test.html来试一试<a href=\\\"\\\\&quot;\\\\\\\\&quot;http://localhost/test.html。\\\\\\\\&quot;\\\\&quot;\\\" _src=\\\"\\\\&quot;\\\\\\\\&quot;http://localhost/test.html。\\\\\\\\&quot;\\\\&quot;\\\">http://localhost/test.html。</a></p><p>&nbsp;</p><p><br/><strong>2.PHP解析问题</strong><br/>安装完貌似php的解析都有点问题，浏览php网页会保存，apache没有将其解析为网页。<br/>网上一般说的是需要在httpd.conf中添加XXXX，对其他的linux系统可能确实如此，但是ubuntu有点特殊。<br/><br/>ubuntu的apache2配置在/etc/apache2目录下。<br/>这个目录下有个apache2.conf文件，这个文件通过包含其他配置文件涵盖了所有的apache2系统配置信息。<br/><br/>php解析部分在的配置在/etc/apache2/mods-available下的php5.conf和php5.load中，apache2.conf文件中并没有将这两个文件包含进来，只要包含进去就OK了。<br/>*************************************************<br/>在apache2.conf中找到<br/># Include module configuration:<br/>Include /etc/apache2/mods-enabled/*.load<br/>Include /etc/apache2/mods-enabled/*.conf<br/>在其后面添加<br/>Include /etc/apache2/mods-available/php5.load<br/>Include /etc/apache2/mods-available/php5.conf<br/>*************************************************<br/>另外一种方法就是将这两个文件链接到mods-enabled目录下：<br/>sudo ln -s /etc/apache2/mods-available/php5.load /etc/apache2/mods-enabled/php5.load<br/>sudo ln -s /etc/apache2/mods-available/php5.conf /etc/apache2/mods-enabled/php5.conf<br/>这一种方式更好一点，没有破坏apache2本身的配置结构。<br/>*************************************************<br/><br/><strong>3.改变apache2的默认目录到当前的开发目录</strong><br/><br/>apache2的默认目录配置在/etc/apache2/sites-enabled/00default文件中。<br/>找到该文件中的DocumentRoot项， 将/var/www改为你的开发目录就OK了。<br/></p><p><br/></p><p><strong>3.配置 mysql，让它支持其它客户端访问，如果你不需要就不用修改。</strong><br/></p><p>第一步：</p><p>vim /etc/mysql/my.cnf找到bind-address = 127.0.0.1<br/></p><p><br/></p><p>注释掉这行，如：#bind-address = 127.0.0.1</p><p>或者改为： bind-address = 0.0.0.0<br/></p><p>允许任意IP访问；</p><p>或者自己指定一个IP地址。</p><p>重启 MySQL：sudo /etc/init.d/mysql restart</p><p>第二步：<br/></p><p>登录MYSQL命令控制台,进行授权用户能进行远程连接</p><p>&nbsp;&nbsp; mysql -u root -p[密码]</p><p>&nbsp;&nbsp; grant all privileges on *.* to root@&quot;%&quot; identified by &quot;password&quot; with grant option;</p><p></p><p>&nbsp;&nbsp; &nbsp;flush privileges;</p><p>&nbsp;&nbsp; 第一行命令解释如下，*.*：第一个*代表数据库名；第二个*代表表名。这里的意思是所有数据库里的所有表都授权给用户。root：授予root账号。“%”：表示授权的用户IP可以指定，这里代表任意的IP地址都能访问MySQL数据库。“password”：分配账号对应的密码，这里密码自己替换成你的mysql root帐号密码。<br/></p><p>&nbsp;&nbsp; 第二行命令是刷新权限信息，也即是让我们所作的设置马上生效。</p><p><br/></p><p><strong><br/></strong></p><p><strong>4.测试</strong></p><p>为了检查你的</p><p><strong><strong>为检查你的PHP安装状态：</strong></strong></p><p><strong><strong>sudo gedit \r\n/var/www/testphp.php</strong></strong></p><p><strong><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</strong>&nbsp; &lt; ?php phpinfo(); ?&gt; </strong></p><p><br/></p><p><strong>5.apache服务</strong></p><p>使用如下命令运行 Apache：<br/><code>sudo /usr/sbin/apache2ctl \r\nstart</code></p><p>要停止 Apache，使用：<br/><code>sudo /usr/sbin/apache2ctl stop</code></p><p>最后，重启 Apache，执行如下命令：<br/><code>sudo /usr/sbin/apache2ctl \r\nrestart</code></p><p><br/></p>','2014-07-25 17:25:39','2014-08-04 12:50:25'),(569,'14.217.214.126',65,'查看ubuntu硬件信息','<p>&nbsp; 查看ubuntu硬件信息<br/><br/> 　　1, 主板信息<br/><br/> 　　.查看主板的序列号<br/><br/> 　　--------------------------------------------------<br/><br/>　　#使用命令<br/><br/> 　　dmidecode | grep -i &#39;serial number&#39;<br/><br/>　　#查看板卡信息<br/><br/> 　　cat /proc/pci<br/><br/>　　--------------------------------------------------<br/><br/>　　2, cpu信息<br/><br/> 　　--------------------------------------------------<br/><br/>　　#通过/proc文件系统<br/><br/> 　　1) cat /proc/cpuinfo<br/><br/>　　#通过查看开机信息<br/><br/> 　　2) dmesg | grep -i &#39;cpu&#39;<br/><br/>　　#<br/><br/>　　3)dmidecode -t processor<br/><br/>　　--------------------------------------------------<br/><br/>　　3, 硬盘信息<br/><br/> 　　--------------------------------------------------<br/><br/>　　#查看分区情况<br/><br/> 　　fdisk -l<br/><br/>　　#查看大小情况<br/><br/> 　　df -h<br/><br/>　　#查看使用情况<br/><br/> 　　du -h<br/><br/>　　#<br/><br/>　　hdparm -I /dev/sda<br/><br/>　　#<br/><br/>　　dmesg | grep sda<br/><br/>　　--------------------------------------------------<br/><br/>　　4, 内存信息<br/><br/> 　　--------------------------------------------------<br/><br/>　　1) cat /proc/meminfo<br/><br/>　　2) dmesg | grep mem<br/><br/>　　3) free -m<br/><br/>　　4) vmstat<br/><br/>　　5) dmidecode | grep -i mem<br/><br/>　　--------------------------------------------------<br/><br/>　　5, 网卡信息<br/><br/> 　　--------------------------------------------------<br/><br/>　　1) dmesg | grep -i &#39;eth&#39;<br/><br/>　　2) cat /etc/sysconfig/hwconf | grep -i eth<br/><br/>　　3) lspci | grep -i &#39;eth&#39;<br/><br/>　　--------------------------------------------------<br/><br/>　　6, 鼠标键盘和USB信息<br/><br/> 　　查看键盘和鼠标：cat /proc/bus/input/devices<br/><br/>　　查看USB设备：cat /proc/bus/usb/devices<br/><br/>　　查看各设备的中断请求(IRQ):cat /proc/interrupts<br/><br/>　　7, 显卡信息<br/><br/> 　　--------------------------------------------------<br/><br/>　　1)lspci |grep -i &#39;VGA&#39;<br/><br/>　　2)dmesg | grep -i &#39;VGA&#39;<br/><br/>　　--------------------------------------------------<br/><br/>　　8, 声卡信息<br/><br/> 　　--------------------------------------------------<br/><br/>　　1)&nbsp;lspci | grep -i &#39;audio&#39;<br/><br/>　　2)dmesg | grep -i audio&#39;<br/><br/>　　--------------------------------------------------<br/><br/>　　7, 其他命令<br/><br/> 　　.用硬件检测程序kuduz探测新硬件：service kudzu start ( or restart)<br/><br/>　　.dmesg (查看所有启动时检测到的硬件信息)<br/><br/>　　.lspci (显示外设信息, 如usb，网卡等信息)<br/><br/>　　.cat /etc/sysconfig/hwconf<br/><br/>　　.mpstat<br/><br/>　　8, 需要手动安装的工具<br/><br/> 　　lshw,hwinfo,hal-device-manager</p>','2014-07-26 18:22:46','2014-08-04 12:50:17'),(570,'14.217.214.126',65,'Ubuntu挂载新硬盘','<p><strong>原文<a href=\\\"http://www.cnblogs.com/avril/archive/2010/03/23/1692783.html\\\" _src=\\\"http://www.cnblogs.com/avril/archive/2010/03/23/1692783.html\\\">http://www.cnblogs.com/avril/archive/2010/03/23/1692783.html</a></strong></p><p><strong>&nbsp;<br/></strong></p><p><strong><br/></strong></p><p><strong>1、加挂硬盘</strong> <br/></p><pre class=\\\"brush:bash;toolbar:false\\\">sudo&nbsp;hdparm&nbsp;-I&nbsp;/dev/sdb&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;硬盘硬件安装后，此命令测试linux系统是否能找到挂载的未分区硬盘</pre><pre class=\\\"shell\\\" style=\\\"display: none;\\\" name=\\\"code\\\">sudo&nbsp;hdparm&nbsp;-I&nbsp;/dev/sdb&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;硬盘硬件安装后，此命令测试linux系统是否能找到挂载的未分区硬盘</pre><p>&nbsp;</p><p><strong>2、创建分区</strong> </p><pre class=\\\"brush:bash;toolbar:false\\\">sudo&nbsp;fdisk&nbsp;/dev/sdb</pre><pre class=\\\"shell\\\" style=\\\"display: none;\\\" name=\\\"code\\\">sudo&nbsp;fdisk&nbsp;/dev/sdb</pre><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sda是第一块SCSI硬盘，sdb第二块，以此类推...物理分区使用a、b编号，每个物理硬盘最多有四个主逻辑分区（或扩展分区），所以自动分区中，扩展分区sda2下第一个逻辑分区编号从5开始</p><p>第一次执行sudo fdisk /dev/sdb，出现了Error: Unable to open /dev/sdb - unrecognised disk label.&nbsp; 提示找不到磁盘标签，可以使用 parted 进行分区(sudo parted&nbsp; /dev/sdb )。</p><pre class=\\\"brush:bash;toolbar:false\\\">Command&nbsp;(m&nbsp;for&nbsp;help):&nbsp;&nbsp;&nbsp;\r\n这里按m获得帮助&nbsp;&nbsp;&nbsp;\r\na&nbsp;&nbsp;&nbsp;toggle&nbsp;a&nbsp;bootable&nbsp;flag&nbsp;&nbsp;&nbsp;将分区设置为启动区&nbsp;&nbsp;&nbsp;\r\nb&nbsp;&nbsp;&nbsp;edit&nbsp;bsd&nbsp;disklabel&nbsp;&nbsp;&nbsp;&nbsp;编辑bsd的disklabel&nbsp;&nbsp;&nbsp;\r\nc&nbsp;&nbsp;&nbsp;toggle&nbsp;the&nbsp;dos&nbsp;compatibility&nbsp;flag&nbsp;&nbsp;设置该分区为dos分区&nbsp;&nbsp;&nbsp;\r\nd&nbsp;&nbsp;&nbsp;delete&nbsp;a&nbsp;partition&nbsp;删除分区&nbsp;&nbsp;&nbsp;\r\nl&nbsp;&nbsp;&nbsp;list&nbsp;known&nbsp;partition&nbsp;types&nbsp;&nbsp;列出已知的分区类型&nbsp;&nbsp;&nbsp;\r\nm&nbsp;&nbsp;&nbsp;print&nbsp;this&nbsp;menu&nbsp;&nbsp;打印帮助列表&nbsp;&nbsp;&nbsp;\r\nn&nbsp;&nbsp;&nbsp;add&nbsp;a&nbsp;new&nbsp;partition&nbsp;创建新分区&nbsp;&nbsp;&nbsp;\r\no&nbsp;&nbsp;&nbsp;create&nbsp;a&nbsp;new&nbsp;empty&nbsp;DOS&nbsp;partition&nbsp;table&nbsp;&nbsp;&nbsp;\r\np&nbsp;&nbsp;&nbsp;print&nbsp;the&nbsp;partition&nbsp;table查看分区信息&nbsp;&nbsp;&nbsp;\r\nq&nbsp;&nbsp;&nbsp;quit&nbsp;without&nbsp;saving&nbsp;changes&nbsp;退出不保存&nbsp;&nbsp;&nbsp;\r\ns&nbsp;&nbsp;&nbsp;create&nbsp;a&nbsp;new&nbsp;empty&nbsp;Sun&nbsp;disklabel&nbsp;&nbsp;&nbsp;\r\nt&nbsp;&nbsp;&nbsp;change&nbsp;a&nbsp;partition&#39;s&nbsp;system&nbsp;id改变分区类型&nbsp;&nbsp;&nbsp;\r\nu&nbsp;&nbsp;&nbsp;change&nbsp;display/entry&nbsp;units&nbsp;&nbsp;&nbsp;\r\nv&nbsp;&nbsp;&nbsp;verify&nbsp;the&nbsp;partition&nbsp;table&nbsp;&nbsp;&nbsp;\r\nw&nbsp;&nbsp;&nbsp;write&nbsp;table&nbsp;to&nbsp;disk&nbsp;and&nbsp;exit&nbsp;保存退出&nbsp;&nbsp;&nbsp;\r\nx&nbsp;&nbsp;&nbsp;extra&nbsp;functionality&nbsp;(experts&nbsp;only)&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;\r\nCommand&nbsp;(m&nbsp;for&nbsp;help):p&nbsp;&nbsp;//查看新硬盘的分区&nbsp;&nbsp;&nbsp;\r\n********************************************************************&nbsp;&nbsp;&nbsp;\r\nDisk&nbsp;/dev/sdb:&nbsp;1000204&nbsp;MB,&nbsp;1000202273280&nbsp;bytes&nbsp;&nbsp;&nbsp;\r\n255&nbsp;heads,&nbsp;63&nbsp;sectors/track,&nbsp;121601&nbsp;cylinders&nbsp;&nbsp;&nbsp;\r\nUnits&nbsp;=&nbsp;cylinders&nbsp;of&nbsp;16065&nbsp;*&nbsp;512&nbsp;=&nbsp;8225280&nbsp;bytes&nbsp;&nbsp;&nbsp;\r\nDevice&nbsp;Boot&nbsp;Start&nbsp;End&nbsp;Blocks&nbsp;Id&nbsp;System&nbsp;&nbsp;&nbsp;\r\n********************************************************************&nbsp;&nbsp;&nbsp;\r\nCommand&nbsp;(m&nbsp;for&nbsp;help):n&nbsp;&nbsp;//创建新分区&nbsp;&nbsp;&nbsp;\r\nFile&nbsp;system&nbsp;type&nbsp;&nbsp;(default&nbsp;ext2):&nbsp;ext3&nbsp;&nbsp;&nbsp;&nbsp;//输入想使用的分区格式&nbsp;&nbsp;&nbsp;\r\nPartition&nbsp;name:&nbsp;&nbsp;backup&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//输入分区的名字&nbsp;&nbsp;&nbsp;\r\nFirst&nbsp;cylinder&nbsp;&nbsp;(default&nbsp;0cyl):&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//第几个柱面，我们按照默认&nbsp;&nbsp;&nbsp;\r\nLast&nbsp;cylinder&nbsp;or&nbsp;+size&nbsp;or&nbsp;+sizeMB&nbsp;or&nbsp;+sizeKB&nbsp;&nbsp;(default&nbsp;0cyl):+1000000M&nbsp;&nbsp;&nbsp;&nbsp;//这里我们按大小输入&nbsp;即+1000000M&nbsp;(注意这个M为大写)&nbsp;&nbsp;&nbsp;\r\nWarning:&nbsp;You&nbsp;requested&nbsp;a&nbsp;partition&nbsp;from&nbsp;0cyl&nbsp;to&nbsp;121576cyl.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\nThe&nbsp;closest&nbsp;location&nbsp;we&nbsp;can&nbsp;manage&nbsp;is&nbsp;1cyl&nbsp;to&nbsp;121575cyl.&nbsp;&nbsp;Is&nbsp;this&nbsp;still&nbsp;&nbsp;&nbsp;\r\nacceptable&nbsp;to&nbsp;you?&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;y&nbsp;&nbsp;&nbsp;Yes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;n&nbsp;&nbsp;&nbsp;No&nbsp;&nbsp;&nbsp;\r\n当然是y&nbsp;&nbsp;&nbsp;\r\nCommand&nbsp;(m&nbsp;for&nbsp;help):&nbsp;p&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//查看新硬盘分区后的情况&nbsp;&nbsp;&nbsp;\r\n********************************************************************&nbsp;&nbsp;&nbsp;\r\nDisk&nbsp;/dev/sdb:&nbsp;1000&nbsp;GB,&nbsp;1000202273280&nbsp;bytes&nbsp;&nbsp;&nbsp;\r\n255&nbsp;heads,&nbsp;63&nbsp;sectors/track,&nbsp;121601&nbsp;cylinders&nbsp;&nbsp;&nbsp;\r\nUnits&nbsp;=&nbsp;cylinders&nbsp;of&nbsp;16065&nbsp;*&nbsp;512&nbsp;=&nbsp;8225280&nbsp;bytes&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;Device&nbsp;Boot&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Start&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;End&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Blocks&nbsp;&nbsp;&nbsp;Id&nbsp;&nbsp;System&nbsp;&nbsp;&nbsp;&nbsp;\r\n/dev/sdb1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;121576&nbsp;&nbsp;&nbsp;976559157&nbsp;&nbsp;&nbsp;83&nbsp;&nbsp;Linux&nbsp;&nbsp;&nbsp;&nbsp;\r\n******************************************************************&nbsp;&nbsp;&nbsp;\r\nCommand&nbsp;(m&nbsp;for&nbsp;help):&nbsp;w&nbsp;&nbsp;&nbsp;\r\nInformation:&nbsp;Don&#39;t&nbsp;forget&nbsp;to&nbsp;update&nbsp;/etc/fstab,&nbsp;if&nbsp;necessary.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//写入硬盘分区属性并结束</pre><pre class=\\\"shell\\\" style=\\\"display: none;\\\" name=\\\"code\\\">Command&nbsp;(m&nbsp;for&nbsp;help):\r\n这里按m获得帮助\r\na&nbsp;&nbsp;&nbsp;toggle&nbsp;a&nbsp;bootable&nbsp;flag&nbsp;&nbsp;&nbsp;将分区设置为启动区\r\nb&nbsp;&nbsp;&nbsp;edit&nbsp;bsd&nbsp;disklabel&nbsp;&nbsp;&nbsp;&nbsp;编辑bsd的disklabel\r\nc&nbsp;&nbsp;&nbsp;toggle&nbsp;the&nbsp;dos&nbsp;compatibility&nbsp;flag&nbsp;&nbsp;设置该分区为dos分区\r\nd&nbsp;&nbsp;&nbsp;delete&nbsp;a&nbsp;partition&nbsp;删除分区\r\nl&nbsp;&nbsp;&nbsp;list&nbsp;known&nbsp;partition&nbsp;types&nbsp;&nbsp;列出已知的分区类型\r\nm&nbsp;&nbsp;&nbsp;print&nbsp;this&nbsp;menu&nbsp;&nbsp;打印帮助列表\r\nn&nbsp;&nbsp;&nbsp;add&nbsp;a&nbsp;new&nbsp;partition&nbsp;创建新分区\r\no&nbsp;&nbsp;&nbsp;create&nbsp;a&nbsp;new&nbsp;empty&nbsp;DOS&nbsp;partition&nbsp;table\r\np&nbsp;&nbsp;&nbsp;print&nbsp;the&nbsp;partition&nbsp;table查看分区信息\r\nq&nbsp;&nbsp;&nbsp;quit&nbsp;without&nbsp;saving&nbsp;changes&nbsp;退出不保存\r\ns&nbsp;&nbsp;&nbsp;create&nbsp;a&nbsp;new&nbsp;empty&nbsp;Sun&nbsp;disklabel\r\nt&nbsp;&nbsp;&nbsp;change&nbsp;a&nbsp;partition&#39;s&nbsp;system&nbsp;id改变分区类型\r\nu&nbsp;&nbsp;&nbsp;change&nbsp;display/entry&nbsp;units\r\nv&nbsp;&nbsp;&nbsp;verify&nbsp;the&nbsp;partition&nbsp;table\r\nw&nbsp;&nbsp;&nbsp;write&nbsp;table&nbsp;to&nbsp;disk&nbsp;and&nbsp;exit&nbsp;保存退出\r\nx&nbsp;&nbsp;&nbsp;extra&nbsp;functionality&nbsp;(experts&nbsp;only)\r\n\r\nCommand&nbsp;(m&nbsp;for&nbsp;help):p&nbsp;&nbsp;//查看新硬盘的分区\r\n********************************************************************\r\nDisk&nbsp;/dev/sdb:&nbsp;1000204&nbsp;MB,&nbsp;1000202273280&nbsp;bytes\r\n255&nbsp;heads,&nbsp;63&nbsp;sectors/track,&nbsp;121601&nbsp;cylinders\r\nUnits&nbsp;=&nbsp;cylinders&nbsp;of&nbsp;16065&nbsp;*&nbsp;512&nbsp;=&nbsp;8225280&nbsp;bytes\r\nDevice&nbsp;Boot&nbsp;Start&nbsp;End&nbsp;Blocks&nbsp;Id&nbsp;System\r\n********************************************************************\r\nCommand&nbsp;(m&nbsp;for&nbsp;help):n&nbsp;&nbsp;//创建新分区\r\nFile&nbsp;system&nbsp;type&nbsp;&nbsp;(default&nbsp;ext2):&nbsp;ext3&nbsp;&nbsp;&nbsp;&nbsp;//输入想使用的分区格式\r\nPartition&nbsp;name:&nbsp;&nbsp;backup&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//输入分区的名字\r\nFirst&nbsp;cylinder&nbsp;&nbsp;(default&nbsp;0cyl):&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//第几个柱面，我们按照默认\r\nLast&nbsp;cylinder&nbsp;or&nbsp;+size&nbsp;or&nbsp;+sizeMB&nbsp;or&nbsp;+sizeKB&nbsp;&nbsp;(default&nbsp;0cyl):+1000000M&nbsp;&nbsp;&nbsp;&nbsp;//这里我们按大小输入&nbsp;即+1000000M&nbsp;(注意这个M为大写)\r\nWarning:&nbsp;You&nbsp;requested&nbsp;a&nbsp;partition&nbsp;from&nbsp;0cyl&nbsp;to&nbsp;121576cyl.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\nThe&nbsp;closest&nbsp;location&nbsp;we&nbsp;can&nbsp;manage&nbsp;is&nbsp;1cyl&nbsp;to&nbsp;121575cyl.&nbsp;&nbsp;Is&nbsp;this&nbsp;still\r\nacceptable&nbsp;to&nbsp;you?\r\n&nbsp;&nbsp;&nbsp;y&nbsp;&nbsp;&nbsp;Yes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;n&nbsp;&nbsp;&nbsp;No\r\n当然是y\r\nCommand&nbsp;(m&nbsp;for&nbsp;help):&nbsp;p&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//查看新硬盘分区后的情况\r\n********************************************************************\r\nDisk&nbsp;/dev/sdb:&nbsp;1000&nbsp;GB,&nbsp;1000202273280&nbsp;bytes\r\n255&nbsp;heads,&nbsp;63&nbsp;sectors/track,&nbsp;121601&nbsp;cylinders\r\nUnits&nbsp;=&nbsp;cylinders&nbsp;of&nbsp;16065&nbsp;*&nbsp;512&nbsp;=&nbsp;8225280&nbsp;bytes\r\n\r\n&nbsp;&nbsp;&nbsp;Device&nbsp;Boot&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Start&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;End&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Blocks&nbsp;&nbsp;&nbsp;Id&nbsp;&nbsp;System&nbsp;\r\n/dev/sdb1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;121576&nbsp;&nbsp;&nbsp;976559157&nbsp;&nbsp;&nbsp;83&nbsp;&nbsp;Linux&nbsp;\r\n******************************************************************\r\nCommand&nbsp;(m&nbsp;for&nbsp;help):&nbsp;w\r\nInformation:&nbsp;Don&#39;t&nbsp;forget&nbsp;to&nbsp;update&nbsp;/etc/fstab,&nbsp;if&nbsp;necessary.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//写入硬盘分区属性并结束</pre><p>&nbsp;</p><p><strong>3、格式化硬盘</strong> </p><pre class=\\\"brush:bash;toolbar:false\\\">sudo&nbsp;mkfs&nbsp;-t&nbsp;ext3&nbsp;/dev/sdb1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//把上面创建的新硬盘分区格式化为ext3格式，这个要等一会才能自动结束&nbsp;&nbsp;&nbsp;\r\n********************************************************************************&nbsp;&nbsp;&nbsp;\r\nmke2fs&nbsp;1.40.8&nbsp;(13-Mar-2008)&nbsp;&nbsp;&nbsp;\r\nFilesystem&nbsp;label=&nbsp;&nbsp;&nbsp;\r\nOS&nbsp;type:&nbsp;Linux&nbsp;&nbsp;&nbsp;\r\nBlock&nbsp;size=4096&nbsp;(log=2)&nbsp;&nbsp;&nbsp;\r\nFragment&nbsp;size=4096&nbsp;(log=2)&nbsp;&nbsp;&nbsp;\r\n61038592&nbsp;inodes,&nbsp;244137796&nbsp;blocks&nbsp;&nbsp;&nbsp;\r\n12206889&nbsp;blocks&nbsp;(5.00%)&nbsp;reserved&nbsp;for&nbsp;the&nbsp;super&nbsp;user&nbsp;&nbsp;&nbsp;\r\nFirst&nbsp;data&nbsp;block=0&nbsp;&nbsp;\r\nMaximum&nbsp;filesystem&nbsp;blocks=0&nbsp;&nbsp;\r\n7451&nbsp;block&nbsp;groups&nbsp;&nbsp;&nbsp;\r\n32768&nbsp;blocks&nbsp;per&nbsp;group,&nbsp;32768&nbsp;fragments&nbsp;per&nbsp;group&nbsp;&nbsp;&nbsp;\r\n8192&nbsp;inodes&nbsp;per&nbsp;group&nbsp;&nbsp;&nbsp;\r\nSuperblock&nbsp;backups&nbsp;stored&nbsp;on&nbsp;blocks:&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;32768,&nbsp;98304,&nbsp;163840,&nbsp;229376,&nbsp;294912,&nbsp;819200,&nbsp;884736,&nbsp;1605632,&nbsp;2654208,&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;4096000,&nbsp;7962624,&nbsp;11239424,&nbsp;20480000,&nbsp;23887872,&nbsp;71663616,&nbsp;78675968,&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;102400000,&nbsp;214990848&nbsp;&nbsp;\r\n&nbsp;&nbsp;\r\nWriting&nbsp;inode&nbsp;tables:&nbsp;done&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\nCreating&nbsp;journal&nbsp;(32768&nbsp;blocks):&nbsp;done&nbsp;&nbsp;&nbsp;\r\nWriting&nbsp;superblocks&nbsp;and&nbsp;filesystem&nbsp;accounting&nbsp;information:&nbsp;done&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;\r\nThis&nbsp;filesystem&nbsp;will&nbsp;be&nbsp;automatically&nbsp;checked&nbsp;every&nbsp;37&nbsp;mounts&nbsp;or&nbsp;&nbsp;&nbsp;\r\n180&nbsp;days,&nbsp;whichever&nbsp;comes&nbsp;first.&nbsp;&nbsp;Use&nbsp;tune2fs&nbsp;-c&nbsp;or&nbsp;-i&nbsp;to&nbsp;override.&nbsp;&nbsp;&nbsp;\r\n********************************************************************************</pre><pre class=\\\"shell\\\" style=\\\"display: none;\\\" name=\\\"code\\\">sudo&nbsp;mkfs&nbsp;-t&nbsp;ext3&nbsp;/dev/sdb1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//把上面创建的新硬盘分区格式化为ext3格式，这个要等一会才能自动结束\r\n********************************************************************************\r\nmke2fs&nbsp;1.40.8&nbsp;(13-Mar-2008)\r\nFilesystem&nbsp;label=\r\nOS&nbsp;type:&nbsp;Linux\r\nBlock&nbsp;size=4096&nbsp;(log=2)\r\nFragment&nbsp;size=4096&nbsp;(log=2)\r\n61038592&nbsp;inodes,&nbsp;244137796&nbsp;blocks\r\n12206889&nbsp;blocks&nbsp;(5.00%)&nbsp;reserved&nbsp;for&nbsp;the&nbsp;super&nbsp;user\r\nFirst&nbsp;data&nbsp;block=0\r\nMaximum&nbsp;filesystem&nbsp;blocks=0\r\n7451&nbsp;block&nbsp;groups\r\n32768&nbsp;blocks&nbsp;per&nbsp;group,&nbsp;32768&nbsp;fragments&nbsp;per&nbsp;group\r\n8192&nbsp;inodes&nbsp;per&nbsp;group\r\nSuperblock&nbsp;backups&nbsp;stored&nbsp;on&nbsp;blocks:\r\n&nbsp;&nbsp;&nbsp;&nbsp;32768,&nbsp;98304,&nbsp;163840,&nbsp;229376,&nbsp;294912,&nbsp;819200,&nbsp;884736,&nbsp;1605632,&nbsp;2654208,\r\n&nbsp;&nbsp;&nbsp;&nbsp;4096000,&nbsp;7962624,&nbsp;11239424,&nbsp;20480000,&nbsp;23887872,&nbsp;71663616,&nbsp;78675968,\r\n&nbsp;&nbsp;&nbsp;&nbsp;102400000,&nbsp;214990848\r\n\r\nWriting&nbsp;inode&nbsp;tables:&nbsp;done&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\nCreating&nbsp;journal&nbsp;(32768&nbsp;blocks):&nbsp;done\r\nWriting&nbsp;superblocks&nbsp;and&nbsp;filesystem&nbsp;accounting&nbsp;information:&nbsp;done\r\n\r\nThis&nbsp;filesystem&nbsp;will&nbsp;be&nbsp;automatically&nbsp;checked&nbsp;every&nbsp;37&nbsp;mounts&nbsp;or\r\n180&nbsp;days,&nbsp;whichever&nbsp;comes&nbsp;first.&nbsp;&nbsp;Use&nbsp;tune2fs&nbsp;-c&nbsp;or&nbsp;-i&nbsp;to&nbsp;override.\r\n********************************************************************************</pre><p>&nbsp;</p><p><strong>4、设置sdb1的卷标</strong> </p><p>&nbsp;<a title=\\\"复制代码\\\" href=\\\"http://www.cnblogs.com/avril/admin/EditPosts.aspx?postid=1692783&amp;update=1#\\\" target=\\\"_blank\\\"></a></p><pre class=\\\"brush:bash;toolbar:false\\\">sudo&nbsp;e2label&nbsp;/dev/sdb1&nbsp;/backup&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//这里/backup&nbsp;就是在/dev/sdb1根下起了个名字</pre><pre class=\\\"shell\\\" style=\\\"display: none;\\\" name=\\\"code\\\">sudo&nbsp;e2label&nbsp;/dev/sdb1&nbsp;/backup&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//这里/backup&nbsp;就是在/dev/sdb1根下起了个名字</pre><p>&nbsp;</p><p><br/></p><p><strong>5、设置挂载点</strong> </p><p><br/></p><pre class=\\\"brush:bash;toolbar:false\\\">sudo&nbsp;mkdir&nbsp;/backup&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//在根路径下创建挂载点</pre><pre class=\\\"shell\\\" style=\\\"display: none;\\\" name=\\\"code\\\">sudo&nbsp;mkdir&nbsp;/backup&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//在根路径下创建挂载点</pre><p>&nbsp;</p><p><br/></p><p><strong>6、设置开机自动挂载</strong> </p><pre class=\\\"brush:bash;toolbar:false\\\">sudo&nbsp;vim&nbsp;/etc/fstab</pre><pre class=\\\"shell\\\" style=\\\"display: none;\\\" name=\\\"code\\\">sudo&nbsp;vim&nbsp;/etc/fstab</pre><p>&nbsp;</p><p>&lt;file system&gt; &lt;mount point&gt;&nbsp;&nbsp; &lt;type&gt;&nbsp; &lt;options&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;dump&gt;&nbsp;&nbsp;&nbsp; &nbsp; &lt;pass&gt;</p><p>&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; 2&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 4&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 5&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 6</p><p><br/>1 指代文件系统的设备名。最初，该字段只包含待挂载分区的设备名（如/dev/sda1）。现在，除设备名外，还可以包含LABEL或UUID<br/>2 文件系统挂载点。文件系统包含挂载点下整个目录树结构里的所有数据，除非其中某个目录又挂载了另一个文件系统<br/>3 文件系统类型。下面是多数常见文件系统类型（ext3,tmpfs,devpts,sysfs,proc,swap,vfat）<br/>4 mount命令选项。mount选项包括noauto（启动时不挂载该文件系统）和ro（只读方式挂载文件系统）等。在该字段里添加用户或属主选项，即可允许该用户挂载文件系统。多个选项之间必须用逗号隔开。其他选项的相关信息可参看mount命令手册页（-o选项处）<br/>5转储文件系统？该字段只在用dump备份时才有意义。数字1表示该文件系统需要转储，0表示不需要转储<br/>6文件系统检查？该字段里的数字表示文件系统是否需要用fsck检查。0表示不必检查该文件系统，数字1示意该文件系统需要先行检查（用于根文件系统）。数字2则表示完成根文件系统检查后，再检查该文件系统<br/></p><p><br/>文件中增加如下配置信息</p><pre class=\\\"brush:bash;toolbar:false\\\">LABEL=/backup&nbsp;&nbsp;&nbsp;/backup&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ext3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defaults&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2</pre><pre class=\\\"shell\\\" style=\\\"display: none;\\\" name=\\\"code\\\">LABEL=/backup&nbsp;&nbsp;&nbsp;/backup&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ext3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defaults&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2</pre><p>&nbsp;挂载分区的卷标名称 &nbsp;&nbsp; 挂载点&nbsp; 挂载分区文件类型&nbsp; 挂载方式&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 略&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; 略</p><p>或者</p><pre class=\\\"brush:bash;toolbar:false\\\">/dev/sdb1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/backup&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ext3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defaults&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2</pre><pre class=\\\"shell\\\" style=\\\"display: none;\\\" name=\\\"code\\\">/dev/sdb1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/backup&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ext3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defaults&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2</pre><p><br/></p><p>或者在命令行手动挂载（每次重启机器后都需要执行一次）</p><p><br/></p><pre class=\\\"brush:bash;toolbar:false\\\">mount&nbsp;-vl&nbsp;-t&nbsp;ext3&nbsp;/dev/sdb1&nbsp;/backup&nbsp;&nbsp;挂载文件系统/显示标签</pre><pre class=\\\"shell\\\" style=\\\"display: none;\\\" name=\\\"code\\\">mount&nbsp;-vl&nbsp;-t&nbsp;ext3&nbsp;/dev/sdb1&nbsp;/backup&nbsp;&nbsp;挂载文件系统/显示标签</pre><p>&nbsp;</p><p><br/></p><p><strong>7、重启机器查看结果</strong> </p><p><br/></p><pre class=\\\"brush:bash;toolbar:false\\\">df&nbsp;-h&nbsp;//查看分区空间使用情况，就可以看到/backup已经自动挂载&nbsp;&nbsp;&nbsp;\r\nFilesystem&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Size&nbsp;&nbsp;Used&nbsp;Avail&nbsp;Use%&nbsp;Mounted&nbsp;on&nbsp;&nbsp;&nbsp;\r\n/dev/sda1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;139G&nbsp;&nbsp;121G&nbsp;&nbsp;&nbsp;12G&nbsp;&nbsp;92%&nbsp;/&nbsp;&nbsp;&nbsp;\r\nvarrun&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.3G&nbsp;&nbsp;&nbsp;68K&nbsp;&nbsp;1.3G&nbsp;&nbsp;&nbsp;1%&nbsp;/var/run&nbsp;&nbsp;&nbsp;\r\nvarlock&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.3G&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;1.3G&nbsp;&nbsp;&nbsp;0%&nbsp;/var/lock&nbsp;&nbsp;&nbsp;\r\nudev&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.3G&nbsp;&nbsp;&nbsp;32K&nbsp;&nbsp;1.3G&nbsp;&nbsp;&nbsp;1%&nbsp;/dev&nbsp;&nbsp;&nbsp;\r\ndevshm&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.3G&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;1.3G&nbsp;&nbsp;&nbsp;0%&nbsp;/dev/shm&nbsp;&nbsp;&nbsp;\r\n/dev/sdb1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;924G&nbsp;&nbsp;&nbsp;11G&nbsp;&nbsp;867G&nbsp;&nbsp;&nbsp;2%&nbsp;/backup</pre><pre class=\\\"shell\\\" style=\\\"display: none;\\\" name=\\\"code\\\">df&nbsp;-h&nbsp;//查看分区空间使用情况，就可以看到/backup已经自动挂载\r\nFilesystem&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Size&nbsp;&nbsp;Used&nbsp;Avail&nbsp;Use%&nbsp;Mounted&nbsp;on\r\n/dev/sda1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;139G&nbsp;&nbsp;121G&nbsp;&nbsp;&nbsp;12G&nbsp;&nbsp;92%&nbsp;/\r\nvarrun&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.3G&nbsp;&nbsp;&nbsp;68K&nbsp;&nbsp;1.3G&nbsp;&nbsp;&nbsp;1%&nbsp;/var/run\r\nvarlock&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.3G&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;1.3G&nbsp;&nbsp;&nbsp;0%&nbsp;/var/lock\r\nudev&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.3G&nbsp;&nbsp;&nbsp;32K&nbsp;&nbsp;1.3G&nbsp;&nbsp;&nbsp;1%&nbsp;/dev\r\ndevshm&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.3G&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;1.3G&nbsp;&nbsp;&nbsp;0%&nbsp;/dev/shm\r\n/dev/sdb1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;924G&nbsp;&nbsp;&nbsp;11G&nbsp;&nbsp;867G&nbsp;&nbsp;&nbsp;2%&nbsp;/backup</pre><p>&nbsp;成功了</p><p><br/></p>','2014-07-26 18:45:04','2014-08-04 12:50:06'),(571,'14.217.225.200',31,'网线(双绞线)的标准接法','<p><span style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px;  background-color: rgb(253, 254, 255);\">&nbsp;局域网就是将单独的微机或终端，利用通信线路相互连接起来，遵循一定的协议，进行信息交换，实现资源共享。其中，通信线路，即传输介质常用的有：双绞线、同轴电缆、光纤等。从性价比和可维护性出发，大多数局域网使用非屏蔽双绞线(UTP—Unshielded Twisted Pair)作为布线的传输介质来组网。</span><br style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px; white-space: normal; background-color: rgb(253, 254, 255);\"/><br style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px; white-space: normal; background-color: rgb(253, 254, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px;  background-color: rgb(253, 254, 255);\">&nbsp;&nbsp; 网线由一定距离长的双绞线与RJ45头组成。双绞线由8根不同颜色的线分成4对绞合在一起，成队扭绞的作用是尽可能减少电磁辐射与外部电磁干扰的影响，双绞线可按其是否外加金属网丝套的屏蔽层而区分为屏蔽双绞线（STP）和非屏蔽双绞线（UTP）。在EIA/TIA-568A标准中，将双绞线按电气特性区分有：三类、四类、五类线。网络中最常用的是三类线和五类线，目前已有六类以上线。第三类双绞线在LAN中常用作为10Mbps以太网的数据与话音传输，符合IEEE802.3 10Base-T的标准。第五类双绞线目前占有最大的LAN市场，最高速率可达100Mbps，符合IEEE802.3 100Base-T的标准。做好的网线要将RJ45水晶头接入网卡或HUB等网络设备的RJ45插座内。相应地RJ45插头座也区分为三类或五类电气特性。RJ45水晶头由金属片和塑料构成,特别需要注意的是引脚序号,当金属片面对我们的时候从左至右引脚序号是1-8, 这序号做网络联线时非常重要,不能搞错。双绞线的最大传输距离为100米。</span><br style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px; white-space: normal; background-color: rgb(253, 254, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px;  background-color: rgb(253, 254, 255);\">EIA/TIA的布线标准中规定了两种双绞线的线序568A与568B。</span><br style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px; white-space: normal; background-color: rgb(253, 254, 255);\"/><br style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px; white-space: normal; background-color: rgb(253, 254, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px;  background-color: rgb(253, 254, 255);\">&nbsp;&nbsp; 双绞线的标准接法&nbsp;</span><br style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px; white-space: normal; background-color: rgb(253, 254, 255);\"/><br style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px; white-space: normal; background-color: rgb(253, 254, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px;  background-color: rgb(253, 254, 255);\">&nbsp;&nbsp; 双绞线一般用于星型网络的布线，每条双绞线通过两端安装的RJ-45连接器（俗称水晶头）将各种网络设备连接起来。双绞线的标准接法不是随便规定的，目的是保证线缆接头布局的对称性，这样就可以使接头内线缆之间的干扰相互抵消。&nbsp;</span><br style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px; white-space: normal; background-color: rgb(253, 254, 255);\"/><br style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px; white-space: normal; background-color: rgb(253, 254, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px;  background-color: rgb(253, 254, 255);\">&nbsp;&nbsp; 超五类线是网络布线最常用的网线，分屏蔽和非屏蔽两种。如果是室外使用，屏蔽线要好些，在室内一般用非屏蔽五类线就够了，而由于不带屏蔽层，线缆会相对柔软些，但其连接方法都是一样的。一般的超五类线里都有四对绞在一起的细线，并用不同的颜色标明。</span><br style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px; white-space: normal; background-color: rgb(253, 254, 255);\"/><br style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px; white-space: normal; background-color: rgb(253, 254, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px;  background-color: rgb(253, 254, 255);\">&nbsp;&nbsp; 双绞线有两种接法：EIA/TIA 568B标准和EIA/TIA 568A标准。</span><br style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px; white-space: normal; background-color: rgb(253, 254, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px;  background-color: rgb(253, 254, 255);\">&nbsp;&nbsp; 将水晶头的尾巴向下(即平的一面向上)，从左至右，分别定为1 2 3 4 5 6 7 8　，以下是各口线的分布</span></p><p><br style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px; white-space: normal; background-color: rgb(253, 254, 255);\"/><strong><span style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px;  background-color: rgb(253, 254, 255);\">&nbsp;&nbsp; T568A线序</span><br style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px; white-space: normal; background-color: rgb(253, 254, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px;  background-color: rgb(253, 254, 255);\">　　 1　　2 　 3 　 4　 5 　 6 　 7　　8&nbsp;</span><br style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px; white-space: normal; background-color: rgb(253, 254, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px;  background-color: rgb(253, 254, 255);\">　　绿白　绿　橙白　蓝　蓝白　橙　棕白　棕&nbsp;</span><br style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px; white-space: normal; background-color: rgb(253, 254, 255);\"/><br style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px; white-space: normal; background-color: rgb(253, 254, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px;  background-color: rgb(253, 254, 255);\">&nbsp;&nbsp;&nbsp;T568B线序</span><br style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px; white-space: normal; background-color: rgb(253, 254, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px;  background-color: rgb(253, 254, 255);\">　　 1　　2 　 3 　 4　 5 　 6 　 7　　8&nbsp;</span><br style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px; white-space: normal; background-color: rgb(253, 254, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px;  background-color: rgb(253, 254, 255);\">　　橙白　橙　绿白　蓝　蓝白　绿　棕白　棕</span></strong><br style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px; white-space: normal; background-color: rgb(253, 254, 255);\"/><br style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px; white-space: normal; background-color: rgb(253, 254, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px;  background-color: rgb(253, 254, 255);\">&nbsp;&nbsp;&nbsp;在整个网络布线中应用一种布线方式，但两端都有RJ-45 plug 的网络联线无论是采用端接方式A，还是端接方式B， 在网络中都是通用的。双绞线的顺序与RJ45头的引脚序号--对应。10M以太网的网线使用1，2，3，6编号的芯线传递数据，100M以太网的网线使用4，5，7，8编号的芯线传递数据。为何现在都采用4对(8芯线)的双绞线呢？这主要是为适应更多的使用范围，在不变换基础设施的前提下，就可满足各式各样的用户设备的接线要求。例如,我们可同时用其中一对绞线来实现语音通讯。</span><br style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px; white-space: normal; background-color: rgb(253, 254, 255);\"/><br style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px; white-space: normal; background-color: rgb(253, 254, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px;  background-color: rgb(253, 254, 255);\">&nbsp;&nbsp;&nbsp;100BASE-T4 RJ-45对双绞线的规定如下：</span><br style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px; white-space: normal; background-color: rgb(253, 254, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px;  background-color: rgb(253, 254, 255);\">　　1、2用于发送，3、6用于接收，4、5，7、8是双向线。</span><br style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px; white-space: normal; background-color: rgb(253, 254, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px;  background-color: rgb(253, 254, 255);\">　　1、2线必须是双绞，3、6双绞，4、5双绞，7、8双绞。</span><br style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px; white-space: normal; background-color: rgb(253, 254, 255);\"/><br style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px; white-space: normal; background-color: rgb(253, 254, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px;  background-color: rgb(253, 254, 255);\">&nbsp;&nbsp; 一般地</span><br style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px; white-space: normal; background-color: rgb(253, 254, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px;  background-color: rgb(253, 254, 255);\">&nbsp;&nbsp; </span><strong><span style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px;  background-color: rgb(253, 254, 255);\">直通线：两头都按T568B线序标准连接。</span><br style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px; white-space: normal; background-color: rgb(253, 254, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px;  background-color: rgb(253, 254, 255);\">&nbsp;&nbsp; 交叉线：一头按T568A线序连接，一头按T568B线序连接。</span></strong><br style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px; white-space: normal; background-color: rgb(253, 254, 255);\"/>&nbsp; &nbsp;</p><p>&nbsp; &nbsp;千兆和百兆的接法都是一样的，网线的线序有两种，一种是568A，另一种是568B，一根网线如果两头都用568A或者568B，这种叫直通线，用来连接电脑和设备，比如路由器和电脑之间，交换机和电脑之间。如果一根网线的两头一头是568A，另外一头是568B，这种叫交叉线，用来连接相同的设备，比如电脑和电脑的连接，交换机和交换机的连接。</p><p><span style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px;  background-color: rgb(253, 254, 255);\"><br/></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px;  background-color: rgb(253, 254, 255);\">&nbsp;&nbsp; 具体连接情况：</span><br style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px; white-space: normal; background-color: rgb(253, 254, 255);\"/><br style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px; white-space: normal; background-color: rgb(253, 254, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px;  background-color: rgb(253, 254, 255);\">&nbsp;&nbsp; 1）对等网（两台计算机的网卡直接互连）：采用交叉线接法，网线两端接法不同。</span><br style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px; white-space: normal; background-color: rgb(253, 254, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px;  background-color: rgb(253, 254, 255);\">&nbsp;&nbsp; 2）网卡与交换机（或HUB）：采用直通线接法，网线两端接法相同。</span><br style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px; white-space: normal; background-color: rgb(253, 254, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 23.799999237060547px;  background-color: rgb(253, 254, 255);\">&nbsp;&nbsp; 3）交换机与交换机（或HUB）级联：采用交叉线接法，网线两端接法不同</span></p>','2014-07-30 14:56:45','2014-07-30 23:19:09'),(572,'14.217.214.126',65,'ubuntu开机延时问题','<p>/////////////////////////////////////////////////////////////////////////////////////////////////////////////</p><p>解决Ubuntu12.04开机waiting for network configuration问题</p><p>最近使用ubuntu 12.04版本，开机时会出现waiting for network configuration的界面，然后等待几十秒之后会显示更加恼火的waiting 60s for network configuration。论坛上曾经有高手通过/run /var/run文件夹的调换而解决。但是对于我而言，it doesn‘t work。最近又找到了一个帖子，完美的解决了问题。链接如下</p><p>http://www.codewhirl.com/2011/10/ubuntu-11-10-waiting-up-to-60-more-seconds-for-network-configuration/</p><p><br/>就是在/etc/init/failsafe.conf文件中给这两个sleep函数注释掉就行了。</p><p>如图：<br/><img src=\"/my/notes/js/ue/php/upload_img//20140731/1406781832494.gif\"/></p>','2014-07-31 04:40:56','2014-08-04 13:21:50'),(573,'14.217.214.126',65,'Ubuntu12.04下resolv.conf重启机器后失效的问题解决','<p>自从升级了Ubuntu到12.04后，发现在/etc/resolv.conf下指定的DNS服务器，一旦重启了就又消失不起作用了，还要重新写，很麻烦。<br/><br/>在google上搜了一下，发现同样的问题已经有人给出了原因和解决方案：<br/><br/><br/><strong>1 /etc/resolv.conf 其实是一个Link</strong><br/><br/>它其实指向的是 /run/resolvconf/resolv.conf<br/><br/><strong>2 Ubuntu 有一个 resolvconf 服务，如果重启它，那么 /etc/resolv.conf 的内容会被修改成默认的样子</strong><br/><br/>所以 不能直接修改 /etc/resolv.conf<br/><br/><strong>3 如果想自己定义 nameserver，那么有以下2个办法：</strong><br/><br/><span style=\\\"&quot;color: #4D6DF3;\\\">A 在网卡的配置文件里面加：</span><br/>(此方法没有测试)<br/>iface eth0 inet static<br/>address 192.168.3.3<br/>netmask 255.255.255.0<br/>gateway 192.168.3.1<br/>dns-nameservers 192.168.3.45 192.168.8.10<br/>dns-search foo.org bar.com<br/><br/><span style=\\\"&quot;color: #4D6DF3;\\\">B 修改 resolvconf服务的配置文件: /etc/resolvconf/resolv.conf.d/base</span><br/>(这个方法我试了OK)<br/><br/>添加:<br/>nameserver&nbsp;<wbr/>&nbsp;<wbr/>&nbsp;<wbr/>&nbsp;<wbr/>&nbsp;<wbr/>&nbsp;192.168.1.254<br/><br/><br/><br/>这样，在机器重启或 resolvconf 服务重启 都可以保证配置会写到/etc/resolv.conf 里面<br/>其实 /etc/resolv.conf 里面一直都有提示，只是自己没注意看：<br/>&quot;DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN&quot; (<span style=\\\"&quot;color: #ED1C24;\\\">确实有这样的提示</span>)<br/><br/>关于 resolvconf 服务更多信息，可以用man查看：man resolvconf<br/>暂时我还没有找到能直接 刷新 /etc/resolv.conf 内容的命令，只能是重启 resolvconf 服务</p>','2014-07-31 05:11:13','2014-08-04 12:49:36'),(574,'14.217.214.126',65,'Ubuntu下apt-get命令详解','<p microsoft=\\\"\\\">在Ubuntu下，apt-get近乎是最常用的shell命令之一了，因为他是Ubuntu通过新立得安装软件的常用工具命令。</p><p microsoft=\\\"\\\">本文列举了常用的APT命令参数：</p><ul class=\\\"\\\\&quot;custom_disc list-paddingleft-1\\\"><li class=\\\"list-undefined list-disc-paddingleft\\\"><p>apt-cache search package 搜索软件包</p></li><li class=\\\"list-undefined list-disc-paddingleft\\\"><p>apt-cache show package &nbsp;获取包的相关信息，如说明、大小、版本等</p></li><li class=\\\"list-undefined list-disc-paddingleft\\\"><p><strong>sudo apt-get install package 安装包</strong></p></li><li class=\\\"list-undefined list-disc-paddingleft\\\"><p>sudo apt-get install package --reinstall &nbsp; 重新安装包</p></li><li class=\\\"list-undefined list-disc-paddingleft\\\"><p>sudo apt-get -f install &nbsp; 修复安装</p></li><li class=\\\"list-undefined list-disc-paddingleft\\\"><p><strong>sudo apt-get remove package 删除包</strong></p></li><li class=\\\"list-undefined list-disc-paddingleft\\\"><p>sudo apt-get remove package --purge 删除包，包括配置文件等</p></li><li class=\\\"list-undefined list-disc-paddingleft\\\"><p><strong>sudo apt-get update &nbsp;更新源</strong></p></li><li class=\\\"list-undefined list-disc-paddingleft\\\"><p><strong>sudo apt-get upgrade 更新已安装的包</strong></p></li><li class=\\\"list-undefined list-disc-paddingleft\\\"><p>sudo apt-get dist-upgrade 升级系统</p></li><li class=\\\"list-undefined list-disc-paddingleft\\\"><p>apt-cache depends package 了解使用该包依赖那些包</p></li><li class=\\\"list-undefined list-disc-paddingleft\\\"><p>apt-cache rdepends package 查看该包被哪些包依赖</p></li><li class=\\\"list-undefined list-disc-paddingleft\\\"><p>sudo apt-get build-dep package 安装相关的编译环境</p></li><li class=\\\"list-undefined list-disc-paddingleft\\\"><p><strong>apt-get source package &nbsp;下载该包的源代码</strong></p></li><li class=\\\"list-undefined list-disc-paddingleft\\\"><p>sudo apt-get clean&nbsp;&amp;&amp; sudo apt-get autoclean 清理无用的包</p></li><li class=\\\"list-undefined list-disc-paddingleft\\\"><p>sudo apt-get check 检查是否有损坏的依赖</p></li></ul><p><br/></p>','2014-07-31 06:03:10','2014-08-04 12:49:23');
INSERT INTO `tbnote` VALUES (575,'14.217.238.112',3,'获取当前局域IP地址','<p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">//例子</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">-(<span style=\\\"color: #bb2ca2\\\">char</span>*)deviceIPAdress:(<span style=\\\"color: #bb2ca2\\\">char</span>*)ip</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">{</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(49, 89, 93);\\\"><span style=\\\"color: #000000\\\">&nbsp; &nbsp; </span>InitAddresses<span style=\\\"color: #000000\\\">();</span></p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(49, 89, 93);\\\"><span style=\\\"color: #000000\\\">&nbsp; &nbsp; </span>GetIPAddresses<span style=\\\"color: #000000\\\">();</span></p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(49, 89, 93);\\\"><span style=\\\"color: #000000\\\">&nbsp; &nbsp; </span>GetHWAddresses<span style=\\\"color: #000000\\\">();</span></p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">if</span>(ip)</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; {</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">if</span>(<span style=\\\"color: #4f8187\\\">ip_names</span>[<span style=\\\"color: #272ad8\\\">1</span>])</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; {<span style=\\\"color: #78492a\\\">strcpy</span>(ip,<span style=\\\"color: #4f8187\\\">ip_names</span>[<span style=\\\"color: #272ad8\\\">1</span>]); }</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">else</span></p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; {<span style=\\\"color: #78492a\\\">strcpy</span>(ip,<span style=\\\"color: #d12f1b\\\">&quot;&quot;</span>);}</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; }</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(49, 89, 93);\\\"><span style=\\\"color: #000000\\\">&nbsp; &nbsp; </span>FreeAddresses<span style=\\\"color: #000000\\\">();</span></p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\\\"><span style=\\\"color: #000000\\\">&nbsp; &nbsp; </span>/*if_names[1]*/</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\\\"><span style=\\\"color: #000000\\\">&nbsp; &nbsp; </span>/*hw_addrs[1] //<span style=\\\"font-family: &#39;Heiti SC Light&#39;;\\\">网卡</span>MAC<span style=\\\"font-family: &#39;Heiti SC Light&#39;;\\\">地址</span>*/</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">return</span> ip;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">}</p><p>////////////////////////////////////////////////////////////////////////////////////////</p><p><br/></p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\\\">//</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\\\">//&nbsp; ipAddress.h</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\\\">//</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\\\">//&nbsp; Created by sohn on 12-11-26.</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\\\">//&nbsp; Copyright (c) 2012<span style=\\\"font-family: &#39;Heiti SC Light&#39;;\\\">年</span> Han.zhihong. All rights reserved.</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\\\">//</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(120, 73, 42);\\\">#ifndef zh_ipAddress_h</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(120, 73, 42);\\\">#define zh_ipAddress_h</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\\\"><br/></p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\\\"><br/></p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(120, 73, 42);\\\">#define MAXADDRS&nbsp; &nbsp; <span style=\\\"color: #272ad8\\\">32</span></p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\"><span style=\\\"color: #bb2ca2\\\">extern</span> <span style=\\\"color: #bb2ca2\\\">char</span> *if_names[<span style=\\\"color: #78492a\\\">MAXADDRS</span>];</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\"><span style=\\\"color: #bb2ca2\\\">extern</span> <span style=\\\"color: #bb2ca2\\\">char</span> *ip_names[<span style=\\\"color: #78492a\\\">MAXADDRS</span>];</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\"><span style=\\\"color: #bb2ca2\\\">extern</span> <span style=\\\"color: #bb2ca2\\\">char</span> *hw_addrs[<span style=\\\"color: #78492a\\\">MAXADDRS</span>];</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(187, 44, 162);\\\">extern<span style=\\\"color: #000000\\\"> </span>unsigned<span style=\\\"color: #000000\\\"> </span>long<span style=\\\"color: #000000\\\"> ip_addrs[</span><span style=\\\"color: #78492a\\\">MAXADDRS</span><span style=\\\"color: #000000\\\">];</span></p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\"><span style=\\\"color: #bb2ca2\\\">void</span> InitAddresses();</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\"><span style=\\\"color: #bb2ca2\\\">void</span> FreeAddresses();</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\"><span style=\\\"color: #bb2ca2\\\">void</span> GetIPAddresses();</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\"><span style=\\\"color: #bb2ca2\\\">void</span> GetHWAddresses();</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\\\"><br/></p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(120, 73, 42);\\\">#endif</p><p><br/></p><p><br/></p><p>///////////////////////////////////////////////////////////////////////////////////////////////</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\\\">//</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\\\">//&nbsp; ipAddress.c</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\\\">//</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\\\">//&nbsp; Created by sohn on 12-11-26.</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\\\">//&nbsp; Copyright (c) 2012<span style=\\\"font-family: &#39;Heiti SC Light&#39;;\\\">年</span> Han.zhihong. All rights reserved.</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\\\">//</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\\\"><br/></p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(120, 73, 42);\\\">#include <span style=\\\"color: #d12f1b\\\">&lt;stdio.h&gt;</span></p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\\\"><span style=\\\"color: #78492a\\\">#include </span>&lt;stdlib.h&gt;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\\\"><span style=\\\"color: #78492a\\\">#include </span>&lt;string.h&gt;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\\\"><span style=\\\"color: #78492a\\\">#include </span>&lt;unistd.h&gt;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\\\"><span style=\\\"color: #78492a\\\">#include </span>&lt;sys/ioctl.h&gt;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\\\"><span style=\\\"color: #78492a\\\">#include </span>&lt;sys/types.h&gt;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\\\"><span style=\\\"color: #78492a\\\">#include </span>&lt;sys/socket.h&gt;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\\\"><span style=\\\"color: #78492a\\\">#include </span>&lt;netinet/in.h&gt;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(120, 73, 42);\\\">#include <span style=\\\"color: #d12f1b\\\">&lt;netdb.h&gt;</span></p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\\\"><span style=\\\"color: #78492a\\\">#include </span>&lt;arpa/inet.h&gt;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\\\"><span style=\\\"color: #78492a\\\">#include </span>&lt;sys/sockio.h&gt;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\\\"><span style=\\\"color: #78492a\\\">#include </span>&lt;net/if.h&gt;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(120, 73, 42);\\\">#include <span style=\\\"color: #d12f1b\\\">&lt;errno.h&gt;</span></p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\\\"><span style=\\\"color: #78492a\\\">#include </span>&lt;net/if_dl.h&gt;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\\\"><span style=\\\"color: #78492a\\\">#include </span>&lt;sys/types.h&gt;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\\\"><span style=\\\"color: #78492a\\\">#include </span>&lt;sys/socket.h&gt;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\\\"><span style=\\\"color: #78492a\\\">#include </span>&lt;net/ethernet.h&gt;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\\\"><span style=\\\"color: #78492a\\\">#include </span>&quot;IPAddress.h&quot;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\\\"><br/></p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\\\"><br/></p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(120, 73, 42);\\\">#define min(a,b)&nbsp; &nbsp; ((a) &lt; (b) ? (a) : (b))</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(120, 73, 42);\\\">#define max(a,b)&nbsp; &nbsp; ((a) &gt; (b) ? (a) : (b))</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(120, 73, 42);\\\">#define BUFFERSIZE&nbsp; <span style=\\\"color: #272ad8\\\">4000</span></p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\"><span style=\\\"color: #bb2ca2\\\">char</span> *if_names[<span style=\\\"color: #78492a\\\">MAXADDRS</span>];</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\"><span style=\\\"color: #bb2ca2\\\">char</span> *ip_names[<span style=\\\"color: #78492a\\\">MAXADDRS</span>];</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\"><span style=\\\"color: #bb2ca2\\\">char</span> *hw_addrs[<span style=\\\"color: #78492a\\\">MAXADDRS</span>];</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\"><span style=\\\"color: #bb2ca2\\\">unsigned</span> <span style=\\\"color: #bb2ca2\\\">long</span> ip_addrs[<span style=\\\"color: #78492a\\\">MAXADDRS</span>];</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\"><span style=\\\"color: #bb2ca2\\\">static</span> <span style=\\\"color: #bb2ca2\\\">int</span> &nbsp; nextAddr = <span style=\\\"color: #272ad8\\\">0</span>;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\"><span style=\\\"color: #bb2ca2\\\">void</span> InitAddresses()</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">{</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">int</span> i;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; <span style=\\\"color: #4f8187\\\">nextAddr</span> = <span style=\\\"color: #272ad8\\\">0</span>;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">for</span> (i=<span style=\\\"color: #272ad8\\\">0</span>; i&lt;<span style=\\\"color: #78492a\\\">MAXADDRS</span>; ++i)</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; {</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #4f8187\\\">if_names</span>[i] = <span style=\\\"color: #4f8187\\\">ip_names</span>[i] = <span style=\\\"color: #4f8187\\\">hw_addrs</span>[i] = <span style=\\\"color: #bb2ca2\\\">NULL</span>;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #4f8187\\\">ip_addrs</span>[i] = <span style=\\\"color: #272ad8\\\">0</span>;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; }</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">}</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\"><span style=\\\"color: #bb2ca2\\\">void</span> FreeAddresses()</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">{</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">int</span> i;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">for</span> (i=<span style=\\\"color: #272ad8\\\">0</span>; i&lt;<span style=\\\"color: #78492a\\\">MAXADDRS</span>; ++i)</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; {</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">if</span> (<span style=\\\"color: #4f8187\\\">if_names</span>[i] != <span style=\\\"color: #272ad8\\\">0</span>) <span style=\\\"color: #3d1d81\\\">free</span>(<span style=\\\"color: #4f8187\\\">if_names</span>[i]);</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">if</span> (<span style=\\\"color: #4f8187\\\">ip_names</span>[i] != <span style=\\\"color: #272ad8\\\">0</span>) <span style=\\\"color: #3d1d81\\\">free</span>(<span style=\\\"color: #4f8187\\\">ip_names</span>[i]);</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">if</span> (<span style=\\\"color: #4f8187\\\">hw_addrs</span>[i] != <span style=\\\"color: #272ad8\\\">0</span>) <span style=\\\"color: #3d1d81\\\">free</span>(<span style=\\\"color: #4f8187\\\">hw_addrs</span>[i]);</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #4f8187\\\">ip_addrs</span>[i] = <span style=\\\"color: #272ad8\\\">0</span>;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; }</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(49, 89, 93);\\\"><span style=\\\"color: #000000\\\">&nbsp; &nbsp; </span>InitAddresses<span style=\\\"color: #000000\\\">();</span></p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">}</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\"><span style=\\\"color: #bb2ca2\\\">void</span> GetIPAddresses()</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">{</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">int</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; i, len, flags;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">char</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; buffer[<span style=\\\"color: #78492a\\\">BUFFERSIZE</span>], *ptr, lastname[<span style=\\\"color: #78492a\\\">IFNAMSIZ</span>], *cptr;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">struct</span> <span style=\\\"color: #703daa\\\">ifconf</span> &nbsp; &nbsp; &nbsp; ifc;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">struct</span> <span style=\\\"color: #703daa\\\">ifreq</span>&nbsp; &nbsp; &nbsp; &nbsp; *ifr, ifrcopy;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">struct</span> <span style=\\\"color: #703daa\\\">sockaddr_in</span>&nbsp; *sin;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">char</span> temp[<span style=\\\"color: #272ad8\\\">80</span>];</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">int</span> sockfd;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">for</span> (i=<span style=\\\"color: #272ad8\\\">0</span>; i&lt;<span style=\\\"color: #78492a\\\">MAXADDRS</span>; ++i)</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; {</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #4f8187\\\">if_names</span>[i] = <span style=\\\"color: #4f8187\\\">ip_names</span>[i] = <span style=\\\"color: #bb2ca2\\\">NULL</span>;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #4f8187\\\">ip_addrs</span>[i] = <span style=\\\"color: #272ad8\\\">0</span>;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; }</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; sockfd = <span style=\\\"color: #3d1d81\\\">socket</span>(<span style=\\\"color: #78492a\\\">AF_INET</span>, <span style=\\\"color: #78492a\\\">SOCK_DGRAM</span>, <span style=\\\"color: #272ad8\\\">0</span>);</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">if</span> (sockfd &lt; <span style=\\\"color: #272ad8\\\">0</span>)</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; {</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\\\"><span style=\\\"color: #000000\\\">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\\\"color: #3d1d81\\\">perror</span><span style=\\\"color: #000000\\\">(</span>&quot;socket failed&quot;<span style=\\\"color: #000000\\\">);</span></p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">return</span>;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; }</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\\\">&nbsp;&nbsp; &nbsp;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; ifc.<span style=\\\"color: #703daa\\\">ifc_len</span> = <span style=\\\"color: #78492a\\\">BUFFERSIZE</span>;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; ifc.<span style=\\\"color: #78492a\\\">ifc_buf</span> = buffer;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\\\">&nbsp;&nbsp; &nbsp;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">if</span> (<span style=\\\"color: #3d1d81\\\">ioctl</span>(sockfd, <span style=\\\"color: #78492a\\\">SIOCGIFCONF</span>, &amp;ifc) &lt; <span style=\\\"color: #272ad8\\\">0</span>)</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; {</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\\\"><span style=\\\"color: #000000\\\">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\\\"color: #3d1d81\\\">perror</span><span style=\\\"color: #000000\\\">(</span>&quot;ioctl error&quot;<span style=\\\"color: #000000\\\">);</span></p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">return</span>;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; }</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\\\">&nbsp;&nbsp; &nbsp;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; lastname[<span style=\\\"color: #272ad8\\\">0</span>] = <span style=\\\"color: #272ad8\\\">0</span>;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\\\">&nbsp;&nbsp; &nbsp;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">for</span> (ptr = buffer; ptr &lt; buffer + ifc.<span style=\\\"color: #703daa\\\">ifc_len</span>; )</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; {</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; ifr = (<span style=\\\"color: #bb2ca2\\\">struct</span> <span style=\\\"color: #703daa\\\">ifreq</span> *)ptr;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; len = <span style=\\\"color: #78492a\\\">max</span>(<span style=\\\"color: #bb2ca2\\\">sizeof</span>(<span style=\\\"color: #bb2ca2\\\">struct</span> <span style=\\\"color: #703daa\\\">sockaddr</span>), ifr-&gt;<span style=\\\"color: #78492a\\\">ifr_addr</span>.<span style=\\\"color: #703daa\\\">sa_len</span>);</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; ptr += <span style=\\\"color: #bb2ca2\\\">sizeof</span>(ifr-&gt;<span style=\\\"color: #703daa\\\">ifr_name</span>) + len;&nbsp; <span style=\\\"color: #008400\\\">// for next one in buffer</span></p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\\\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">if</span> (ifr-&gt;<span style=\\\"color: #78492a\\\">ifr_addr</span>.<span style=\\\"color: #703daa\\\">sa_family</span> != <span style=\\\"color: #78492a\\\">AF_INET</span>)</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\\\"><span style=\\\"color: #000000\\\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\\\"color: #bb2ca2\\\">continue</span><span style=\\\"color: #000000\\\">; &nbsp; </span>// ignore if not desired address family</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\\\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">if</span> ((cptr = (<span style=\\\"color: #bb2ca2\\\">char</span> *)<span style=\\\"color: #3d1d81\\\">strchr</span>(ifr-&gt;<span style=\\\"color: #703daa\\\">ifr_name</span>, <span style=\\\"color: #272ad8\\\">&#39;:&#39;</span>)) != <span style=\\\"color: #bb2ca2\\\">NULL</span>)</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *cptr = <span style=\\\"color: #272ad8\\\">0</span>;&nbsp; &nbsp; &nbsp; <span style=\\\"color: #008400\\\">// replace colon will null</span></p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\\\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">if</span> (<span style=\\\"color: #3d1d81\\\">strncmp</span>(lastname, ifr-&gt;<span style=\\\"color: #703daa\\\">ifr_name</span>, <span style=\\\"color: #78492a\\\">IFNAMSIZ</span>) == <span style=\\\"color: #272ad8\\\">0</span>)</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\\\"><span style=\\\"color: #000000\\\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\\\"color: #bb2ca2\\\">continue</span><span style=\\\"color: #000000\\\">; &nbsp; </span>/* already processed this interface */</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\\\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #78492a\\\">memcpy</span>(lastname, ifr-&gt;<span style=\\\"color: #703daa\\\">ifr_name</span>, <span style=\\\"color: #78492a\\\">IFNAMSIZ</span>);</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; ifrcopy = *ifr;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #3d1d81\\\">ioctl</span>(sockfd, <span style=\\\"color: #78492a\\\">SIOCGIFFLAGS</span>, &amp;ifrcopy);</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; flags = ifrcopy.<span style=\\\"color: #78492a\\\">ifr_flags</span>;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">if</span> ((flags &amp; <span style=\\\"color: #78492a\\\">IFF_UP</span>) == <span style=\\\"color: #272ad8\\\">0</span>)</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\\\"><span style=\\\"color: #000000\\\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\\\"color: #bb2ca2\\\">continue</span><span style=\\\"color: #000000\\\">; &nbsp; </span>// ignore if interface not up</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #4f8187\\\">if_names</span>[<span style=\\\"color: #4f8187\\\">nextAddr</span>] = (<span style=\\\"color: #bb2ca2\\\">char</span> *)<span style=\\\"color: #3d1d81\\\">malloc</span>(<span style=\\\"color: #3d1d81\\\">strlen</span>(ifr-&gt;<span style=\\\"color: #703daa\\\">ifr_name</span>)+<span style=\\\"color: #272ad8\\\">1</span>);</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">if</span> (<span style=\\\"color: #4f8187\\\">if_names</span>[<span style=\\\"color: #4f8187\\\">nextAddr</span>] == <span style=\\\"color: #bb2ca2\\\">NULL</span>)</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">return</span>;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #78492a\\\">strcpy</span>(<span style=\\\"color: #4f8187\\\">if_names</span>[<span style=\\\"color: #4f8187\\\">nextAddr</span>], ifr-&gt;<span style=\\\"color: #703daa\\\">ifr_name</span>);</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\\\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; sin = (<span style=\\\"color: #bb2ca2\\\">struct</span> <span style=\\\"color: #703daa\\\">sockaddr_in</span> *)&amp;ifr-&gt;<span style=\\\"color: #78492a\\\">ifr_addr</span>;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #78492a\\\">strcpy</span>(temp, <span style=\\\"color: #3d1d81\\\">inet_ntoa</span>(sin-&gt;<span style=\\\"color: #703daa\\\">sin_addr</span>));</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #4f8187\\\">ip_names</span>[<span style=\\\"color: #4f8187\\\">nextAddr</span>] = (<span style=\\\"color: #bb2ca2\\\">char</span> *)<span style=\\\"color: #3d1d81\\\">malloc</span>(<span style=\\\"color: #3d1d81\\\">strlen</span>(temp)+<span style=\\\"color: #272ad8\\\">1</span>);</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">if</span> (<span style=\\\"color: #4f8187\\\">ip_names</span>[<span style=\\\"color: #4f8187\\\">nextAddr</span>] == <span style=\\\"color: #bb2ca2\\\">NULL</span>)</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">return</span>;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #78492a\\\">strcpy</span>(<span style=\\\"color: #4f8187\\\">ip_names</span>[<span style=\\\"color: #4f8187\\\">nextAddr</span>], temp);</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #4f8187\\\">ip_addrs</span>[<span style=\\\"color: #4f8187\\\">nextAddr</span>] = sin-&gt;<span style=\\\"color: #703daa\\\">sin_addr</span>.<span style=\\\"color: #703daa\\\">s_addr</span>;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; ++<span style=\\\"color: #4f8187\\\">nextAddr</span>;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; }</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; <span style=\\\"color: #3d1d81\\\">close</span>(sockfd);</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">}</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\"><span style=\\\"color: #bb2ca2\\\">void</span> GetHWAddresses()</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">{</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">struct</span> <span style=\\\"color: #703daa\\\">ifconf</span> ifc;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">struct</span> <span style=\\\"color: #703daa\\\">ifreq</span> *ifr;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">int</span> i, sockfd;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">char</span> buffer[<span style=\\\"color: #78492a\\\">BUFFERSIZE</span>], *cp, *cplim;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">char</span> temp[<span style=\\\"color: #272ad8\\\">80</span>];</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">for</span> (i=<span style=\\\"color: #272ad8\\\">0</span>; i&lt;<span style=\\\"color: #78492a\\\">MAXADDRS</span>; ++i)</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; {</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #4f8187\\\">hw_addrs</span>[i] = <span style=\\\"color: #bb2ca2\\\">NULL</span>;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; }</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; sockfd = <span style=\\\"color: #3d1d81\\\">socket</span>(<span style=\\\"color: #78492a\\\">AF_INET</span>, <span style=\\\"color: #78492a\\\">SOCK_DGRAM</span>, <span style=\\\"color: #272ad8\\\">0</span>);</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">if</span> (sockfd &lt; <span style=\\\"color: #272ad8\\\">0</span>)</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; {</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\\\"><span style=\\\"color: #000000\\\">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\\\"color: #3d1d81\\\">perror</span><span style=\\\"color: #000000\\\">(</span>&quot;socket failed&quot;<span style=\\\"color: #000000\\\">);</span></p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">return</span>;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; }</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; ifc.<span style=\\\"color: #703daa\\\">ifc_len</span> = <span style=\\\"color: #78492a\\\">BUFFERSIZE</span>;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; ifc.<span style=\\\"color: #78492a\\\">ifc_buf</span> = buffer;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">if</span> (<span style=\\\"color: #3d1d81\\\">ioctl</span>(sockfd, <span style=\\\"color: #78492a\\\">SIOCGIFCONF</span>, (<span style=\\\"color: #bb2ca2\\\">char</span> *)&amp;ifc) &lt; <span style=\\\"color: #272ad8\\\">0</span>)</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; {</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\\\"><span style=\\\"color: #000000\\\">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\\\"color: #3d1d81\\\">perror</span><span style=\\\"color: #000000\\\">(</span>&quot;ioctl error&quot;<span style=\\\"color: #000000\\\">);</span></p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #3d1d81\\\">close</span>(sockfd);</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">return</span>;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; }</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; ifr = ifc.<span style=\\\"color: #78492a\\\">ifc_req</span>;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; cplim = buffer + ifc.<span style=\\\"color: #703daa\\\">ifc_len</span>;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">for</span> (cp=buffer; cp &lt; cplim; )</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; {</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; ifr = (<span style=\\\"color: #bb2ca2\\\">struct</span> <span style=\\\"color: #703daa\\\">ifreq</span> *)cp;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">if</span> (ifr-&gt;<span style=\\\"color: #78492a\\\">ifr_addr</span>.<span style=\\\"color: #703daa\\\">sa_family</span> == <span style=\\\"color: #78492a\\\">AF_LINK</span>)</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; {</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">struct</span> <span style=\\\"color: #703daa\\\">sockaddr_dl</span> *sdl = (<span style=\\\"color: #bb2ca2\\\">struct</span> <span style=\\\"color: #703daa\\\">sockaddr_dl</span> *)&amp;ifr-&gt;<span style=\\\"color: #78492a\\\">ifr_addr</span>;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">int</span> a,b,c,d,e,f;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">int</span> i;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #78492a\\\">strcpy</span>(temp, (<span style=\\\"color: #bb2ca2\\\">char</span> *)<span style=\\\"color: #3d1d81\\\">ether_ntoa</span>((<span style=\\\"color: #bb2ca2\\\">const</span> <span style=\\\"color: #bb2ca2\\\">struct</span> <span style=\\\"color: #703daa\\\">ether_addr</span> *)<span style=\\\"color: #78492a\\\">LLADDR</span>(sdl)));</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #3d1d81\\\">sscanf</span>(temp, <span style=\\\"color: #d12f1b\\\">&quot;%x:%x:%x:%x:%x:%x&quot;</span>, &amp;a, &amp;b, &amp;c, &amp;d, &amp;e, &amp;f);</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #78492a\\\">sprintf</span>(temp, <span style=\\\"color: #d12f1b\\\">&quot;%02X:%02X:%02X:%02X:%02X:%02X&quot;</span>,a,b,c,d,e,f);</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">for</span> (i=<span style=\\\"color: #272ad8\\\">0</span>; i&lt;<span style=\\\"color: #78492a\\\">MAXADDRS</span>; ++i)</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">if</span> ((<span style=\\\"color: #4f8187\\\">if_names</span>[i] != <span style=\\\"color: #bb2ca2\\\">NULL</span>) &amp;&amp; (<span style=\\\"color: #3d1d81\\\">strcmp</span>(ifr-&gt;<span style=\\\"color: #703daa\\\">ifr_name</span>, <span style=\\\"color: #4f8187\\\">if_names</span>[i]) == <span style=\\\"color: #272ad8\\\">0</span>))</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">if</span> (<span style=\\\"color: #4f8187\\\">hw_addrs</span>[i] == <span style=\\\"color: #bb2ca2\\\">NULL</span>)</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #4f8187\\\">hw_addrs</span>[i] = (<span style=\\\"color: #bb2ca2\\\">char</span> *)<span style=\\\"color: #3d1d81\\\">malloc</span>(<span style=\\\"color: #3d1d81\\\">strlen</span>(temp)+<span style=\\\"color: #272ad8\\\">1</span>);</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #78492a\\\">strcpy</span>(<span style=\\\"color: #4f8187\\\">hw_addrs</span>[i], temp); &nbsp;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\\\"color: #bb2ca2\\\">break</span>; &nbsp;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } &nbsp;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } &nbsp;</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; }</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; &nbsp; &nbsp; cp += <span style=\\\"color: #bb2ca2\\\">sizeof</span>(ifr-&gt;<span style=\\\"color: #703daa\\\">ifr_name</span>) + <span style=\\\"color: #78492a\\\">max</span>(<span style=\\\"color: #bb2ca2\\\">sizeof</span>(ifr-&gt;<span style=\\\"color: #78492a\\\">ifr_addr</span>), ifr-&gt;<span style=\\\"color: #78492a\\\">ifr_addr</span>.<span style=\\\"color: #703daa\\\">sa_len</span>);</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; }</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">&nbsp; &nbsp; <span style=\\\"color: #3d1d81\\\">close</span>(sockfd);</p><p style=\\\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\\\">}</p><p><br/></p>','2014-07-31 15:37:18','2014-07-31 23:37:18'),(579,'14.217.213.30',2,'常用类型定义','<p>//常用类型定义<br/>#define uchar unsigned char<br/>#define u8 unsigned char<br/>#define U8 unsigned char<br/>#define i8 char<br/>#define I8 char</p><p>#define ushort unsigned short<br/>#define u16 unsigned short<br/>#define U16 unsigned short<br/>#define i16 short<br/>#define I16 short</p><p>#define uint unsigned int<br/>#define u32 unsigned int<br/>#define U32 unsigned int<br/>#define i32 int<br/>#define I32 int</p><p>#define BOOL int<br/>#define BYTE unsigned char<br/>#define WORD unsigned short<br/>#define DWORD unsigned long<br/>#define TRUE&nbsp; 1<br/>#define FALSE 0<br/></p><p><br/></p>','2014-08-07 01:47:13','2014-08-07 09:47:13'),(585,'14.217.245.167',18,'UEditor文本浏览器，引号加斜杠解决~','<p style=\"font: 14px/21px simsun; list-style: none; margin: 0px 0px 5px; padding: 0px; border: 0px currentColor; border-image: none; text-align: left; color: rgb(73, 73, 73); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; -ms-word-break: normal; -ms-word-wrap: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(224, 195, 161); -webkit-text-stroke-width: 0px;\"><span class=\"Apple-converted-space\">&nbsp;</span>UEditor输入的时候，总会在双引号前面加上“\\”斜杠，每存一次就有一次，试了几种方法，都不行，后来查到是PHP的防注入功能生成的反斜杠。</p><p style=\"font: 14px/21px simsun; list-style: none; margin: 0px 0px 5px; padding: 0px; border: 0px currentColor; border-image: none; text-align: left; color: rgb(73, 73, 73); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; -ms-word-break: normal; -ms-word-wrap: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(224, 195, 161); -webkit-text-stroke-width: 0px;\">&nbsp;<wbr/>&nbsp;<wbr/><span class=\"Apple-converted-space\">&nbsp;</span><span style=\"color: rgb(237, 28, 36); line-height: 21px; -ms-word-break: normal; -ms-word-wrap: normal;\">&nbsp;<wbr/>htmlspecialchars是一个函数，功能是把html标签转化为字符串html</span></p><p style=\"font: 14px/21px simsun; list-style: none; margin: 0px 0px 5px; padding: 0px; border: 0px currentColor; border-image: none; text-align: left; color: rgb(73, 73, 73); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; -ms-word-break: normal; -ms-word-wrap: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(224, 195, 161); -webkit-text-stroke-width: 0px;\"><span style=\"color: rgb(237, 28, 36); line-height: 21px; -ms-word-break: normal; -ms-word-wrap: normal;\">&nbsp;<wbr/>&nbsp;<wbr/>&nbsp;<wbr/><span class=\"Apple-converted-space\">&nbsp;</span>htmlspecialchars_decode() 函数把一些预定义的 HTML 实体转换为字符。</span></p><p style=\"font: 14px/21px simsun; list-style: none; margin: 0px 0px 5px; padding: 0px; border: 0px currentColor; border-image: none; text-align: left; color: rgb(73, 73, 73); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; -ms-word-break: normal; -ms-word-wrap: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(224, 195, 161); -webkit-text-stroke-width: 0px;\"><span style=\"color: rgb(237, 28, 36); line-height: 21px; -ms-word-break: normal; -ms-word-wrap: normal;\">&nbsp;<wbr/>&nbsp;<wbr/>&nbsp;<wbr/><span class=\"Apple-converted-space\">&nbsp;</span>记录一下这两种方法</span></p><p style=\"font: 14px/21px simsun; list-style: none; margin: 0px 0px 5px; padding: 0px; border: 0px currentColor; border-image: none; text-align: left; color: rgb(73, 73, 73); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; -ms-word-break: normal; -ms-word-wrap: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(224, 195, 161); -webkit-text-stroke-width: 0px;\">&nbsp;<wbr/>&nbsp;<wbr/>&nbsp;<wbr/>&nbsp;<wbr/></p><p style=\"font: 14px/21px simsun; list-style: none; margin: 0px 0px 5px; padding: 0px; border: 0px currentColor; border-image: none; text-align: left; color: rgb(73, 73, 73); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; -ms-word-break: normal; -ms-word-wrap: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(224, 195, 161); -webkit-text-stroke-width: 0px;\">&nbsp;<wbr/>&nbsp;<wbr/>&nbsp;<wbr/><span class=\"Apple-converted-space\">&nbsp;</span>PHP程序为了防止注入或者溢出，通过PHP 指令 magic_quotes_gpc自动在双引号、单引号、反斜杠、NULL前面添加反斜杠“\\”。</p><p style=\"font: 14px/21px simsun; list-style: none; margin: 0px 0px 5px; padding: 0px; border: 0px currentColor; border-image: none; text-align: left; color: rgb(73, 73, 73); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; -ms-word-break: normal; -ms-word-wrap: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(224, 195, 161); -webkit-text-stroke-width: 0px;\">&nbsp;<wbr/>&nbsp;<wbr/>&nbsp;<wbr/><span class=\"Apple-converted-space\">&nbsp;</span>但是我们为了读写html文档，里面自然有很多引号和双引号，这时候就要去掉添加的反斜杠。</p><p style=\"font: 14px/21px simsun; list-style: none; margin: 0px 0px 5px; padding: 0px; border: 0px currentColor; border-image: none; text-align: left; color: rgb(73, 73, 73); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; -ms-word-break: normal; -ms-word-wrap: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(224, 195, 161); -webkit-text-stroke-width: 0px;\">&nbsp;<wbr/>&nbsp;<wbr/>&nbsp;<wbr/><span class=\"Apple-converted-space\">&nbsp;</span>默认PHP 指令 magic_quotes_gpc是on的，也就是打开的。这时候就可以用stripslashes() 函数删除自动添加的反斜杠。用法就是：比如包含字符串的变量是$str，那么就用stripslashes() 函数处理一下这个字符串：stripslashes($str)，输出的结果就是去掉反斜杠的。</p><p style=\"font: 14px/21px simsun; list-style: none; margin: 0px 0px 5px; padding: 0px; border: 0px currentColor; border-image: none; text-align: left; color: rgb(73, 73, 73); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; -ms-word-break: normal; -ms-word-wrap: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(224, 195, 161); -webkit-text-stroke-width: 0px;\">&nbsp;<wbr/>&nbsp;<wbr/>&nbsp;<wbr/><span class=\"Apple-converted-space\">&nbsp;</span>于是我就把读取的字符串内容用stripslashes()函数处理一下，即$str=stripslashes($str)，再保存。上传网站之后正常了。</p><p style=\"font: 14px/21px simsun; list-style: none; margin: 0px 0px 5px; padding: 0px; border: 0px currentColor; border-image: none; text-align: left; color: rgb(73, 73, 73); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; -ms-word-break: normal; -ms-word-wrap: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(224, 195, 161); -webkit-text-stroke-width: 0px;\">&nbsp;<wbr/>&nbsp;<wbr/>&nbsp;<wbr/><span class=\"Apple-converted-space\">&nbsp;</span>但是又出现另外一个问题，那就是因为本地PHP 指令 magic_quotes_gpc是off的，如果用这个函数的话，就会把本来正常的反斜杠也去掉了。这样就不是我们所希望的了。</p><p style=\"font: 14px/21px simsun; list-style: none; margin: 0px 0px 5px; padding: 0px; border: 0px currentColor; border-image: none; text-align: left; color: rgb(73, 73, 73); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; -ms-word-break: normal; -ms-word-wrap: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(224, 195, 161); -webkit-text-stroke-width: 0px;\">&nbsp;<wbr/>&nbsp;<wbr/>&nbsp;<wbr/><span class=\"Apple-converted-space\">&nbsp;</span>解决办法就是可以使用函数 get_magic_quotes_gpc() 进行检测，如果是打开的状态，那么就去除反斜杠，如果是关闭的状态，则不去除反斜杠。</p><p style=\"font: 14px/21px simsun; list-style: none; margin: 0px 0px 5px; padding: 0px; border: 0px currentColor; border-image: none; text-align: left; color: rgb(73, 73, 73); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; -ms-word-break: normal; -ms-word-wrap: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(224, 195, 161); -webkit-text-stroke-width: 0px;\"><span style=\"color: rgb(237, 28, 36); line-height: 21px; -ms-word-break: normal; -ms-word-wrap: normal;\">程序代码如下：</span></p><p style=\"font: 14px/21px simsun; list-style: none; margin: 0px 0px 5px; padding: 0px; border: 0px currentColor; border-image: none; text-align: left; color: rgb(73, 73, 73); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; -ms-word-break: normal; -ms-word-wrap: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(224, 195, 161); -webkit-text-stroke-width: 0px;\">$str=$_POST[&quot;str&quot;];//读取str的内容赋值给$str变量</p><p style=\"font: 14px/21px simsun; list-style: none; margin: 0px 0px 5px; padding: 0px; border: 0px currentColor; border-image: none; text-align: left; color: rgb(73, 73, 73); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; -ms-word-break: normal; -ms-word-wrap: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(224, 195, 161); -webkit-text-stroke-width: 0px;\">if(get_magic_quotes_gpc())//如果get_magic_quotes_gpc()是打开的</p><p style=\"font: 14px/21px simsun; list-style: none; margin: 0px 0px 5px; padding: 0px; border: 0px currentColor; border-image: none; text-align: left; color: rgb(73, 73, 73); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; -ms-word-break: normal; -ms-word-wrap: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(224, 195, 161); -webkit-text-stroke-width: 0px;\">{<br/>$str=stripslashes($str);//将字符串进行处理</p><p style=\"font: 14px/21px simsun; list-style: none; margin: 0px 0px 5px; padding: 0px; border: 0px currentColor; border-image: none; text-align: left; color: rgb(73, 73, 73); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; -ms-word-break: normal; -ms-word-wrap: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(224, 195, 161); -webkit-text-stroke-width: 0px;\">}</p><p><br/></p>','2014-08-08 07:16:06','2014-08-08 15:16:06'),(586,'14.217.208.80',31,'如何划分网段','<p><strong>IP和子网掩码 </strong><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 我们都知道，ＩＰ是由四段数字组成，在此，我们先来了解一下3类常用的ＩＰ&nbsp;&nbsp; A类IP段&nbsp; 0.0.0.0 到127.255.255.255&nbsp;&nbsp;&nbsp; B类IP段&nbsp; 128.0.0.0 到191.255.255.255&nbsp;&nbsp;&nbsp; C类IP段&nbsp; 192.0.0.0 到223.255.255.255&nbsp;&nbsp;&nbsp; ＸＰ默认分配的子网掩码每段只有255或0</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ａ类的默认子网掩码 255.0.0.0&nbsp;&nbsp;&nbsp;&nbsp; 一个子网最多可以容纳1677万多台电脑&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Ｂ类的默认子网掩码 255.255.0.0&nbsp;&nbsp;&nbsp; 一个子网最多可以容纳6万台电脑&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Ｃ类的默认子网掩码 255.255.255.0&nbsp;&nbsp; 一个子网最多可以容纳254台电脑&nbsp;</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;我以前认为，要想把一些电脑搞在同一网段，只要ＩＰ的前三段一样就可以了，今天，我才知道我错了。如果照我这说的话，一个子网就只能容纳254台电脑？真是有点笑话。我们来说详细看看吧。&nbsp;&nbsp; 要想在同一网段，只要网络标识相同就可以了，那要怎么看网络标识呢？首先要做的是把每段的ＩＰ转换为二进制。（有人说，我不会转换耶，没关系，我们用Ｗｉｎｄｏｗｓ自带计算器就行。打开计算器，点查看&gt;科学型，输入十进制的数字，再点一下 <br/>&nbsp; 把子网掩码切换至二进制，我们会发现，所有的子网掩码是由一串连续的1和一串连续的0组成的（一共4段，每段8位，一共32位数）。&nbsp;&nbsp;</p><p><br/></p><p>255.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;11111111.00000000.00000000.00000000&nbsp;&nbsp;<br/>255.255.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;11111111.11111111.00000000.00000000&nbsp;&nbsp;<br/>255.255.255.0&nbsp;&nbsp;&nbsp; 11111111.11111111.11111111.00000000</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 这是A/B/C三类默认子网掩码的二进制形式，其实，还有好多种子网掩码，只要是一串连续的1和一串连续的0就可以了（每段都是8位）。如11111111.11111111.11111000.00000000，这也是一段合法的子网掩码。子网掩码决定的是一个子网的计算机数目，计算机公式是2的m次方，其中，我们可以把m看到是后面的多少颗0。如255.255.255.0转换成二进制，那就是11111111.11111111.11111111.00000000，后面有8颗0，那m就是8，255.255.255.0这个子网掩码可以容纳2的8次方（台）电脑，也就是256台，但是有两个ＩＰ是不能用的，那就是最后一段不能为0和255，减去这两台，就是254台。我们再来做一个。&nbsp;&nbsp; 255.255.248.0这个子网掩码可以最多容纳多少台电脑？&nbsp;&nbsp; 计算方法：</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;把将其转换为二进制的四段数字（每段要是8位，如果是0，可以写成8个0，也就是00000000） 11111111.1111111.11111000.00000000 <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; 然后，数数后面有几颗0，一共是有11颗，那就是2的11次方，等于2048，这个子网掩码最多可以容纳2048台电脑。</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;一个子网最多可以容纳多少台电脑你会算了吧，下面我们来个逆向算法的题。&nbsp;&nbsp; 一个公司有530台电脑，组成一个对等局域网，子网掩码设多少最合适？ <br/>&nbsp; 首先，无疑，530台电脑用Ｂ类ＩＰ最合适（Ａ类不用说了，太多，Ｃ类又不够，肯定是Ｂ类），但是B类默认的子网掩码是255.255.0.0，可以容纳6万台电脑，显然不太合适，那子网掩码设多少合适呢？我们先来列个公式。&nbsp;&nbsp; 2的m次方＝560</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 首先，我们确定2一定是大于8次方的，因为我们知道2的8次方是256，也就是Ｃ类ＩＰ的最大容纳电脑的数目，我们从9次方一个一个试2的9次方是512，不到560，2的10次方是1024，看来2的10次方最合适了。子网掩码一共由32位组成，已确定后面10位是0了，那前面的22位就是1，最合适的子网掩码就是：11111111.11111111.11111100.00000000，转换成10进制，那就是255.255.252.0。</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 分配和计算子网掩码你会了吧，下面，我们来看看ＩＰ地址的网段。 <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 相信好多人都和偶一样，认为ＩＰ只要前三段相同，就是在同一网段了，其实，不是这样的，同样，我样把ＩＰ的每一段转换为一个二进制数，这里就拿ＩＰ：192.168.0.1，子网掩码：255.255.255.0做实验吧。&nbsp;&nbsp;</p><p><br/></p><p>192.168.0.1&nbsp;&nbsp;&nbsp; &nbsp;11000000.10101000.00000000.00000001&nbsp;（这里说明一下，和子网掩码一样，每段8位，不足8位的，前面加0补齐。）<br/>ＩＰ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;11000000.10101000.00000000.00000001&nbsp;&nbsp;<br/>子网掩码&nbsp; 11111111.11111111.11111111.00000000&nbsp;&nbsp;<br/>在这里，向大家说一下到底怎么样才算同一网段。</p><p>&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 要想在同一网段，必需做到网络标识相同，那网络标识怎么算呢？各类ＩＰ的网络标识算法都是不一样的。Ａ类的，只算第一段。Ｂ类，只算第一、二段。Ｃ类，算第一、二、三段。&nbsp;&nbsp; 算法只要把ＩＰ和子网掩码的每位数AND就可以了。&nbsp;&nbsp; AND方法：0和1＝0 0和0＝0 1和1＝1 <br/>&nbsp; 如：And 192.168.0.1，255.255.255.0，先转换为二进制，然后AND每一位&nbsp;&nbsp; ＩＰ</p><p>11000000.10101000.00000000.00000001&nbsp;&nbsp; 子网掩码&nbsp;&nbsp;&nbsp;<br/>11111111.11111111.11111111.00000000&nbsp;&nbsp; 得出AND结果&nbsp;<br/>11000000.10101000.00000000.00000000&nbsp;&nbsp; 转换为十进制192.168.0.0，这就是网络标识，</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 再将子网掩码反取，也就是00000000.00000000.00000000.11111111，与IP AND&nbsp;&nbsp; 得出结果00000000.00000000.00000000.00000001，转换为10进制，即0.0.0.1，&nbsp;&nbsp; 这0.0.0.1就是主机标识。要想在同一网段，必需做到网络标识一样。&nbsp;&nbsp; 我们再来看看这个改为默认子网掩码的Ｂ类ＩＰ</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 如ＩＰ：188.188.0.111，188.188.5.222，子网掩码都设为255.255.254.0，在同一网段吗？&nbsp;&nbsp; 先将这些转换成二进制</p><p><br/>188.188.0.111 10111100.10111100.00000000.01101111&nbsp;&nbsp;<br/>188.188.5.222 10111100.10111100.00000101.11011010&nbsp;&nbsp;<br/>255.255.254.0 11111111.11111111.11111110.00000000&nbsp;</p><p><br/></p><p>分别AND，得&nbsp;</p><p>10111100.10111100.00000000.00000000&nbsp;&nbsp;<br/>10111100.10111100.00000100.00000000&nbsp;&nbsp; 网络标识不一样，即不在同一网段。</p><p><br/></p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 判断是不是在同一网段，你会了吧，下面，我们来点实际的。 <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 一个公司有530台电脑，组成一个对等局域网，子网掩码和ＩＰ设多少最合适？ <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;子网掩码不说了，前面算出结果来了11111111.11111111.11111100.00000000，也就是255.255.252.0</p><p><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 我们现在要确定的是ＩＰ如何分配，首先，选一个Ｂ类ＩＰ段，这里就选188.188.x.x吧 <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 这样，ＩＰ的前两段确定的，关键是要确定第三段，只要网络标识相同就可以了。我们先来确定网络号。（我们把子网掩码中的1和IP中的?对就起来，0和*对应起来，如下：）&nbsp;&nbsp;</p><p><br/></p><p>255.255.252.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;11111111.11111111.11111100.00000000&nbsp;&nbsp;<br/>188.188.x.x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;10111100.10111100.??????**.********&nbsp;&nbsp;<br/>&nbsp;网络标识&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 10111100.10111100.??????00.00000000</p><p>由此可知，?处随便填（只能用0和1填，不一定全是0和1），我们就用全填0吧，*处随便，这样呢，我们的ＩＰ就是 <br/></p><p><br/></p><p><br/></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;10111100.10111100.000000**.********，一共有530台电脑，ＩＰ的最后一段1～254可以分给254台计算机，530/254＝2.086，采用进1法，得整数3，这样，我们确定了ＩＰ的第三段要分成三个不同的数字，也就是说，把000000**中的**填三次数字，只能填1和0，而且每次的数字都不一样，至于填什么，就随我们便了，如00000001，00000010，00000011，转换成二进制，分别是1，2，3，这样，第三段也确定了，这样，就可以把ＩＰ分成188.188.1.y，188.188.2.y，188.188.3.y，y处随便填，只要在1～254范围之内，并且这530台电脑每台和每台的ＩＰ不一样，就可以了。&nbsp;&nbsp; 有人也许会说，既然算法这么麻烦，干脆用Ａ类ＩＰ和Ａ类默认子网掩码得了，偶要告诉你的是，由于Ａ类ＩＰ和Ａ类默认子网掩码的主机数目过大，这样做无疑是大海捞针，如果同时局域网访问量过频繁、过大，会影响效率的，所以，最好设置符合自己的ＩＰ和子网掩码</p>','2014-08-09 11:27:51','2014-08-09 19:37:14'),(587,'192.168.5.21',0,'家里组网的局域网配置','<pre class=\"brush:bash;toolbar:false\">动态域名&nbsp;9002a9ba54a4.dahuaddns.com\r\n子网&nbsp;255.255.248.0\r\nDHCP自动分配网段&nbsp;\r\n\r\nWEB密码验证网段&nbsp;全网段&nbsp;\r\n//-------------------------------------------------------------\r\n192.168.6.1=&gt;LAN,&nbsp;DHCP=&gt;192.168.2.1-192.168.2.199=&gt;技术密码&nbsp;&nbsp;&nbsp;爱快路由\r\n192.168.6.2=&gt;LAN,&nbsp;DHCP=&gt;192.168.0.1-192.168.0.100=&gt;admin123&nbsp;&nbsp;&nbsp;房间\r\n192.168.6.3=&gt;LAN,&nbsp;DHCP=&gt;192.168.0.101-192.168.0.200=&gt;admin123&nbsp;&nbsp;&nbsp;2楼侧\r\n192.168.6.4=&gt;LAN,&nbsp;DHCP=&gt;无=&gt;未知密码&nbsp;&nbsp;&nbsp;楼下五金厂\r\n192.168.6.6=&gt;WDS,&nbsp;DHCP=&gt;192.168.1.1-192.168.1.100=&gt;admin123&nbsp;&nbsp;&nbsp;楼下五金\r\n192.168.6.7=&gt;LAN,&nbsp;DHCP=&gt;无&nbsp;&nbsp;&nbsp;hzh-openwrt\r\n\r\n//-------------------------------------------------------------\r\n192.168.7.1&nbsp;&nbsp;&nbsp;&nbsp;大华监控\r\n\r\n//-------------------------------------------------------------\r\n192.168.7.100&nbsp;&nbsp;&nbsp;&nbsp;家庭服务器\r\n192.168.7.101&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;家庭服务器远程卡&nbsp;&nbsp;:hzhsohn&nbsp;&nbsp;&nbsp;&nbsp;admin123\r\n\r\n//-------------------------------------------------------------\r\n192.168.7.110&nbsp;&nbsp;&nbsp;&nbsp;2950服务器远程卡&nbsp;:hzhsohn&nbsp;&nbsp;&nbsp;&nbsp;admin123\r\n192.168.7.102&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2950服务器网卡1\r\n192.168.7.103&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2950服务器网卡2\r\n//--------------------------------------------------------------\r\n192.168.7.200&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;笔记本服务器\r\n\r\n//--------------------------------------------------------------\r\n上网认证网段\r\n192.168.0.1-192.168.3.254</pre>','2014-08-09 14:08:52','2016-09-27 12:12:08'),(588,'14.217.219.245',18,'php email 正则表达式','<pre class=\"brush:php;toolbar:false\">&lt;?php\r\n//匹配包括._-在内的各种邮箱\r\n$email&nbsp;=&nbsp;&#39;love.you-2013_mark@siteuurl.com.cn.gd.fuck&#39;;\r\nfunction&nbsp;is_email($email){\r\n&nbsp;&nbsp;&nbsp;&nbsp;//$regex&nbsp;=&nbsp;&#39;/^[\\w\\d][0-9a-z-._]+@{1}([0-9a-z][0-9a-z-]+.)+[a-z]{2,4}$/i&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;$regex&nbsp;=&nbsp;&#39;/^[0-9a-z][0-9a-z-._]+@{1}[0-9a-z.-]+[a-z]{2,4}$/i&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(preg_match($regex,&nbsp;$email,$match)){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var_dump($match);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;true;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;false;\r\n}\r\n&nbsp;\r\nif&nbsp;(is_email($email)){\r\n&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&#39;ok&#39;;\r\n}else{\r\n&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&#39;no&#39;;\r\n}\r\n&nbsp;\r\n?&gt;</pre>','2014-08-14 02:20:35','2014-08-14 10:20:35'),(589,'14.217.216.210',31,'apache 二级域名解析 (window与linux)','<p>//------------------------------------------------------------------------</p><p>winxp os: <br/>c:/windows/system32/drivers/etc/hosts <br/>add a line like : \r\n<br/>127.0.0.1 hangzhou.localhost <br/>127.0.0.1 xihu.localhost</p><p></p><p><br/></p><p>//-------------------------------------------------------------------------<br/><strong>linux os:</strong> </p><p>启用mod_rewrite模块<br/>在conf目录的httpd.conf文件中找到<br/>LoadModule rewrite_module \r\nmodules/mod_rewrite.so</p><p>去掉#号注释符</p><p><br/>首先，你的拥有一个有泛域名解析的顶级域名，例如： domain.com <br/>　　其次，在 httpd.conf 中打开 mod_rewrite \r\n<br/>　　之后，在 httpd.conf 的最后，添加以下内容： <br/></p><p><a class=\"copybut\" id=\"copybut27865\" style=\"cursor: pointer;\" data=\"27865\"><span style=\"text-decoration: underline;\">复制代码</span></a> 代码如下:</p><p><br/>　　RewriteEngine on <br/>　　RewriteMap \r\nlowercase int:tolower <br/>　　RewriteMap vhost txt:/usr/local/etc/apache/vhost.map \r\n<br/>　　RewriteCond ${lowercase:%{SERVER_NAME}} ^(.+)$ <br/>　　RewriteCond \r\n${vhost:%1} ^(/.*)$ <br/>　　RewriteRule ^/(.*)$ %1/$1 <br/></p><p><br/>　　其中的 \r\n/usr/local/etc/apache 是你的 apache 服务器配置文件所在路径，根据实际情况更改。 \r\n<br/>　　然后，在这个所在路径的目录下创建一个文件： vhost.map <br/>　　内容为： <br/>　　www.domain.com \r\n/usr/local/www/data-dist/domain <br/>　　bbs.domain.com \r\n/usr/local/www/data-dist/bbs <br/>　　anyname.domain.com \r\n/usr/local/www/data-dist/anyname <br/>　　以上部分都是：&quot; 域名+空格+绝对路径&quot; 的形式。 \r\n<br/>　　最后，在你的网站根目录 /usr/local/www/data-dist 下，创建对应目录： <br/>　　domain , bbs , \r\nanyname 等等，理论上可以无限。 <br/>　　这样，通过浏览器，访问 www.domain.com 时，实际上访问的就是 \r\n/usr/local/www/data-dist/domain目录下的文件。同理，访问 bbs.domain.com 实际上访问的就是 \r\n/usr/local/www/data-dist/bbs 目录下的文件。而且，你可以 <br/>　　随时更改 vhost.map \r\n来增加、删除、修改你的二级域名和所指向的实际路径，不用重启 apache</p><p><br/></p>','2014-08-15 02:07:08','2014-08-15 10:07:08'),(590,'14.217.207.174',3,'判断文件是否存在','<p><span style=\"font-family: Verdana; font-size: 13px;  background-color: rgb(255, 255, 255);\">-(BOOL)isFileExist:(NSString *)filepath</span><br style=\"font-family: Verdana; font-size: 13px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: Verdana; font-size: 13px;  background-color: rgb(255, 255, 255);\">{</span><br style=\"font-family: Verdana; font-size: 13px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: Verdana; font-size: 13px;  background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;NSFileManager *file_manager = [NSFileManager defaultManager];</span><br style=\"font-family: Verdana; font-size: 13px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: Verdana; font-size: 13px;  background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;return [file_manager fileExistsAtPath:<span style=\"font-family: Verdana; font-size: 13px;  background-color: rgb(255, 255, 255);\">filepath</span>];</span><br style=\"font-family: Verdana; font-size: 13px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: Verdana; font-size: 13px;  background-color: rgb(255, 255, 255);\">}</span></p>','2014-08-18 14:12:32','2014-08-18 22:12:32'),(591,'14.217.214.234',24,'字符串如何转换成unsigned _int64','<pre id=\"best-content-1462432423\" accuse=\"aContent\" class=\"best-text mb-10\" style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; font-family: arial, &#39;courier new&#39;, courier, 宋体, monospace; white-space: pre-wrap; word-wrap: break-word; color: rgb(51, 51, 51); font-size: 14px; line-height: 24px; background-color: rgb(241, 254, 221);\">用&nbsp;sscanf().\r\n注意格式定义。\r\n\r\n#include&nbsp;&lt;stdio.h&gt;\r\nmain(&nbsp;)\r\n{\r\n//unsigned&nbsp;_int64&nbsp;x;\r\nunsigned&nbsp;long&nbsp;long&nbsp;x;\r\nchar&nbsp;str[]=&quot;12345678987654321&quot;;\r\nsscanf(str,&quot;%lld&quot;,&nbsp;&amp;x);//VC++&nbsp;在32位机上&nbsp;用&nbsp;_int64&nbsp;表示&nbsp;long&nbsp;long.&nbsp;格式&nbsp;用&nbsp;&quot;%I64d&quot;&nbsp;输入输出,当前是gcc\r\nprintf(&quot;%lld&quot;,x);\r\nreturn&nbsp;0;\r\n}\r\n输出：12345678987654321</pre><p><br/></p>','2014-08-19 06:07:05','2014-08-19 14:12:27'),(592,'14.217.210.161',3,'隐藏导航栏的左按钮(后退按钮)','<p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"color: #000000\">[</span><span style=\"color: #bb2ca2\">self</span><span style=\"color: #000000\">.</span><span style=\"color: #703daa\">navigationItem</span><span style=\"color: #000000\"> </span>setHidesBackButton<span style=\"color: #000000\">:</span><span style=\"color: #bb2ca2\">YES</span><span style=\"color: #000000\"> </span>animated<span style=\"color: #000000\">:</span><span style=\"color: #bb2ca2\">YES</span><span style=\"color: #000000\">];</span></p>','2014-08-21 05:04:08','2014-08-21 13:04:08'),(594,'14.217.238.183',21,'Mysql随机获得一条或多条记录','<p><span style=\"color: rgb(50, 62, 50); font-family: simsun; font-size: 14px; line-height: 21px;  background-color: rgb(207, 204, 199);\"><span id=\"_baidu_bookmark_start_2\" style=\"display: none; line-height: 0px;\">‍</span></span><span id=\"_baidu_bookmark_start_4\" style=\"display: none; line-height: 0px;\">‍</span></p><pre class=\"brush:sql;toolbar:false\">\r\nSELECT&nbsp;free_userid&nbsp;FROM&nbsp;m_free_userid\r\n	WHERE&nbsp;free_userid&nbsp;&gt;=&nbsp;(\r\n		(SELECT&nbsp;MAX(free_userid)&nbsp;FROM&nbsp;m_free_userid&nbsp;WHERE&nbsp;retain=0)\r\n		-\r\n		(SELECT&nbsp;MIN(free_userid)&nbsp;FROM&nbsp;m_free_userid&nbsp;WHERE&nbsp;retain=0)\r\n		)&nbsp;*&nbsp;RAND()\r\n		+\r\n		(SELECT&nbsp;MIN(free_userid)&nbsp;FROM&nbsp;m_free_userid&nbsp;WHERE&nbsp;retain=0)\r\n	AND&nbsp;retain=0\r\n	LIMIT&nbsp;1;</pre><p><span id=\"_baidu_bookmark_end_5\" style=\"display: none; line-height: 0px;\">‍</span><span id=\"_baidu_bookmark_end_3\" style=\"display: none; line-height: 0px;\">‍</span><span id=\"_baidu_bookmark_end_5\" style=\"display: none; line-height: 0px;\">‍</span><span id=\"_baidu_bookmark_end_3\" style=\"display: none; line-height: 0px;\">‍</span><span style=\"color: rgb(50, 62, 50); font-family: simsun; font-size: 14px; line-height: 21px;  background-color: rgb(207, 204, 199);\"><br/></span><br/></p><p><span style=\"color: rgb(34, 34, 34); font-family: Helvetica, Arial, sans-serif; font-size: 14px; line-height: 21px;  background-color: rgb(255, 255, 255);\">执行该sql语句，用时0.039s，效率也是非常好。接着把”LIMIT 1“改为了”LIMIT 10000“，用时0.063s。经过多次验证，得出的结果都是随机的。</span></p>','2014-08-23 14:25:07','2014-08-24 04:29:16'),(595,'192.168.2.200',35,'自动转换C头文件生成ADA用的接口','<p>packet.h为头文件</p><p><br/></p><p>gcc&nbsp;-c&nbsp;-fdump-ada-spec&nbsp;-C&nbsp;packet.h<br/></p>','2014-09-11 06:12:06','2015-11-12 13:06:43'),(596,'192.168.3.1',35,'输出输出字符串例子','<p>with ada.Text_IO;<br/>use ada.Text_IO;</p><p><br/>procedure m is<br/>&nbsp;&nbsp; <br/>&nbsp;&nbsp; type gstr is record&nbsp;&nbsp; <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; str :string(1..100):=(others=&gt;ASCII.NUL);&nbsp; <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; len :integer;<br/>&nbsp;&nbsp; end record; <br/>&nbsp;&nbsp; <br/>&nbsp;&nbsp; str1 :gstr;<br/>&nbsp;&nbsp; str2 :gstr;<br/></p><p>begin<br/></p><p>&nbsp;&nbsp; get_line(str1.str,str1.len);&nbsp;&nbsp; <br/>&nbsp;&nbsp; put_line(&quot;input str1:&quot; &amp; str1.str(1..str1.len));<br/>&nbsp;&nbsp; <br/>&nbsp;&nbsp; get_line(str2.str,str2.len);&nbsp;&nbsp; <br/>&nbsp;&nbsp; put_line(&quot;input str2:&quot; &amp; str2.str(1..str2.len));<br/>&nbsp;&nbsp; <br/>&nbsp;&nbsp;&nbsp; if str1.str(1..str1.len)=str2.str(1..str2.len) then<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; put_line(&quot;yes&quot;);<br/>&nbsp;&nbsp; else<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; put_line(&quot;no&quot;);<br/>&nbsp;&nbsp; end if;<br/>&nbsp;&nbsp; <br/>end m;<br/></p><p><br/></p>','2014-09-11 08:13:38','2015-05-31 18:53:44'),(597,'14.222.222.132',35,'字符串,数值互转','<p>&nbsp;&nbsp; i:integer:=100;&nbsp;&nbsp; <br/>&nbsp;&nbsp; ss:string(1..4);</p><p>--------------------------------------------------<br/>&nbsp;&nbsp;&nbsp;ss:=i&#39;img;&nbsp;&nbsp;&nbsp;&nbsp;--转字符<br/>&nbsp;&nbsp; i:=integer&#39;value(ss);&nbsp;&nbsp; --转数值<br/>&nbsp;&nbsp; Put_Line(&quot;i=&quot;&amp; i&#39;img);</p><p><br/></p>','2014-09-11 09:28:33','2014-09-11 17:28:33'),(598,'113.102.223.166',3,'iOS直接获取摄像头数据','<p><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">需要添加的 &nbsp;Framework :CoreMedia, CoreVideo QuartzCore, AVFoundation&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">MyAVController.h:&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">#import &lt;UIKit/UIKit.h&gt;&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">#import &lt;AVFoundation/AVFoundation.h&gt;&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">#import &lt;CoreGraphics/CoreGraphics.h&gt;&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">#import &lt;CoreVideo/CoreVideo.h&gt;&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">#import &lt;CoreMedia/CoreMedia.h&gt;&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">@interface MyAVController : UIViewController &lt;&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">AVCaptureVideoDataOutputSampleBufferDelegate&gt; {&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; AVCaptureSession *_captureSession;&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; UIImageView *_imageView;&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; CALayer *_customLayer;&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; AVCaptureVideoPreviewLayer *_prevLayer;&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">}&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">@property (nonatomic, retain) AVCaptureSession *captureSession;&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">@property (nonatomic, retain) UIImageView *imageView;&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">@property (nonatomic, retain) CALayer *customLayer;&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">@property (nonatomic, retain) AVCaptureVideoPreviewLayer *prevLayer;&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">- (void)initCapture;&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">@end&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">MyAVController.m:&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">#import &quot;MyAVController.h&quot;&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">@implementation MyAVController&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">@synthesize captureSession = _captureSession;&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">@synthesize imageView = _imageView;&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">@synthesize customLayer = _customLayer;&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">@synthesize prevLayer = _prevLayer;&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">#pragma mark -&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">#pragma mark Initialization&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">- (id)init {&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; self = [super init];&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; if (self) {&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; self.imageView = nil;&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; self.prevLayer = nil;&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; self.customLayer = nil;&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; }&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; return self;&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">}&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">- (void)viewDidLoad {&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; [self initCapture];&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">}&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">- (void)initCapture {&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; AVCaptureDeviceInput *captureInput = [AVCaptureDeviceInput&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; deviceInputWithDevice:[AVCaptureDevice&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">defaultDeviceWithMediaType:AVMediaTypeVideo]&nbsp; error:nil];&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; AVCaptureVideoDataOutput *captureOutput = [[AVCaptureVideoDataOutput alloc]&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">init];&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; captureOutput.alwaysDiscardsLateVideoFrames = YES;&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; //captureOutput.minFrameDuration = CMTimeMake(1, 10);&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; dispatch_queue_t queue;&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; queue = dispatch_queue_create(&quot;cameraQueue&quot;, NULL);&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; [captureOutput setSampleBufferDelegate:self queue:queue];&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; dispatch_release(queue);&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; NSString* key = (NSString*)kCVPixelBufferPixelFormatTypeKey;&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; NSNumber* value = [NSNumber&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">numberWithUnsignedInt:kCVPixelFormatType_32BGRA];&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; NSDictionary* videoSettings = [NSDictionary&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">dictionaryWithObject:value forKey:key];&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; [captureOutput setVideoSettings:videoSettings];&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; self.captureSession = [[AVCaptureSession alloc] init];&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; [self.captureSession addInput:captureInput];&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; [self.captureSession addOutput:captureOutput];&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; [self.captureSession startRunning];&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; self.customLayer = [CALayer layer];&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; self.customLayer.frame = self.view.bounds;&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; self.customLayer.transform = CATransform3DRotate(&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">CATransform3DIdentity, M_PI/2.0f, 0, 0, 1);&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; self.customLayer.contentsGravity = kCAGravityResizeAspectFill;&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; [self.view.layer addSublayer:self.customLayer];&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; self.imageView = [[UIImageView alloc] init];&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; self.imageView.frame = CGRectMake(0, 0, 100, 100);&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp;&nbsp; [self.view addSubview:self.imageView];&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; self.prevLayer = [AVCaptureVideoPreviewLayer&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">layerWithSession: self.captureSession];&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; self.prevLayer.frame = CGRectMake(100, 0, 100, 100);&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; self.prevLayer.videoGravity = AVLayerVideoGravityResizeAspectFill;&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; [self.view.layer addSublayer: self.prevLayer];&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">}&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">#pragma mark -&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">#pragma mark AVCaptureSession delegate&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">- (void)captureOutput:(AVCaptureOutput *)captureOutput&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">didOutputSampleBuffer:(CMSampleBufferRef)sampleBuffer&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fromConnection:(AVCaptureConnection *)connection&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">{&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; NSAutoreleasePool * pool = [[NSAutoreleasePool alloc] init];&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; CVImageBufferRef imageBuffer = CMSampleBufferGetImageBuffer(sampleBuffer);&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; CVPixelBufferLockBaseAddress(imageBuffer,0);&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; uint8_t *baseAddress = (uint8_t *)CVPixelBufferGetBaseAddress(imageBuffer);&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; size_t bytesPerRow = CVPixelBufferGetBytesPerRow(imageBuffer);&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; size_t width = CVPixelBufferGetWidth(imageBuffer);&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; size_t height = CVPixelBufferGetHeight(imageBuffer);&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; CGContextRef newContext = CGBitmapContextCreate(baseAddress,&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">width, height, 8, bytesPerRow, colorSpace,&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">kCGBitmapByteOrder32Little | kCGImageAlphaPremultipliedFirst);&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; CGImageRef newImage = CGBitmapContextCreateImage(newContext);&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; CGContextRelease(newContext);&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; CGColorSpaceRelease(colorSpace);&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; [self.customLayer performSelectorOnMainThread:@selector(setContents:)&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">withObject: (id) newImage waitUntilDone:YES];&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; UIImage *image= [UIImage imageWithCGImage:newImage scale:1.0&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">orientation:UIImageOrientationRight];&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; CGImageRelease(newImage);&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; [self.imageView performSelectorOnMainThread:@selector(setImage:)&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">withObject:image waitUntilDone:YES];&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; CVPixelBufferUnlockBaseAddress(imageBuffer,0);&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; [pool drain];&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">}&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">#pragma mark -&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">#pragma mark Memory management&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">- (void)viewDidUnload {&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; self.imageView = nil;&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; self.customLayer = nil;&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; self.prevLayer = nil;&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">}&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">- (void)dealloc {&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; [self.captureSession release];&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">&nbsp;&nbsp;&nbsp; [super dealloc];&nbsp;</span><br style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\"/><span style=\"line-height: 25px; font-family: Helvetica,Tahoma,Arial,sans-serif; font-size: 14px;\">}&nbsp;</span></p>','2014-09-17 15:17:30','2014-09-17 23:17:30'),(600,'14.217.205.4',21,'数据库命名及设计规范','<p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">1.数据库涉及字符规范</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">我们约定：采用26个英文字母（区分大小写）和0－9这十个自然数，加上下划线_组成，共63个字符。不能出现其他字符（注释除外）。</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">2.数据库对象命名规范</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">我们约定，数据库对象包括表、视图（查询）、存储过程（参数查询）、函数、约束。对象名字由前缀和实际名字组成，长度不超过30。</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">前缀：使用小写字母</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">表&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tb&nbsp;<br style=\"margin: 0px; padding: 0px;\"/>视图&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vi&nbsp;<br style=\"margin: 0px; padding: 0px;\"/>存储过程&nbsp;&nbsp;&nbsp; sp&nbsp;<br style=\"margin: 0px; padding: 0px;\"/>函数&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fn</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">实际名字：实际名字尽量描述实体的内容，由单词或单词组合，每个单词的首字母大写，其他字母小写，不以数字和_开头。如</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">表&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; User_Info&nbsp;<br style=\"margin: 0px; padding: 0px;\"/>视图&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; User_List&nbsp;<br style=\"margin: 0px; padding: 0px;\"/>存储过程&nbsp;&nbsp;&nbsp; User_Delete</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">因此，合法的对象名字类似如下。</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">表&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tbUser_Info&nbsp;&nbsp;&nbsp; tbMessage_Detail</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">视图&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vi_Message_List</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">存储过程&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sp_Message_Add</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">3.数据库表命名规范</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">我们约定，表名由前缀和实际名字组成。</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">前缀：使用小写字母tb，代表表。实际名字中，一个系统尽量采取同一单词，多个后面加_来连接区分。</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">因此，合法的表名类似如下。</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">TbMember</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">tbMember_Info</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">tbForum_Board</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">tbBlog_Comment1</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">表</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">表名如Order/UserAccout</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">符合以下规范：</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">(1)统一采用单数形式，反对Orders</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">(2)首字母大写，多个单词的话，单词首字母大写，反对order/Useraccout/ORDER</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">(3)避免中文拼音，反对AgentBaoCi</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">(4)避免下划线连接，反对User_Accout（下划线适用Oracle数据库）</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">(5)避免名称过长，反对WebsiteInfomationModifyRecord</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">(6)多对多关系表，以Mapping结尾，如UserRoleMapping</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">(7)避免保留字</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">4.字段命名规范</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">我们约定，字段由表的简称,实际名字组组成。如果此字段关联另外的字段，那么加下划线_连接关联表字段的字段名。</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">因此，合法的字段名类似如下。</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">UserID_MeID&nbsp;<br style=\"margin: 0px; padding: 0px;\"/>UserName&nbsp;<br style=\"margin: 0px; padding: 0px;\"/>UserRegDate</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">字段</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">字段名如userID/userName/userType</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">符合以下规范：</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">(1)首个字母小写，多个单词的话，单词首字母大写，反对UserID/Userid</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">(2)必须有一主键，主键不直接用ID，而是表名+ID，如userID/orderID</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">(3)常用的字段name，不直接用name，而是表名+Name，如userName/orderName</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">(4)常用的字段desc，不直接用desc，而是表名+Desc，如userDesc/orderDesc</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">(5)大写字母前必须包含至少两个小写的字母，反对uID/oID</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">(6)避免中文拼音</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">(7)避免下划线连接</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">(8)避免名称过长</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">(9)避免保留字&nbsp;</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">对象</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">(1)存储过程以SP_为前缀</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">(2)触发器以TR_为前缀</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">(3)函数以FN_为前缀</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">(4)主键以PK_为前缀</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">(5)索引以IX_为前缀</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">(6)前缀后的首字母大写，多个单词的话，单词首字母大写，如SP_CountFee</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">(7)所有的关键字的所有字母必须大写，如SELECT userID,username FROM User</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">5.视图命名规范</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">我们约定，字段由前缀和实际名字组成，中间用下划线连接。</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">前缀：使用小写字母vi，表示视图。</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">因此，合法的视图名类似如下。</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">vi_User&nbsp;<br style=\"margin: 0px; padding: 0px;\"/>vi_UserInfo</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">6.存储过程命名规范</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">我们约定，字段由前缀和实际名字加操作名字组成，中间用下划线连接。</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">前缀：使用小写字母sp，表示存储过程。</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">操作名字：Insert|Delelte|Update|Caculate|Confirm</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">例如：</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">sp_User_Insert</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">7.数据库设计文档规范</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">所有数据库设计要写成文档，文档以模块化形式表达。大致格式如下：</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">&#39;-------------------------------------------</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">&#39;&nbsp;&nbsp;&nbsp; 表名：&nbsp;&nbsp;&nbsp; tbUser_Info</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">&#39;&nbsp;&nbsp;&nbsp; 作者：&nbsp;&nbsp;&nbsp; Yezi(叶子)</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">&#39;&nbsp;&nbsp;&nbsp; 日期：&nbsp;&nbsp;&nbsp; 2004-12-17</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">&#39;&nbsp;&nbsp;&nbsp; 版本：&nbsp;&nbsp;&nbsp; 1.0&nbsp;<br style=\"margin: 0px; padding: 0px;\"/>&#39;&nbsp;&nbsp;&nbsp; 描述：&nbsp;&nbsp;&nbsp; 保存用户资料</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">&#39;&nbsp;&nbsp;&nbsp; 具体内容：</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">&#39;&nbsp;&nbsp;&nbsp; UserId&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int，自动增量&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 用户代码&nbsp;<br style=\"margin: 0px; padding: 0px;\"/>&#39;&nbsp;&nbsp;&nbsp; UserName&nbsp;&nbsp;&nbsp; char(12)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 用户名字</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">8.sql语句规范</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(255, 255, 255);\">我们约定，所有sql关键词全部大写，比如SELECT,UPDATE,FROM,ORDER,BY等。</p><p><br/></p>','2014-10-18 04:34:31','2014-10-18 12:34:31'),(601,'14.217.205.4',21,'Mysql存储过程 字符类操作','<p style=\"line-height: 26px;background-color: white\"><strong><span style=\";font-family:宋体;color:#333333\">一</span></strong><strong><span style=\";font-family:Arial;color:#333333\">.</span></strong><strong><span style=\";font-family:宋体;color:#333333\">字符串类</span></strong><span style=\";font-family:Arial;color:#333333\">&nbsp;</span></p><p style=\"line-height: 26px;background-color: white\"><span style=\";font-family:Arial;color:#333333\">CONCAT (string2&nbsp; [,... ]) //</span><span style=\";font-family:宋体;color:#333333\">连接字串</span><span style=\";font-family:Arial;color:#333333\"><br/>INSTR (string ,substring ) //</span><span style=\";font-family:宋体;color:#333333\">返回</span><span style=\";font-family:Arial;color:#333333\">substring</span><span style=\";font-family:宋体;color:#333333\">首次在</span><span style=\";font-family:Arial;color:#333333\">string</span><span style=\";font-family:宋体;color:#333333\">中出现的位置</span><span style=\";font-family:Arial;color:#333333\">,</span><span style=\";font-family:宋体;color:#333333\">不存在返回</span><span style=\";font-family:Arial;color:#333333\">0<br/>LCASE (string2 ) //</span><span style=\";font-family:宋体;color:#333333\">转换成小写</span><span style=\";font-family:Arial;color:#333333\"><br/>LEFT (string2 ,length ) //</span><span style=\";font-family:宋体;color:#333333\">从</span><span style=\";font-family:Arial;color:#333333\">string2</span><span style=\";font-family:宋体;color:#333333\">中的左边起取</span><span style=\";font-family:Arial;color:#333333\">length</span><span style=\";font-family:宋体;color:#333333\">个字符</span><span style=\";font-family:Arial;color:#333333\"><br/>LENGTH (string ) //string</span><span style=\";font-family:宋体;color:#333333\">长度</span><span style=\";font-family:Arial;color:#333333\"><br/>LOAD_FILE (file_name ) //</span><span style=\";font-family:宋体;color:#333333\">从文件读取内容</span><span style=\";font-family:Arial;color:#333333\"><br/>LOCATE (substring , string&nbsp; [,start_position ] ) </span><span style=\";font-family:宋体;color:#333333\">同</span><span style=\";font-family:Arial;color:#333333\">INSTR,</span><span style=\";font-family:宋体;color:#333333\">但可指定开始位置</span><span style=\";font-family:Arial;color:#333333\"><br/>LPAD (string2 ,length ,pad ) //</span><span style=\";font-family:宋体;color:#333333\">重复用</span><span style=\";font-family:Arial;color:#333333\">pad</span><span style=\";font-family:宋体;color:#333333\">加在</span><span style=\";font-family:Arial;color:#333333\">string</span><span style=\";font-family:宋体;color:#333333\">开头</span><span style=\";font-family:Arial;color:#333333\">,</span><span style=\";font-family:宋体;color:#333333\">直到字串长度为</span><span style=\";font-family:Arial;color:#333333\">length<br/>LTRIM (string2 ) //</span><span style=\";font-family:宋体;color:#333333\">去除前端空格</span><span style=\";font-family:Arial;color:#333333\"><br/>REPEAT (string2 ,count ) //</span><span style=\";font-family:宋体;color:#333333\">重复</span><span style=\";font-family:Arial;color:#333333\">count</span><span style=\";font-family:宋体;color:#333333\">次</span><span style=\";font-family:Arial;color:#333333\"><br/>REPLACE (str ,search_str ,replace_str ) //</span><span style=\";font-family:宋体;color:#333333\">在</span><span style=\";font-family:Arial;color:#333333\">str</span><span style=\";font-family:宋体;color:#333333\">中用</span><span style=\";font-family:Arial;color:#333333\">replace_str</span><span style=\";font-family:宋体;color:#333333\">替换</span><span style=\";font-family:Arial;color:#333333\">search_str<br/>RPAD (string2 ,length ,pad) //</span><span style=\";font-family:宋体;color:#333333\">在</span><span style=\";font-family:Arial;color:#333333\">str</span><span style=\";font-family:宋体;color:#333333\">后用</span><span style=\";font-family:Arial;color:#333333\">pad</span><span style=\";font-family:宋体;color:#333333\">补充</span><span style=\";font-family:Arial;color:#333333\">,</span><span style=\";font-family:宋体;color:#333333\">直到长度为</span><span style=\";font-family:Arial;color:#333333\">length<br/>RTRIM (string2 ) //</span><span style=\";font-family:宋体;color:#333333\">去除后端空格</span><span style=\";font-family:Arial;color:#333333\"><br/>STRCMP (string1 ,string2 ) //</span><span style=\";font-family:宋体;color:#333333\">逐字符比较两字串大小</span><span style=\";font-family:Arial;color:#333333\">,<br/>SUBSTRING (str , position&nbsp; [,length ]) //</span><span style=\";font-family:宋体;color:#333333\">从</span><span style=\";font-family:Arial;color:#333333\">str</span><span style=\";font-family:宋体;color:#333333\">的</span><span style=\";font-family:Arial;color:#333333\">position</span><span style=\";font-family:宋体;color:#333333\">开始</span><span style=\";font-family:Arial;color:#333333\">,</span><span style=\";font-family:宋体;color:#333333\">取</span><span style=\";font-family:Arial;color:#333333\">length</span><span style=\";font-family:宋体;color:#333333\">个字符</span><span style=\";font-family:Arial;color:#333333\">,</span></p><p style=\"line-height: 26px;background-color: white\"><span style=\";font-family:Arial;color:#333333\">&nbsp;</span></p><p style=\"line-height: 26px;background-color: white\"><span style=\";font-family:宋体;color:red\">注：</span><span style=\";font-family:Arial;color:red\">mysql</span><span style=\";font-family:宋体;color:red\">中处理字符串时，默认第一个字符下标为</span><span style=\";font-family:Arial;color:red\">1</span><span style=\";font-family:宋体;color:#333333\">，即参数</span><span style=\";font-family:Arial;color:#333333\">position</span><span style=\";font-family:宋体;color:#333333\">必须大于等于</span><span style=\";font-family:Arial;color:#333333\">1</span></p><p style=\"line-height: 26px;background-color: white\"><span style=\"font-size:16px;font-family:Arial;color:#333333\">mysql&gt;select substring(’abcd’,0,2);<br/>+———————–+<br/>| substring(’abcd’,0,2) |<br/>+———————–+<br/>| &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|<br/>+———————–+<br/>1 row in set (0.00 sec)</span></p><p style=\"line-height: 26px;background-color: white\"><span style=\"font-size:16px;font-family:Arial;color:#333333\">mysql&gt;select substring(’abcd’,1,2);<br/>+———————–+<br/>| substring(’abcd’,1,2) |<br/>+———————–+<br/>|ab &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|<br/>+———————–+<br/>1 row in set (0.02 sec)</span></p><p><br/></p>','2014-10-18 05:27:58','2014-10-18 13:27:58'),(602,'192.168.2.200',18,'上传文件','<pre class=\"brush:php;toolbar:false;\">/*\r\nmax_execution_time&nbsp;=&nbsp;30;&nbsp;Maximum&nbsp;execution&nbsp;time&nbsp;of&nbsp;each&nbsp;script,&nbsp;in&nbsp;seconds\r\n把它设置成需要的值就可以了。如果设置成0的话，就是永不过期。\r\n*/\r\n\r\n//------------------------------------------------------------\r\n//电脑上传\r\nset_time_limit(0);\r\nif(isset($_FILES[&#39;uploadinput&#39;]))\r\n{\r\n$path=&#39;./upload_titleimg&#39;;\r\nzhPhpMkDir($path);\r\nif(strcmp($_FILES[&#39;uploadinput&#39;][&#39;name&#39;],&#39;&#39;)&nbsp;)\r\n{\r\n$fileName=create_guid().urlencode($_FILES[&#39;uploadinput&#39;][&#39;name&#39;]);\r\n$ttName=$path.&#39;/&#39;.$fileName;\r\nmove_uploaded_file($_FILES[&#39;uploadinput&#39;][&#39;tmp_name&#39;],$ttName);\r\n}\r\n}\r\n\r\n////////////////////////////////////////////////////////////////////////\r\n&lt;form&nbsp;action=&quot;?&quot;&nbsp;method=&quot;post&quot;&nbsp;enctype=&quot;multipart/form-data&quot;&nbsp;name=&quot;form1&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;name=&quot;uploadinput&quot;&nbsp;type=&quot;file&quot;&nbsp;/&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type=&quot;submit&quot;&nbsp;name=&quot;Submit&quot;&nbsp;value=&quot;&nbsp;提交&nbsp;&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type=&quot;hidden&quot;&nbsp;name=&quot;MAX_FILE_SIZE&quot;&nbsp;value=&quot;4000000000&quot;&gt;&nbsp;\r\n&lt;/form&gt;</pre><p><br/></p><p><br/></p><p>//-------------------------------------------------------------</p><p>安卓手机照片上传</p><pre class=\"brush:cpp;toolbar:false\">&lt;?php\r\nif($_REQUEST[&#39;aa&#39;]==&#39;yes&#39;)\r\n{\r\nmove_uploaded_file($_FILES[&#39;upimg&#39;][&#39;tmp_name&#39;],&quot;./hahah.jpg&quot;);\r\n}\r\n?&gt;\r\n&lt;form&nbsp;id=&quot;form1&quot;&nbsp;name=&quot;form1&quot;&nbsp;method=&quot;post&quot;&nbsp;&nbsp;enctype=&quot;multipart/form-data&quot;&nbsp;action=&quot;?wsadr=$wsadr&amp;aa=yes&quot;&gt;\r\n&nbsp;&nbsp;&lt;input&nbsp;type=&quot;file&quot;&nbsp;name=&quot;upimg&quot;&nbsp;accept=&quot;image/*;capture=camera&quot;&nbsp;/&gt;\r\n&nbsp;&nbsp;&lt;label&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type=&quot;submit&quot;&nbsp;name=&quot;button&quot;&nbsp;id=&quot;button&quot;&nbsp;value=&quot;提交&quot;&nbsp;/&gt;\r\n&nbsp;&nbsp;&lt;/label&gt;\r\n&lt;/form&gt;</pre><p><br/></p>','2014-10-20 14:13:22','2016-03-06 23:30:05'),(604,'14.217.209.11',21,'mysql 存储过程，获取随机字符串','<p>DROP FUNCTION IF EXISTS `set_rand_str`;<br style=\"line-height: 28px; color: rgb(76, 76, 76); font-family: &#39;Hiragino Sans GB W3&#39;, &#39;Hiragino Sans GB&#39;, Arial, Helvetica, simsun, u5b8bu4f53; white-space: normal; background-color: rgb(246, 246, 246);\"/>DELIMITER ;<br style=\"line-height: 28px; color: rgb(76, 76, 76); font-family: &#39;Hiragino Sans GB W3&#39;, &#39;Hiragino Sans GB&#39;, Arial, Helvetica, simsun, u5b8bu4f53; white-space: normal; background-color: rgb(246, 246, 246);\"/>CREATE DEFINER=`root`@`localhost` FUNCTION `set_rand_str`(n smallint) RETURNS char(255) CHARSET utf8<br style=\"line-height: 28px; color: rgb(76, 76, 76); font-family: &#39;Hiragino Sans GB W3&#39;, &#39;Hiragino Sans GB&#39;, Arial, Helvetica, simsun, u5b8bu4f53; white-space: normal; background-color: rgb(246, 246, 246);\"/>begin<br style=\"line-height: 28px; color: rgb(76, 76, 76); font-family: &#39;Hiragino Sans GB W3&#39;, &#39;Hiragino Sans GB&#39;, Arial, Helvetica, simsun, u5b8bu4f53; white-space: normal; background-color: rgb(246, 246, 246);\"/>&nbsp; declare char_set char(255) default &#39;1234567890ABCDEFGHIGKLMNOPQRSTUVWXYZ&#39;;<br style=\"line-height: 28px; color: rgb(76, 76, 76); font-family: &#39;Hiragino Sans GB W3&#39;, &#39;Hiragino Sans GB&#39;, Arial, Helvetica, simsun, u5b8bu4f53; white-space: normal; background-color: rgb(246, 246, 246);\"/>&nbsp; declare ret_str char(255) default &#39;&#39;;<br style=\"line-height: 28px; color: rgb(76, 76, 76); font-family: &#39;Hiragino Sans GB W3&#39;, &#39;Hiragino Sans GB&#39;, Arial, Helvetica, simsun, u5b8bu4f53; white-space: normal; background-color: rgb(246, 246, 246);\"/>&nbsp; declare i int default 0;<br style=\"line-height: 28px; color: rgb(76, 76, 76); font-family: &#39;Hiragino Sans GB W3&#39;, &#39;Hiragino Sans GB&#39;, Arial, Helvetica, simsun, u5b8bu4f53; white-space: normal; background-color: rgb(246, 246, 246);\"/>&nbsp; declare len int default 0;<br style=\"line-height: 28px; color: rgb(76, 76, 76); font-family: &#39;Hiragino Sans GB W3&#39;, &#39;Hiragino Sans GB&#39;, Arial, Helvetica, simsun, u5b8bu4f53; white-space: normal; background-color: rgb(246, 246, 246);\"/>&nbsp; declare rd int default 0;<br style=\"line-height: 28px; color: rgb(76, 76, 76); font-family: &#39;Hiragino Sans GB W3&#39;, &#39;Hiragino Sans GB&#39;, Arial, Helvetica, simsun, u5b8bu4f53; white-space: normal; background-color: rgb(246, 246, 246);\"/>&nbsp; set len = length(char_set);<br style=\"line-height: 28px; color: rgb(76, 76, 76); font-family: &#39;Hiragino Sans GB W3&#39;, &#39;Hiragino Sans GB&#39;, Arial, Helvetica, simsun, u5b8bu4f53; white-space: normal; background-color: rgb(246, 246, 246);\"/>&nbsp; while i &lt; n do<br style=\"line-height: 28px; color: rgb(76, 76, 76); font-family: &#39;Hiragino Sans GB W3&#39;, &#39;Hiragino Sans GB&#39;, Arial, Helvetica, simsun, u5b8bu4f53; white-space: normal; background-color: rgb(246, 246, 246);\"/>&nbsp;&nbsp;&nbsp; set rd = floor(1 + rand() * len);<br style=\"line-height: 28px; color: rgb(76, 76, 76); font-family: &#39;Hiragino Sans GB W3&#39;, &#39;Hiragino Sans GB&#39;, Arial, Helvetica, simsun, u5b8bu4f53; white-space: normal; background-color: rgb(246, 246, 246);\"/>&nbsp;&nbsp;&nbsp; set ret_str = concat(ret_str, substring(char_set, rd, 1));<br style=\"line-height: 28px; color: rgb(76, 76, 76); font-family: &#39;Hiragino Sans GB W3&#39;, &#39;Hiragino Sans GB&#39;, Arial, Helvetica, simsun, u5b8bu4f53; white-space: normal; background-color: rgb(246, 246, 246);\"/>&nbsp;&nbsp;&nbsp; set i = i + 1;<br style=\"line-height: 28px; color: rgb(76, 76, 76); font-family: &#39;Hiragino Sans GB W3&#39;, &#39;Hiragino Sans GB&#39;, Arial, Helvetica, simsun, u5b8bu4f53; white-space: normal; background-color: rgb(246, 246, 246);\"/>&nbsp; end while;<br style=\"line-height: 28px; color: rgb(76, 76, 76); font-family: &#39;Hiragino Sans GB W3&#39;, &#39;Hiragino Sans GB&#39;, Arial, Helvetica, simsun, u5b8bu4f53; white-space: normal; background-color: rgb(246, 246, 246);\"/>&nbsp; return ret_str;<br style=\"line-height: 28px; color: rgb(76, 76, 76); font-family: &#39;Hiragino Sans GB W3&#39;, &#39;Hiragino Sans GB&#39;, Arial, Helvetica, simsun, u5b8bu4f53; white-space: normal; background-color: rgb(246, 246, 246);\"/>end;;<br style=\"line-height: 28px; color: rgb(76, 76, 76); font-family: &#39;Hiragino Sans GB W3&#39;, &#39;Hiragino Sans GB&#39;, Arial, Helvetica, simsun, u5b8bu4f53; white-space: normal; background-color: rgb(246, 246, 246);\"/>DELIMITER;<span id=\"_baidu_bookmark_end_5\" style=\"display: none; line-height: 0px;\">‍</span><span style=\"color: rgb(76, 76, 76); font-family: &#39;Hiragino Sans GB W3&#39;, &#39;Hiragino Sans GB&#39;, Arial, Helvetica, simsun, u5b8bu4f53; line-height: 28px;  background-color: rgb(246, 246, 246);\"><span id=\"_baidu_bookmark_end_3\" style=\"display: none; line-height: 0px;\">‍</span></span></p>','2014-10-22 09:31:59','2014-10-22 17:32:09'),(606,'14.217.238.250',3,'ARC forbids Objective-C objects in struct','<h1 id=\"requirement-title\" style=\"margin: 0px 0px 10px; padding: 0px; white-space: normal; border: 0px; font-weight: normal; width: 728px; font-size: 14px; line-height: 25.200000762939453px; word-break: break-word; color: rgb(44, 62, 80); font-family: &#39;Helvetica Neue&#39;, &#39;Luxi Sans&#39;, &#39;DejaVu Sans&#39;, Tahoma, &#39;Hiragino Sans GB&#39;, STHeiti;\">typedef struct pinyinTableCell{&nbsp;<br/>NSString * pinyin;&nbsp;<br/>NSString * hanzi;&nbsp;<br/>}pinyinTableCell;&nbsp;</h1><p><span style=\"font-family: Verdana; font-size: 13px;\"><br/></span></p><p><span style=\"font-family: Verdana; font-size: 13px;\">在ARC环境下，在结构体中使用objc对象，必须使用_unsafe_unretained，这个是苹果的规定。</span><br/></p><h1 id=\"requirement-title\" style=\"margin: 0px 0px 10px; padding: 0px; border: 0px; font-weight: normal; width: 728px; font-size: 14px; line-height: 25.200000762939453px; word-break: break-word; color: rgb(44, 62, 80); font-family: &#39;Helvetica Neue&#39;, &#39;Luxi Sans&#39;, &#39;DejaVu Sans&#39;, Tahoma, &#39;Hiragino Sans GB&#39;, STHeiti;\">typedef struct pinyinTableCell{&nbsp;<br/><span style=\"font-family: Verdana; font-size: 13px;\">_unsafe_unretained&nbsp;</span>NSString * pinyin;&nbsp;<br/><span style=\"font-family: Verdana; font-size: 13px;\">_unsafe_unretained&nbsp;</span>NSString * hanzi;&nbsp;<br/>}pinyinTableCell;&nbsp;</h1><p><br/></p>','2014-10-28 03:40:41','2014-10-28 11:41:48'),(607,'14.222.223.117',21,'关闭mysql的日志记录mysql-bin.000003','<p>一、注释掉mysql日志</p><p>查找my.cnf 文件位置 sudo find / -name my.cnf <br/></p><p>注释掉&nbsp;&nbsp;&nbsp; <span style=\"FONT-FAMILY: NSimsun\"><code>#log-bin=mysql-bin<span style=\"FONT-FAMILY: NSimsun\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #</span>binlog_format=mixed</code></span></p><p>重启mysql&nbsp;&nbsp; sudo service mysqld restart</p><p><br/></p><p>二、删除原来的mysql-bin.0000文件</p><p>sudo mysql -u root -p</p><p>reset master<br/></p><p></p>','2014-11-06 07:02:20','2014-11-06 15:02:20'),(608,'61.145.174.101',26,'基于STM8普通IO口的模拟串口驱动程序','<p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; text-align: center;\"><strong><span style=\"font-family: &#39;Microsoft YaHei&#39;; font-size: 24px; color: rgb(0, 153, 0);\">基于STM8普通IO口的模拟串口驱动程序</span></strong><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal;\"><span style=\"font-size: 18px;\"><br/></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal;\"><span style=\"font-family: &#39;Microsoft YaHei&#39;; font-size: 18px;\">标准串口通讯数据的格式为：<strong><span style=\"color: rgb(255, 102, 0);\">起始位(1) + 数据位(8) + 校验位(1) + 停止位(1)</span></strong></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal;\"><span style=\"font-family: &#39;Microsoft YaHei&#39;; font-size: 18px;\">串口通讯另外一个重要的的部分是设置波特率，<span style=\"color: rgb(255, 102, 0);\"><strong>波特率就是1秒钟内串口所传输的Bit(位)数。</strong></span></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal;\"><span style=\"font-family: &#39;Microsoft YaHei&#39;; font-size: 18px;\">关于采样频率<span style=\"color: rgb(255, 102, 0);\">：<strong>为了较小读取或者发送串行数据的误差，我们采取了在N（我用的是4次）次中断中，取固定位置的读取的数据。</strong></span></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal;\"><span style=\"font-family: &#39;Microsoft YaHei&#39;; font-size: 18px;\"><span style=\"color: rgb(255, 102, 0);\"><br/></span></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal;\"><span style=\"font-family: &#39;Microsoft YaHei&#39;; font-size: 18px;\">我以stm8中9600波特率计算的过程为例：（1秒钟传输9600位）</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal;\"><span style=\"font-family: &#39;Microsoft YaHei&#39;; font-size: 18px;\">可以计算出传输1位所需要的时间 T1 = 1/9600 约为<span style=\"color: rgb(255, 102, 0);\"><strong>104us</strong></span></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal;\"><span style=\"font-family: &#39;Microsoft YaHei&#39;; font-size: 18px;\">由此可知，发送一位数据，定时器中断的时间间隔应为 104/4 =<strong>&nbsp;</strong><span style=\"color: rgb(255, 102, 0);\"><strong>26us(4倍采样频率)</strong></span><br/></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal;\"><span style=\"font-family: &#39;Microsoft YaHei&#39;; font-size: 18px;\">stm8 内部晶振频率为16M，我采用8分频也就是2M，故MCU震荡周期为 1/2M =<span style=\"color: rgb(255, 102, 0);\"><strong>&nbsp;0.5us</strong></span></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal;\"><span style=\"font-family: &#39;Microsoft YaHei&#39;; font-size: 18px;\">由上面的计算我们可以知道要发送一位数据，定时器中断的初值应设为为 26/0.5 =<span style=\"color: rgb(255, 102, 0);\"><strong>52</strong></span></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal;\"><span style=\"font-family: &#39;Microsoft YaHei&#39;; font-size: 18px;\"><br/></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal;\"><span style=\"font-family: &#39;Microsoft YaHei&#39;; font-size: 18px;\">以上为相关数据的计算过程，下面是模拟串口驱动程序和注释：</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal;\"><span style=\"font-family: &#39;Microsoft YaHei&#39;; font-size: 18px;\">定时器中断与IO口配置：</span></p><pre class=\"brush:cpp;toolbar:false\">//定时器设置\r\nvoid&nbsp;TIM3_Configuration(void)\r\n{\r\n&nbsp;&nbsp;TIM3_DeInit();\r\n&nbsp;&nbsp;TIM3_TimeBaseInit(TIM3_PRESCALER_8,52);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//52&nbsp;&nbsp;104\r\n&nbsp;&nbsp;TIM3_ITConfig(TIM3_IT_UPDATE&nbsp;,ENABLE);&nbsp;&nbsp;\r\n&nbsp;&nbsp;TIM3_ARRPreloadConfig(ENABLE);\r\n&nbsp;&nbsp;TIM3_Cmd(ENABLE);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;DISABLE&nbsp;TIM3_Cmd(DISABLE)\r\n}\r\n\r\n//模拟串口引脚定义\r\n#define&nbsp;SIM_UART_TX_PORT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GPIOC\r\n#define&nbsp;SIM_UART_TX_PIN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GPIO_PIN_2\r\n#define&nbsp;SimUartTxHigh()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(SIM_UART_TX_PORT-&gt;ODR&nbsp;|=&nbsp;(u8)(SIM_UART_TX_PIN))&nbsp;&nbsp;&nbsp;&nbsp;\r\n#define&nbsp;SimUartTxLow()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(SIM_UART_TX_PORT-&gt;ODR&nbsp;&amp;=&nbsp;(u8)(~SIM_UART_TX_PIN))&nbsp;\r\n#define&nbsp;SIM_UART_RX_PORT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GPIOC\r\n#define&nbsp;SIM_UART_RX_PIN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GPIO_PIN_3\r\n#define&nbsp;SimUartRxStatus()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(SIM_UART_RX_PORT-&gt;IDR&nbsp;&amp;&nbsp;SIM_UART_RX_PIN)\r\nGPIO_Init(SIM_UART_RX_PORT,&nbsp;SIM_UART_RX_PIN,GPIO_MODE_IN_PU_NO_IT);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;\r\nGPIO_Init(SIM_UART_TX_PORT,&nbsp;SIM_UART_TX_PIN,GPIO_MODE_OUT_PP_LOW_FAST);</pre><p><br/></p><p>////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////</p><p><br/></p><pre class=\"brush:cpp;toolbar:false\">/*&nbsp;Includes&nbsp;------------------------------------------------------------------*/\r\n#include&nbsp;&quot;stm8s.h&quot;\r\n#include&nbsp;&quot;global.h&quot;\r\n//默认采样频率为4倍&nbsp;&nbsp;一下为16M晶振&nbsp;8分频&nbsp;后计数器的装载值\r\n//9600B&nbsp;104us发送一位&nbsp;&nbsp;4倍采样频率&nbsp;故为26us发送一位\r\n#define&nbsp;&nbsp;SIM_BAUDRATE_9600&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;52&nbsp;&nbsp;\r\n#define&nbsp;&nbsp;SIM_BAUDRATE_4800&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;104\r\n#define&nbsp;&nbsp;SIM_BAUDRATE_2400&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;208\r\n/*&nbsp;Private&nbsp;variables&nbsp;---------------------------------------------------------*/\r\nu8&nbsp;RxByteIndex;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//接收字节索引\r\nu8&nbsp;RxSampFreq;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//采样频率控制&nbsp;1/4\r\nu8&nbsp;TxXKCnt&nbsp;=&nbsp;3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//需要发送数据包的字节数\r\nu8&nbsp;SimUartRxBuff[10];&nbsp;&nbsp;//接收数据包缓冲\r\nu8&nbsp;SimUartTxBuff[10]&nbsp;=&nbsp;{0x55,&nbsp;0xaa,&nbsp;0x66};\r\nbool&nbsp;IsSimUartRxFinish;//是否接收完成标志\r\nbool&nbsp;IsSimUartRecv;&nbsp;&nbsp;&nbsp;&nbsp;//模拟串口是否处于接收状态\r\n/*&nbsp;Private&nbsp;functions&nbsp;---------------------------------------------------------*/\r\n/*&nbsp;Public&nbsp;functions&nbsp;----------------------------------------------------------*/\r\nvoid&nbsp;InterruptSimUart(void);\r\nstatic&nbsp;void&nbsp;Drv_SimUartTxByte(void);\r\nstatic&nbsp;void&nbsp;Drv_SimUartRxByte(void);\r\n\r\n\r\n/*******************************************************************************\r\n#Function&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;&nbsp;InterruptSimUart&nbsp;\r\n#Description&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;&nbsp;模拟串口中断调用程序&nbsp;&nbsp;切换发送与接收\r\n#Parameter&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;&nbsp;NULL\r\n#Return&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;&nbsp;NULL\r\n#AuthorAndData&nbsp;:&nbsp;&nbsp;&nbsp;huangzhigang&nbsp;20141013\r\n*******************************************************************************/\r\nvoid&nbsp;InterruptSimUart(void)\r\n{\r\n&nbsp;&nbsp;&nbsp;if(IsSimUartRxFinish)&nbsp;&nbsp;&nbsp;//接收完成后立刻发送数据&nbsp;&nbsp;也可以自己定义什么时候发送数据\r\n&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IsSimUartRxFinish&nbsp;=&nbsp;FALSE;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IsSimUartRecv&nbsp;=&nbsp;FALSE;\r\n&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;if(IsSimUartRecv)\r\n&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Drv_SimUartRxByte();\r\n&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Drv_SimUartTxByte();\r\n&nbsp;&nbsp;&nbsp;}\r\n}\r\n/*******************************************************************************\r\n#Function&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;&nbsp;Drv_SimUartRxByte&nbsp;\r\n#Description&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;&nbsp;模拟串口接收函数\r\n#Parameter&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;&nbsp;NULL\r\n#Return&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;&nbsp;NULL\r\n#AuthorAndData&nbsp;:&nbsp;&nbsp;&nbsp;huangzhigang&nbsp;20141013\r\n*******************************************************************************/\r\nstatic&nbsp;void&nbsp;Drv_SimUartRxByte(void)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;u8&nbsp;RxBitNum;&nbsp;&nbsp;&nbsp;&nbsp;//接收位计数\r\n&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;u8&nbsp;Verify;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//校验码\r\n&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;u8&nbsp;OverTime;&nbsp;&nbsp;&nbsp;&nbsp;//接收超时计数\r\n&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;u8&nbsp;s_u8Rxbuff;&nbsp;&nbsp;//一字节接收缓存\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(SimUartRxStatus())\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OverTime++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OverTime&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(OverTime&nbsp;&gt;&nbsp;44)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OverTime&nbsp;=&nbsp;45;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RxByteIndex&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RxBitNum&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;if((SimUartRxStatus())&nbsp;&amp;&amp;&nbsp;(RxBitNum&nbsp;==&nbsp;0))\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RxSampFreq&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++RxSampFreq;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(RxSampFreq&nbsp;==&nbsp;1)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(RxBitNum&nbsp;==&nbsp;0)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//低电平，起始位bit0\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(!SimUartRxStatus())&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Verify&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s_u8Rxbuff&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RxBitNum++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if((RxBitNum&nbsp;&gt;&nbsp;0)&nbsp;&amp;&amp;&nbsp;(RxBitNum&nbsp;&lt;&nbsp;9))&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//数据位&nbsp;&nbsp;bit1~8\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(SimUartRxStatus())&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//高电平\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s_u8Rxbuff&nbsp;=&nbsp;s_u8Rxbuff&nbsp;|&nbsp;(0x01&nbsp;&lt;&lt;&nbsp;(RxBitNum&nbsp;-1));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Verify++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RxBitNum++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if(RxBitNum&nbsp;==&nbsp;9)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//校验位&nbsp;&nbsp;bit9\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RxBitNum++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(Verify&nbsp;&amp;&nbsp;0x01)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(SimUartRxStatus())&nbsp;{RxBitNum&nbsp;=&nbsp;0;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//奇校验\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(!SimUartRxStatus())&nbsp;{RxBitNum&nbsp;=&nbsp;0;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if(RxBitNum&nbsp;==&nbsp;10)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//停止位&nbsp;bit10&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(SimUartRxStatus())&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RxBitNum&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(RxByteIndex&nbsp;==&nbsp;0)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//头码1为0X55\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(s_u8Rxbuff&nbsp;==&nbsp;0x55)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SimUartRxBuff[RxByteIndex]&nbsp;=&nbsp;s_u8Rxbuff;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RxByteIndex++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RxByteIndex&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//TEST&nbsp;&nbsp;测试&nbsp;&nbsp;接收到一字节数据后马上回复&nbsp;\r\n//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IsSimUartRxFinish&nbsp;=&nbsp;TRUE;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if(RxByteIndex&nbsp;==&nbsp;1)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//头码2为0Xaa\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(s_u8Rxbuff&nbsp;==&nbsp;0xaa)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SimUartRxBuff[RxByteIndex]&nbsp;=&nbsp;s_u8Rxbuff;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RxByteIndex++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s_u8Rxbuff&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SimUartRxBuff[RxByteIndex]&nbsp;=&nbsp;s_u8Rxbuff;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RxByteIndex++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(RxByteIndex&nbsp;&gt;=&nbsp;2)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//接收完一个数据包\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//TODO:&nbsp;20141013&nbsp;hzg&nbsp;验证校验码\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RxByteIndex&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IsSimUartRxFinish&nbsp;=&nbsp;TRUE;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RxBitNum&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if(RxSampFreq&nbsp;&gt;&nbsp;3)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RxSampFreq&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n}\r\n/*******************************************************************************\r\n#Function&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;&nbsp;Drv_SimUartTxByte&nbsp;\r\n#Description&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;&nbsp;模拟串口发送函数&nbsp;&nbsp;\r\n#Parameter&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;&nbsp;NULL\r\n#Return&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;&nbsp;NULL\r\n#AuthorAndData&nbsp;:&nbsp;&nbsp;&nbsp;huangzhigang&nbsp;20141013\r\n*******************************************************************************/\r\nvoid&nbsp;Drv_SimUartTxByte(void)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;bool&nbsp;SendFinish&nbsp;=&nbsp;TRUE;&nbsp;&nbsp;//发送完成标志\r\n&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;u8&nbsp;Verify;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//奇偶校验\r\n&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;u8&nbsp;TxSampFreq&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//发送计数&nbsp;&nbsp;采样4次\r\n&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;u8&nbsp;BitNum&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//位计数\r\n&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;u8&nbsp;ByteLock;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//发送字节锁定（防止在发送途中&nbsp;发送数字被改变）\r\n&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;u8&nbsp;TxIndex&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//当前发送索引\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(SendFinish)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SendFinish&nbsp;=&nbsp;FALSE;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RxSampFreq&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BitNum&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(TxIndex&nbsp;&lt;&nbsp;TxXKCnt)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//控制发送的字节\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ByteLock&nbsp;=&nbsp;SimUartTxBuff[TxIndex];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TxIndex++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RxByteIndex&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IsSimUartRecv&nbsp;=&nbsp;TRUE;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SendFinish&nbsp;=&nbsp;TRUE;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM3-&gt;ARRH&nbsp;=&nbsp;(uint8_t)(52&nbsp;&gt;&gt;&nbsp;8);&nbsp;&nbsp;&nbsp;//定时器3计数器重装初值\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM3-&gt;ARRL&nbsp;=&nbsp;(uint8_t)(52);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TxXKCnt&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TxIndex&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(++TxSampFreq&nbsp;&gt;&nbsp;3)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(BitNum&nbsp;==&nbsp;0)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//起始位\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Verify&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SimUartTxLow();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BitNum++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if((BitNum&nbsp;&gt;0)&nbsp;&amp;&amp;&nbsp;(BitNum&nbsp;&lt;&nbsp;9))&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//数据位\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(0x01&nbsp;&amp;&nbsp;(ByteLock&nbsp;&gt;&gt;&nbsp;(BitNum-1)))&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//先发低位\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SimUartTxHigh();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Verify++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SimUartTxLow();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BitNum++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if(BitNum&nbsp;==&nbsp;9)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//校验位\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(0x01&nbsp;&amp;&nbsp;Verify)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//奇校验&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SimUartTxLow();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//有奇数个1&nbsp;则发送0&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SimUartTxHigh();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//有偶数个1则发送1\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BitNum++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if(BitNum&nbsp;==&nbsp;10)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//停止位\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SimUartTxHigh();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SendFinish&nbsp;=&nbsp;TRUE;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BitNum&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TxSampFreq&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}</pre><p><br/></p>','2014-11-08 04:15:38','2014-11-08 15:09:12'),(609,'113.102.223.43',26,'STM8库重写I2C读写','<p><span style=\"font-size: 12px;\"></span></p><p style=\"white-space: normal;\"><span style=\"color: rgb(255, 0, 0);\">////////////////////////////////////////////////////////////////////////////////////////</span></p><p style=\"white-space: normal;\"><span style=\"color: rgb(255, 0, 0);\">wx_i2c.h</span></p><p><span style=\"font-size: 12px;\">/******************************************************************************</span></p><p><span style=\"font-size: 12px;\">文 &nbsp;件 &nbsp;名：wx_i2c.h</span></p><p><span style=\"font-size: 12px;\">文件说明：i2c总线eeprom操作头文件</span></p><p><span style=\"font-size: 12px;\">调用库版本：V3.0</span></p><p><span style=\"font-size: 12px;\">日 &nbsp; &nbsp; &nbsp; &nbsp;期：11-5-30</span></p><p><span style=\"font-size: 12px;\">&nbsp; ******************************************************************************/</span></p><p><span style=\"font-size: 12px;\">#ifndef _WX_I2C_H</span></p><p><span style=\"font-size: 12px;\">#define _WX_I2C_H</span></p><p><span style=\"font-size: 12px;\">#include &quot;stm32f10x.h&quot;</span></p><p><span style=\"font-size: 12px;\">#define IIC_Write_Address 0xa0 //Write Address</span></p><p><span style=\"font-size: 12px;\">#define IIC_Read_Address 0xa1 //Read Address</span></p><p><span style=\"font-size: 12px;\">void delay_5us(u16 num);</span></p><p><span style=\"font-size: 12px;\">void IIC_Init(void);</span></p><p><span style=\"font-size: 12px;\">void IIC_Start(void);</span></p><p><span style=\"font-size: 12px;\">void IIC_Stop(void);</span></p><p><span style=\"font-size: 12px;\">void IIC_Wait_ack(void);</span></p><p><span style=\"font-size: 12px;\">//void IIC_Send_ack(void);</span></p><p><span style=\"font-size: 12px;\">void IIC_Send_noack(void);</span></p><p><span style=\"font-size: 12px;\">void IIC_Writebyte(u8 Data);</span></p><p><span style=\"font-size: 12px;\">u8 IIC_Readbyte(void);</span></p><p><span style=\"font-size: 12px;\">void IIC_Write(u16 Address,u8 Data);</span></p><p><span style=\"font-size: 12px;\">void IIC_Write_Array(u8 *Data,u16 Address,u16 Num);</span></p><p><span style=\"font-size: 12px;\">u8 IIC_Read(u16 Address);</span></p><p><span style=\"font-size: 12px;\">void IIC_Read_Array(u8 *Data,u16 Address,u16 Num);</span></p><p><span style=\"font-size: 12px;\">void IIC_Clear(u16 Address,u16 Num);</span></p><p><span style=\"font-size: 12px;\">#endif</span></p><p><span style=\"font-size: 12px;\">/*******************************************************************************************************</span></p><p><span style=\"font-size: 12px;\"><span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>endfile!!!</span></p><p><span style=\"font-size: 12px;\">********************************************************************************************************/</span></p><p><br/></p><p><br/></p><p><br/></p><p><span style=\"color: rgb(255, 0, 0);\">////////////////////////////////////////////////////////////////////////////////////////</span></p><p><span style=\"color: rgb(255, 0, 0);\">wx_i2c.c</span></p><p><span style=\"font-size: 12px;\">#include &quot;wx_i2c.h&quot;</span></p><p><span style=\"font-size: 12px;\">#define IIC_Write_Address 0xa0 //Write Address</span></p><p><span style=\"font-size: 12px;\">#define IIC_Read_Address 0xa1 //Read Address</span></p><p><span style=\"font-size: 12px;\">#define IIC_SDA_DAT &nbsp; GPIO_ReadInputDataBit(GPIOB, GPIO_Pin_7)</span></p><p><span style=\"font-size: 12px;\">#define IIC_SDA_L &nbsp; GPIO_ResetBits(GPIOB, GPIO_Pin_7)</span></p><p><span style=\"font-size: 12px;\">#define IIC_SDA_H &nbsp; GPIO_SetBits(GPIOB, GPIO_Pin_7)</span></p><p><span style=\"font-size: 12px;\">#define IIC_SCL_L &nbsp; GPIO_ResetBits(GPIOB, GPIO_Pin_6)</span></p><p><span style=\"font-size: 12px;\">#define IIC_SCL_H &nbsp; GPIO_SetBits(GPIOB, GPIO_Pin_6)</span></p><p><span style=\"font-size: 12px;\">void delay_5us(u16 num)//满足IIC时序的延时</span></p><p><span style=\"font-size: 12px;\">{</span></p><p><span style=\"font-size: 12px;\"><span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>u16 i,j;</span></p><p><span style=\"font-size: 12px;\"><span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>for(i=num;i&gt;0;i--)</span></p><p><span style=\"font-size: 12px;\"><span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>{</span></p><p><span style=\"font-size: 12px;\"><span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>for(j=10;j&gt;0;j--);</span></p><p><span style=\"font-size: 12px;\"><span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>}</span></p><p><span style=\"font-size: 12px;\">}</span></p><p><span style=\"font-size: 12px;\">void IIC_Init(void)//IIC初始化程序</span></p><p><span style=\"font-size: 12px;\">{</span></p><p><span style=\"font-size: 12px;\">IIC_SDA_H;</span></p><p><span style=\"font-size: 12px;\">IIC_SCL_H;</span></p><p><span style=\"font-size: 12px;\">delay_5us(1);</span></p><p><span style=\"font-size: 12px;\">}</span></p><p><span style=\"font-size: 12px;\">void IIC_Start(void)//IIC开始信号</span></p><p><span style=\"font-size: 12px;\">{</span></p><p><span style=\"font-size: 12px;\">IIC_SDA_H;</span></p><p><span style=\"font-size: 12px;\">IIC_SCL_H;</span></p><p><span style=\"font-size: 12px;\">delay_5us(1);</span></p><p><span style=\"font-size: 12px;\">IIC_SDA_L;</span></p><p><span style=\"font-size: 12px;\">delay_5us(1);</span></p><p><span style=\"font-size: 12px;\">IIC_SCL_L;</span></p><p><span style=\"font-size: 12px;\">}</span></p><p><span style=\"font-size: 12px;\">void IIC_Stop(void)//IIC停止信号</span></p><p><span style=\"font-size: 12px;\">{</span></p><p><span style=\"font-size: 12px;\">IIC_SDA_L;</span></p><p><span style=\"font-size: 12px;\">IIC_SCL_H;</span></p><p><span style=\"font-size: 12px;\">delay_5us(1);</span></p><p><span style=\"font-size: 12px;\">IIC_SDA_H;</span></p><p><span style=\"font-size: 12px;\">}</span></p><p><span style=\"font-size: 12px;\">void IIC_Wait_ack(void)//IIC主器件等待应答 &nbsp;?????</span></p><p><span style=\"font-size: 12px;\">{</span></p><p><span style=\"font-size: 12px;\">u8 ErrTime=255;</span></p><p><span style=\"font-size: 12px;\">IIC_SCL_H;</span></p><p><span style=\"font-size: 12px;\">//while(IIC_SDA&amp;&amp;(ErrTime&gt;0))</span></p><p><span style=\"font-size: 12px;\"><span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>while(IIC_SDA_DAT)</span></p><p><span style=\"font-size: 12px;\"><span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>{</span></p><p><span style=\"font-size: 12px;\"><span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>ErrTime--;</span></p><p><span style=\"font-size: 12px;\"><span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>}</span></p><p><span style=\"font-size: 12px;\">delay_5us(1);</span></p><p><span style=\"font-size: 12px;\">IIC_SCL_L;</span></p><p><span style=\"font-size: 12px;\">}</span></p><p><span style=\"font-size: 12px;\">void IIC_Send_ack(void)//IIC主器件发送应答</span></p><p><span style=\"font-size: 12px;\">{</span></p><p><span style=\"font-size: 12px;\">IIC_SDA_L;</span></p><p><span style=\"font-size: 12px;\">delay_5us(1);</span></p><p><span style=\"font-size: 12px;\">IIC_SCL_H;</span></p><p><span style=\"font-size: 12px;\">delay_5us(1);</span></p><p><span style=\"font-size: 12px;\">IIC_SCL_L;</span></p><p><span style=\"font-size: 12px;\">}</span></p><p><span style=\"font-size: 12px;\">void IIC_Send_noack(void)//IIC主器件发送非应答</span></p><p><span style=\"font-size: 12px;\">{</span></p><p><span style=\"font-size: 12px;\">IIC_SDA_H;</span></p><p><span style=\"font-size: 12px;\">IIC_SCL_H;</span></p><p><span style=\"font-size: 12px;\">delay_5us(1);</span></p><p><span style=\"font-size: 12px;\">IIC_SCL_L;</span></p><p><span style=\"font-size: 12px;\">}</span></p><p><span style=\"font-size: 12px;\">void IIC_Writebyte(u8 Data)//IIC写一个字节</span></p><p><span style=\"font-size: 12px;\">{</span></p><p><span style=\"font-size: 12px;\">u8 i;</span></p><p><span style=\"font-size: 12px;\">for(i=8;i&gt;0;i--)</span></p><p><span style=\"font-size: 12px;\">{</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp;IIC_SCL_L;</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp;if((Data&amp;0x80)==0x80)</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp;{</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp; IIC_SDA_H;</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp;}</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp;else</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp;{</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp; IIC_SDA_L;</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp;}</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp;Data&lt;&lt;=1;</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp;delay_5us(1);</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp;IIC_SCL_H;</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp;delay_5us(1);</span></p><p><span style=\"font-size: 12px;\">}</span></p><p><span style=\"font-size: 12px;\">IIC_SCL_L;</span></p><p><span style=\"font-size: 12px;\">IIC_SDA_H;</span></p><p><span style=\"font-size: 12px;\">delay_5us(10);</span></p><p><span style=\"font-size: 12px;\">}</span></p><p><span style=\"font-size: 12px;\">u8 IIC_Readbyte(void)//IIC读一个字节</span></p><p><span style=\"font-size: 12px;\">{</span></p><p><span style=\"font-size: 12px;\">u8 i,Data=0;</span></p><p><span style=\"font-size: 12px;\">IIC_SDA_H;</span></p><p><span style=\"font-size: 12px;\">for(i=8;i&gt;0;i--)</span></p><p><span style=\"font-size: 12px;\">{</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp;Data&lt;&lt;=1;</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp;IIC_SCL_L;</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp;delay_5us(1);</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp;IIC_SCL_H;</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp;delay_5us(1);</span></p><p><span style=\"font-size: 12px;\">// &nbsp; Data|=GPIO_ReadInputDataBit(GPIOB, GPIO_Pin7)&nbsp;</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp;Data|=IIC_SDA_DAT; //读管脚的状态</span></p><p><span style=\"font-size: 12px;\">}</span></p><p><span style=\"font-size: 12px;\">IIC_SCL_L;</span></p><p><span style=\"font-size: 12px;\">delay_5us(1);</span></p><p><span style=\"font-size: 12px;\">return(Data);</span></p><p><span style=\"font-size: 12px;\">}</span></p><p><span style=\"font-size: 12px;\">void IIC_Write(u16 Address,u8 Data)//IIC 往指定地址Address里写Data</span></p><p><span style=\"font-size: 12px;\">{</span></p><p><span style=\"font-size: 12px;\">u8 page,addr;</span></p><p><span style=\"font-size: 12px;\">addr = Address&amp;0xff;</span></p><p><span style=\"font-size: 12px;\">page = (Address&gt;&gt;8)&amp;0xf;</span></p><p><span style=\"font-size: 12px;\">IIC_Start();</span></p><p><span style=\"font-size: 12px;\">IIC_Writebyte(IIC_Write_Address);</span></p><p><span style=\"font-size: 12px;\">IIC_Wait_ack();</span></p><p><span style=\"font-size: 12px;\">IIC_Writebyte(page);</span></p><p><span style=\"font-size: 12px;\">IIC_Wait_ack();</span></p><p><span style=\"font-size: 12px;\">IIC_Writebyte(addr);</span></p><p><span style=\"font-size: 12px;\">IIC_Wait_ack();</span></p><p><span style=\"font-size: 12px;\">IIC_Writebyte(Data);</span></p><p><span style=\"font-size: 12px;\">IIC_Wait_ack();</span></p><p><span style=\"font-size: 12px;\">IIC_Stop();</span></p><p><span style=\"font-size: 12px;\">delay_5us(10000);</span></p><p><span style=\"font-size: 12px;\">}</span></p><p><span style=\"font-size: 12px;\">void IIC_Write_Array(u8 *Data,u16 Address,u16 Num)//IIC 往起始地址Address里写Data[]数组</span></p><p><span style=\"font-size: 12px;\">{</span></p><p><span style=\"font-size: 12px;\">u8 i;</span></p><p><span style=\"font-size: 12px;\">u8 *p;</span></p><p><span style=\"font-size: 12px;\">u8 page1,page2,yushu;</span></p><p><span style=\"font-size: 12px;\">u8 page,addr,addr1;</span></p><p><span style=\"font-size: 12px;\">addr = Address&amp;0xff;</span></p><p><span style=\"font-size: 12px;\">page1 = Address&gt;&gt;5;</span></p><p><span style=\"font-size: 12px;\">page2 =(Address+Num)&gt;&gt;5;</span></p><p><span style=\"font-size: 12px;\">addr1 = (Address+Num)&amp;0xff;</span></p><p><span style=\"font-size: 12px;\">p=Data;</span></p><p><span style=\"font-size: 12px;\">for(page=page1;page&lt;=page2;page++)</span></p><p><span style=\"font-size: 12px;\">{</span></p><p><span style=\"font-size: 12px;\">if((page==page1)||(page==page2))</span></p><p><span style=\"font-size: 12px;\">{</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp;if(page==page1)</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp;<span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>{</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp;<span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span> if(page1==page2)</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp;<span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span> <span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>{</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; yushu= Num;</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp;<span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp;<span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span></span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp; else</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp; <span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>{</span></p><p><span style=\"font-size: 12px;\"><span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>yushu=(32-addr&amp;0x1f)%32;</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp; <span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>}</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp;<span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>}</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp;else&nbsp;</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp;<span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>yushu=addr1%32;</span></p><p><span style=\"font-size: 12px;\">}</span></p><p><span style=\"font-size: 12px;\">else</span></p><p><span style=\"font-size: 12px;\">{</span></p><p><span style=\"font-size: 12px;\"><span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>yushu=0;</span></p><p><span style=\"font-size: 12px;\">}</span></p><p><span style=\"font-size: 12px;\">IIC_Start();</span></p><p><span style=\"font-size: 12px;\">IIC_Writebyte(IIC_Write_Address);</span></p><p><span style=\"font-size: 12px;\">IIC_Wait_ack();</span></p><p><span style=\"font-size: 12px;\">IIC_Writebyte(page&gt;&gt;3);</span></p><p><span style=\"font-size: 12px;\">IIC_Wait_ack();</span></p><p><span style=\"font-size: 12px;\">IIC_Writebyte(addr);</span></p><p><span style=\"font-size: 12px;\">IIC_Wait_ack();</span></p><p><span style=\"font-size: 12px;\">for(i=0;i&lt;32;i++)</span></p><p><span style=\"font-size: 12px;\">{</span></p><p><span style=\"font-size: 12px;\">addr++;</span></p><p><span style=\"font-size: 12px;\">IIC_Writebyte(*p);</span></p><p><span style=\"font-size: 12px;\">IIC_Wait_ack();</span></p><p><span style=\"font-size: 12px;\">p++;</span></p><p><span style=\"font-size: 12px;\">if(yushu!=0)</span></p><p><span style=\"font-size: 12px;\">{</span></p><p><span style=\"font-size: 12px;\"><span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>if(i==yushu-1)</span></p><p><span style=\"font-size: 12px;\"><span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>break;</span></p><p><span style=\"font-size: 12px;\">}</span></p><p><span style=\"font-size: 12px;\">}</span></p><p><span style=\"font-size: 12px;\">IIC_Stop();</span></p><p><span style=\"font-size: 12px;\">delay_5us(10000);</span></p><p><span style=\"font-size: 12px;\">} &nbsp;</span></p><p><span style=\"font-size: 12px;\">}</span></p><p><span style=\"font-size: 12px;\">u8 IIC_Read(u16 Address)//IIC 读指定地址Address里的Data</span></p><p><span style=\"font-size: 12px;\">{</span></p><p><span style=\"font-size: 12px;\">u8 Data;</span></p><p><span style=\"font-size: 12px;\">u8 page,addr;</span></p><p><span style=\"font-size: 12px;\">addr = Address&amp;0xff;</span></p><p><span style=\"font-size: 12px;\">page = (Address&gt;&gt;8)&amp;0xf;</span></p><p><span style=\"font-size: 12px;\">IIC_Start();</span></p><p><span style=\"font-size: 12px;\">IIC_Writebyte(IIC_Write_Address);</span></p><p><span style=\"font-size: 12px;\">IIC_Wait_ack();</span></p><p><span style=\"font-size: 12px;\">IIC_Writebyte(page);</span></p><p><span style=\"font-size: 12px;\">IIC_Wait_ack();</span></p><p><span style=\"font-size: 12px;\">IIC_Writebyte(addr);</span></p><p><span style=\"font-size: 12px;\">IIC_Wait_ack();</span></p><p><span style=\"font-size: 12px;\">IIC_Start();</span></p><p><span style=\"font-size: 12px;\">IIC_Writebyte(IIC_Read_Address);</span></p><p><span style=\"font-size: 12px;\">IIC_Wait_ack();</span></p><p><span style=\"font-size: 12px;\">Data=IIC_Readbyte();</span></p><p><span style=\"font-size: 12px;\">IIC_Send_noack();</span></p><p><span style=\"font-size: 12px;\">IIC_Stop();</span></p><p><span style=\"font-size: 12px;\">return(Data); &nbsp;</span></p><p><span style=\"font-size: 12px;\">}</span></p><p><span style=\"font-size: 12px;\">void IIC_Read_Array(u8 *Data,u16 Address,u16 Num)//IIC 读起始地址Address里的Data[]</span></p><p><span style=\"font-size: 12px;\">{</span></p><p><span style=\"font-size: 12px;\">u16 i;</span></p><p><span style=\"font-size: 12px;\">u8 *p;</span></p><p><span style=\"font-size: 12px;\">u8 page,addr;</span></p><p><span style=\"font-size: 12px;\">addr = Address&amp;0xff;</span></p><p><span style=\"font-size: 12px;\">page = Address&gt;&gt;8;</span></p><p><span style=\"font-size: 12px;\">p=Data; &nbsp;&nbsp;</span></p><p><span style=\"font-size: 12px;\">IIC_Start();</span></p><p><span style=\"font-size: 12px;\">IIC_Writebyte(IIC_Write_Address);</span></p><p><span style=\"font-size: 12px;\">IIC_Wait_ack();</span></p><p><span style=\"font-size: 12px;\">IIC_Writebyte(page);</span></p><p><span style=\"font-size: 12px;\">IIC_Wait_ack();</span></p><p><span style=\"font-size: 12px;\">IIC_Writebyte(addr);</span></p><p><span style=\"font-size: 12px;\">IIC_Wait_ack();</span></p><p><span style=\"font-size: 12px;\">IIC_Start();</span></p><p><span style=\"font-size: 12px;\">IIC_Writebyte(IIC_Read_Address);</span></p><p><span style=\"font-size: 12px;\">IIC_Wait_ack();</span></p><p><span style=\"font-size: 12px;\">for(i=0;i&lt;Num;i++)</span></p><p><span style=\"font-size: 12px;\">{</span></p><p><span style=\"font-size: 12px;\">*(p+i)=IIC_Readbyte();</span></p><p><span style=\"font-size: 12px;\">if(i==Num-1)</span></p><p><span style=\"font-size: 12px;\"><span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>IIC_Send_noack();</span></p><p><span style=\"font-size: 12px;\">else</span></p><p><span style=\"font-size: 12px;\"><span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>IIC_Send_ack();</span></p><p><span style=\"font-size: 12px;\">}</span></p><p><span style=\"font-size: 12px;\">IIC_Stop();</span></p><p><span style=\"font-size: 12px;\">}</span></p><p><span style=\"font-size: 12px;\">void IIC_Clear(u16 Address,u16 Num)</span></p><p><span style=\"font-size: 12px;\">{</span></p><p><span style=\"font-size: 12px;\">u8 i,j;</span></p><p><span style=\"font-size: 12px;\">u8 page1,page2,yushu;</span></p><p><span style=\"font-size: 12px;\">u8 page,addr,n,addr1;</span></p><p><span style=\"font-size: 12px;\">addr = Address&amp;0xff;</span></p><p><span style=\"font-size: 12px;\">page1 = (Address&gt;&gt;8)&amp;0xf;</span></p><p><span style=\"font-size: 12px;\">page2 =((Address+Num)&gt;&gt;8)&amp;0xf;</span></p><p><span style=\"font-size: 12px;\">addr1 = (Address+Num)&amp;0xff;</span></p><p><span style=\"font-size: 12px;\">for(page=page1;page&lt;=page2;page++)</span></p><p><span style=\"font-size: 12px;\">{</span></p><p><span style=\"font-size: 12px;\">if((page==page1)||(page==page2))</span></p><p><span style=\"font-size: 12px;\">{</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp;if(page==page1)</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp;<span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>{</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp;<span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span> if(page1==page2)</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp;<span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span> <span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>{</span></p><p><span style=\"font-size: 12px;\"><span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span> <span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>n=Num/32;</span></p><p><span style=\"font-size: 12px;\"><span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span> yushu=Num%32;</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp;<span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span> <span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>}</span></p><p><span style=\"font-size: 12px;\"><span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span> &nbsp;else</span></p><p><span style=\"font-size: 12px;\"><span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span> &nbsp;<span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>{</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp;<span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>n=(256-addr)/32;</span></p><p><span style=\"font-size: 12px;\"><span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span> yushu=(256-addr)%32;</span></p><p><span style=\"font-size: 12px;\"><span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span> &nbsp;<span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>}</span></p><p><span style=\"font-size: 12px;\"><span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span> if(yushu)</span></p><p><span style=\"font-size: 12px;\"><span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span> <span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>n+=1;</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp;<span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>}</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp; else</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp; <span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>{</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp; <span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>n=addr1/32;</span></p><p><span style=\"font-size: 12px;\"><span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>yushu=addr1%32;</span></p><p><span style=\"font-size: 12px;\"><span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>if(yushu)</span></p><p><span style=\"font-size: 12px;\"><span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>n+=1;</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp; <span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>}</span></p><p><span style=\"font-size: 12px;\">}</span></p><p><span style=\"font-size: 12px;\">else</span></p><p><span style=\"font-size: 12px;\">{</span></p><p><span style=\"font-size: 12px;\"><span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>n=8;</span></p><p><span style=\"font-size: 12px;\"><span class=\"Apple-tab-span\" style=\"font-size: 12px; white-space: pre;\"></span>yushu=0;</span></p><p><span style=\"font-size: 12px;\">}</span></p><p><span style=\"font-size: 12px;\">for(j=0;j&lt;n;j++)</span></p><p><span style=\"font-size: 12px;\">{</span></p><p><span style=\"font-size: 12px;\">IIC_Start();</span></p><p><span style=\"font-size: 12px;\">IIC_Writebyte(IIC_Write_Address);</span></p><p><span style=\"font-size: 12px;\">IIC_Wait_ack();</span></p><p><span style=\"font-size: 12px;\">IIC_Writebyte(page);</span></p><p><span style=\"font-size: 12px;\">IIC_Wait_ack();</span></p><p><span style=\"font-size: 12px;\">IIC_Writebyte(addr+32*j);</span></p><p><span style=\"font-size: 12px;\">IIC_Wait_ack();</span></p><p><span style=\"font-size: 12px;\">for(i=0;i&lt;32;i++)</span></p><p><span style=\"font-size: 12px;\">{</span></p><p><span style=\"font-size: 12px;\">IIC_Writebyte(0xff);</span></p><p><span style=\"font-size: 12px;\">IIC_Wait_ack();</span></p><p><span style=\"font-size: 12px;\">}</span></p><p><span style=\"font-size: 12px;\">IIC_Stop();</span></p><p><span style=\"font-size: 12px;\">delay_5us(10000);</span></p><p><span style=\"font-size: 12px;\">}</span></p><p><span style=\"font-size: 12px;\">}</span></p><p><span style=\"font-size: 12px;\">}</span></p><p><span style=\"font-size: 12px;\">/*******************************************************************************************************</span></p><p><span style=\"font-size: 12px;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;end &nbsp;file!!!</span></p><p><span style=\"font-size: 12px;\">********************************************************************************************************/</span></p><p><br/></p>','2014-11-08 05:27:21','2015-01-03 14:22:23'),(610,'14.217.227.53',28,'LED控制芯片','<p><strong>WS2811</strong></p><p><strong>单线256级灰度三通道 恒流LED驱动IC</strong></p><p><a href=\"http://wenku.baidu.com/link?url=6eU3HumhwphOsrw0RaR2R9SF21Ov52Ond5tyEyv4e1SjsSIgEeDPcr4LCmANg2JjqJ_BORW15JdHD9K-uHQIFhfIJXW7FK6lH96SJ_ZBqxO\" _src=\"http://wenku.baidu.com/link?url=6eU3HumhwphOsrw0RaR2R9SF21Ov52Ond5tyEyv4e1SjsSIgEeDPcr4LCmANg2JjqJ_BORW15JdHD9K-uHQIFhfIJXW7FK6lH96SJ_ZBqxO\">http://wenku.baidu.com/link?url=6eU3HumhwphOsrw0RaR2R9SF21Ov52Ond5tyEyv4e1SjsSIgEeDPcr4LCmANg2JjqJ_BORW15JdHD9K-uHQIFhfIJXW7FK6lH96SJ_ZBqxO</a> </p><p><br/></p><p><strong>购买地址</strong></p><p><a href=\"http://item.taobao.com/item.htm?ut_sk=1.C3WbUXTGk1AQAFWaLpCyc%2BZy_21380790_1415608203.Copy.ShareSceneItemDetail&amp;id=41029170841\" _src=\"http://item.taobao.com/item.htm?ut_sk=1.C3WbUXTGk1AQAFWaLpCyc%2BZy_21380790_1415608203.Copy.ShareSceneItemDetail&amp;id=41029170841\">http://item.taobao.com/item.htm?ut_sk=1.C3WbUXTGk1AQAFWaLpCyc%2BZy_21380790_1415608203.Copy.ShareSceneItemDetail&amp;id=41029170841</a>&nbsp;</p><p>//-------------------------------------------------------------------------</p>','2014-11-08 05:48:28','2014-11-11 20:51:20'),(611,'113.102.223.43',26,'ADC控制的PWM','<p><strong>内容摘要：开发板上的LED1接在了PD3上，而PD3复用功能是TIM2_CC2，正好可以用来测试PWM功能。当然板上的另外2个LED也可以用，LED2对应PD2/TIM3_CC1，LED3对应PD0/TIM3_CC2。本例程通过电位器来调整LED1的亮度。</strong></p><p><br/></p><pre class=\"brush:cpp;toolbar:false\">#include&nbsp;&lt;iostm8s207sb.h&gt;\r\nvoid&nbsp;CLK_init(void)\r\n{\r\n&nbsp;&nbsp;CLK_CKDIVR&nbsp;=&nbsp;0x08;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;16M内部RC经2分频后系统时钟为8M\r\n}\r\nvoid&nbsp;GPIO_init(void)\r\n{\r\n&nbsp;&nbsp;PD_DDR&nbsp;=&nbsp;0x08;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;配置PD端口的方向寄存器PD3输出\r\n&nbsp;&nbsp;PD_CR1&nbsp;=&nbsp;0x08;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;设置PD3为推挽输出\r\n}\r\nvoid&nbsp;TIM2_init(void)\r\n{\r\n&nbsp;&nbsp;TIM2_CCMR2&nbsp;=&nbsp;0x70;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;PWM&nbsp;模式&nbsp;2\r\n&nbsp;&nbsp;TIM2_CCER1&nbsp;=&nbsp;0x30;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;CC2配置为输出\r\n&nbsp;&nbsp;TIM2_ARRH&nbsp;=&nbsp;0x03;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;配置PWM分辨率为10位，ARR=0x3FF\r\n&nbsp;&nbsp;TIM2_ARRL&nbsp;=&nbsp;0xFF;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;PWM频率=8M/0x03FF=7820Hz\r\n&nbsp;&nbsp;TIM2_CR1&nbsp;=&nbsp;0x01;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;计数器使能，开始计数\r\n}\r\nvoid&nbsp;ADC_init(void)\r\n{\r\n&nbsp;&nbsp;ADC_CSR&nbsp;=&nbsp;0x03;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;ADC输入引脚AIN3\r\n&nbsp;&nbsp;ADC_CR1&nbsp;=&nbsp;0x01;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;ADC开启\r\n}\r\nRun(void)\r\n{\r\n&nbsp;&nbsp;unsigned&nbsp;int&nbsp;value;\r\n&nbsp;&nbsp;ADC_CSR&nbsp;&amp;=&nbsp;~0x80;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;清除EOC转换结束标志\r\n&nbsp;&nbsp;ADC_CR1&nbsp;|=&nbsp;0x01;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;开始单次转换\r\n&nbsp;&nbsp;while(!(ADC_CSR&amp;0x80));&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;等待单次转换完成\r\n&nbsp;&nbsp;value&nbsp;=&nbsp;((int)ADC_DRH&lt;&lt;2);&nbsp;//&nbsp;先读高8位，默认设置数据左对齐\r\n&nbsp;&nbsp;value&nbsp;|=&nbsp;ADC_DRL;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;再读低8位\r\n&nbsp;&nbsp;TIM2_CCR2H&nbsp;=&nbsp;(unsigned&nbsp;char)(value&gt;&gt;8);&nbsp;&nbsp;&nbsp;//&nbsp;更新CC2比较寄存器\r\n&nbsp;&nbsp;TIM2_CCR2L&nbsp;=&nbsp;(unsigned&nbsp;char)(value);\r\n}\r\nvoid&nbsp;init_devices(void)\r\n{\r\n&nbsp;&nbsp;asm(&quot;sim&quot;);\r\n&nbsp;&nbsp;CLK_init();\r\n&nbsp;&nbsp;GPIO_init();\r\n&nbsp;&nbsp;TIM2_init();\r\n&nbsp;&nbsp;ADC_init();\r\n&nbsp;&nbsp;asm(&quot;rim&quot;);\r\n}\r\nvoid&nbsp;main(&nbsp;void&nbsp;)\r\n{\r\n&nbsp;&nbsp;init_devices();\r\n&nbsp;&nbsp;while(1)&nbsp;&nbsp;&nbsp;&nbsp;Run();\r\n}</pre><p style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px;\"><br/></p>','2014-11-08 06:50:44','2015-01-03 14:22:34'),(612,'192.168.1.200',24,'提取出一个字节的八位各自的状态','<p>unsigned char c;<br/>int r[8];<br/><br/>r[0] = c &amp; 0x01; // 最低位<br/>r[1] = ( c &amp; 0x02) &gt;&gt; 1;<br/>r[2] = ( c &amp; 0x04) &gt;&gt; 2;<br/>r[3] = ( c &amp; 0x08) &gt;&gt; 3;<br/>r[4] = ( c &amp; 0x10) &gt;&gt; 4;<br/>r[5] = ( c &amp; 0x20) &gt;&gt; 5;<br/>r[6] = ( c &amp; 0x40) &gt;&gt; 6;<br/>r[7] = ( c &amp; 0x80) &gt;&gt; 7;&nbsp; // 最高位</p>','2014-11-09 16:44:34','2016-07-02 01:58:09'),(613,'14.217.233.80',1,'动态加载DLL','<p>动态调用动态库步骤：</p><p><br/>1、创建一个函数指针，其指针数据类型要与调用的DLL引出函数相吻合。<br/>2、通过Win32 API函数LoadLibrary（）显式的调用DLL，此函数返回DLL的实例句柄。<br/>3、通过Win32 API函数GetProcAddress（）获取要调用的DLL的函数地址,把结果赋给自定义函数的指针类型。<br/>4、使用函数指针来调用DLL函数。<br/>5、最后调用完成后，通过Win32 API函数FreeLibrary()释放DLL函数。</p><p>例如：在test.dll文件中有一个int Add(int a,int b)的函数，现在调用test.dll文件的Add函数，如下所示：</p><pre class=\"brush:cpp;toolbar:false\">&nbsp;typedef&nbsp;int&nbsp;(_stdcall&nbsp;*&nbsp;AddProc)(int&nbsp;,&nbsp;int&nbsp;);//定义函数指针类型&nbsp;HINSTANCE&nbsp;hInst;\r\n&nbsp;hInst=LoadLibrary(&quot;test.dll&quot;);//动态加载Dll\r\n&nbsp;AddProc&nbsp;Add=(AddProc)GetProcAddress(hInst,&quot;add&quot;);//获取Dll的导出函数\r\n&nbsp;\r\n&nbsp;if(!Add)\r\n&nbsp;{\r\n&nbsp;&nbsp;MessageBox(&quot;获取Add函数地址失败！&quot;);\r\n&nbsp;}\r\n&nbsp;CString&nbsp;stradd;\r\n&nbsp;stradd.Format(&quot;5+3=%d&quot;,Add(5,3));\r\n&nbsp;MessageBox(stradd);\r\n&nbsp;::FreeLibrary(hInst);//释放Dll函数</pre><p><br/></p><p><br/></p><p>///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////</p><p>导出声明</p><p><br/></p><p>////////////////////////////////////////////////////////////////////////////////////////////////////////////////</p><p>; FormLibrary.def : 声明 DLL 的模块参数。</p><p>LIBRARY</p><p>EXPORTS<br/>&nbsp;CloudkonFormShow&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ;填入导出的函数名<br/>&nbsp;CloudkonFormSetEdit&nbsp;&nbsp; &nbsp;;填入导出的函数名&nbsp;<br/>&nbsp;CloudkonFormHide&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;;填入导出的函数名<br/>&nbsp;CloudkonFormSetData&nbsp; ;填入导出的函数名</p><p><br/></p><p>////////////////////////////////////////////////////////////////////////////////////////////////////////////////</p><pre class=\"brush:cpp;toolbar:false\">//导出API函数时使用下面的宏定义\r\n#ifndef&nbsp;DLLEXPORT_API\r\n&nbsp;#define&nbsp;DLLEXPORT_API&nbsp;extern&nbsp;&quot;C&quot;&nbsp;__declspec(dllexport)&nbsp;\r\n#endif\r\n\r\n//导出类时使用下面的宏定义\r\n#ifndef&nbsp;DLLEXPORT_CLASS\r\n&nbsp;#define&nbsp;DLLEXPORT_CLASS&nbsp;__declspec(dllexport)&nbsp;\r\n#endif\r\n\r\n//导出类时使用下面的宏定义\r\n#ifndef&nbsp;DLLEXPORT_MULT\r\n#define&nbsp;DLLEXPORT_MULT&nbsp;__declspec(dllexport)&nbsp;\r\n#endif\r\n\r\n\r\n--类导出\r\nclass&nbsp;DLLEXPORT_CLASS&nbsp;&nbsp;GCHELog\r\n{\r\n&nbsp;&nbsp;&nbsp;...\r\n};\r\n\r\n--函数导出\r\nDLLEXPORT_API&nbsp;VOID&nbsp;WINAPI&nbsp;GCApiSRTNetProgramLoad();\r\n\r\n\r\n--DLL主函数\r\nBOOL&nbsp;WINAPI&nbsp;DllMain(&nbsp;HINSTANCE&nbsp;hInstance,&nbsp;DWORD&nbsp;dwReason,&nbsp;LPVOID&nbsp;lpReserved&nbsp;)\r\n{\r\n&nbsp;//&nbsp;DLL&nbsp;Entry&nbsp;Point&nbsp;\r\n&nbsp;switch&nbsp;(dwReason)\r\n&nbsp;{\r\n&nbsp;case&nbsp;DLL_PROCESS_ATTACH:\r\n&nbsp;&nbsp;//LOG::OpenLog();\r\n&nbsp;&nbsp;MessageBox(0,_T(&quot;DllMain&quot;),_T(&quot;i&nbsp;am&nbsp;dll&quot;),0);\r\n&nbsp;\r\n&nbsp;&nbsp;break;\r\n&nbsp;case&nbsp;DLL_PROCESS_DETACH:\r\n&nbsp;&nbsp;//LOG::CloseLog();\r\n&nbsp;&nbsp;break;\r\n&nbsp;}\r\n&nbsp;return&nbsp;true;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;ok\r\n}</pre><p><br/></p><p><br/></p><p>////////////////////////////////////////////////////////////////////////////////////////////////////////////////</p><p><span id=\"_baidu_bookmark_start_2\" style=\"line-height: 0px; display: none;\">‍</span></p><p><span style=\"text-decoration: underline;\"><span style=\"color: rgb(0, 102, 204);\"><span id=\"_baidu_bookmark_start_4\" style=\"line-height: 0px; display: none;\">‍</span></span></span><span id=\"_baidu_bookmark_start_6\" style=\"line-height: 0px; display: none;\">‍</span>使用DLL主函数的错误:解决 uafxcwd.lib(dllmodul.obj) : error<span id=\"_baidu_bookmark_start_1\" style=\"line-height: 0px; display: none;\">‍</span> LNK2005: DllMain 已经在 中定义</p><p><span id=\"_baidu_bookmark_start_15\" style=\"line-height: 0px; display: none;\">‍</span><span id=\"_baidu_bookmark_start_17\" style=\"line-height: 0px; display: none;\">‍</span>///////</p><pre class=\"brush:cpp;toolbar:false\">//&nbsp;The&nbsp;following&nbsp;symbol&nbsp;used&nbsp;to&nbsp;force&nbsp;inclusion&nbsp;of&nbsp;this&nbsp;module&nbsp;for&nbsp;_USRDLL\r\n&nbsp;#ifdef&nbsp;_X86_\r\n&nbsp;extern&nbsp;&quot;C&quot;&nbsp;{&nbsp;int&nbsp;_afxForceUSRDLL;&nbsp;}\r\n&nbsp;#else\r\n&nbsp;extern&nbsp;&quot;C&quot;&nbsp;{&nbsp;int&nbsp;__afxForceUSRDLL;&nbsp;}\r\n&nbsp;#endif</pre><p><span id=\"_baidu_bookmark_end_18\" style=\"line-height: 0px; display: none;\">‍</span><span id=\"_baidu_bookmark_end_16\" style=\"line-height: 0px; display: none;\">‍</span><span id=\"_baidu_bookmark_end_3\" style=\"line-height: 0px; display: none;\">‍</span></p>','2014-11-12 04:19:36','2014-11-13 10:32:21'),(614,'14.217.233.80',1,'CListBox读取选中的内容','<p>假设你CListBox控件绑定变量名是m_lstInfo，也就是：<br/>CListBox m_lstInfo；<br/>那么你可以用一个循环取出里面的值：<br/>CString str; //临时变量用来接收项的字符串<br/>CString strAll=&quot;&quot;; //所有项<br/>int nCount = m_lstInfo.GetCount();//得到项目总数<br/>for(int i = 0; i&lt; nCount; ++i)<br/>{<br/>m_lstInfo.GetText<img class=\"selectsearch-hide\" id=\"selectsearch-icon\" alt=\"搜索\" src=\"http://img.baidu.com/img/iknow/qb/select-search.png\"/>(i,str);<br/>strAll = strAll + str + &quot;\\r\\n&quot;;<br/>}<br/>AfxMessageBox(strAll);<br/>最终得到你要求弹出的对话框。</p>','2014-11-13 12:48:39','2014-11-13 20:48:39'),(615,'14.222.220.62',26,'IAR for STM8 输出STVP可以使用的hex文件','<p>在 output converter里面选intel extended hex.</p>','2014-11-16 11:33:18','2014-11-16 19:33:18'),(617,'14.217.241.60',28,'wifi+linux板子','<p>Easylink M-mini AR9331模块开发板 Linux OpenWrt USB</p><p><br/></p><p><a href=\"http://item.taobao.com/item.htm?spm=a230r.1.14.22.MQ3k6y&amp;id=36485130954&amp;ns=1&amp;abbucket=9#detail\" _src=\"http://item.taobao.com/item.htm?spm=a230r.1.14.22.MQ3k6y&amp;id=36485130954&amp;ns=1&amp;abbucket=9#detail\">http://item.taobao.com/item.htm?spm=a230r.1.14.22.MQ3k6y&amp;id=36485130954&amp;ns=1&amp;abbucket=9#detail</a></p><p><br/></p>','2014-11-17 12:10:40','2014-11-17 20:11:05'),(618,'14.217.241.60',28,'i2s声音驱动芯片','<p>/////////////////////////////////////////////////////////////</p><p>//单片机使用</p><p>WM8978</p><p><a href=\"http://wenku.baidu.com/link?url=gAn5gITm-zvgxBfnbpecOUoihGjoCTRFM8fDcAP1CN4Erz1ccrU9c3WoqaI_haS-UnM-OqalS08OwF0zmsRQQ-p-dLB8bW6Qs0FoPOeUu93\" _src=\"http://wenku.baidu.com/link?url=gAn5gITm-zvgxBfnbpecOUoihGjoCTRFM8fDcAP1CN4Erz1ccrU9c3WoqaI_haS-UnM-OqalS08OwF0zmsRQQ-p-dLB8bW6Qs0FoPOeUu93\">http://wenku.baidu.com/link?url=gAn5gITm-zvgxBfnbpecOUoihGjoCTRFM8fDcAP1CN4Erz1ccrU9c3WoqaI_haS-UnM-OqalS08OwF0zmsRQQ-p-dLB8bW6Qs0FoPOeUu93</a></p><p>&nbsp;</p><p>////////////////////////////////////////////////////////////</p><p>//LINUX嵌入式使用</p><p>WM8960----------I2S</p><p>WM9713----------AC97</p><p><a href=\"http://blog.csdn.net/bingqingsuimeng/article/details/8425480\" _src=\"http://blog.csdn.net/bingqingsuimeng/article/details/8425480\">http://blog.csdn.net/bingqingsuimeng/article/details/8425480</a></p><p>&nbsp;</p>','2014-11-17 12:47:12','2014-11-17 20:54:14'),(619,'14.217.241.60',19,'WR703N增加GPIO输入端口','<p><br/></p><p>在WR703N的板子上扩展GPIO端口。按照网上几位朋友的介绍，对以下三个端口做GPIO设置：<br/>GPIO0 ----R4<br/> GPIO7 ----R15<br/> GPIO29 --R17<br/></p><p>增加了 kmod-gpio-button-hotplug IPK包之后，输入如下指令：</p><p>echo 0 &gt; /sys/class/gpio/export&nbsp; &nbsp;&nbsp; &nbsp;#对GPIO0口进行操作<br/>echo in &gt; /sys/class/gpio/gpio0/direction&nbsp; &nbsp;&nbsp;&nbsp;#对GPIO0口设置为输入<br/>cat /sys/devices/virtual/gpio/gpio/value&nbsp; &nbsp;&nbsp;&nbsp;#捕获GPIO0口的电平状态值</p><p>将指令加载到/etc/rc.local</p><p><br/>初始状态下，0，7，29三个端口的数值都为0，这是正确的，因为这三个端口分别通过三个电阻接地了。<br/> 在儿子的帮助下，我临时用了一个跳线，把端口上拉到L14对应的3.3V线路。也获得了对应的1数值，表明电压拉高了。<br/><br/></p><p><br/></p>','2014-11-17 13:23:36','2014-11-17 21:23:54'),(620,'14.217.246.241',28,'erc32','<p>TSC695F</p>','2014-11-18 01:27:04','2014-11-18 09:27:04'),(621,'14.217.227.90',28,'红外接收','<h3 class=\"tb-main-title\" style=\"margin: 0px; padding: 0px; font-size: 16px; min-height: 21px; line-height: 21px; color: rgb(60, 60, 60); font-family: tahoma, arial, &#39;Hiragino Sans GB&#39;, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">VS1838B&nbsp;<span style=\"font-family: tahoma, arial, 宋体, sans-serif; font-size: x-large; line-height: 36px;  background-color: rgb(255, 255, 255);\">一体化万能接收头</span></h3><p><br/></p><p><a href=\"http://item.taobao.com/item.htm?spm=a230r.1.14.1.CSEC9U&amp;id=178521861&amp;ns=1&amp;abbucket=9#detail\" _src=\"http://item.taobao.com/item.htm?spm=a230r.1.14.1.CSEC9U&amp;id=178521861&amp;ns=1&amp;abbucket=9#detail\">http://item.taobao.com/item.htm?spm=a230r.1.14.1.CSEC9U&amp;id=178521861&amp;ns=1&amp;abbucket=9#detail</a> </p><p><br/></p><p><br/></p><h3 class=\"tb-main-title\" style=\"margin: 0px; padding: 0px; font-size: 16px; min-height: 21px; line-height: 21px; color: rgb(60, 60, 60); font-family: tahoma, arial, &#39;Hiragino Sans GB&#39;, 宋体, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">HS0038 38KHZ &nbsp;有型靓仔</h3><p><br/></p><p><a href=\"http://item.taobao.com/item.htm?spm=a230r.1.14.83.CSEC9U&amp;id=10285875077&amp;ns=1&amp;abbucket=9#detail\" _src=\"http://item.taobao.com/item.htm?spm=a230r.1.14.83.CSEC9U&amp;id=10285875077&amp;ns=1&amp;abbucket=9#detail\">http://item.taobao.com/item.htm?spm=a230r.1.14.83.CSEC9U&amp;id=10285875077&amp;ns=1&amp;abbucket=9#detail</a> </p><p><br/></p><p>/////////////////////////////////////////////////////////////////////////</p><p><br/></p><p>红外发射头</p><p><br/></p><p><a href=\"http://item.taobao.com/item.htm?spm=2013.1.1001000.10.5K9GbI&amp;scm=1007.10016.2079.i178521861&amp;id=272706947\" _src=\"http://item.taobao.com/item.htm?spm=2013.1.1001000.10.5K9GbI&amp;scm=1007.10016.2079.i178521861&amp;id=272706947\">http://item.taobao.com/item.htm?spm=2013.1.1001000.10.5K9GbI&amp;scm=1007.10016.2079.i178521861&amp;id=272706947</a> </p><p><br/></p>','2014-11-19 01:38:16','2014-11-19 10:11:08'),(622,'192.168.0.100',26,'GPIO按键','<p><span style=\"color: rgb(255, 0, 0);\">PB都需要上拉电阻</span></p><p><span style=\"color: rgb(255, 0, 0);\"><br/></span></p><p><span style=\"color: rgb(255, 0, 0);\">=========================================================================</span></p><p><span style=\"color: rgb(255, 0, 0);\"><strong>key.h</strong></span></p><pre class=\"brush:cpp;toolbar:false\">/*\r\n//初始化按键\r\nPD_DDR_bit.DDR2=0;\r\nPD_CR1_bit.C12=1;\r\nPD_CR2_bit.C22=0;\r\n//输入状态\r\nPD_IDR_bit.IDR2\r\n//事件变量\r\nEzhKeyEvent&nbsp;ev;\r\nTzhKey&nbsp;ioState;\r\n//循环---------------&nbsp;BEGIN---------\r\n&nbsp;&nbsp;&nbsp;//检测按键\r\n&nbsp;&nbsp;&nbsp;&nbsp;ev=keyState(&amp;ioState,PD_IDR_bit.IDR2);\r\n&nbsp;&nbsp;&nbsp;&nbsp;switch(ev)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;ZH_KEY_EVENT_DOWN:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;ZH_KEY_EVENT_PRESS:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;ZH_KEY_EVENT_UP:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n//循环---------------&nbsp;END---------\r\n*/\r\ntypedef&nbsp;enum&nbsp;_EzhKeyState{\r\n&nbsp;&nbsp;&nbsp;ZH_KEY_STATE_0,\r\n&nbsp;&nbsp;&nbsp;ZH_KEY_STATE_1,\r\n&nbsp;&nbsp;&nbsp;ZH_KEY_STATE_2,\r\n&nbsp;&nbsp;&nbsp;ZH_KEY_STATE_3,\r\n}EzhKeyState;\r\ntypedef&nbsp;struct&nbsp;_TzhKey{\r\n&nbsp;&nbsp;&nbsp;EzhKeyState&nbsp;state;\r\n&nbsp;&nbsp;&nbsp;int&nbsp;shakeTime;&nbsp;//防抖动\r\n}TzhKey;\r\ntypedef&nbsp;enum&nbsp;_EKeyEvent{\r\n&nbsp;&nbsp;&nbsp;ZH_KEY_EVENT_NONE,\r\n&nbsp;&nbsp;&nbsp;ZH_KEY_EVENT_DOWN,\r\n&nbsp;&nbsp;&nbsp;ZH_KEY_EVENT_PRESS,\r\n&nbsp;&nbsp;&nbsp;ZH_KEY_EVENT_UP\r\n}EzhKeyEvent;\r\n/////////////////////////////////////////////////\r\nEzhKeyEvent&nbsp;keyState(TzhKey*&nbsp;key,unsigned&nbsp;char&nbsp;ioPort_IDR);</pre><p><br/></p><p><span style=\"color: rgb(255, 0, 0);\">==================================================================================</span><br/></p><p><span style=\"color: rgb(255, 0, 0);\">key.c</span></p><pre class=\"brush:cpp;toolbar:false\">#include&nbsp;&quot;key.h&quot;\r\n/*******************************************************************************\r\n*&nbsp;函数描述&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;按键检测\r\n*&nbsp;\r\n*******************************************************************************/\r\n#define&nbsp;PREESS_DOUDONG&nbsp;&nbsp;&nbsp;&nbsp;500&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//根据CPU的压力来修改值大小,范围在200~500内比较理想\r\nEzhKeyEvent&nbsp;keyState(TzhKey*&nbsp;key,unsigned&nbsp;char&nbsp;ioPort_IDR)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;keyPort=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;EzhKeyEvent&nbsp;event;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(ZH_KEY_STATE_0!=key-&gt;state)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key-&gt;shakeTime++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(key-&gt;shakeTime&nbsp;&lt;&nbsp;PREESS_DOUDONG&nbsp;&nbsp;&nbsp;&nbsp;)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{return&nbsp;ZH_KEY_EVENT_NONE;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//读取GPIOA的I/O电平\r\n&nbsp;&nbsp;&nbsp;&nbsp;keyPort=!ioPort_IDR;\r\n&nbsp;&nbsp;&nbsp;&nbsp;switch(key-&gt;state)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*使用switch判断检测是否为抖动信号,如果不是便即行操作*/\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;ZH_KEY_STATE_1:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(keyPort)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;event=ZH_KEY_EVENT_DOWN;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key-&gt;shakeTime=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key-&gt;state=ZH_KEY_STATE_2;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;event=ZH_KEY_EVENT_NONE;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key-&gt;state=ZH_KEY_STATE_0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*按压检测*/\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;ZH_KEY_STATE_2:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(keyPort)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;event=ZH_KEY_EVENT_PRESS;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key-&gt;shakeTime=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key-&gt;state=ZH_KEY_STATE_2;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//已经松手,更新状态\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key-&gt;state=ZH_KEY_STATE_3;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*松手检测*/\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;ZH_KEY_STATE_3:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(keyPort)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key-&gt;state=ZH_KEY_STATE_2;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;event=ZH_KEY_EVENT_PRESS;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key-&gt;shakeTime=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//已经松手,更新状态\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key-&gt;state=ZH_KEY_STATE_0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;event=ZH_KEY_EVENT_UP;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key-&gt;shakeTime=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;default:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//有电平信号输入\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(keyPort)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key-&gt;state=ZH_KEY_STATE_1;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;event=ZH_KEY_EVENT_NONE;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;event;\r\n}</pre><p><span style=\"color: rgb(255, 0, 0);\"></span><br/></p>','2014-11-20 05:18:39','2017-04-22 22:54:49'),(623,'14.217.224.46',28,'普通元件','<p><br/></p><p>////////////////////////////////</p><p>//三极管,SS开头电流大些</p><p>S8550,SS8550 &nbsp; 普通PNP管</p><p>S8050,SS8050 &nbsp; 普通NPN管&nbsp;</p><p><br/></p><p>////////////////////////////////</p><p>//<span style=\"color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif, &#39;Microsoft YaHei&#39;, tahoma; font-size: 13px; line-height: 20px;\">二极管</span></p><p><span style=\"color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif, &#39;Microsoft YaHei&#39;, tahoma; font-size: 13px; line-height: 20px;\"><span style=\"color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif, &#39;Microsoft YaHei&#39;, tahoma; font-size: 13px; line-height: 20px;\"><span id=\"_baidu_bookmark_start_6\" style=\"display: none; line-height: 0px;\">‍</span></span></span><span id=\"_baidu_bookmark_start_8\" style=\"display: none; line-height: 0px;\">‍</span>1N60、1N60P&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;小电流低压降,肖特基二极管,&nbsp;锗管<span id=\"_baidu_bookmark_end_9\" style=\"display: none; line-height: 0px;\">‍</span><span style=\"color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif, &#39;Microsoft YaHei&#39;, tahoma; font-size: 13px; line-height: 20px;\"><span style=\"color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif, &#39;Microsoft YaHei&#39;, tahoma; font-size: 13px; line-height: 20px;\"><span id=\"_baidu_bookmark_end_7\" style=\"display: none; line-height: 0px;\">‍</span></span></span></p><p><span style=\"color: rgb(204, 0, 0); font-family: arial; font-size: 12.727272033691406px; line-height: 18.200000762939453px;  background-color: rgb(255, 255, 255);\"><span id=\"_baidu_bookmark_start_11\" style=\"display: none; line-height: 0px;\">‍</span></span><span id=\"_baidu_bookmark_start_13\" style=\"display: none; line-height: 0px;\">‍</span><span style=\"color: rgb(204, 0, 0); font-family: arial; font-size: 12.727272033691406px; line-height: 18.200000762939453px;  background-color: rgb(255, 255, 255);\"><span id=\"_baidu_bookmark_start_16\" style=\"display: none; line-height: 0px;\">‍</span></span><span id=\"_baidu_bookmark_start_18\" style=\"display: none; line-height: 0px;\">‍</span>1N4001 到&nbsp;1N<span id=\"_baidu_bookmark_end_19\" style=\"display: none; line-height: 0px;\">‍</span><span id=\"_baidu_bookmark_end_17\" style=\"display: none; line-height: 0px;\">‍</span>4007 &nbsp; &nbsp;常用的整流二极管，常用于桥式整流电路<span id=\"_baidu_bookmark_end_14\" style=\"display: none; line-height: 0px;\">‍</span><span style=\"color: rgb(51, 51, 51); font-family: arial; font-size: 12.727272033691406px; line-height: 18.200000762939453px;  background-color: rgb(255, 255, 255);\"><span id=\"_baidu_bookmark_end_12\" style=\"display: none; line-height: 0px;\">‍</span></span></p><p><span style=\"color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif; font-size: 14.399999618530273px; line-height: 24px; text-indent: 28px;  background-color: rgb(255, 255, 255);\"><span id=\"_baidu_bookmark_start_0\" style=\"display: none; line-height: 0px;\">‍</span></span><span id=\"_baidu_bookmark_start_2\" style=\"display: none; line-height: 0px;\">‍</span>1N4148 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;高频小信号二极管<span id=\"_baidu_bookmark_end_3\" style=\"display: none; line-height: 0px;\">‍</span><span id=\"_baidu_bookmark_end_1\" style=\"display: none; line-height: 0px;\">‍</span><span id=\"_baidu_bookmark_end_5\" style=\"display: none; line-height: 0px;\">‍</span><span style=\"color: rgb(51, 51, 51); font-family: arial, 宋体, sans-serif; font-size: 14.399999618530273px; line-height: 24px; text-indent: 28px;  background-color: rgb(255, 255, 255);\"><span id=\"_baidu_bookmark_end_3\" style=\"display: none; line-height: 0px;\">‍</span></span></p><p><br/></p><p>///////////////////////////////</p><p>//场效应</p><p><span id=\"_baidu_bookmark_start_6\" style=\"display: none; line-height: 0px;\">‍</span></p><p><span id=\"_baidu_bookmark_start_1\" style=\"display: none; line-height: 0px;\">‍</span><span id=\"_baidu_bookmark_start_3\" style=\"display: none; line-height: 0px;\">‍</span>SBSS138 &nbsp;N沟道 &nbsp;SOT<span id=\"_baidu_bookmark_start_5\" style=\"display: none; line-height: 0px;\">‍</span>23&nbsp; &nbsp;<a href=\"http://item.taobao.com/item.htm?spm=a1z09.2.9.294.6ltUrQ&amp;id=17323417457&amp;_u=m265n6l4e06\" _src=\"http://item.taobao.com/item.htm?spm=a1z09.2.9.294.6ltUrQ&amp;id=17323417457&amp;_u=m265n6l4e06\">http://item.taobao.com/item.htm?spm=a1z09.2.9.294.6ltUrQ&amp;id=17323417457&amp;_u=m265n6l4e06</a> <span id=\"_baidu_bookmark_end_4\" style=\"display: none; line-height: 0px;\">‍</span><span id=\"_baidu_bookmark_end_2\" style=\"display: none; line-height: 0px;\">‍</span></p><p><br/></p><p><span id=\"_baidu_bookmark_end_7\" style=\"display: none; line-height: 0px;\">‍</span></p>','2014-11-22 10:23:08','2014-11-22 23:02:53'),(624,'113.102.223.43',26,'PWM呼吸灯','<p>#include&lt;iostm8s103f3.h&gt;</p><p><br/>void CLK_Init(void);<br/>void TIM_Init(void);</p><p><br/>// 函数功能：延时函数<br/>// 输入参数：ms -- 要延时的毫秒数，这里假设CPU的主频为2MHZ<br/>// 输出参数：无<br/>// 返 回 值：无<br/>// 备 注：无<br/>void DelayMS(unsigned int ms)<br/>{<br/>unsigned char i;<br/>while(ms != 0)<br/>{<br/>for(i=0;i&lt;250;i++)<br/>{<br/>}<br/>for(i=0;i&lt;75;i++)<br/>{<br/>}<br/>ms--; <br/>} <br/>}</p><p><br/>// 函数功能：初始化时钟<br/>// 输入参数：无<br/>// 输出参数：无<br/>// 返 回 值：无<br/>// 备 注：无<br/>void CLK_Init()<br/>{<br/>CLK_CKDIVR = 0x11; // 10: fHSI = fHSI RC output/ 4<br/>// = 16MHZ / 4 =4MHZ<br/>// 001: fCPU=fMASTER/2. = 2MHZ<br/>}</p><p><br/>// 函数功能：初始化定时器2的通道2，用于控制LED的亮度<br/>// 输入参数：无<br/>// 输出参数：无<br/>// 返 回 值：无<br/>// 备 注：无<br/>void TIM_Init()<br/>{<br/>&nbsp; TIM2_CCMR2 |= 0x70;// Output mode PWM2. <br/>&nbsp; // 通道2被设置成比较输出方式<br/>&nbsp; // OC2M = 111,为PWM模式2，<br/>&nbsp; // 向上计数时，若计数器小于比较值，为无效电平<br/>&nbsp; // 即当计数器在0到比较值时，输出为1，否则为0<br/>&nbsp; TIM2_CCER1 |=&nbsp; 0x30;// CC polarity low,enable PWM output */<br/>&nbsp; // CC2P = 1，低电平为有效电平<br/>&nbsp; // CC2E = 1，开启输出引脚 <br/>&nbsp; //初始化自动装载寄存器，决定PWM方波的频率，Fpwm=4000000/256=15625HZ <br/>&nbsp; TIM2_ARRH = 0;<br/>&nbsp; TIM2_ARRL = 0xFF;<br/>&nbsp; //初始化比较寄存器，决定PWM方波的占空比 <br/>&nbsp; TIM2_CCR2H = 0;<br/>&nbsp; TIM2_CCR2L = 0;<br/>&nbsp; // 初始化时钟分频器为1，即计数器的时钟频率为Fmaster=4MHZ<br/>&nbsp; TIM2_PSCR = 0;<br/>&nbsp; // 启动计数<br/>&nbsp; TIM2_CR1 |= 0x01;<br/>}</p><p><br/>main()<br/>{<br/>&nbsp; unsigned char i;<br/>&nbsp; CLK_Init(); // 初始化时钟<br/>&nbsp; TIM_Init(); // 初始化定时器 <br/>&nbsp; while(1) // 进入无限循环<br/>&nbsp; {<br/>&nbsp;&nbsp;&nbsp; // 下面的循环将占空比逐渐从0递增到50%<br/>&nbsp;&nbsp;&nbsp; for(i=0;i&lt;255;i++)<br/>&nbsp;&nbsp;&nbsp; {<br/>&nbsp;&nbsp;&nbsp; TIM2_CCR2H = 0;<br/>&nbsp;&nbsp;&nbsp; TIM2_CCR2L = i;<br/>&nbsp;&nbsp;&nbsp; DelayMS(10);<br/>&nbsp;&nbsp;&nbsp; }<br/>&nbsp;&nbsp;&nbsp; // 下面的循环将占空比逐渐从50%递减到0<br/>&nbsp;&nbsp;&nbsp; for(i=255;i&gt;0;i--)<br/>&nbsp;&nbsp;&nbsp; {<br/>&nbsp;&nbsp;&nbsp; TIM2_CCR2H = 0;<br/>&nbsp;&nbsp;&nbsp; TIM2_CCR2L = i;<br/>&nbsp;&nbsp;&nbsp; DelayMS(10);<br/>&nbsp;&nbsp;&nbsp; }<br/>&nbsp; } <br/>}</p><p><br/></p>','2014-11-26 16:29:17','2015-01-03 14:22:53'),(626,'14.217.221.155',41,'阻容复位电路','<p><img title=\"2010123191615163201105012307086804.jpg\" src=\"/my/notes/js/ue/php/upload_img/20141207/14179584335059.jpg\"/></p>','2014-12-07 13:21:00','2014-12-07 21:21:00'),(627,'113.102.223.43',26,'蜂鸣器输出算法','<p><br/>//蜂鸣器<br/>void lampSound_init(void)<br/>{<br/>&nbsp; //PC6<br/>&nbsp; //推挽输出<br/>&nbsp; PB_DDR_bit.DDR5=1;<br/>&nbsp; PB_CR1_bit.C15=1;<br/>&nbsp; PB_CR2_bit.C25=0;<br/>&nbsp; <br/>&nbsp; //默认<br/>&nbsp; PB_ODR_bit.ODR5=0;<br/>}</p><p>//一次性响<br/>void lampSound_Beep(int times)<br/>{<br/>&nbsp;&nbsp;&nbsp; //蜂鸣器,PC6<br/>&nbsp;&nbsp;&nbsp; int t;<br/>&nbsp;&nbsp;&nbsp; unsigned int i,j;<br/>&nbsp;&nbsp;&nbsp; int tmpT;<br/>&nbsp;<br/>&nbsp;&nbsp;&nbsp; tmpT=times-1;<br/>&nbsp;&nbsp;&nbsp; for(t=0;t&lt;times;t++)<br/>&nbsp;&nbsp;&nbsp; {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PC_ODR_bit.ODR6=1;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(j=0;j&lt;5;j++)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i=0;i&lt;60000;i++);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PC_ODR_bit.ODR6=0;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(t&lt;tmpT)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(j=0;j&lt;5;j++)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i=0;i&lt;60000;i++);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br/>&nbsp;&nbsp;&nbsp; }<br/>}</p><p><br/></p>','2014-12-08 01:57:49','2015-01-03 14:23:12'),(629,'113.102.223.43',28,'WS2811灯光LED芯片驱动','<pre class=\"brush:cpp;toolbar:false\">例子基于8M晶振&nbsp;STM8103F芯片\r\n\r\n//////////////////////////////////////////////////////////////////////\r\n//全局颜色数组\r\nunsigned&nbsp;char&nbsp;rv[8];\r\nunsigned&nbsp;char&nbsp;gv[8];\r\nunsigned&nbsp;char&nbsp;bv[8];\r\n\r\n//灯板\r\n#define&nbsp;LAMP_PANEL_ON_OFF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PC_ODR_bit.ODR7\r\nvoid&nbsp;lampPanelLed_init(void)\r\n{\r\n&nbsp;&nbsp;//PC7输出\r\n&nbsp;&nbsp;//推挽输出\r\n&nbsp;&nbsp;PC_DDR_bit.DDR7=1;\r\n&nbsp;&nbsp;PC_CR1_bit.C17=1;\r\n&nbsp;&nbsp;PC_CR2_bit.C27=0;\r\n&nbsp;&nbsp;//初始状态\r\n&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n}\r\n\r\nvoid&nbsp;setWS2811(unsigned&nbsp;char&nbsp;r,unsigned&nbsp;char&nbsp;g,unsigned&nbsp;char&nbsp;b)\r\n{&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;int&nbsp;i;\r\n&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;rv[0]=(&nbsp;g&nbsp;&amp;&nbsp;0x80)&nbsp;&gt;&gt;&nbsp;7;\r\n&nbsp;&nbsp;&nbsp;rv[1]=(&nbsp;g&nbsp;&amp;&nbsp;0x40)&nbsp;&gt;&gt;&nbsp;6;\r\n&nbsp;&nbsp;&nbsp;rv[2]=(&nbsp;g&nbsp;&amp;&nbsp;0x20)&nbsp;&gt;&gt;&nbsp;5;\r\n&nbsp;&nbsp;&nbsp;rv[3]=(&nbsp;g&nbsp;&amp;&nbsp;0x10)&nbsp;&gt;&gt;&nbsp;4;\r\n&nbsp;&nbsp;&nbsp;rv[4]=(&nbsp;g&nbsp;&amp;&nbsp;0x08)&nbsp;&gt;&gt;&nbsp;3;\r\n&nbsp;&nbsp;&nbsp;rv[5]=(&nbsp;g&nbsp;&amp;&nbsp;0x04)&nbsp;&gt;&gt;&nbsp;2;\r\n&nbsp;&nbsp;&nbsp;rv[6]=(&nbsp;g&nbsp;&amp;&nbsp;0x02)&nbsp;&gt;&gt;&nbsp;1;\r\n&nbsp;&nbsp;&nbsp;rv[7]=g&nbsp;&amp;&nbsp;0x01;\r\n&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;gv[0]=(&nbsp;r&nbsp;&amp;&nbsp;0x80)&nbsp;&gt;&gt;&nbsp;7;\r\n&nbsp;&nbsp;&nbsp;gv[1]=(&nbsp;r&nbsp;&amp;&nbsp;0x40)&nbsp;&gt;&gt;&nbsp;6;\r\n&nbsp;&nbsp;&nbsp;gv[2]=(&nbsp;r&nbsp;&amp;&nbsp;0x20)&nbsp;&gt;&gt;&nbsp;5;\r\n&nbsp;&nbsp;&nbsp;gv[3]=(&nbsp;r&nbsp;&amp;&nbsp;0x10)&nbsp;&gt;&gt;&nbsp;4;\r\n&nbsp;&nbsp;&nbsp;gv[4]=(&nbsp;r&nbsp;&amp;&nbsp;0x08)&nbsp;&gt;&gt;&nbsp;3;\r\n&nbsp;&nbsp;&nbsp;gv[5]=(&nbsp;r&nbsp;&amp;&nbsp;0x04)&nbsp;&gt;&gt;&nbsp;2;\r\n&nbsp;&nbsp;&nbsp;gv[6]=(&nbsp;r&nbsp;&amp;&nbsp;0x02)&nbsp;&gt;&gt;&nbsp;1;\r\n&nbsp;&nbsp;&nbsp;gv[7]=r&nbsp;&amp;&nbsp;0x01;\r\n&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;bv[0]=(&nbsp;b&nbsp;&amp;&nbsp;0x80)&nbsp;&gt;&gt;&nbsp;7;\r\n&nbsp;&nbsp;&nbsp;bv[1]=(&nbsp;b&nbsp;&amp;&nbsp;0x40)&nbsp;&gt;&gt;&nbsp;6;\r\n&nbsp;&nbsp;&nbsp;bv[2]=(&nbsp;b&nbsp;&amp;&nbsp;0x20)&nbsp;&gt;&gt;&nbsp;5;\r\n&nbsp;&nbsp;&nbsp;bv[3]=(&nbsp;b&nbsp;&amp;&nbsp;0x10)&nbsp;&gt;&gt;&nbsp;4;\r\n&nbsp;&nbsp;&nbsp;bv[4]=(&nbsp;b&nbsp;&amp;&nbsp;0x08)&nbsp;&gt;&gt;&nbsp;3;\r\n&nbsp;&nbsp;&nbsp;bv[5]=(&nbsp;b&nbsp;&amp;&nbsp;0x04)&nbsp;&gt;&gt;&nbsp;2;\r\n&nbsp;&nbsp;&nbsp;bv[6]=(&nbsp;b&nbsp;&amp;&nbsp;0x02)&nbsp;&gt;&gt;&nbsp;1;\r\n&nbsp;&nbsp;&nbsp;bv[7]=b&nbsp;&amp;&nbsp;0x01;\r\n&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;//16个灯,循环16次\r\n&nbsp;&nbsp;&nbsp;for(i=0;i&lt;16;i++)\r\n&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;////////////////////////////////////////////////////////////////\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(rv[0])\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=1&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=0&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(rv[1])\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=1&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=0&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(rv[2])\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=1&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=0&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(rv[3])\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=1&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=0&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(rv[4])\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=1&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=0&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(rv[5])\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=1&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=0&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(rv[6])\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=1&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=0&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(rv[7])\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=1&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=0&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/////////////////////////////////////////////////////////////\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(gv[0])\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=1&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=0&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(gv[1])\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=1&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=0&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(gv[2])\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=1&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=0&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(gv[3])\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=1&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=0&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(gv[4])\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=1&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=0&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(gv[5])\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=1&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=0&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(gv[6])\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=1&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=0&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(gv[7])\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=1&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=0&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;//////////////////////////////////////////////////////////////\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(bv[0])\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=1&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=0&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(bv[1])\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=1&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=0&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(bv[2])\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=1&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=0&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(bv[3])\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=1&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=0&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(bv[4])\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=1&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=0&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(bv[5])\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=1&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=0&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(bv[6])\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=1&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=0&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(bv[7])\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=1&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//bit=0&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LAMP_PANEL_ON_OFF=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);&nbsp;asm(&quot;nop&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;//reset状态\r\n&nbsp;&nbsp;&nbsp;for(i=0;i&lt;100;i++);\r\n}</pre><p><br/></p>','2015-01-02 16:13:48','2015-01-03 00:15:29'),(630,'113.102.223.43',2,'数值转字符','<pre class=\"brush:cpp;toolbar:false\">\r\n/*\r\nint&nbsp;main()\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;nNum;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;nLen;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;p[10];\r\n&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;&quot;Please&nbsp;input&nbsp;an&nbsp;integer:&quot;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cin&nbsp;&gt;&gt;&nbsp;nNum;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;&quot;output:&nbsp;&quot;&nbsp;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nLen=int2str(nNum,&nbsp;p);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//整型转换成字符串\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout&lt;&lt;&nbsp;p&nbsp;&lt;&lt;&nbsp;endl;\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;0;\r\n}\r\n*/\r\nstatic&nbsp;int&nbsp;int2str(int&nbsp;n,&nbsp;char&nbsp;*str)\r\n{\r\n&nbsp;&nbsp;char&nbsp;buf[10]&nbsp;=&nbsp;{0};\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;i&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;len&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;temp&nbsp;=&nbsp;n&nbsp;&lt;&nbsp;0&nbsp;?&nbsp;-n:&nbsp;n;&nbsp;&nbsp;//&nbsp;temp为n的绝对值\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(str&nbsp;==&nbsp;0)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(0==n)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str[0]=&#39;0&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str[1]=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while(temp)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buf[i++]&nbsp;=&nbsp;(temp&nbsp;%&nbsp;10)&nbsp;+&nbsp;&#39;0&#39;;&nbsp;&nbsp;//把temp的每一位上的数存入buf\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp&nbsp;=&nbsp;temp&nbsp;/&nbsp;10;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;len&nbsp;=&nbsp;n&nbsp;&lt;&nbsp;0&nbsp;?&nbsp;++i:&nbsp;i;&nbsp;&nbsp;//如果n是负数，则多需要一位来存储负号\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str[i]&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//末尾是结束符0\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while(i&gt;0)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i--;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(buf[len-i-1]&nbsp;==0)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str[i]&nbsp;=&nbsp;buf[len-i-1];&nbsp;&nbsp;//把buf数组里的字符拷到字符串\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(len&gt;0&nbsp;&amp;&amp;&nbsp;&nbsp;n&nbsp;&lt;&nbsp;0&nbsp;&amp;&amp;&nbsp;i&nbsp;==&nbsp;0&nbsp;)&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str[i]&nbsp;=&nbsp;&#39;-&#39;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//如果是负数，添加一个负号\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;len;\r\n}</pre>','2015-01-03 04:27:02','2015-01-03 13:07:29'),(631,'14.222.221.192',19,'Linux启动过程详解','<p><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\">启动<span style=\"color: rgb(240, 0, 0); -ms-word-wrap: break-word;\">第一步</span>－－加载BIOS</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">当你打开计算机电源，计算机会首先加载BIOS信息，BIOS信息是如此的重要，以至于计算机必须在最开始就找到它。这是因为BIOS中包含了CPU的相关信息、设备启动顺序信息、硬盘信息、内存信息、时钟信息、PnP特性等等。在此之后，计算机心里就有谱了，知道应该去读取哪个硬件设备了。</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\">启动<span style=\"color: rgb(240, 0, 0); -ms-word-wrap: break-word;\">第二步</span>－－读取MBR</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">众所周知，硬盘上</span><span style=\"color: rgb(0, 0, 240); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\">第0磁道第一个扇区被称为MBR</span><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">，也就是Master Boot Record，即主引导记录，它的大小是512字节，别看地方不大，可里面却存放了预启动信息、分区表信息。</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">系统找到BIOS所指定的硬盘的MBR后，就会将其复制到0×7c00地址所在的物理内存中。其实被复制到物理内存的内容就是Boot Loader，而具体到你的电脑，那就是lilo或者grub了。</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\">启动<span style=\"color: rgb(240, 0, 0); -ms-word-wrap: break-word;\">第三步</span>－－Boot Loader</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">Boot Loader 就是在操作系统内核运行之前运行的一段小程序。通过这段小程序，我们可以</span><span style=\"color: rgb(0, 0, 240); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\">初始化硬件设备、建立内存空间的映射图</span><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">，从而将</span><span style=\"color: rgb(0, 0, 240); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\">系统的软硬件环境带到一个合适的状态</span><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">，以便</span><span style=\"color: rgb(0, 0, 240); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\">为最终调用操作系统内核做好一切准备</span><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">。</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">Boot Loader有若干种，其中Grub、Lilo和spfdisk是常见的Loader。</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">我们以Grub为例来讲解吧，毕竟用lilo和spfdisk的人并不多。</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">系统读取内存中的grub配置信息（一般为menu.lst或grub.lst），并依照此配置信息来启动不同的操作系统。</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\">启动<span style=\"color: rgb(240, 0, 0); -ms-word-wrap: break-word;\">第四步</span>－－加载内核</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(0, 0, 240); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\">根据grub设定的内核映像所在路径，系统读取内存映像，并进行解压缩操作</span><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">。此时，屏幕一般会输出“Uncompressing Linux”的提示。当解压缩内核完成后，屏幕输出“OK, booting the kernel”。</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">系统将解压后的内核</span><span style=\"color: rgb(0, 0, 240); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\">放置在内存之中</span><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">，并</span><span style=\"color: rgb(0, 0, 240); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\">调用start_kernel()函数</span><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">来启动一系列的初始化函数并初始化各种设备，完成Linux核心环境的建立。至此，Linux内核已经建立起来了，基于Linux的程序应该可以正常运行了。</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\">启动<span style=\"color: rgb(240, 0, 0); -ms-word-wrap: break-word;\">第五步</span>－－用户层init依据inittab文件来设定运行等级</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">内核被加载后，</span><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\">第一个</span><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">运行的程序便是</span><span style=\"color: rgb(0, 0, 240); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\">/sbin/init</span><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">，该文件会</span><span style=\"color: rgb(0, 0, 240); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\">读取/etc/inittab</span><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">文件，并依据此文件来进行初始化工作。</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">其实/etc/inittab文件最主要的作用就是</span><span style=\"color: rgb(0, 0, 240); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\">设定Linux的运行等级</span><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">，其设定形式是“：id:5:initdefault:”，这就表明Linux需要运行在等级5上。Linux的运行等级设定如下：</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">0：关机</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">1：单用户模式</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">2：无网络支持的多用户模式</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">3：有网络支持的多用户模式</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">4：保留，未使用</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">5：有网络支持有X-Window支持的多用户模式</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">6：重新引导系统，即重启</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">关于/etc/inittab文件的学问，其实还有很多</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(0, 0, 0); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"><span style=\"-ms-word-wrap: break-word;\">启动<span style=\"color: rgb(240, 0, 0); -ms-word-wrap: break-word;\">第六步</span>－－init进程执行rc.sysinit</span></span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">在设定了运行等级后，Linux系统执行的</span><span style=\"color: rgb(0, 0, 240); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\">第一个用户层文件</span><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">就是</span><span style=\"color: rgb(0, 0, 240); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\">/etc/rc.d/rc.sysinit</span><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">脚本程序，它做的工作非常多，包括设定PATH、设定网络配置（/etc/sysconfig/network）、启动swap分区、设定/proc等等。如果你有兴趣，可以到/etc/rc.d中查看一下rc.sysinit文件，里面的脚本够你看几天的</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\">启动<span style=\"color: rgb(240, 0, 0); -ms-word-wrap: break-word;\">第七步</span>－－启动内核模块</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">具体是依据</span><span style=\"color: rgb(0, 0, 240); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\">/etc/modules.conf</span><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">文件或</span><span style=\"color: rgb(0, 0, 240); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\">/etc/modules.d</span><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">目录下的文件来装载内核模块。</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\">启动<span style=\"color: rgb(240, 0, 0); -ms-word-wrap: break-word;\">第八步</span>－－执行不同运行级别的脚本程序</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">根据运行级别的不同，系统会运行rc0.d到rc6.d中的相应的脚本程序，来完成相应的初始化工作和启动相应的服务。</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\">启动<span style=\"color: rgb(240, 0, 0); -ms-word-wrap: break-word;\">第九步</span>－－执行/etc/rc.d/rc.local</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">你如果打开了此文件，里面有一句话，读过之后，你就会对此命令的作用一目了然：</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\"># This script will be executed *after* all the other init scripts.</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\"># You can put your own initialization stuff in here if you don’t</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\"># want to do the full Sys V style init stuff.</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/></p><p><span style=\"color: rgb(0, 0, 240); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\">rc.local就是在一切初始化工作后，Linux留给用户进行个性化的地方</span><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">。你可以把你想设置和启动的东西放到这里。</span></p><p><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">和/etc/profile针对有所用户的</span></p><p><span style=\"color: rgb(102, 102, 102); font-family: 宋体,Arial; font-size: 14px;\"><span style=\"line-height: 26px;\">/home/$USERNAME/.bash_profile用户级别的</span></span></p><p><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\"><br/></span></p><p><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\">启动<span style=\"color: rgb(240, 0, 0); -ms-word-wrap: break-word;\">第十步</span>－－执行/bin/login程序，进入登录状态</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">此时，系统已经进入到了等待用户输入username和password的时候了，你已经可以用自己的帐号登入系统了。:)</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">===</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">漫长的启动过程结束了，一切都清静了…</span><br style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px; -ms-word-wrap: break-word;\"/><span style=\"color: rgb(102, 102, 102); line-height: 26px; font-family: 宋体,Arial; font-size: 16px;\">其实在这背后，还有着更加复杂的底层函数调用，等待着你去研究…本文就算抛砖引玉了:)</span></p><p><br/></p>','2015-01-10 07:42:28','2015-01-10 15:42:28'),(632,'14.222.223.22',1,'CEdit右键菜单','<pre class=\"brush:cpp;toolbar:false\">//-------------------------------------\r\n//NetLogDlgMenuEdit.h\r\n\r\n#pragma&nbsp;once\r\n#include&nbsp;&quot;stdafx.h&quot;\r\n//&nbsp;CNetDlgMenuEdit\r\n\r\nclass&nbsp;CNetLogDlgMenuEdit&nbsp;:&nbsp;public&nbsp;CEdit\r\n{\r\n	DECLARE_DYNAMIC(CNetLogDlgMenuEdit)\r\n\r\n	HWND&nbsp;_targetHwnd;\r\npublic:\r\n	CNetLogDlgMenuEdit();\r\n	virtual&nbsp;~CNetLogDlgMenuEdit();\r\n\r\nprotected:\r\n	DECLARE_MESSAGE_MAP()\r\n\r\npublic:\r\n	void&nbsp;OnContextMenu(CWnd*&nbsp;pWnd,&nbsp;CPoint&nbsp;point);\r\n	BOOL&nbsp;OnCommand(WPARAM&nbsp;wParam,&nbsp;LPARAM&nbsp;lParam);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置回调对象\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;setHwnd(HWND&nbsp;h);\r\n};</pre><p><br/></p><p>================================</p><pre class=\"brush:cpp;toolbar:false\">//&nbsp;NetLogDlgMenuEdit.cpp&nbsp;:&nbsp;实现文件\r\n//\r\n\r\n#include&nbsp;&quot;stdafx.h&quot;\r\n#include&nbsp;&quot;NetLogDlgMenuEdit.h&quot;\r\n\r\n#define&nbsp;MES_UNDO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_T(&quot;&amp;U撤消&quot;)\r\n#define&nbsp;MES_CUT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_T(&quot;&amp;T剪切&quot;)\r\n#define&nbsp;MES_COPY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_T(&quot;&amp;C复制&quot;)\r\n#define&nbsp;MES_PASTE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_T(&quot;&amp;P粘贴&quot;)\r\n#define&nbsp;MES_DELETE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_T(&quot;&amp;D删除&quot;)\r\n#define&nbsp;MES_SELECTALL&nbsp;&nbsp;&nbsp;_T(&quot;&amp;A全选&quot;)\r\n#define&nbsp;ME_SELECTALL&nbsp;&nbsp;&nbsp;&nbsp;WM_USER&nbsp;+&nbsp;0x7000\r\n\r\n//&nbsp;CNetLogDlgMenuEdit\r\nIMPLEMENT_DYNAMIC(CNetLogDlgMenuEdit,&nbsp;CEdit)\r\n	\r\nBEGIN_MESSAGE_MAP(CNetLogDlgMenuEdit,&nbsp;CEdit)\r\n	ON_WM_CONTEXTMENU()\r\nEND_MESSAGE_MAP()\r\n\r\nCNetLogDlgMenuEdit::CNetLogDlgMenuEdit()\r\n{}\r\n\r\nCNetLogDlgMenuEdit::~CNetLogDlgMenuEdit()\r\n{}\r\n\r\n//&nbsp;CNetLogDlgMenuEdit&nbsp;消息处理程序\r\nvoid&nbsp;CNetLogDlgMenuEdit::OnContextMenu(CWnd*&nbsp;pWnd,&nbsp;CPoint&nbsp;point)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;SetFocus();\r\n&nbsp;&nbsp;&nbsp;&nbsp;CMenu&nbsp;menu;\r\n&nbsp;&nbsp;&nbsp;&nbsp;menu.CreatePopupMenu();\r\n&nbsp;&nbsp;&nbsp;&nbsp;BOOL&nbsp;bReadOnly&nbsp;=&nbsp;GetStyle()&nbsp;&amp;&nbsp;ES_READONLY;\r\n&nbsp;&nbsp;&nbsp;&nbsp;DWORD&nbsp;flags&nbsp;=&nbsp;CanUndo()&nbsp;&amp;&amp;&nbsp;!bReadOnly&nbsp;?&nbsp;0&nbsp;:&nbsp;MF_GRAYED;\r\n&nbsp;&nbsp;&nbsp;&nbsp;menu.InsertMenu(0,&nbsp;MF_BYPOSITION&nbsp;|&nbsp;flags,&nbsp;EM_UNDO,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MES_UNDO);\r\n\r\n	//插入空白线\r\n&nbsp;&nbsp;&nbsp;&nbsp;menu.InsertMenu(1,&nbsp;MF_BYPOSITION&nbsp;|&nbsp;MF_SEPARATOR);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;DWORD&nbsp;sel&nbsp;=&nbsp;GetSel();\r\n&nbsp;&nbsp;&nbsp;&nbsp;flags&nbsp;=&nbsp;LOWORD(sel)&nbsp;==&nbsp;HIWORD(sel)&nbsp;?&nbsp;MF_GRAYED&nbsp;:&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;menu.InsertMenu(2,&nbsp;MF_BYPOSITION&nbsp;|&nbsp;flags,&nbsp;WM_COPY,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MES_COPY);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;flags&nbsp;=&nbsp;(flags&nbsp;==&nbsp;MF_GRAYED&nbsp;||&nbsp;bReadOnly)&nbsp;?&nbsp;MF_GRAYED&nbsp;:&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;menu.InsertMenu(3,&nbsp;MF_BYPOSITION&nbsp;|&nbsp;flags,&nbsp;WM_CUT,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MES_CUT);\r\n&nbsp;&nbsp;&nbsp;&nbsp;menu.InsertMenu(4,&nbsp;MF_BYPOSITION&nbsp;|&nbsp;flags,&nbsp;WM_CLEAR,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MES_DELETE);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;flags&nbsp;=&nbsp;IsClipboardFormatAvailable(CF_TEXT)&nbsp;&amp;&amp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!bReadOnly&nbsp;?&nbsp;0&nbsp;:&nbsp;MF_GRAYED;\r\n&nbsp;&nbsp;&nbsp;&nbsp;menu.InsertMenu(5,&nbsp;MF_BYPOSITION&nbsp;|&nbsp;flags,&nbsp;WM_PASTE,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MES_PASTE);\r\n\r\n	//插入空白线\r\n&nbsp;&nbsp;&nbsp;&nbsp;menu.InsertMenu(6,&nbsp;MF_BYPOSITION&nbsp;|&nbsp;MF_SEPARATOR);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;len&nbsp;=&nbsp;GetWindowTextLength();\r\n&nbsp;&nbsp;&nbsp;&nbsp;flags&nbsp;=&nbsp;(!len&nbsp;||&nbsp;(LOWORD(sel)&nbsp;==&nbsp;0&nbsp;&amp;&amp;&nbsp;HIWORD(sel)&nbsp;==\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;len))&nbsp;?&nbsp;MF_GRAYED&nbsp;:&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;menu.InsertMenu(7,&nbsp;MF_BYPOSITION&nbsp;|&nbsp;flags,&nbsp;ME_SELECTALL,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MES_SELECTALL);\r\n\r\n	//插入空白线\r\n&nbsp;&nbsp;&nbsp;&nbsp;menu.InsertMenu(8,&nbsp;MF_BYPOSITION&nbsp;|&nbsp;MF_SEPARATOR);\r\n\r\n	//自定义\r\n	menu.InsertMenu(9,&nbsp;MF_BYPOSITION&nbsp;,&nbsp;100,_T(&quot;我是自定义&quot;));\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;menu.TrackPopupMenu(TPM_LEFTALIGN&nbsp;|&nbsp;TPM_LEFTBUTTON&nbsp;|\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TPM_RIGHTBUTTON,&nbsp;point.x,&nbsp;point.y,&nbsp;this);\r\n}\r\n\r\nBOOL&nbsp;CNetLogDlgMenuEdit::OnCommand(WPARAM&nbsp;wParam,&nbsp;LPARAM&nbsp;lParam)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;switch&nbsp;(LOWORD(wParam))\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;EM_UNDO:\r\n&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;WM_CUT:\r\n&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;WM_COPY:\r\n&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;WM_CLEAR:\r\n&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;WM_PASTE:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;SendMessage(LOWORD(wParam));\r\n&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;ME_SELECTALL:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;SendMessage&nbsp;(EM_SETSEL,&nbsp;0,&nbsp;-1);\r\n	case&nbsp;100://我是自定义消息\r\n	//#define&nbsp;WM_MYMESSAGE&nbsp;1000\r\n	::SendMessage(_targetHwnd,WM_MYMESSAGE,wParam,lParam);\r\n	return&nbsp;TRUE;\r\n&nbsp;&nbsp;&nbsp;&nbsp;default:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;CEdit::OnCommand(wParam,&nbsp;lParam);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}\r\n\r\nvoid&nbsp;CNetLogDlgMenuEdit::setHwnd(HWND&nbsp;h)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_targetHwnd=h;\r\n}</pre><p><br/></p><p>===========================================</p><p><strong>回调</strong></p><pre class=\"brush:cpp;toolbar:false\">//事件\r\n#define&nbsp;WM_MYMESSAGE&nbsp;1000\r\nBEGIN_MESSAGE_MAP(CNetLogDlg,&nbsp;CDialogEx)\r\n&nbsp;....\r\n&nbsp;ON_MESSAGE(WM_MYMESSAGE,OnEditClearCallback)\r\nEND_MESSAGE_MAP()\r\n\r\nLRESULT&nbsp;CNetLogDlg::OnEditClearCallback(WPARAM&nbsp;wParam,&nbsp;LPARAM&nbsp;lParam)\r\n{\r\n&nbsp;...\r\n&nbsp;return&nbsp;S_OK;\r\n}</pre><p><br/></p>','2015-01-21 16:18:14','2015-01-22 15:54:50'),(633,'14.222.221.215',18,'PHP获取网卡物理MAC地址的一个类及用法','<pre class=\"brush:php;toolbar:false\">&lt;?php\r\n//PHP获取MAC地址类调用方法：\r\n$mac&nbsp;=&nbsp;new&nbsp;GetMacAddr(PHP_OS);\r\necho&nbsp;$mac-&gt;mac_addr;\r\n?&gt;\r\n\r\n&lt;?php\r\n//PHP获取机器网卡的物理（MAC）地址&nbsp;\r\nclass&nbsp;GetMacAddr\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;$return_array&nbsp;=&nbsp;array();&nbsp;//&nbsp;返回带有MAC地址的字串数组\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;$mac_addr;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;GetMacAddr($os_type)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;switch&nbsp;(&nbsp;strtolower($os_type)&nbsp;)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&quot;linux&quot;:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this-&gt;forLinux();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&quot;solaris&quot;:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&quot;unix&quot;:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&quot;aix&quot;:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;default:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this-&gt;forWindows();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$temp_array&nbsp;=&nbsp;array();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(&nbsp;$this-&gt;return_array&nbsp;as&nbsp;$value&nbsp;)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(&nbsp;preg_match(&nbsp;&quot;/[0-9a-f][0-9a-f][:-]&quot;.&quot;[0-9a-f][0-9a-f][:-]&quot;.&quot;[0-9a-f][0-9a-f][:-]&quot;.&quot;[0-9a-f][0-9a-f][:-]&quot;.&quot;[0-9a-f][0-9a-f][:-]&quot;.&quot;[0-9a-f][0-9a-f]/i&quot;,&nbsp;$value,&nbsp;$temp_array&nbsp;)&nbsp;)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this-&gt;mac_addr&nbsp;=&nbsp;$temp_array[0];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unset($temp_array);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;$this-&gt;mac_addr;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;forWindows()\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@exec(&quot;ipconfig&nbsp;/all&quot;,&nbsp;$this-&gt;return_array);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(&nbsp;$this-&gt;return_array&nbsp;)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;$this-&gt;return_array;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ipconfig&nbsp;=&nbsp;$_SERVER[&quot;WINDIR&quot;].&quot;\\system32\\ipconfig.exe&quot;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(&nbsp;is_file($ipconfig)&nbsp;)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@exec($ipconfig.&quot;&nbsp;/all&quot;,&nbsp;$this-&gt;return_array);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@exec($_SERVER[&quot;WINDIR&quot;].&quot;\\system\\ipconfig.exe&nbsp;/all&quot;,&nbsp;$this-&gt;return_array);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;$this-&gt;return_array;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;forLinux()\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@exec(&quot;ifconfig&nbsp;-a&quot;,&nbsp;$this-&gt;return_array);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;$this-&gt;return_array;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}\r\n?&gt;</pre>','2015-01-24 01:38:15','2015-01-24 09:38:15'),(634,'14.217.229.208',3,'table cell 选中打勾效果','<p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">BOOL</span> sss[<span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">3</span>];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">- (<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">void</span>)tableView:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UITableView</span> *)tableView didSelectRowAtIndexPath:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSIndexPath</span> *)indexPath</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">if</span> (<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">TRUE</span>==<span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">sss</span>[indexPath.<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">row</span>])</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; {</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">switch</span> (indexPath.<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">row</span>)</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; {</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">case</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">0</span>:</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">_c1</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">accessoryType</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> = </span>UITableViewCellAccessoryNone<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">break</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">case</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">1</span>:</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">_c2</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">accessoryType</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> = </span>UITableViewCellAccessoryNone<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">break</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">case</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">2</span>:</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">_c3</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">accessoryType</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> = </span>UITableViewCellAccessoryNone<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">break</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; }</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">sss</span>[indexPath.<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">row</span>]=<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">FALSE</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; }</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">else</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; {</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">switch</span> (indexPath.<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">row</span>)</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; {</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">case</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">0</span>:</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">_c1</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">accessoryType</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> = </span>UITableViewCellAccessoryCheckmark<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">break</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">case</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">1</span>:</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">_c2</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">accessoryType</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> = </span>UITableViewCellAccessoryCheckmark<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">break</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">case</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">2</span>:</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">_c3</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">accessoryType</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> = </span>UITableViewCellAccessoryCheckmark<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">break</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; }</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">sss</span>[indexPath.<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">row</span>]=<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">TRUE</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; }</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">- (<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UITableViewCell</span> *)tableView:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UITableView</span> *)tableView cellForRowAtIndexPath:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSIndexPath</span> *)indexPath</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(112, 61, 170);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span>UITableViewCell<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> *cell;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">if</span> (<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">TRUE</span>==<span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">sss</span>[indexPath.<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">row</span>])</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; {</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">switch</span> (indexPath.<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">row</span>)</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; {</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">case</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">0</span>:</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">_c1</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">accessoryType</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> = </span>UITableViewCellAccessoryCheckmark<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cell=<span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">_c1</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">break</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">case</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">1</span>:</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">_c2</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">accessoryType</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> = </span>UITableViewCellAccessoryCheckmark<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cell=<span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">_c2</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">break</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">case</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">2</span>:</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">_c3</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">accessoryType</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> = </span>UITableViewCellAccessoryCheckmark<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cell=<span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">_c3</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">break</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; }</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; }</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">else</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; {</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">switch</span> (indexPath.<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">row</span>)</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; {</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">case</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">0</span>:</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">_c1</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">accessoryType</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> = </span>UITableViewCellAccessoryNone<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cell=<span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">_c1</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">break</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">case</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">1</span>:</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">_c2</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">accessoryType</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> = </span>UITableViewCellAccessoryNone<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cell=<span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">_c2</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">break</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">case</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">2</span>:</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">_c3</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">accessoryType</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> = </span>UITableViewCellAccessoryNone<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cell=<span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">_c3</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">break</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; }</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; }</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">return</span> cell;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p><br/></p>','2015-02-03 07:49:27','2015-02-03 15:49:27'),(636,'27.44.8.163',0,'常用网站','<p><a href=\"http://www.atool.org/ios_logo.php\" _src=\"http://www.atool.org/ios_logo.php\">http://www.atool.org/ios_logo.php</a>&nbsp;&nbsp;在线生在各种小图标</p><p><br/></p><p><a href=\"http://stackoverflow.com\" _src=\"http://stackoverflow.com\">http://stackoverflow.com</a> </p><p><a href=\"http://stackoverflow.com\" _src=\"http://stackoverflow.com\">https://github.com</a> </p><p><a href=\"http://www.pudn.com\" _src=\"http://www.pudn.com\">http://www.pudn.com</a> </p><p><a href=\"http://bbs.csdn.net/home\" _src=\"http://bbs.csdn.net/home\">http://bbs.csdn.net/home</a> </p><p><a href=\"http://www.cocoachina.com\" _src=\"http://www.cocoachina.com\">http://www.cocoachina.com</a> </p><p><br/></p><p><br/></p><p>http://www.adacore.org/</p><p><a href=\"http://www.adaic.org/\" _src=\"http://www.adaic.org/\">http://www.adaic.org/</a> </p><p><br/></p><p><br/></p><p><a href=\"http://www.tvbow.com/tvb/WuShuangPuYueYuBan/index.html\" _src=\"http://www.tvbow.com/tvb/WuShuangPuYueYuBan/index.html\">http://www.tvbow.com/tvb/WuShuangPuYueYuBan/index.html</a> </p><p><br/></p><p><br/></p><p>http://home.cndns.com/userpanel/dme_mng/dme_idx.asp?dnme=hepoe.com</p><p><span style=\"color: rgb(255, 0, 0); font-family: &#39;Microsoft Yahei&#39;, Arial, tahoma, arial; font-size: 12px;  background-color: rgb(255, 255, 255);\">ib4x0tj1</span></p><p><span style=\"color: rgb(255, 0, 0); font-family: &#39;Microsoft Yahei&#39;, Arial, tahoma, arial; font-size: 12px;  background-color: rgb(255, 255, 255);\"><br/></span></p><p><span style=\"color: rgb(255, 0, 0); font-family: &#39;Microsoft Yahei&#39;, Arial, tahoma, arial; font-size: 12px;  background-color: rgb(255, 255, 255);\"><br/></span></p><p><span style=\"color: rgb(255, 0, 0); font-family: &#39;Microsoft Yahei&#39;, Arial, tahoma, arial; font-size: 12px;  background-color: rgb(255, 255, 255);\">http://manhua.dmzj.com/lingnengbaifenbai/34299.shtml#@page=2</span></p>','2015-05-31 17:27:55','2017-08-20 00:22:20'),(637,'192.168.1.200',35,'gtk例子','<p>with ada.Text_IO; use ada.Text_IO;<br/></p><p>with Gtk.Main; use Gtk.Main;</p><p>with Gtk.Enums; use Gtk.Enums;</p><p>with Gtk.Window; use Gtk.Window;</p><p><br/></p><p>procedure main is</p><p>&nbsp; &nbsp;procedure Create_Window is<br/></p><p>&nbsp; &nbsp; &nbsp; Main_Window : Gtk.Window.Gtk_Window;</p><p>&nbsp; &nbsp;begin</p><p>&nbsp; &nbsp; &nbsp; Gtk.Window.Gtk_New</p><p>&nbsp; &nbsp; &nbsp; &nbsp; (Window =&gt; Main_Window,</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;The_Type =&gt; Gtk.Enums.Window_Toplevel);</p><p>&nbsp; &nbsp; &nbsp; -- From Gtk.Widget:</p><p>&nbsp; &nbsp; &nbsp; Gtk.Window.Set_Title (Window =&gt; Main_Window, Title =&gt; &quot;Editor&quot;);</p><p>&nbsp; &nbsp; &nbsp; -- Construct the window and connect various callbacks</p><p>&nbsp; &nbsp; &nbsp; &nbsp; Gtk.Window.Show_All (Main_Window);</p><p>&nbsp; &nbsp;end Create_Window;</p><p>begin<br/></p><p><br/></p><p>-- Set the locale specific datas (e.g time and date format)</p><p>--Gtk.Main.Set_Locale;</p><p>-- Initializes GtkAda</p><p>Gtk.Main.Init;</p><p>-- Create the main window</p><p>Create_Window;</p><p>-- Signal handling loop</p><p>Gtk.Main.Main;</p><p><br/></p><p>end main;</p><p><br/></p>','2015-06-01 15:12:11','2015-06-01 23:12:20'),(639,'192.168.3.1',3,'启用后台进程','<p><a href=\"http://blog.csdn.net/joosonmao/article/details/39299661\" style=\"color: rgb(0, 0, 0); text-decoration: none; font-family: &#39;Microsoft YaHei&#39;; font-size: 20px; line-height: 30px; white-space: normal; background-color: rgb(255, 255, 255);\">在iOS上启动root特权的后台进程</a></p><p><a href=\"http://blog.csdn.net/joosonmao/article/details/39299661\" _src=\"http://blog.csdn.net/joosonmao/article/details/39299661\">http://blog.csdn.net/joosonmao/article/details/39299661</a> </p><p><br/></p><p>1.</p><p>在系统找到NSTask.h文件,复制到工程里</p><p>2.</p><p><span style=\"color: rgb(44, 44, 41); font-family: Tahoma; font-size: 17px; line-height: 26px; text-align: justify;  background-color: rgb(255, 255, 255);\"></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(49, 89, 93);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">[</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">NSTask</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #31595d\">launchedTaskWithLaunchPath</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;/bin/ls&quot;</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #31595d\">arguments</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:[</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSArray</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>arrayWithObjects<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;-l&quot;</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">,[[</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSBundle</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>mainBundle<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">] </span>bundlePath<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">],</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">]];</span></p><p><br/></p><p><br/></p><h1 class=\"postTitle\" style=\"margin: 10px 0px; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(221, 221, 221); font-size: 14px; font-family: verdana, Arial, Helvetica, sans-serif; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"><a id=\"cb_post_title_url\" class=\"postTitle2\" href=\"http://www.cnblogs.com/ygm900/p/3460026.html\" style=\"margin: 0px; padding: 0px; text-decoration: none; color: rgb(57, 154, 178);\">IOS高级开发～开机启动&amp;无限后台运行&amp;监听进程</a></h1><p>http://www.cnblogs.com/ygm900/p/3460026.html</p>','2015-06-03 17:42:53','2015-06-07 01:41:36'),(640,'14.216.10.252',67,'越狱环境开发搭建','<p><strong>一.MacPorts下载与安装</strong></p><p>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;(1)安装后执行<span style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px;  background-color: rgb(255, 255, 255);\">$&nbsp;</span><strong style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal;\">sudo port -v selfupdate</strong></p><p><strong style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal;\"><br/></strong></p><p><strong>二.安装deb工具</strong></p><p>&nbsp; &nbsp; &nbsp; (1)执行完MacPorts的更新后,执行&nbsp;sudo port -f install dpkg</p><p><br/></p><p><strong>三.安装theos</strong><br/></p><p><span style=\"color: rgb(51, 51, 51); line-height: 1.5em; white-space: pre-wrap; background-color: rgb(246, 246, 246);\"><br/></span></p><p><span style=\"color: rgb(51, 51, 51); line-height: 1.5em; white-space: pre-wrap; background-color: rgb(246, 246, 246);\"></span></p><ol style=\"line-height: 19.200000762939453px; margin-top: 0.3em; margin-bottom: 0.5em; margin-left: 3.2em; padding: 0px; list-style-image: none; font-size: 13px; white-space: normal;\" class=\" list-paddingleft-2\"><li><p>Open a terminal window.</p></li><li><p>Choose a location for Theos to be installed. If you are unsure, a good choice is&nbsp;<tt style=\"font-family: monospace, Courier;\">/opt/theos</tt>.</p><pre style=\"font-family: monospace, Courier; padding: 1em; border: 1px dashed rgb(47, 111, 171); background-color: rgb(249, 249, 249); line-height: 1.3em;\">export&nbsp;THEOS=/opt/theos</pre></li><ul style=\"list-style-type: disc;\" class=\" list-paddingleft-2\"><li><p>If you chose a location outside of your user&#39;s home directory, you will probably need to run some or all of the following commands with root permissions.</p></li></ul><li><p>Download the latest version of Theos:</p></li><ul style=\"list-style-type: disc;\" class=\" list-paddingleft-2\"><li><p>Using git:&nbsp;</p><pre style=\"font-family: monospace, Courier; padding: 1em; border: 1px dashed rgb(47, 111, 171); background-color: rgb(249, 249, 249); line-height: 1.3em;\">git&nbsp;clone&nbsp;git://github.com/DHowett/theos.git&nbsp;$THEOS</pre></li><li><p>Alternatively, you can use svn, if you prefer:&nbsp;</p><pre style=\"font-family: monospace, Courier; padding: 1em; border: 1px dashed rgb(47, 111, 171); background-color: rgb(249, 249, 249); line-height: 1.3em;\">svn&nbsp;co&nbsp;http://svn.howett.net/svn/theos/trunk&nbsp;$THEOS</pre></li></ul><li><p>Download&nbsp;<tt style=\"font-family: monospace, Courier;\"><a href=\"http://iphonedevwiki.net/index.php/Ldid\" title=\"Ldid\" style=\"text-decoration: none; color: rgb(11, 0, 128); background-image: none; background-position: initial initial; background-repeat: initial initial;\">ldid</a></tt>&nbsp;to&nbsp;<tt style=\"font-family: monospace, Courier;\">$THEOS/bin</tt>:&nbsp;</p><pre style=\"font-family: monospace, Courier; padding: 1em; border: 1px dashed rgb(47, 111, 171); background-color: rgb(249, 249, 249); line-height: 1.3em;\">git&nbsp;clone&nbsp;git://git.saurik.com/ldid.git\r\ncd&nbsp;ldid\r\ngit&nbsp;submodule&nbsp;update&nbsp;--init\r\n./make.sh\r\ncp&nbsp;-f&nbsp;./ldid&nbsp;$THEOS/bin/ldid</pre></li><li><p>Add Theos environment variables to your&nbsp;<code style=\"font-family: monospace, Courier; background-color: rgb(249, 249, 249);\">~/.bash_profile</code>&nbsp;(or the equivalent for your shell). Open&nbsp;<code style=\"font-family: monospace, Courier; background-color: rgb(249, 249, 249);\">~/.bash_profile</code>&nbsp;(create it if it does not exist) in your favorite editor and add this on the last line, replacing &quot;example&quot; with your device&#39;s name (replacing spaces with dashes). If you prefer, you can also use your devices IP address. To find you IP, open settings, select wifi, then press the &quot;i&quot; on the network you are currently connected to. From here you should be able to see your devices IP address:&nbsp;<br/></p><pre style=\"font-family: monospace, Courier; padding: 1em; border: 1px dashed rgb(47, 111, 171); background-color: rgb(249, 249, 249); line-height: 1.3em;\">export&nbsp;THEOS=/opt/theos\r\nexport&nbsp;THEOS_DEVICE_IP=example.local&nbsp;THEOS_DEVICE_PORT=22</pre><p><br/>Load this into the shell with&nbsp;<code style=\"font-family: monospace, Courier; background-color: rgb(249, 249, 249);\">. ~/.bash_profile</code>, or close the terminal window and launch a new one.</p></li><li><p>As the Substrate library does not come installed on these platforms nor bundled with Theos, copy&nbsp;<code style=\"font-family: monospace, Courier; background-color: rgb(249, 249, 249);\">/Library/Frameworks/CydiaSubstrate.framework/CydiaSubstrate</code>&nbsp;from the device to your local&nbsp;<code style=\"font-family: monospace, Courier; background-color: rgb(249, 249, 249);\">$THEOS/lib</code>&nbsp;folder and rename it to&nbsp;<code style=\"font-family: monospace, Courier; background-color: rgb(249, 249, 249);\">libsubstrate.dylib</code>. (If you don&#39;t do this step, or if you use an old version of Substrate, or if something else goes wrong, you may get&nbsp;<a href=\"http://iphonedevwiki.net/index.php/Theos/Setup#Missing_Substrate_library\" title=\"Theos/Setup\" style=\"text-decoration: none; color: rgb(11, 0, 128); background-image: none; background-position: initial initial; background-repeat: initial initial;\">one of these error messages</a>). Similarly, copy&nbsp;<code style=\"font-family: monospace, Courier; background-color: rgb(249, 249, 249);\">/Library/Frameworks/CydiaSubstrate.framework/Headers/CydiaSubstrate.h</code>&nbsp;to your local&nbsp;<code style=\"font-family: monospace, Courier; background-color: rgb(249, 249, 249);\">$THEOS/include</code>&nbsp;folder and rename it to&nbsp;<code style=\"font-family: monospace, Courier; background-color: rgb(249, 249, 249);\">substrate.h</code>.</p></li></ol><ol style=\"line-height: 19.200000762939453px; margin-top: 0.3em; margin-bottom: 0.5em; margin-left: 3.2em; padding: 0px; list-style-image: none; font-size: 13px; white-space: normal;\" class=\" list-paddingleft-2\"></ol><p><br/></p><p><strong>四.安装IOSOpenDev</strong></p><p><strong><br/></strong></p><p><strong>五.开发时将/opt/iOSOpenDev/lib/里面的 libsubstrate.dylib或libactivator.dylib或libactionmenu.dylib等添加到xcode工程里面,(注:<strong style=\"white-space: normal;\">libsubstrate.dylib,libactivator.dylib,libactionmenu.dylib只能在工程里加其中一个,不然会引起功能冲突例如hook没响应</strong>)</strong></p><p><br/></p><p><strong>六.将CoreFoundation.framework, UIKit.framework, Foundation.framework,QuartzCore.framework 添加到工程时面</strong></p><p><br/></p><p><strong>七.<strong style=\"white-space: normal;\">在编译配置里的User Header Search Paths里面加入/usr/include/objc ,也可配置上私有库PrivateFrameworks</strong></strong></p><p><br/></p><p><strong>八.在编译配置里的iOSOpenDevDevice设上调试设备的IP地址,而且并使用MAC系统终端登录ssh</strong></p><p><strong><br/></strong></p><p><strong>九.设置开发电脑与IOS设备的ssh公钥免密码登录(可忽略这步,但无法联机调试)</strong></p><p><br/></p><p><strong>十.Product-&gt;Build For-&gt;Profiling 编译生成deb文件</strong></p><p><br/></p>','2015-06-08 06:55:16','2015-07-02 13:23:37'),(641,'14.216.0.139',67,'hook logs_weak实例','<p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">创建工程时,取用logos_tweak实例</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">// Logos by Dustin Howett</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">// See http://iphonedevwiki.net/index.php/Logos</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">#import &lt;UIKit/UIKit.h&gt;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">%hook SpringBoard</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">-(void)applicationDidFinishLaunching:(id)application&nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\"><span style=\"font-family: Menlo; font-size: 11px;  background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;%log;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; %orig;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@&quot;Welcome&quot;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; message:@&quot;Welcome to <span style=\"font-family: &#39;Heiti SC Light&#39;;\">小新</span>&#39;s iPhone!&quot;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; delegate:nil</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cancelButtonTitle:@&quot;Thanks&quot;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; otherButtonTitles:nil];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; [alert show];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; [alert release];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">%end</p><p><br/></p><p>//-----------------------------------------------------------------------</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">%hook ClassName</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">+ (id)sharedInstance</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\"><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>%log;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\"><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>return %orig;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">- (void)messageWithNoReturnAndOneArgument:(id)originalArgument</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\"><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>%log;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\"><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>%orig(originalArgument);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\"><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>// or, for exmaple, you could use a custom value instead of the original argument: %orig(customValue);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">- (id)messageWithReturnAndNoArguments</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\"><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>%log;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\"><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>id originalReturnOfMessage = %orig;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\"><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>// for example, you could modify the original return value before returning it: [SomeOtherClass doSomethingToThisObject:originalReturnOfMessage];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\"><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>return originalReturnOfMessage;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">%end</p><p><br/></p>','2015-06-09 00:50:18','2015-06-26 17:59:40'),(642,'14.216.0.139',67,'推送消息截取','<p><span style=\"color: rgb(120, 73, 42); font-family: Menlo; font-size: 11px;\">头文件 ApplePushService/APSConnection.h</span><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; white-space: normal; font-size: 11px; font-family: Menlo;\"><span style=\"color: rgb(120, 73, 42);\">在项目同名.plist-&gt;Bundles里面增加一栏填入&nbsp;com.apple.springboard</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; white-space: normal; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\"><span style=\"color: rgb(120, 73, 42);\">//////////////////////////////////</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\"><br/></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">class</span> APSIncomingMessage;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">%hook APSConnection</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">- (<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">void</span>)_deliverToken:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">id</span>)arg1 forTopic:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">id</span>)arg2 identifier:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">id</span>)arg3</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp;&nbsp;<span style=\"font-family: Menlo; font-size: 11px;  background-color: rgb(255, 255, 255);\">%log;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; %orig(arg1,arg2,arg3);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; NSString* aarg1=[NSString stringWithFormat:<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;%@&quot;</span>,arg1];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; UIAlertView *alert = [[UIAlertView alloc] initWithTitle:<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;_deliverToken&quot;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; message:aarg1</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; delegate:<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cancelButtonTitle:<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;Thanks&quot;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; otherButtonTitles:<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span>];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; [alert show];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; [alert release];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">- (<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">void</span>)requestTokenForTopic:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">id</span>)arg1 identifier:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">id</span>)arg2</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp;&nbsp;<span style=\"font-family: Menlo; font-size: 11px;  background-color: rgb(255, 255, 255);\">%log;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; %orig;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; NSString* aarg1=[NSString stringWithFormat:<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;%@&quot;</span>,arg1];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; UIAlertView *alert = [[UIAlertView alloc] initWithTitle:<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;requestTokenForTopic&quot;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; message:aarg1</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; delegate:<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cancelButtonTitle:<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;Thanks&quot;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; otherButtonTitles:<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span>];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; [alert show];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; [alert release];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">- (<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">void</span>)_deliverMessage:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">id</span>)arg1</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp;&nbsp;<span style=\"font-family: Menlo; font-size: 11px;  background-color: rgb(255, 255, 255);\">%log;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp;&nbsp;%orig;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; APSIncomingMessage*inmsg=(APSIncomingMessage*)arg1;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span>//<span style=\"font-family: &#39;Heiti SC Light&#39;;\">读取信息内容</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; NSString*topic=[inmsg topic];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; NSDictionary* uinfo = [inmsg userInfo];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; NSDictionary* aps=[uinfo objectForKey:<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;aps&quot;</span>];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; NSString* alert=[aps objectForKey:<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;alert&quot;</span>];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; NSString* category=[aps objectForKey:<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;category&quot;</span>];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">int</span> cmd=[[uinfo objectForKey:<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;cmd&quot;</span>] intValue];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">int</span> m=[[uinfo objectForKey:<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;m&quot;</span>] intValue];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; NSString* u=[uinfo objectForKey:<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;u&quot;</span>];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; NSString* aarg1=[NSString stringWithFormat:<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;topic=%@,</span><span style=\"color: rgb(209, 47, 27);\">info=%@,</span><span style=\"color: rgb(209, 47, 27);\">alert=%@,</span><span style=\"color: rgb(209, 47, 27);\">category=%@,</span><span style=\"color: rgb(209, 47, 27);\">cmd=%d,</span><span style=\"color: rgb(209, 47, 27);\">m=%d,</span><span style=\"color: rgb(209, 47, 27);\">u=%@&quot;</span>,</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">topic,uinfo,alert,category,cmd,m,u];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp;&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #008400\">//</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp;&nbsp; &nbsp; UIAlertView *av = [[UIAlertView alloc] initWithTitle:<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;_deliverMessage&quot;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; message:aarg1</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; delegate:<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cancelButtonTitle:<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;Thanks&quot;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; otherButtonTitles:<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span>];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp;&nbsp; &nbsp; [av show];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp;&nbsp; &nbsp; [av release];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">%end</p><p><br/></p>','2015-06-10 10:00:04','2015-06-26 18:00:26'),(643,'14.216.7.199',67,'SprintBoard获取APP信息','<p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\"><span style=\"color:#78492a\">在项目同名.plist-&gt;Bundles里面增加一栏填入&nbsp;com.apple.springboard</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #78492a\">//////////////////////////////////</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #78492a\">#define SBSERVPATH&nbsp; </span>&quot;/System/Library/PrivateFrameworks/SpringBoardServices.framework/SpringBoardServices&quot;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">void</span> getFrontAppInfo(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIImageView</span>*iconView) {</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">&nbsp;&nbsp;&nbsp;&nbsp;bool</span> locked;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">bool</span> passcode;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">mach_port_t</span> *port;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(120, 73, 42);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">void</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> *lib = </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">dlopen</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">(</span>SBSERVPATH<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">, </span>RTLD_LAZY<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">);</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp; &nbsp; <span style=\"color: rgb(0, 176, 80);\">//屏幕是否锁屏,且有密码</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">&nbsp; &nbsp; void</span>* (*SBGetScreenLockStatus)(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">mach_port_t</span>* port, <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">bool</span> *lockStatus, <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">bool</span> *passcodeEnabled) = <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">dlsym</span>(lib, <span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">&quot;SBGetScreenLockStatus&quot;</span>);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; SBGetScreenLockStatus(port, &amp;locked, &amp;passcode);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: &#39;Heiti SC Light&#39;; color: rgb(0, 132, 0);\"><span style=\"font-family: Menlo; color: rgb(0, 0, 0);\"><br/></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: &#39;Heiti SC Light&#39;; color: rgb(0, 132, 0);\"><span style=\"font-family: Menlo; color: rgb(0, 0, 0);\">&nbsp; &nbsp; </span><span style=\"font-family: Menlo;\">//</span>获取当前运行窗口端口</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">int</span> (*SBSSpringBoardServerPort)() = <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">dlsym</span>(lib, <span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">&quot;SBSSpringBoardServerPort&quot;</span>);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; port = (<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">mach_port_t</span> *)SBSSpringBoardServerPort();</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span>//<span style=\"font-family: &#39;Heiti SC Light&#39;;\">获取根据运行端口</span>bundle id</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">void</span>&nbsp;(*SBFrontmostApplicationDisplayIdentifier)(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">mach_port_t</span> *port, <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">char</span> *result) = <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">dlsym</span>(lib, <span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">&quot;SBFrontmostApplicationDisplayIdentifier&quot;</span>);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">char</span> appId[<span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">256</span>];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">memset</span>(appId, <span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">0</span>, <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">sizeof</span>(appId));</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; SBFrontmostApplicationDisplayIdentifier(port, appId);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span> *appBundleID=[<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">stringWithFormat</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;%s&quot;</span>,appId];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">NSLog</span>(<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;appBundleID=%@&quot;</span>,appBundleID);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span>//<span style=\"font-family: &#39;Heiti SC Light&#39;;\">获取</span>APP<span style=\"font-family: &#39;Heiti SC Light&#39;;\">名称</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span> * (*SBSCopyLocalizedApplicationNameForDisplayIdentifier)(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span>* )=<span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">dlsym</span>(lib, <span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">&quot;SBSCopyLocalizedApplicationNameForDisplayIdentifier&quot;</span>);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span> *strAppName = SBSCopyLocalizedApplicationNameForDisplayIdentifier(appBundleID);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">NSLog</span>(<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;strAppName=%@&quot;</span>,strAppName);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span>//<span style=\"font-family: &#39;Heiti SC Light&#39;;\">获取图标</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSData</span>* (*SBSCopyIconImagePNGDataForDisplayIdentifier)(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span> * bundleid) =<span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">dlsym</span>(lib, <span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">&quot;SBSCopyIconImagePNGDataForDisplayIdentifier&quot;</span>);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIImage</span> *icon = <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSData</span> *iconData = SBSCopyIconImagePNGDataForDisplayIdentifier(appBundleID);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">if</span> (iconData != <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span>) {</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; icon = [<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIImage</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">imageWithData</span>:iconData];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; }</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; iconView.<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">image</span>=icon;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #008400\">//</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">dlclose</span>(lib);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p><br/></p>','2015-06-24 06:30:12','2015-06-25 12:50:52'),(644,'14.216.0.139',67,'objc_msgSend使用','<p><span style=\"color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 25px;  background-color: rgb(255, 255, 255);\">选中项目 - Project - Build Settings -&nbsp;Enable Strict Checking of Object_msgSend Calls &nbsp;将其设置为 NO</span></p><p><br/></p><p>id wa=objc_msgSend( objc_getClass(&quot;WAHAHHAHAHHA&quot;),</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NSSelectorFromString(@&quot;viewDidLoad&quot;));</p>','2015-06-25 07:32:18','2015-06-25 15:32:36'),(645,'14.216.0.139',67,'APP插件的makefile','<p>//安装好越狱开发工具</p><p>/////////////////////////////////////</p><p>//makefile文件内容</p><pre class=\"brush:cpp;toolbar:false\">GCC_BIN=`xcrun&nbsp;--sdk&nbsp;iphoneos&nbsp;--find&nbsp;gcc`\r\nGCC_UNIVERSAL=$(GCC_BASE)&nbsp;-arch&nbsp;armv7&nbsp;-arch&nbsp;armv7s&nbsp;-arch&nbsp;arm64\r\nSDK=`xcrun&nbsp;--sdk&nbsp;iphoneos&nbsp;--show-sdk-path`\r\nCFLAGS&nbsp;=&nbsp;\r\nGCC_BASE&nbsp;=&nbsp;$(GCC_BIN)&nbsp;-Os&nbsp;$(CFLAGS)&nbsp;-Wimplicit&nbsp;-isysroot&nbsp;$(SDK)&nbsp;-F$(SDK)/System/Library/Frameworks&nbsp;-F$(SDK)/System/Library/PrivateFrameworks\r\nall:&nbsp;dumpdecrypted.dylib\r\ndumpdecrypted.dylib:&nbsp;dumpdecrypted.o&nbsp;\r\n$(GCC_UNIVERSAL)&nbsp;-dynamiclib&nbsp;-o&nbsp;$@&nbsp;$^\r\n%.o:&nbsp;%.c\r\n$(GCC_UNIVERSAL)&nbsp;-c&nbsp;-o&nbsp;$@&nbsp;$&lt;&nbsp;\r\nclean:\r\nrm&nbsp;-f&nbsp;*.o&nbsp;dumpdecrypted.dylib</pre><p><br/></p><p>////////////////////////////////////////</p><p>//创建同名.plist文件,修改bundles id,加入内容</p><pre class=\"brush:cpp;toolbar:false\">{\r\nFilter&nbsp;=&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Bundles&nbsp;=&nbsp;(&quot;com.tencent.xin.sharetimeline&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};\r\n}</pre><p>////////////////////////////////////////<br/></p><p>//放到手机目录</p><p><span style=\"color: rgb(37, 37, 37); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 28px;  background-color: rgb(250, 250, 250);\">&nbsp;/Library/MobileSubstrate/DynamicLibraries/</span></p>','2015-06-25 10:03:33','2015-06-25 18:03:53'),(646,'192.168.6.1',67,'dumpdecrypted砸壳工具使用','<p>1.先编译好dumpdecrypted</p><p>2.提交生成好的dumpdecrypted.dylib到设备root目录</p><p>3.找到要砸壳的APP程序路径</p><p>4.在root目录,执行砸壳命令</p><p><span style=\"background-color: rgb(255, 255, 255);\"></span>DYLD_INSERT_LIBRARIES=dumpdecrypted.dylib /private/var/mobile/Applications/75ADF8FA-B159-4BDC-A077-404D79D143B8/WeChat.app/WeChat<span style=\"font-family: Consolas, &#39;Courier New&#39;, Courier, mono, serif; font-size: 12px; line-height: 18px;  background-color: rgb(255, 255, 255);\"><span style=\"font-family: Menlo; font-size: 11px;\"></span></span></p><p>5.导出生成的.decrypted文件</p><p>6.在MAC系统终端里用class-dump-z WeChat.decrypted&gt;WeChat.h解析头文件</p><p>7.使用Hopper去逆向分析,</p>','2015-06-26 02:53:11','2017-02-21 13:21:14'),(647,'14.216.10.252',3,'在VIEW中监听HOME键前后台操作','<p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">- (<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">void</span>)viewDidLoad {</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">super</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>viewDidLoad<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span>// Do any additional setup after loading the view, typically from a nib.</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; [[</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSNotificationCenter</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>defaultCenter<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">] </span>addObserver<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">self</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">selector</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">@selector</span>(fuckActive:)</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(112, 61, 170);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">name</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span>UIApplicationDidBecomeActiveNotification<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">object</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">-(<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">void</span>)fuckActive:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSNotification</span>*)notification</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">NSLog</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">(</span>@&quot;fuckActive&quot;<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">);</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">-(<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">void</span>)dealloc</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; [[</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSNotificationCenter</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>defaultCenter<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">] </span>removeObserver<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">self</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p><br/></p>','2015-07-02 09:17:57','2015-07-02 17:25:12'),(648,'192.168.2.200',67,'IOS越狱开发 root权限获取','<ul class=\"box_body list-paddingleft-2\" id=\"fontzoom\" style=\"list-style-type: none;\"><li><p>首先，只有在越狱的ios设备上才可以获取root权限，未越狱就不用考虑了！</p><p>思路：用具有普通权限的app引导具有root权限的app。假设你的应用程序为Demo，引导程序为Start。</p><p>具体步骤如下：</p><p>1、在Demo工程</p></li><li><pre class=\"brush:cpp;toolbar:false\">-&nbsp;(BOOL)application:(UIApplication&nbsp;*)application&nbsp;didFinishLaunchingWithOptions:(NSDictionary&nbsp;*)launchOptions</pre></li><li><p>开头加入</p></li><li><pre class=\"brush:cpp;toolbar:false;\">setgid(0);&nbsp;\r\nsetuid(0);\r\n//setreuid(0,0);&nbsp;--iOS8.1.3-8.4太极越狱漏洞</pre></li><li><p>编译你的程序。进入Demo.app文件把Demo的执行文件改名为Demo_</p><p>2、工程Start启动shell</p></li><li><pre class=\"brush:bash;toolbar:false\">#!/bin/bash\r\ndir=$(dirname&nbsp;&quot;$0&quot;)\r\nexec&nbsp;&quot;${dir}&quot;/启动程序DEMO_文件名&nbsp;&quot;$0&quot;</pre></li><li><p>将创建的shell文件拷贝到Demo.app文件夹并且改名为Demo。</p></li><li><p>权限</p></li><li><pre class=\"brush:bash;toolbar:false\">sudo&nbsp;chown&nbsp;root:wheel&nbsp;Demo\r\nsudo&nbsp;chmod&nbsp;755&nbsp;Demo</pre></li><li><p><br/></p><p>3、在桌面新建一个文件夹假设名为test，在test文件夹下再新建两个文件夹分别为：Applications、DEBIAN</p></li><li><p><br/></p><p><br/></p></li><li><p>4、将Demo.app包拷贝到Applications目录下，将Demo.app中得control可执行文件拷贝到DEBIAN目录下(这属于deb打包的部分，如有问题可以网上搜索解决)</p><p>我当时遇到的问题是打包的时候control出错，解决方法：打开control文件在末尾加两行空行。</p></li><li><p><br/></p><p>5、用Terminal进入到Applications/Demo.app目录下，输入以下3条命令：</p><p><br/></p></li><li><pre class=\"brush:bash;toolbar:false\">sudo&nbsp;chown&nbsp;root:wheel&nbsp;Demo_\r\nsudo&nbsp;chmod&nbsp;6755&nbsp;Demo_\r\nsudo&nbsp;chmod&nbsp;u+s&nbsp;Demo_</pre></li><li><p><br/></p><p>6、将test目录下的两个文件打包成一个deb文件、命令如下：</p><p>sudo dpkg-deb -b ~/Desktop/test ~/Desktop/Demo.deb</p></li><li><p><br/></p><p>7、将生成的Demo.deb拷贝到iOS指定目录下：/var/root/Media/Cydia/AutoInstall。(可以用windows下得91助手，也可以用命令scp拷贝)</p></li><li><p><br/></p><p>8、在iOS设备上用iFile安装deb包，重启iOS设备，OK！</p></li><li><p>9. 如果出不来APP程序,执行</p></li><li><pre class=\"brush:bash;toolbar:false\">killall&nbsp;SpringBoard</pre></li><li><p>10. 在终端里查看是否具有ROOT权限 ,找不到指令请在cydia里面安装pstree插件</p></li><li><pre class=\"brush:bash;toolbar:false\">ps&nbsp;aux&nbsp;|&nbsp;grep&nbsp;程序名</pre></li></ul><p><br/></p>','2015-07-05 17:06:48','2015-07-14 09:04:56'),(649,'192.168.2.200',26,'UART通讯(使用库)','<pre class=\"brush:cpp;toolbar:false\">#include&nbsp;&quot;stm8s.h&quot;\r\n#include&nbsp;&quot;stm8s_uart1.h&quot;\r\n\r\nvoid&nbsp;main(void)\r\n{&nbsp;&nbsp;\r\n&nbsp;&nbsp;__disable_interrupt();//关闭中断\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;//时钟\r\n&nbsp;&nbsp;CLK_HSICmd(ENABLE);//使能内部高频RC&nbsp;\r\n&nbsp;&nbsp;CLK_SYSCLKConfig(CLK_PRESCALER_HSIDIV8);//内部高速RC振荡时钟分频\r\n&nbsp;&nbsp;CLK_SYSCLKConfig(CLK_PRESCALER_CPUDIV2);//CPU核心时钟分频&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;//UART1初始化&nbsp;\r\n&nbsp;&nbsp;UART1_DeInit();\r\n&nbsp;&nbsp;//这里波特率不支持115200\r\n&nbsp;&nbsp;UART1_Init(9600,&nbsp;UART1_WORDLENGTH_8D,&nbsp;UART1_STOPBITS_1,UART1_PARITY_NO,UART1_SYNCMODE_CLOCK_DISABLE,&nbsp;UART1_MODE_TXRX_ENABLE&nbsp;);\r\n&nbsp;&nbsp;//UART1_ITConfig(UART1_IT_TXE,&nbsp;DISABLE);//关串口开始发送中断\r\n&nbsp;&nbsp;//UART1_ITConfig(UART1_IT_TC,&nbsp;DISABLE);//关串口发送结束中断&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;UART1_ITConfig(UART1_IT_RXNE_OR,&nbsp;ENABLE);//UART1_IT_RXNE_OR&nbsp;&nbsp;\r\n&nbsp;&nbsp;UART1_Cmd(ENABLE);\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;//LED初始化\r\n&nbsp;&nbsp;GPIO_Init(GPIOA,GPIO_PIN_3,GPIO_MODE_OUT_PP_LOW_FAST);\r\n&nbsp;&nbsp;GPIO_WriteHigh(GPIOA,GPIO_PIN_3);\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;__enable_interrupt();//打开中断\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;while&nbsp;(1);\r\n&nbsp;&nbsp;\r\n}\r\n\r\n///////////////////////////////////////////////////////////////////\r\n//串口发送\r\nvoid&nbsp;zhUART1_PutBinary(unsigned&nbsp;char&nbsp;*bytes,int&nbsp;len)&nbsp;\r\n{&nbsp;\r\n&nbsp;&nbsp;int&nbsp;i;\r\n&nbsp;&nbsp;for(i=0;i&lt;len;i++)\r\n&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//向终端输出\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while(UART1_GetFlagStatus(UART1_FLAG_TXE)&nbsp;==&nbsp;0);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UART1_SendData8(bytes[i]);\r\n&nbsp;&nbsp;}\r\n}\r\n\r\n///////////////////////////////////////////////////////////////////\r\n//串口接收中断\r\n#if&nbsp;defined&nbsp;(STM8S208)&nbsp;||&nbsp;defined(STM8S207)&nbsp;||&nbsp;defined(STM8S007)&nbsp;||&nbsp;defined(STM8S103)&nbsp;||&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;defined(STM8S003)&nbsp;||&nbsp;&nbsp;defined&nbsp;(STM8AF62Ax)&nbsp;||&nbsp;defined&nbsp;(STM8AF52Ax)&nbsp;||&nbsp;defined&nbsp;(STM8S903)\r\n/**\r\n&nbsp;INTERRUPT_HANDLER(UART1_TX_IRQHandler,&nbsp;17)\r\n&nbsp;{\r\n&nbsp;}\r\n*/\r\n&nbsp;INTERRUPT_HANDLER(UART1_RX_IRQHandler,&nbsp;18)\r\n&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(UART1_GetITStatus(UART1_IT_RXNE&nbsp;)!=&nbsp;RESET)&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//等待终端输入\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while(!UART1_SR_RXNE);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//49的意思=sizeof(g_recvBuf.cache)-1\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(g_recvBuf.len&gt;49)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g_recvBuf.len=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g_recvBuf.cache[g_recvBuf.len]=UART1_ReceiveData8();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g_recvBuf.len++;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while(UART1_GetFlagStatus(UART1_FLAG_TXE)&nbsp;==&nbsp;0);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UART1_SendData8(UART1_ReceiveData8());\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;}\r\n#endif&nbsp;/*STM8S208&nbsp;or&nbsp;STM8S207&nbsp;or&nbsp;STM8S103&nbsp;or&nbsp;STM8S903&nbsp;or&nbsp;STM8AF62Ax&nbsp;or&nbsp;STM8AF52Ax&nbsp;*/</pre>','2015-07-26 04:19:53','2015-07-26 17:33:43'),(650,'192.168.2.200',2,'DLL动态加载方法','<p><strong>类函数指针定义</strong></p><pre class=\"brush:cpp;toolbar:false\">class&nbsp;A\r\n{};\r\n\r\ntypedef&nbsp;void&nbsp;(A::*AFun)(void);\r\ntypedef&nbsp;int&nbsp;(A::*BFun)(int,&nbsp;int);\r\ntypedef&nbsp;void&nbsp;(A::*CFun)(double);\r\n\r\nAFun&nbsp;pfun=A::yes();\r\nA&nbsp;a;\r\n(a.*pfun)();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//调用</pre><p><br/></p><p><strong>普通函数指针定义</strong></p><pre class=\"brush:cpp;toolbar:false\">typedef&nbsp;void&nbsp;(_stdcall&nbsp;*&nbsp;CKShow)(int&nbsp;x,int&nbsp;y);</pre><p><br/></p><p><br/></p><p>////////////////////////////////////////////////////////////////////////////////////</p><p><strong>DLL函数导出声明</strong></p><pre class=\"brush:cpp;toolbar:false\">//导出API函数时使用下面的宏定义\r\n#ifndef&nbsp;DLLEXPORT_API\r\n&nbsp;#define&nbsp;DLLEXPORT_API&nbsp;extern&nbsp;&quot;C&quot;&nbsp;__declspec(dllexport)&nbsp;\r\n#endif\r\n\r\n//导出类时使用下面的宏定义\r\n#ifndef&nbsp;DLLEXPORT_CLASS\r\n&nbsp;#define&nbsp;DLLEXPORT_CLASS&nbsp;__declspec(dllexport)&nbsp;\r\n#endif\r\n\r\nDLLEXPORT_API&nbsp;VOID&nbsp;WINAPI&nbsp;ckShow(int&nbsp;top,int&nbsp;left);</pre><p><br/></p><p>////////////////////////////////////////////////////////////////////////////////////</p><p>注:</p><p>在工程.def文件内加入函数名称</p><p>例如</p><pre class=\"brush:cpp;toolbar:false\">LIBRARY\r\nEXPORTS\r\n&nbsp;&nbsp;&nbsp;&nbsp;ckShow</pre><p><br/></p><p>////////////////////////////////////////////////////////////////////////////////////</p><p><strong>调用DLL函数</strong></p><pre class=\"brush:cpp;toolbar:false\">HMODULE&nbsp;hInst=LoadLibrary(DLL路径);//动态加载Dll\r\nif(NULL==hInst)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;_stprintf(buf,_T(&quot;加载%s失败&quot;),tmpBuf);\r\nMessageBox(buf,_T(&quot;DLL错误&quot;));\r\nreturn;\r\n}\r\nCKShow&nbsp;ckFormShow=(CKShow)GetProcAddress(hInst,&quot;ckShow&quot;);//打开子窗体\r\nFreeLibrary(hInst);//释放Dll后不能再调用函数</pre><p><br/></p>','2015-07-29 12:48:42','2015-07-29 21:18:53'),(651,'192.168.3.1',38,'SOP23封装','<p><img src=\"/my/notes/js/ue/php/upload_img/20150808/14390099778953.jpg\" style=\"float:none;\" title=\"4336140.jpg\"/></p><p><img src=\"/my/notes/js/ue/php/upload_img/20150808/14390108412759.gif\" title=\"20080105_ee5851ac8ae6897aa846f6w2eD7dwosM.gif\"/></p><p><br/></p>','2015-08-08 05:14:26','2015-08-08 13:20:12'),(652,'122.13.49.105',26,'STM8S103Fxx电路图','<p><img title=\"STM8S103Fxx电路图.jpg\" src=\"/my/notes/js/ue/php/upload_img/20150808/14390127086408.jpg\"/></p>','2015-08-08 05:45:13','2015-12-30 17:00:01'),(653,'192.168.3.1',18,'Maximum execution time of 30 seconds exceeded','<div class=\"line number1 index0 alt2\" style=\"line-height: 14.6666660308838px; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace; font-size: 13.3333330154419px; padding: 0px 1em !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: inherit !important; white-space: pre !important; background: none white !important;\"><code class=\"php plain\" style=\"padding: 0px !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important; font-size: 1em !important; min-height: inherit !important; background: none !important;\">今天给朋友配置wamp的时候，刚刚搭建好，打开一个本地站就出现这个错误，</code></div><div class=\"line number2 index1 alt1\" style=\"line-height: 14.6666660308838px; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace; font-size: 13.3333330154419px; padding: 0px 1em !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: inherit !important; white-space: pre !important; background: none white !important;\"><code class=\"php plain\" style=\"padding: 0px !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important; font-size: 1em !important; min-height: inherit !important; background: none !important;\">Maximum execution time of 30 seconds exceeded，今天把这个错误的解决方案总结一下：</code></div><p style=\"line-height: 14.6666660308838px; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace; font-size: 13.3333330154419px; padding: 0px 1em !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: inherit !important; white-space: pre !important; background: none white !important;\"><code class=\"php plain\" style=\"padding: 0px !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important; font-size: 1em !important; min-height: inherit !important; background: none !important;\">简单总结一下解决办法：</code></p><p style=\"line-height: 14.6666660308838px; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace; font-size: 13.3333330154419px; padding: 0px 1em !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: inherit !important; white-space: pre !important; background: none white !important;\"><code class=\"php plain\" style=\"padding: 0px !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important; font-size: 1em !important; min-height: inherit !important; background: none !important;\"><br/></code></p><div class=\"line number4 index3 alt1\" style=\"line-height: 14.6666660308838px; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace; font-size: 13.3333330154419px; padding: 0px 1em !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: inherit !important; white-space: pre !important; background: none white !important;\"><code class=\"php plain\" style=\"padding: 0px !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important; font-size: 1em !important; min-height: inherit !important; background: none !important;\">报错一：内存超限，具体报错语句忘了，简单说一下解决办法。</code></div><div class=\"line number5 index4 alt2\" style=\"line-height: 14.6666660308838px; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace; font-size: 13.3333330154419px; padding: 0px 1em !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: inherit !important; white-space: pre !important; background: none white !important;\"><code class=\"php plain\" style=\"padding: 0px !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important; font-size: 1em !important; min-height: inherit !important; background: none !important;\">利用循环分批导入；</code></div><div class=\"line number6 index5 alt1\" style=\"line-height: 14.6666660308838px; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace; font-size: 13.3333330154419px; padding: 0px 1em !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: inherit !important; white-space: pre !important; background: none white !important;\"><code class=\"php plain\" style=\"padding: 0px !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important; font-size: 1em !important; min-height: inherit !important; background: none !important;\">每个循环内部开始处使用sleep(5);语句，做延迟执行，防止服务器内存同一时间占用过多，里面数字据情况修改；</code></div><div class=\"line number7 index6 alt2\" style=\"line-height: 14.6666660308838px; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace; font-size: 13.3333330154419px; padding: 0px 1em !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: inherit !important; white-space: pre !important; background: none white !important;\"><code class=\"php plain\" style=\"padding: 0px !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important; font-size: 1em !important; min-height: inherit !important; background: none !important;\">每个循环内部结束地方使用 ob_flush();刷新输出缓冲</code></div><div class=\"line number8 index7 alt1\" style=\"line-height: 14.6666660308838px; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace; font-size: 13.3333330154419px; padding: 0px 1em !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: inherit !important; white-space: pre !important; background: none white !important;\"><code class=\"php functions\" style=\"padding: 0px !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important; font-size: 1em !important; min-height: inherit !important; color: rgb(255, 20, 147) !important; background: none !important;\">flush</code><code class=\"php plain\" style=\"padding: 0px !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important; font-size: 1em !important; min-height: inherit !important; background: none !important;\">();将当前为止程序的所有输出发送到用户的浏览器</code></div><p style=\"line-height: 14.6666660308838px; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace; font-size: 13.3333330154419px; padding: 0px 1em !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: inherit !important; white-space: pre !important; background: none white !important;\"><code class=\"php plain\" style=\"padding: 0px !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important; font-size: 1em !important; min-height: inherit !important; background: none !important;\">两者必须同时使用来刷新输出缓冲</code></p><p style=\"line-height: 14.6666660308838px; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace; font-size: 13.3333330154419px; padding: 0px 1em !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: inherit !important; white-space: pre !important; background: none white !important;\"><code class=\"php plain\" style=\"padding: 0px !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important; font-size: 1em !important; min-height: inherit !important; background: none !important;\"><br/></code></p><div class=\"line number10 index9 alt1\" style=\"line-height: 14.6666660308838px; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace; font-size: 13.3333330154419px; padding: 0px 1em !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: inherit !important; white-space: pre !important; background: none white !important;\"><code class=\"php plain\" style=\"padding: 0px !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important; font-size: 1em !important; min-height: inherit !important; background: none !important;\">报错二：30秒运行超时的错误（Maximum execution time of 30 seconds exceeded）</code></div><p style=\"line-height: 14.6666660308838px; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace; font-size: 13.3333330154419px; padding: 0px 1em !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: inherit !important; white-space: pre !important; background: none white !important;\"><code class=\"php plain\" style=\"padding: 0px !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important; font-size: 1em !important; min-height: inherit !important; background: none !important;\">解决办法：</code></p><p style=\"line-height: 14.6666660308838px; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace; font-size: 13.3333330154419px; padding: 0px 1em !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: inherit !important; white-space: pre !important; background: none white !important;\"><code class=\"php plain\" style=\"padding: 0px !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important; font-size: 1em !important; min-height: inherit !important; background: none !important;\"><br/></code></p><p style=\"line-height: 14.6666660308838px; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace; font-size: 13.3333330154419px; padding: 0px 1em !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: inherit !important; white-space: pre !important; background: none white !important;\"><code class=\"php plain\" style=\"padding: 0px !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important; font-size: 1em !important; min-height: inherit !important; background: none !important;\"><br/></code></p><div class=\"line number12 index11 alt1\" style=\"line-height: 14.6666660308838px; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace; font-size: 13.3333330154419px; padding: 0px 1em !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: inherit !important; white-space: pre !important; background: none white !important;\"><code class=\"php plain\" style=\"padding: 0px !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important; font-size: 1em !important; min-height: inherit !important; background: none !important;\">方法一，修改php.ini文件</code></div><div class=\"line number13 index12 alt2\" style=\"line-height: 14.6666660308838px; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace; font-size: 13.3333330154419px; padding: 0px 1em !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: inherit !important; white-space: pre !important; background: none white !important;\"><code class=\"php plain\" style=\"padding: 0px !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important; font-size: 1em !important; min-height: inherit !important; background: none !important;\">max_execution_time = 30; Maximum execution time of each script, in seconds</code></div><p style=\"line-height: 14.6666660308838px; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace; font-size: 13.3333330154419px; padding: 0px 1em !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: inherit !important; white-space: pre !important; background: none white !important;\"><code class=\"php plain\" style=\"padding: 0px !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important; font-size: 1em !important; min-height: inherit !important; background: none !important;\">把它设置成需要的值就可以了。如果设置成0的话，就是永不过期。</code></p><p style=\"line-height: 14.6666660308838px; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace; font-size: 13.3333330154419px; padding: 0px 1em !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: inherit !important; white-space: pre !important; background: none white !important;\"><code class=\"php plain\" style=\"padding: 0px !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important; font-size: 1em !important; min-height: inherit !important; background: none !important;\"><br/></code></p><p style=\"line-height: 14.6666660308838px; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace; font-size: 13.3333330154419px; padding: 0px 1em !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: inherit !important; white-space: pre !important; background: none white !important;\"><code class=\"php plain\" style=\"padding: 0px !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important; font-size: 1em !important; min-height: inherit !important; background: none !important;\"><br/></code></p><div class=\"line number15 index14 alt2\" style=\"line-height: 14.6666660308838px; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace; font-size: 13.3333330154419px; padding: 0px 1em !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: inherit !important; white-space: pre !important; background: none white !important;\"><code class=\"php plain\" style=\"padding: 0px !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important; font-size: 1em !important; min-height: inherit !important; background: none !important;\">方法二，修改php执行文件</code></div><div class=\"line number16 index15 alt1\" style=\"line-height: 14.6666660308838px; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace; font-size: 13.3333330154419px; padding: 0px 1em !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: inherit !important; white-space: pre !important; background: none white !important;\"><code class=\"php plain\" style=\"padding: 0px !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important; font-size: 1em !important; min-height: inherit !important; background: none !important;\">加上</code></div><div class=\"line number17 index16 alt2\" style=\"line-height: 14.6666660308838px; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace; font-size: 13.3333330154419px; padding: 0px 1em !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: inherit !important; white-space: pre !important; background: none white !important;\"><code class=\"php plain\" style=\"padding: 0px !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important; font-size: 1em !important; min-height: inherit !important; background: none !important;\">&lt;?</code></div><div class=\"line number18 index17 alt1\" style=\"line-height: 14.6666660308838px; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace; font-size: 13.3333330154419px; padding: 0px 1em !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: inherit !important; white-space: pre !important; background: none white !important;\"><code class=\"php plain\" style=\"padding: 0px !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important; font-size: 1em !important; min-height: inherit !important; background: none !important;\">set_time_limit(0);</code></div><div class=\"line number19 index18 alt2\" style=\"line-height: 14.6666660308838px; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace; font-size: 13.3333330154419px; padding: 0px 1em !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: inherit !important; white-space: pre !important; background: none white !important;\"><code class=\"php plain\" style=\"padding: 0px !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important; font-size: 1em !important; min-height: inherit !important; background: none !important;\">?&gt;</code></div><div class=\"line number20 index19 alt1\" style=\"line-height: 14.6666660308838px; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace; font-size: 13.3333330154419px; padding: 0px 1em !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: inherit !important; white-space: pre !important; background: none white !important;\"><code class=\"php plain\" style=\"padding: 0px !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important; font-size: 1em !important; min-height: inherit !important; background: none !important;\">max_execution_time = 30; Maximum execution time of each script, in seconds</code></div><div class=\"line number21 index20 alt2\" style=\"line-height: 14.6666660308838px; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace; font-size: 13.3333330154419px; padding: 0px 1em !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: inherit !important; white-space: pre !important; background: none white !important;\"><code class=\"php plain\" style=\"padding: 0px !important; margin: 0px !important; border-radius: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; height: auto !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace !important; font-size: 1em !important; min-height: inherit !important; background: none !important;\">把它设置成需要的值就可以了。如果设置成0的话，就是永不过期。</code></div><p><br/></p>','2015-08-09 12:16:53','2015-08-09 20:17:30'),(654,'192.168.3.1',41,'倍压整流','<p><span style=\"font-family: &#39;Microsoft YaHei&#39;, SimHei, Verdana; font-size: 24px; line-height: 24px;  background-color: rgb(255, 255, 255);\">二倍压</span></p><p><br/></p><p>电路由变压器B、两个整流 二极管D1、D2及两个电容器C1、C2组成。其工作原理如下：</p><p><img src=\"/my/notes/js/ue/php/upload_img/20150811/14393007043698.jpg\" title=\"f31fbe096b63f624e266b2008744ebf81a4ca3fe.jpg\"/><span class=\"description\" style=\"display: block; color: rgb(85, 85, 85); font-size: 12px; font-family: 宋体; word-wrap: break-word; word-break: break-all; line-height: 15px; padding: 8px 7px; min-height: 12px; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(224, 224, 224);\">二倍压整流电路</span></p><p>e2正半周（上正下负）时，二极管D1导通，D2截止，电流经过D1对C1充电，将电容C1上的电压充到接近e2的峰值√2E2 ，并基本保持不变。e2为负半周（上负下正）时，二极管D2导通，D1截止。此时，C1上的电压Uc1=√2E2与电源电压e2串联相加，电流经D2对电容C2充电，充电电压Uc2=e2峰值+1．4E2≈ 2√2E2。如此反复充电，C2上的电压就基本上是2√2E2 了。它的值是变压器电级电压的二倍，所以叫做二倍压整流电路。</p><p>在实际电路中，负载上的电压Usc=2X1.4E2 。整流二极管D1和D2所承受的最高反向电压均为Usc 。电容器上的直流电压Uc1=E2 ，Uc2=2E2 。可以据此设计电路和选择元件。</p><p><br/></p><p>-------------------------------------------------------------------------------------</p><p><br/></p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, SimHei, Verdana; font-size: 24px; line-height: 24px;  background-color: rgb(255, 255, 255);\">三倍压</span></p><p><br/></p><p>在二倍压整流电路的基础上，再加一个整流二极管D3和－个滤波电容器C3，就可以组成三倍压整流电路，三倍压整流电路的工作原理是：在e2的第一个半周和第二个半周与二倍压整流电路相同，即C1上的电压被充电到接近√2E2 ，C2上的电压被充电到接近2√2E2 。当第三个半周时，D1、D3导通，D2截止，电流除经D1给C1充电外，又经D3给C3充电， C3上的充电电压Uc3=e2峰值+Uc2一Uc1≈2√2E2 这样，在RFZ，上就可以输出直流电压Usc=Uc1i+Uc3≈3√2E2，实现三倍压整流。</p><p><img src=\"/my/notes/js/ue/php/upload_img/20150811/14393007418558.jpg\" title=\"77094b36acaf2edd1acbc2ea8d1001e9390193ff.jpg\"/><span class=\"description\" style=\"display: block; color: rgb(85, 85, 85); font-size: 12px; font-family: 宋体; word-wrap: break-word; word-break: break-all; line-height: 15px; padding: 8px 7px; min-height: 12px; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(224, 224, 224);\">三倍压整流电路</span></p><p>在实际电路中，负载上的电压Ufz≈3x1.4E2整流二极管D3所承受的最高反向电压也是 电容器上的直流电压为3√2 E2。</p><p>照这样办法，增加多个二极管和相同数量的电容器，既可以组成多倍压整流电路，见图三倍压整流电路。当n为奇数时，输出电压从上端取出：当n为偶数时，输出电压从下端取出。</p><p>必须说明，倍压整流电路只能在负载较轻（即Rfz较大。输出电流较小）的情况下工作，否则输出电压会降低。倍压越高的整流电路，这种因负载电流增大影响输出电压下降的情况越明显。</p><p>用于倍压整流电路的二极管，其最高反向电压应大于 。可用高压硅整流堆，其系列型号为2DL。如2DL2/0．2，表示最高反向电压为2千伏，整流电流平均值为200毫安。倍压整流电路使用的电容器容量比较小，不用电解电容器。电容器的耐压值要大于1．5x ，在使用上才安全可靠。</p><p><span style=\"font-family: &#39;Microsoft YaHei&#39;, SimHei, Verdana; font-size: 24px; line-height: 24px;  background-color: rgb(255, 255, 255);\"><br/></span><br/></p>','2015-08-11 13:45:56','2015-08-11 21:46:37'),(655,'192.168.2.200',23,'json_parse_state.js--json解析','<pre class=\"brush:html;toolbar:false\">/*\r\n&nbsp;&nbsp;&nbsp;&nbsp;json_parse_state.js\r\n&nbsp;&nbsp;&nbsp;&nbsp;2015-05-02\r\n&nbsp;Example:\r\n&nbsp;script&nbsp;src=&quot;json_parse_state.js&quot;&gt;&lt;/script&gt;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&lt;script&nbsp;language=&quot;javascript&quot;&gt;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;t&nbsp;=&nbsp;json_parse(&#39;{&quot;name&quot;:123}&#39;);&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert(t.name);\r\n&nbsp;&nbsp;&nbsp;&lt;/script&gt;\r\n*/\r\n&nbsp;\r\n/*jslint&nbsp;for&nbsp;*/\r\n/*property\r\n&nbsp;&nbsp;&nbsp;&nbsp;acomma,&nbsp;avalue,&nbsp;b,&nbsp;call,&nbsp;colon,&nbsp;container,&nbsp;exec,&nbsp;f,&nbsp;false,&nbsp;firstavalue,\r\n&nbsp;&nbsp;&nbsp;&nbsp;firstokey,&nbsp;fromCharCode,&nbsp;go,&nbsp;hasOwnProperty,&nbsp;key,&nbsp;length,&nbsp;n,&nbsp;null,&nbsp;ocomma,\r\n&nbsp;&nbsp;&nbsp;&nbsp;okey,&nbsp;ovalue,&nbsp;pop,&nbsp;prototype,&nbsp;push,&nbsp;r,&nbsp;replace,&nbsp;slice,&nbsp;state,&nbsp;t,&nbsp;test,\r\n&nbsp;&nbsp;&nbsp;&nbsp;true\r\n*/\r\nvar&nbsp;json_parse&nbsp;=&nbsp;(function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&quot;use&nbsp;strict&quot;;\r\n//&nbsp;This&nbsp;function&nbsp;creates&nbsp;a&nbsp;JSON&nbsp;parse&nbsp;function&nbsp;that&nbsp;uses&nbsp;a&nbsp;state&nbsp;machine&nbsp;rather\r\n//&nbsp;than&nbsp;the&nbsp;dangerous&nbsp;eval&nbsp;function&nbsp;to&nbsp;parse&nbsp;a&nbsp;JSON&nbsp;text.\r\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;state,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;The&nbsp;state&nbsp;of&nbsp;the&nbsp;parser,&nbsp;one&nbsp;of\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&#39;go&#39;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;starting&nbsp;state\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&#39;ok&#39;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;final,&nbsp;accepting&nbsp;state\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&#39;firstokey&#39;&nbsp;&nbsp;Ready&nbsp;for&nbsp;the&nbsp;first&nbsp;key&nbsp;of&nbsp;the&nbsp;object&nbsp;or\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;closing&nbsp;of&nbsp;an&nbsp;empty&nbsp;object\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&#39;okey&#39;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ready&nbsp;for&nbsp;the&nbsp;next&nbsp;key&nbsp;of&nbsp;the&nbsp;object\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&#39;colon&#39;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ready&nbsp;for&nbsp;the&nbsp;colon\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&#39;ovalue&#39;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ready&nbsp;for&nbsp;the&nbsp;value&nbsp;half&nbsp;of&nbsp;a&nbsp;key/value&nbsp;pair\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&#39;ocomma&#39;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ready&nbsp;for&nbsp;a&nbsp;comma&nbsp;or&nbsp;closing&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&#39;firstavalue&#39;&nbsp;Ready&nbsp;for&nbsp;the&nbsp;first&nbsp;value&nbsp;of&nbsp;an&nbsp;array&nbsp;or\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;an&nbsp;empty&nbsp;array\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&#39;avalue&#39;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ready&nbsp;for&nbsp;the&nbsp;next&nbsp;value&nbsp;of&nbsp;an&nbsp;array\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&#39;acomma&#39;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ready&nbsp;for&nbsp;a&nbsp;comma&nbsp;or&nbsp;closing&nbsp;]\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stack,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;The&nbsp;stack,&nbsp;for&nbsp;controlling&nbsp;nesting.\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;container,&nbsp;&nbsp;//&nbsp;The&nbsp;current&nbsp;container&nbsp;object&nbsp;or&nbsp;array\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;The&nbsp;current&nbsp;key\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;The&nbsp;current&nbsp;value\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;escapes&nbsp;=&nbsp;{&nbsp;//&nbsp;Escapement&nbsp;translation&nbsp;table\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;&#39;:&nbsp;&#39;&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;&quot;&#39;:&nbsp;&#39;&quot;&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;/&#39;:&nbsp;&#39;/&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;t&#39;:&nbsp;&#39;	&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;n&#39;:&nbsp;&#39;\r\n&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;r&#39;:&nbsp;&#39;\r\n&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;f&#39;:&nbsp;&#39;f&#39;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;b&#39;:&nbsp;&#39;&#39;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;=&nbsp;{&nbsp;&nbsp;&nbsp;//&nbsp;The&nbsp;actions&nbsp;for&nbsp;string&nbsp;tokens\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;go:&nbsp;function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;&#39;ok&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;firstokey:&nbsp;function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key&nbsp;=&nbsp;value;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;&#39;colon&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;okey:&nbsp;function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key&nbsp;=&nbsp;value;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;&#39;colon&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ovalue:&nbsp;function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;&#39;ocomma&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;firstavalue:&nbsp;function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;&#39;acomma&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;avalue:&nbsp;function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;&#39;acomma&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number&nbsp;=&nbsp;{&nbsp;&nbsp;&nbsp;//&nbsp;The&nbsp;actions&nbsp;for&nbsp;number&nbsp;tokens\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;go:&nbsp;function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;&#39;ok&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ovalue:&nbsp;function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;&#39;ocomma&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;firstavalue:&nbsp;function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;&#39;acomma&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;avalue:&nbsp;function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;&#39;acomma&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;action&nbsp;=&nbsp;{\r\n//&nbsp;The&nbsp;action&nbsp;table&nbsp;describes&nbsp;the&nbsp;behavior&nbsp;of&nbsp;the&nbsp;machine.&nbsp;It&nbsp;contains&nbsp;an\r\n//&nbsp;object&nbsp;for&nbsp;each&nbsp;token.&nbsp;Each&nbsp;object&nbsp;contains&nbsp;a&nbsp;method&nbsp;that&nbsp;is&nbsp;called&nbsp;when\r\n//&nbsp;a&nbsp;token&nbsp;is&nbsp;matched&nbsp;in&nbsp;a&nbsp;state.&nbsp;An&nbsp;object&nbsp;will&nbsp;lack&nbsp;a&nbsp;method&nbsp;for&nbsp;illegal\r\n//&nbsp;states.\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;{&#39;:&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;go:&nbsp;function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stack.push({state:&nbsp;&#39;ok&#39;});\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;container&nbsp;=&nbsp;{};\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;&#39;firstokey&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ovalue:&nbsp;function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stack.push({container:&nbsp;container,&nbsp;state:&nbsp;&#39;ocomma&#39;,&nbsp;key:&nbsp;key});\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;container&nbsp;=&nbsp;{};\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;&#39;firstokey&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;firstavalue:&nbsp;function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stack.push({container:&nbsp;container,&nbsp;state:&nbsp;&#39;acomma&#39;});\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;container&nbsp;=&nbsp;{};\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;&#39;firstokey&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;avalue:&nbsp;function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stack.push({container:&nbsp;container,&nbsp;state:&nbsp;&#39;acomma&#39;});\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;container&nbsp;=&nbsp;{};\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;&#39;firstokey&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;}&#39;:&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;firstokey:&nbsp;function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;pop&nbsp;=&nbsp;stack.pop();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;container;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;container&nbsp;=&nbsp;pop.container;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key&nbsp;=&nbsp;pop.key;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;pop.state;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ocomma:&nbsp;function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;pop&nbsp;=&nbsp;stack.pop();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;container[key]&nbsp;=&nbsp;value;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;container;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;container&nbsp;=&nbsp;pop.container;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key&nbsp;=&nbsp;pop.key;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;pop.state;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;[&#39;:&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;go:&nbsp;function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stack.push({state:&nbsp;&#39;ok&#39;});\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;container&nbsp;=&nbsp;[];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;&#39;firstavalue&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ovalue:&nbsp;function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stack.push({container:&nbsp;container,&nbsp;state:&nbsp;&#39;ocomma&#39;,&nbsp;key:&nbsp;key});\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;container&nbsp;=&nbsp;[];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;&#39;firstavalue&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;firstavalue:&nbsp;function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stack.push({container:&nbsp;container,&nbsp;state:&nbsp;&#39;acomma&#39;});\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;container&nbsp;=&nbsp;[];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;&#39;firstavalue&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;avalue:&nbsp;function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stack.push({container:&nbsp;container,&nbsp;state:&nbsp;&#39;acomma&#39;});\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;container&nbsp;=&nbsp;[];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;&#39;firstavalue&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;]&#39;:&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;firstavalue:&nbsp;function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;pop&nbsp;=&nbsp;stack.pop();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;container;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;container&nbsp;=&nbsp;pop.container;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key&nbsp;=&nbsp;pop.key;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;pop.state;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;acomma:&nbsp;function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;pop&nbsp;=&nbsp;stack.pop();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;container.push(value);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;container;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;container&nbsp;=&nbsp;pop.container;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key&nbsp;=&nbsp;pop.key;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;pop.state;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;:&#39;:&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colon:&nbsp;function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Object.hasOwnProperty.call(container,&nbsp;key))&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;SyntaxError(&#39;Duplicate&nbsp;key&nbsp;&quot;&#39;&nbsp;+&nbsp;key&nbsp;+&nbsp;&#39;&quot;&#39;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;&#39;ovalue&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;,&#39;:&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ocomma:&nbsp;function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;container[key]&nbsp;=&nbsp;value;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;&#39;okey&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;acomma:&nbsp;function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;container.push(value);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;&#39;avalue&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;true&#39;:&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;go:&nbsp;function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;true;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;&#39;ok&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ovalue:&nbsp;function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;true;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;&#39;ocomma&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;firstavalue:&nbsp;function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;true;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;&#39;acomma&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;avalue:&nbsp;function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;true;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;&#39;acomma&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;false&#39;:&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;go:&nbsp;function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;false;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;&#39;ok&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ovalue:&nbsp;function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;false;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;&#39;ocomma&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;firstavalue:&nbsp;function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;false;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;&#39;acomma&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;avalue:&nbsp;function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;false;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;&#39;acomma&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;null&#39;:&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;go:&nbsp;function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;null;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;&#39;ok&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ovalue:&nbsp;function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;null;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;&#39;ocomma&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;firstavalue:&nbsp;function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;null;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;&#39;acomma&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;avalue:&nbsp;function&nbsp;()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;null;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;&#39;acomma&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};\r\n&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;debackslashify(text)&nbsp;{\r\n//&nbsp;Remove&nbsp;and&nbsp;replace&nbsp;any&nbsp;backslash&nbsp;escapement.\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;text.replace(/(?:u(.{4})|([^u]))/g,&nbsp;function&nbsp;(ignore,&nbsp;b,&nbsp;c)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;b\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;?&nbsp;String.fromCharCode(parseInt(b,&nbsp;16))\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;escapes[c];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;function&nbsp;(source,&nbsp;reviver)&nbsp;{\r\n//&nbsp;A&nbsp;regular&nbsp;expression&nbsp;is&nbsp;used&nbsp;to&nbsp;extract&nbsp;tokens&nbsp;from&nbsp;the&nbsp;JSON&nbsp;text.\r\n//&nbsp;The&nbsp;extraction&nbsp;process&nbsp;is&nbsp;cautious.\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;result,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tx&nbsp;=&nbsp;/^[u0020	\r\n\r\n]*(?:([,:[]{}]|true|false|null)|(-?d+(?:.d*)?(?:[eE][+-]?d+)?)|&quot;((?:[^\r\n	&quot;]|(?:[&quot;/trnfb]|u[0-9a-fA-F]{4}))*)&quot;)/;\r\n//&nbsp;Set&nbsp;the&nbsp;starting&nbsp;state.\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;&#39;go&#39;;\r\n//&nbsp;The&nbsp;stack&nbsp;records&nbsp;the&nbsp;container,&nbsp;key,&nbsp;and&nbsp;state&nbsp;for&nbsp;each&nbsp;object&nbsp;or&nbsp;array\r\n//&nbsp;that&nbsp;contains&nbsp;another&nbsp;object&nbsp;or&nbsp;array&nbsp;while&nbsp;processing&nbsp;nested&nbsp;structures.\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stack&nbsp;=&nbsp;[];\r\n//&nbsp;If&nbsp;any&nbsp;error&nbsp;occurs,&nbsp;we&nbsp;will&nbsp;catch&nbsp;it&nbsp;and&nbsp;ultimately&nbsp;throw&nbsp;a&nbsp;syntax&nbsp;error.\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try&nbsp;{\r\n//&nbsp;For&nbsp;each&nbsp;token...\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(true)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;tx.exec(source);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!result)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n//&nbsp;result&nbsp;is&nbsp;the&nbsp;result&nbsp;array&nbsp;from&nbsp;matching&nbsp;the&nbsp;tokenizing&nbsp;regular&nbsp;expression.\r\n//&nbsp;&nbsp;result[0]&nbsp;contains&nbsp;everything&nbsp;that&nbsp;matched,&nbsp;including&nbsp;any&nbsp;initial&nbsp;whitespace.\r\n//&nbsp;&nbsp;result[1]&nbsp;contains&nbsp;any&nbsp;punctuation&nbsp;that&nbsp;was&nbsp;matched,&nbsp;or&nbsp;true,&nbsp;false,&nbsp;or&nbsp;null.\r\n//&nbsp;&nbsp;result[2]&nbsp;contains&nbsp;a&nbsp;matched&nbsp;number,&nbsp;still&nbsp;in&nbsp;string&nbsp;form.\r\n//&nbsp;&nbsp;result[3]&nbsp;contains&nbsp;a&nbsp;matched&nbsp;string,&nbsp;without&nbsp;quotes&nbsp;but&nbsp;with&nbsp;escapement.\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(result[1])&nbsp;{\r\n//&nbsp;Token:&nbsp;Execute&nbsp;the&nbsp;action&nbsp;for&nbsp;this&nbsp;state&nbsp;and&nbsp;token.\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;action[result[1]][state]();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;if&nbsp;(result[2])&nbsp;{\r\n//&nbsp;Number&nbsp;token:&nbsp;Convert&nbsp;the&nbsp;number&nbsp;string&nbsp;into&nbsp;a&nbsp;number&nbsp;value&nbsp;and&nbsp;execute\r\n//&nbsp;the&nbsp;action&nbsp;for&nbsp;this&nbsp;state&nbsp;and&nbsp;number.\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;+result[2];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number[state]();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{\r\n//&nbsp;String&nbsp;token:&nbsp;Replace&nbsp;the&nbsp;escapement&nbsp;sequences&nbsp;and&nbsp;execute&nbsp;the&nbsp;action&nbsp;for\r\n//&nbsp;this&nbsp;state&nbsp;and&nbsp;string.\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;debackslashify(result[3]);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string[state]();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n//&nbsp;Remove&nbsp;the&nbsp;token&nbsp;from&nbsp;the&nbsp;string.&nbsp;The&nbsp;loop&nbsp;will&nbsp;continue&nbsp;as&nbsp;long&nbsp;as&nbsp;there\r\n//&nbsp;are&nbsp;tokens.&nbsp;This&nbsp;is&nbsp;a&nbsp;slow&nbsp;process,&nbsp;but&nbsp;it&nbsp;allows&nbsp;the&nbsp;use&nbsp;of&nbsp;^&nbsp;matching,\r\n//&nbsp;which&nbsp;assures&nbsp;that&nbsp;no&nbsp;illegal&nbsp;tokens&nbsp;slip&nbsp;through.\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source&nbsp;=&nbsp;source.slice(result[0].length);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n//&nbsp;If&nbsp;we&nbsp;find&nbsp;a&nbsp;state/token&nbsp;combination&nbsp;that&nbsp;is&nbsp;illegal,&nbsp;then&nbsp;the&nbsp;action&nbsp;will\r\n//&nbsp;cause&nbsp;an&nbsp;error.&nbsp;We&nbsp;handle&nbsp;the&nbsp;error&nbsp;by&nbsp;simply&nbsp;changing&nbsp;the&nbsp;state.\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;catch&nbsp;(e)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;=&nbsp;e;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n//&nbsp;The&nbsp;parsing&nbsp;is&nbsp;finished.&nbsp;If&nbsp;we&nbsp;are&nbsp;not&nbsp;in&nbsp;the&nbsp;final&nbsp;&#39;ok&#39;&nbsp;state,&nbsp;or&nbsp;if&nbsp;the\r\n//&nbsp;remaining&nbsp;source&nbsp;contains&nbsp;anything&nbsp;except&nbsp;whitespace,&nbsp;then&nbsp;we&nbsp;did&nbsp;not&nbsp;have\r\n//a&nbsp;well-formed&nbsp;JSON&nbsp;text.\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(state&nbsp;!==&nbsp;&#39;ok&#39;&nbsp;||&nbsp;(/[^u0020	\r\n\r\n]/.test(source)))&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;state&nbsp;instanceof&nbsp;SyntaxError\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;?&nbsp;state\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;new&nbsp;SyntaxError(&#39;JSON&#39;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n//&nbsp;If&nbsp;there&nbsp;is&nbsp;a&nbsp;reviver&nbsp;function,&nbsp;we&nbsp;recursively&nbsp;walk&nbsp;the&nbsp;new&nbsp;structure,\r\n//&nbsp;passing&nbsp;each&nbsp;name/value&nbsp;pair&nbsp;to&nbsp;the&nbsp;reviver&nbsp;function&nbsp;for&nbsp;possible\r\n//&nbsp;transformation,&nbsp;starting&nbsp;with&nbsp;a&nbsp;temporary&nbsp;root&nbsp;object&nbsp;that&nbsp;holds&nbsp;the&nbsp;current\r\n//&nbsp;value&nbsp;in&nbsp;an&nbsp;empty&nbsp;key.&nbsp;If&nbsp;there&nbsp;is&nbsp;not&nbsp;a&nbsp;reviver&nbsp;function,&nbsp;we&nbsp;simply&nbsp;return\r\n//&nbsp;that&nbsp;value.\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;typeof&nbsp;reviver&nbsp;===&nbsp;&#39;function&#39;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;?&nbsp;(function&nbsp;walk(holder,&nbsp;key)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;k,&nbsp;v,&nbsp;value&nbsp;=&nbsp;holder[key];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(value&nbsp;&amp;&amp;&nbsp;typeof&nbsp;value&nbsp;===&nbsp;&#39;object&#39;)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(k&nbsp;in&nbsp;value)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Object.prototype.hasOwnProperty.call(value,&nbsp;k))&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v&nbsp;=&nbsp;walk(value,&nbsp;k);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(v&nbsp;!==&nbsp;undefined)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value[k]&nbsp;=&nbsp;v;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delete&nbsp;value[k];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;reviver.call(holder,&nbsp;key,&nbsp;value);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}({&#39;&#39;:&nbsp;value},&nbsp;&#39;&#39;))\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;value;\r\n&nbsp;&nbsp;&nbsp;&nbsp;};\r\n}());</pre><p>&nbsp;</p>','2015-09-01 02:57:09','2015-09-01 10:57:41'),(656,'192.168.2.200',41,'AM调幅发射','<p><img src=\"/my/notes/js/ue/php/upload_img/20150904/14413745213185.jpg\" title=\"catch.jpg\"/></p>','2015-09-04 13:48:49','2015-09-04 21:50:01'),(657,'192.168.6.1',67,'ios ssh默认密码','<p><span style=\"color: rgb(255, 0, 0); font-family: &#39;Hiragino Sans GB W3&#39;, &#39;Hiragino Sans GB&#39;, Arial, Helvetica, simsun, u5b8bu4f53; font-size: large; line-height: 31.5px;  background-color: rgb(238, 218, 244);\">ssh root@xxxx</span></p><p><span style=\"color: rgb(255, 0, 0); font-family: &#39;Hiragino Sans GB W3&#39;, &#39;Hiragino Sans GB&#39;, Arial, Helvetica, simsun, u5b8bu4f53; font-size: large; line-height: 31.5px;  background-color: rgb(238, 218, 244);\"><br/></span></p><p><span style=\"color: rgb(255, 0, 0); font-family: &#39;Hiragino Sans GB W3&#39;, &#39;Hiragino Sans GB&#39;, Arial, Helvetica, simsun, u5b8bu4f53; font-size: large; line-height: 31.5px;  background-color: rgb(238, 218, 244);\">alpine</span></p>','2015-09-07 04:08:03','2017-02-21 13:04:58'),(658,'192.168.0.181',3,'iOS使用ZbarSDK实现扫描二维码及条形码','<p><span style=\"font-size: 18px;\"><strong>乱码问题</strong></span></p><p><span style=\"font-size: 14px;\">.a库里面的文件 zbar/qrcode/qrdectxt.c</span></p><p><span style=\"font-size: 14px;\">函数&nbsp;</span></p><p></p><p></p><p><span style=\"font-size: 14px;\">int qr_code_data_list_extract_text(const qr_code_data_list *_qrlist,</span></p><p><span style=\"font-size: 14px;\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; zbar_image_scanner_t *iscn,</span></p><p><span style=\"font-size: 14px;\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; zbar_image_t *img)</span></p><p><span style=\"font-size: 14px;\">{</span></p><p></p><p><span style=\"font-size: 14px;\">...</span></p><p><span style=\"font-size: 14px;\">原本</span></p><p><span style=\"font-size: 14px;\">/*</span></p><p></p><p><span style=\"font-size: 14px;\">&nbsp;enc_list[0]=sjis_cd;</span></p><p><span style=\"font-size: 14px;\">&nbsp; &nbsp; enc_list[1]=latin1_cd;</span></p><p><span style=\"font-size: 14px;\">&nbsp; &nbsp; enc_list[2]=utf8_cd;</span></p><p><span style=\"font-size: 14px;\">*/</span></p><p><span style=\"font-size: 14px;\">改为<br/></span></p><p><span style=\"font-size: 14px;\">&nbsp;enc_list[0]=utf8_cd;</span></p><p><span style=\"font-size: 14px;\">&nbsp; &nbsp; enc_list[1]=latin1_cd;</span></p><p><span style=\"font-size: 14px;\">&nbsp; &nbsp; enc_list[2]=sjis_cd;</span></p><p><span style=\"font-size: 14px;\">}</span></p><p><span style=\"font-size: 14px;\"><br/></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\">//---------------------------</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\">//</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\">//&nbsp; ZBarScan.m</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\">//&nbsp; home</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\">//</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\">//&nbsp; Created by Han.zh on 15/9/23.</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\">//&nbsp; Copyright © 2015<span style=\"font-family: &#39;Heiti SC Light&#39;;\">年</span> Han.zhihong. All rights reserved.</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\">//</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #78492a\">#import </span>&quot;ZBarScan.h&quot;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #78492a\">#import </span>&quot;ZBarSDK/ZBarSDK.h&quot;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(120, 73, 42);\">#define SCANVIEW_EdgeTop <span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">100.0</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(120, 73, 42);\">#define SCANVIEW_EdgeLeft <span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">50.0</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(120, 73, 42);\">#define TINTCOLOR_ALPHA <span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">0.5</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #008400\">//</span><span style=\"font-family: &#39;Heiti SC Light&#39;; color: rgb(0, 132, 0);\">浅色透明度</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(120, 73, 42);\">#define MOVE_TIME &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">2</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #008400\">//</span><span style=\"font-family: &#39;Heiti SC Light&#39;; color: rgb(0, 132, 0);\">秒</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(120, 73, 42);\">#define VIEW_WIDTH&nbsp; &nbsp; &nbsp; self.view.frame.size.width</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(120, 73, 42);\">#define VIEW_HEIGHT &nbsp; &nbsp; self.view.frame.size.height</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(112, 61, 170);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">@interface</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">ZBarScan</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> ()&lt;</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">ZBarReaderViewDelegate</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">,</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">ZBarReaderDelegate</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">,</span>UINavigationControllerDelegate<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">,</span>UIImagePickerControllerDelegate<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&gt;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">ZBarReaderView</span> *readerView;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">__weak</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">IBOutlet</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UILabel</span> *resultText;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(79, 129, 135);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span>ZBarCameraSimulator<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> *cameraSim;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">__weak</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">IBOutlet</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIButton</span> *btnFlashLight;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSTimer</span> *_timer;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIView</span> *_scanView,*_QrCodeline;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">- (<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">IBAction</span>)btnFlashLight_click:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">id</span>)sender;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">-( <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">void</span> )createTimer;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">-( <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">void</span> )stopTimer;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">- (<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">void</span>) cleanup;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(187, 44, 162);\">@end</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(187, 44, 162);\">@implementation<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> ZBarScan</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">-(<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">void</span>)awakeFromNib</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">-(<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">void</span>)viewWillAppear:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">BOOL</span>)animated</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; [<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">super</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">viewWillAppear</span>:animated];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(49, 89, 93);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">self</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>createTimer<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(79, 129, 135);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; [</span>readerView<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #31595d\">start</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">-(<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">void</span>)viewWillDisappear:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">BOOL</span>)animated</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; [<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">super</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">viewWillDisappear</span>:animated];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(49, 89, 93);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">self</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>stopTimer<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(79, 129, 135);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; [</span>readerView<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #31595d\">stop</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">- (<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">void</span>) viewDidLoad{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">super</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>viewDidLoad<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span>// Do any additional setup after loading the view.</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: &#39;Heiti SC Light&#39;; color: rgb(0, 132, 0);\"><span style=\"font-family: Menlo; color: rgb(0, 0, 0);\">&nbsp; &nbsp; </span><span style=\"font-family: Menlo;\">//</span>初始化扫描界面</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(79, 129, 135);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span>readerView<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">=[[</span>ZBarReaderView<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">alloc</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">] </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">init</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(120, 73, 42);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">readerView</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">frame</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">=</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">CGRectMake</span><span style=\"font-variant-','2015-09-07 16:01:07','2015-10-01 14:11:45'),(659,'192.168.0.181',3,'zbar二维码相册获取图片','<p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">- (<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">IBAction</span>)btnCamera_click:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">id</span>)sender</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">if</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> ([</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIImagePickerController</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>isSourceTypeAvailable<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span>UIImagePickerControllerSourceTypePhotoLibrary<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">])</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; {</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(112, 61, 170);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; </span>UIImagePickerController<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> *picker = [[</span>UIImagePickerController<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">alloc</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">] </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">init</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; [picker <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">setDelegate</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">self</span>];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; [picker <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">setAllowsEditing</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">YES</span>];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: &#39;Heiti SC Light&#39;; color: rgb(0, 132, 0);\"><span style=\"font-family: Menlo; color: rgb(0, 0, 0);\">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-family: Menlo;\">//</span>数据源可以是相册又可以摄像头</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>picker.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">sourceType</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> = </span>UIImagePickerControllerSourceTypePhotoLibrary<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">self</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>presentViewController<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:picker </span>animated<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">YES</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>completion<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; picker=<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; }</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">else</span> {</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIAlertView</span> *alert = [[<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIAlertView</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">alloc</span>]</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">initWithTitle</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;</span><span style=\"font-family: &#39;Heiti SC Light&#39;; color: rgb(209, 47, 27);\">访问图片库错误</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">&quot;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">message</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;&quot;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">delegate</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">cancelButtonTitle</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;OK!&quot;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">otherButtonTitles</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span>];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; [alert <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">show</span>];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; alert=<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; }</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\">//<span style=\"font-family: &#39;Heiti SC Light&#39;;\">从相册获取图片</span>/////////////</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">- (<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">void</span>)imagePickerController:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIImagePickerController</span> *)picker</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">didFinishPickingMediaWithInfo:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSDictionary</span> *)info</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIImage</span> *pkimg;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; pkimg = [info </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">objectForKey</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span>@&quot;UIImagePickerControllerEditedImage&quot;<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span>//resultImage.image = pkimg;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">if</span>(pkimg)</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; {</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">BOOL</span> ishasqr=<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">FALSE</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">ZBarSymbolSet</span> *syms = <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(79, 129, 135);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; </span>ZBarImageScanner<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">*imgscanner=[[</span>ZBarImageScanner<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">alloc</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">] </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">init</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">ZBarImage</span> *zimg=[[<span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">ZBarImage</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">alloc</span>] <span style=\"font-variant-ligatures: no-common-ligatures; color: #31595d\">initWithCGImage</span>:pkimg.<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">CGImage</span>];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; [imgscanner <span style=\"font-variant-ligatures: no-common-ligatures; color: #31595d\">scanImage</span>:zimg];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; syms = imgscanner.<span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">results</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">for</span>(<span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">ZBarSymbol</span> *sym <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">in</span> syms) {</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ishasqr=<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">TRUE</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">resultText</span>.<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">text</span> = sym.<span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">data</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">NSLog</span>(<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;sym.data=%@&quot;</span>,sym.<span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">data</span>);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">break</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; }</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">if</span> (<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">FALSE</span>==ishasqr) {</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">resultText</span>.<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">text</span> = <span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;</span><span style=\"font-family: &#39;Heiti SC Light&#39;; color: rgb(209, 47, 27);\">未发现二维码</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">&quot;</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; }</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; zimg=<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; imgscanner=<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; }</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">self</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>dismissViewControllerAnimated<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">YES</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>completion<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">- (<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">void</span>)imagePickerControllerDidCancel:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIImagePickerController</span> *)picker</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">NSLog</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">(</span>@&quot;cancel&quot;<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">);</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">self</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>dismissViewControllerAnimated<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">YES</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>completion<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><br/></p>','2015-09-24 05:50:03','2015-09-24 14:06:46'),(660,'192.168.0.181',3,'libqrencode生成二维码','<p>库libqrencode</p><p><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #78492a\">#import </span>&quot;QRCodeGenerator.h&quot;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(79, 129, 135);\">imgGen<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">image</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">=[</span>QRCodeGenerator<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #31595d\">qrImageForString</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span>_defTxt<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #31595d\">imageSize</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">512</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p><br/></p>','2002-01-02 13:04:26','2015-09-28 12:59:29'),(661,'192.168.0.181',3,'保存图片到相册','<p><span style=\"font-family: Monaco, &#39;Lucida Console&#39;, monospace; font-size: 13px; line-height: 18.200000762939453px; background-color: rgb(241, 241, 241);\">- (void)image:(UIImage *)image</span><br style=\"font-size: 13px; line-height: 18.200000762939453px; font-family: Monaco, &#39;Lucida Console&#39;, monospace; background-color: rgb(241, 241, 241);\"/><span style=\"font-family: Monaco, &#39;Lucida Console&#39;, monospace; font-size: 13px; line-height: 18.200000762939453px; background-color: rgb(241, 241, 241);\">&nbsp; didFinishSavingWithError:(NSError *)error</span><br style=\"font-size: 13px; line-height: 18.200000762939453px; font-family: Monaco, &#39;Lucida Console&#39;, monospace; background-color: rgb(241, 241, 241);\"/><span style=\"font-family: Monaco, &#39;Lucida Console&#39;, monospace; font-size: 13px; line-height: 18.200000762939453px; background-color: rgb(241, 241, 241);\">&nbsp; contextInfo:(void *)contextInfo{</span><br style=\"font-size: 13px; line-height: 18.200000762939453px; font-family: Monaco, &#39;Lucida Console&#39;, monospace; background-color: rgb(241, 241, 241);\"/><span style=\"font-family: Monaco, &#39;Lucida Console&#39;, monospace; font-size: 13px; line-height: 18.200000762939453px; background-color: rgb(241, 241, 241);\">&nbsp; if (error != NULL){</span><br style=\"font-size: 13px; line-height: 18.200000762939453px; font-family: Monaco, &#39;Lucida Console&#39;, monospace; background-color: rgb(241, 241, 241);\"/><span style=\"font-family: Monaco, &#39;Lucida Console&#39;, monospace; font-size: 13px; line-height: 18.200000762939453px; background-color: rgb(241, 241, 241);\">&nbsp; &nbsp; //失败</span><br style=\"font-size: 13px; line-height: 18.200000762939453px; font-family: Monaco, &#39;Lucida Console&#39;, monospace; background-color: rgb(241, 241, 241);\"/><span style=\"font-family: Monaco, &#39;Lucida Console&#39;, monospace; font-size: 13px; line-height: 18.200000762939453px; background-color: rgb(241, 241, 241);\">&nbsp; }</span><br style=\"font-size: 13px; line-height: 18.200000762939453px; font-family: Monaco, &#39;Lucida Console&#39;, monospace; background-color: rgb(241, 241, 241);\"/><span style=\"font-family: Monaco, &#39;Lucida Console&#39;, monospace; font-size: 13px; line-height: 18.200000762939453px; background-color: rgb(241, 241, 241);\">&nbsp; else{</span><br style=\"font-size: 13px; line-height: 18.200000762939453px; font-family: Monaco, &#39;Lucida Console&#39;, monospace; background-color: rgb(241, 241, 241);\"/><span style=\"font-family: Monaco, &#39;Lucida Console&#39;, monospace; font-size: 13px; line-height: 18.200000762939453px; background-color: rgb(241, 241, 241);\">&nbsp; &nbsp; //成功</span><br style=\"font-size: 13px; line-height: 18.200000762939453px; font-family: Monaco, &#39;Lucida Console&#39;, monospace; background-color: rgb(241, 241, 241);\"/><span style=\"font-family: Monaco, &#39;Lucida Console&#39;, monospace; font-size: 13px; line-height: 18.200000762939453px; background-color: rgb(241, 241, 241);\">&nbsp; }</span><br style=\"font-size: 13px; line-height: 18.200000762939453px; font-family: Monaco, &#39;Lucida Console&#39;, monospace; background-color: rgb(241, 241, 241);\"/><span style=\"font-family: Monaco, &#39;Lucida Console&#39;, monospace; font-size: 13px; line-height: 18.200000762939453px; background-color: rgb(241, 241, 241);\">}</span></p><p><span style=\"font-family: Monaco, &#39;Lucida Console&#39;, monospace; font-size: 13px; line-height: 18.200000762939453px; background-color: rgb(241, 241, 241);\"><br/></span></p><p><span style=\"font-family: Monaco, &#39;Lucida Console&#39;, monospace; font-size: 13px; line-height: 18.200000762939453px; background-color: rgb(241, 241, 241);\"><br/></span></p><p><span style=\"font-family: Monaco, &#39;Lucida Console&#39;, monospace; font-size: 13px; line-height: 18.200000762939453px; background-color: rgb(241, 241, 241);\"><span style=\"font-family: Monaco, &#39;Lucida Console&#39;, monospace; font-size: 13px; line-height: 18.200000762939453px; background-color: rgb(241, 241, 241);\">&nbsp;// 要保存的图片</span><br style=\"font-size: 13px; line-height: 18.200000762939453px; font-family: Monaco, &#39;Lucida Console&#39;, monospace; background-color: rgb(241, 241, 241);\"/><span style=\"font-family: Monaco, &#39;Lucida Console&#39;, monospace; font-size: 13px; line-height: 18.200000762939453px; background-color: rgb(241, 241, 241);\">&nbsp; UIImage *img = [UIImage imageNamed:@&quot;ImageName.png&quot;]; &nbsp;</span><br style=\"font-size: 13px; line-height: 18.200000762939453px; font-family: Monaco, &#39;Lucida Console&#39;, monospace; background-color: rgb(241, 241, 241);\"/><span style=\"font-family: Monaco, &#39;Lucida Console&#39;, monospace; font-size: 13px; line-height: 18.200000762939453px; background-color: rgb(241, 241, 241);\">&nbsp;&nbsp;</span><br style=\"font-size: 13px; line-height: 18.200000762939453px; font-family: Monaco, &#39;Lucida Console&#39;, monospace; background-color: rgb(241, 241, 241);\"/><span style=\"font-family: Monaco, &#39;Lucida Console&#39;, monospace; font-size: 13px; line-height: 18.200000762939453px; background-color: rgb(241, 241, 241);\">&nbsp; // 保存图片到相册中</span><br style=\"font-size: 13px; line-height: 18.200000762939453px; font-family: Monaco, &#39;Lucida Console&#39;, monospace; background-color: rgb(241, 241, 241);\"/><span style=\"font-family: Monaco, &#39;Lucida Console&#39;, monospace; font-size: 13px; line-height: 18.200000762939453px; background-color: rgb(241, 241, 241);\">&nbsp; UIImageWriteToSavedPhotosAlbum(img,&nbsp;</span><br style=\"font-size: 13px; line-height: 18.200000762939453px; font-family: Monaco, &#39;Lucida Console&#39;, monospace; background-color: rgb(241, 241, 241);\"/><span style=\"font-family: Monaco, &#39;Lucida Console&#39;, monospace; font-size: 13px; line-height: 18.200000762939453px; background-color: rgb(241, 241, 241);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;self,&nbsp;</span><br style=\"font-size: 13px; line-height: 18.200000762939453px; font-family: Monaco, &#39;Lucida Console&#39;, monospace; background-color: rgb(241, 241, 241);\"/><span style=\"font-family: Monaco, &#39;Lucida Console&#39;, monospace; font-size: 13px; line-height: 18.200000762939453px; background-color: rgb(241, 241, 241);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; @selector(image:didFinishSavingWithError:contextInfo:),&nbsp;</span><br style=\"font-size: 13px; line-height: 18.200000762939453px; font-family: Monaco, &#39;Lucida Console&#39;, monospace; background-color: rgb(241, 241, 241);\"/><span style=\"font-family: Monaco, &#39;Lucida Console&#39;, monospace; font-size: 13px; line-height: 18.200000762939453px; background-color: rgb(241, 241, 241);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;nil);</span></span></p>','2015-09-28 05:02:41','2015-09-28 13:31:03'),(662,'192.168.0.181',3,'正则表达式使用','<p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp;&nbsp;</span>//<span style=\"font-family: &#39;Heiti SC Light&#39;;\">判断是否包含</span> <span style=\"font-family: &#39;Heiti SC Light&#39;;\">头</span>&#39;http:&#39;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> *regex = </span>@&quot;http+:[^\\s]*&quot;<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSPredicate</span> *predicate = [<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSPredicate</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">predicateWithFormat</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;SELF MATCHES %@&quot;</span>,regex];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> *https = </span>@&quot;https+:[^\\s]*&quot;<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSPredicate</span> *httpsPre = [<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSPredicate</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">predicateWithFormat</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;SELF MATCHES %@&quot;</span>,https];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span> *tel = <span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;^tel:.*?&quot;</span>;;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSPredicate</span> *telPre = [<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSPredicate</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">predicateWithFormat</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;SELF MATCHES %@&quot;</span>,tel];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span> *mecard = <span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;^mecard:.*?&quot;</span>;;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSPredicate</span> *mecardPre = [<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSPredicate</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">predicateWithFormat</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;SELF MATCHES %@&quot;</span>,mecard];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">if</span> ([predicate <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">evaluateWithObject</span>:[resolv_data <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">lowercaseString</span>]]) {</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; }</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">else</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">if</span>([httpsPre <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">evaluateWithObject</span>:[resolv_data <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">lowercaseString</span>]]){</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; }</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">else</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">if</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">([telPre </span>evaluateWithObject<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:[resolv_data </span>lowercaseString<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">]]){</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; }</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">else</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">if</span>([mecardPre <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">evaluateWithObject</span>:[resolv_data <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">lowercaseString</span>]]){</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; }</p><p><br/></p>','2015-09-30 15:27:52','2015-09-30 23:27:52'),(663,'192.168.0.181',3,'[ios] ios6 ios7 获取系统通讯录联系人','<p style=\"margin-top: 0px; margin-bottom: 0.75em; line-height: 1.7em; text-indent: 1em;\">导入AddressBook和AddressBookUI框架</p><p style=\"margin-top: 0px; margin-bottom: 0.75em; line-height: 1.7em; text-indent: 1em;\">iOS 6之前，可以通过如下方法获得通讯录</p><p style=\"margin-top: 0px; margin-bottom: 0.75em; line-height: 1.7em; text-indent: 1em;\">ABAddressBookRef&nbsp;addressBook&nbsp;=&nbsp;ABAddressBookCreate();&nbsp;&nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0.75em; line-height: 1.7em; text-indent: 1em;\">不过在iOS 6之后，这个方法被废弃，可以使用下面的方法获得通讯录。</p><p style=\"margin-top: 0px; margin-bottom: 0.75em; line-height: 1.7em; text-indent: 1em;\">AB_EXTERN&nbsp;ABAddressBookRef&nbsp;ABAddressBookCreateWithOptions(CFDictionaryRef&nbsp;options,&nbsp;CFErrorRef*&nbsp;error)&nbsp;__OSX_AVAILABLE_STARTING(__MAC_NA,__IPHONE_6_0);&nbsp;&nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0.75em; line-height: 1.7em; text-indent: 1em;\">而且在ios6之后，每个App要访问通讯录都应该得到用户的授权：</p><p style=\"margin-top: 0px; margin-bottom: 0.75em; line-height: 1.7em; text-indent: 1em;\">//系统定义的block</p><p style=\"margin-top: 0px; margin-bottom: 0.75em; line-height: 1.7em; text-indent: 1em;\">typedef&nbsp;void(^&nbsp;ABAddressBookRequestAccessCompletionHandler</p><p style=\"margin-top: 0px; margin-bottom: 0.75em; line-height: 1.7em; text-indent: 1em;\">)(bool&nbsp;granted,&nbsp;CFErrorRef&nbsp;error);&nbsp;&nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0.75em; line-height: 1.7em; text-indent: 1em;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0.75em; line-height: 1.7em; text-indent: 1em;\">//获取授权的方法，其中第二个参数是上面定义的block</p><p style=\"margin-top: 0px; margin-bottom: 0.75em; line-height: 1.7em; text-indent: 1em;\">AB_EXTERN&nbsp;void&nbsp;ABAddressBookRequestAccessWithCompletion(ABAddressBookRef&nbsp;addressBook,&nbsp;&nbsp;&nbsp;ABAddressBookRequestAccessCompletionHandler&nbsp;completion)&nbsp;__OSX_AVAILABLE_STARTING(__MAC_NA,__IPHONE_6_0);&nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0.75em; line-height: 1.7em; text-indent: 1em;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0.75em; line-height: 1.7em; text-indent: 1em;\">代码如下：</p><p style=\"margin-top: 0px; margin-bottom: 0.75em; line-height: 1.7em; text-indent: 1em;\"><span style=\"line-height: 1.7em; text-indent: 1em;\"></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">-(<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">void</span>)getAddress</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span>//typedef CFTypeRef ABAddressBookRef;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span>//typedef const void * CFTypeRef;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: &#39;Heiti SC Light&#39;; color: rgb(0, 132, 0);\"><span style=\"font-family: Menlo; color: rgb(0, 0, 0);\">&nbsp; &nbsp; </span><span style=\"font-family: Menlo;\">//</span>指向常量的指针</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">ABAddressBookRef</span> addressBook = <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: &#39;Heiti SC Light&#39;; color: rgb(0, 132, 0);\"><span style=\"font-family: Menlo; color: rgb(0, 0, 0);\">&nbsp; &nbsp; </span><span style=\"font-family: Menlo;\">//</span>判断当前系统的版本</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">if</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> ([[</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIDevice</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>currentDevice<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">].</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">systemVersion</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>floatValue<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">] &gt;= </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">6.0</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">)</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; {</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: &#39;Heiti SC Light&#39;; color: rgb(0, 132, 0);\"><span style=\"font-family: Menlo; color: rgb(0, 0, 0);\">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-family: Menlo;\">//</span>如果不小于<span style=\"font-family: Menlo;\">6.0</span>，使用对应的<span style=\"font-family: Menlo;\">api</span>获取通讯录，注意，必须先请求用户的同意，如果未获得同意或者用户未操作，此通讯录的内容为空</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; addressBook = </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">ABAddressBookCreateWithOptions</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">NULL</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">, </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">NULL</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">);</span>//<span style=\"font-family: &#39;Heiti SC Light&#39;;\">等待同意后向下执行</span>//<span style=\"font-family: &#39;Heiti SC Light&#39;;\">为了保证用户同意后在进行操作，此时使用多线程的信号量机制，创建信号量，信号量的资源数</span>0<span style=\"font-family: &#39;Heiti SC Light&#39;;\">表示没有资源，调用</span>dispatch_semaphore_wait<span style=\"font-family: &#39;Heiti SC Light&#39;;\">会立即等待。若对此处不理解，请参看</span>GCD<span style=\"font-family: &#39;Heiti SC Light&#39;;\">信号量同步相关内容。</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">dispatch_semaphore_t</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> sema = </span>dispatch_semaphore_create<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">0</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">);</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #008400\">//</span><span style=\"font-family: &#39;Heiti SC Light&#39;; color: rgb(0, 132, 0);\">发出访问通讯录的请求</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">ABAddressBookRequestAccessWithCompletion</span>(addressBook, ^(<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">bool</span> granted, <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">CFErrorRef</span> error){</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>//<span style=\"font-family: &#39;Heiti SC Light&#39;;\">如果用户同意，才会执行此</span>block<span style=\"font-family: &#39;Heiti SC Light&#39;;\">里面的方法</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: &#39;Heiti SC Light&#39;; color: rgb(0, 132, 0);\"><span style=\"font-family: Menlo; color: rgb(0, 0, 0);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-family: Menlo;\">//</span>此方法发送一个信号，增加一个资源数</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>dispatch_semaphore_signal<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">(sema);});</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: &#39;Heiti SC Light&#39;; color: rgb(0, 132, 0);\"><span style=\"font-family: Menlo; color: rgb(0, 0, 0);\">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-family: Menlo;\">//</span>如果之前的<span style=\"font-family: Menlo;\">block</span>没有执行，则<span style=\"font-family: Menlo;\">sema</span>的资源数为零，程序将被阻塞</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; </span>//<span style=\"font-family: &#39;Heiti SC Light&#39;;\">当用户选择同意，</span>block<span style=\"font-family: &#39;Heiti SC Light&#39;;\">的方法被执行，</span> sema<span style=\"font-family: &#39;Heiti SC Light&#39;;\">资源数为</span>1<span style=\"font-family: &#39;Heiti SC Light&#39;;\">；</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; </span>dispatch_semaphore_wait<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">(sema, </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #78492a\">DISPATCH_TIME_FOREVER</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">);</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(120, 73, 42);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; </span>dispatch_release<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">(sema);</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; }</span>//<span style=\"font-family: &#39;Heiti SC Light&#39;;\">如果系统是</span>6.0<span style=\"font-family: &#39;Heiti SC Light&#39;;\">之前的系统，不需要获得同意，直接访问</span>else{&nbsp; addressBook = ABAddressBookCreate(); }</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: &#39;Heiti SC Light&#39;; color: rgb(0, 132, 0);\"><span style=\"font-family: Menlo; color: rgb(0, 0, 0);\">&nbsp; &nbsp; </span><span style=\"font-family: Menlo;\">//</span>通讯录信息已获得，开始取出</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">CFArrayRef</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> results = </span>ABAddressBookCopyArrayOfAllPeople<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">(addressBook);</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: &#39;Heiti SC Light&#39;; color: rgb(0, 132, 0);\"><span style=\"font-family: Menlo; color: rgb(0, 0, 0);\">&nbsp; &nbsp; </span><span style=\"font-family: Menlo;\">//</span>联系人条目数（使用<span style=\"font-family: Menlo;\">long</span>而不使用<span style=\"font-family: Menlo;\">int</span>是为了兼容<span style=\"font-family: Menlo;\">64</span>位）</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">long</span> peopleCount = <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">CFArrayGetCount</span>(results);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">for</span> (<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">int</span> i=<span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">0</span>; i&lt;peopleCount; i++)</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; {</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">ABRecordRef</span> record = <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">CFArrayGetValueAtIndex</span>(results, i);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span> *firstName,*lastName;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; firstName = <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; lastName= <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">CFTypeRef</span> tmp = <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">NULL</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; </span>//firstName</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(112, 61, 170);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; tmp = </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">ABRecordCopyValue</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">(record, </span>kABPersonFirstNameProperty<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">);</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">if</span> (tmp) {</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; firstName = [<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">stringWithString</span>:tmp];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">CFRelease</span>(tmp);tmp = <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">NULL</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; }</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; </span>//lastName</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; tmp = <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">ABRecordCopyValue</span>(record, <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">kABPersonLastNameProperty</span>);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">if</span> (tmp){</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lastName= [<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">stringWithString</span>:tmp];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">CFRelease</span>(tmp);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tmp = <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">NULL</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; }</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; </span>//<span style=\"font-family: &#39;Heiti SC Light&#39;;\">取得完整名字（与上面</span>firstName<span style=\"font-family: &#39;Heiti SC Light&#39;;\">、</span>lastName<span style=\"font-family: &#39;Heiti SC Light&#39;;\">无关）</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">CFStringRef</span>&nbsp; fullName=<span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">ABRecordCopyCompositeName</span>(record);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">NSLog</span>(<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;%@&quot;</span>,(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span>*)fullName);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; </span>// <span style=\"font-family: &#39;Heiti SC Light&#39;;\">读取电话</span>,<span style=\"font-family: &#39;Heiti SC Light&#39;;\">不只一个</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(112, 61, 170);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; </span>ABMultiValueRef<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> phones = </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">ABRecordCopyValue</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">(record, </span>kABPersonPhoneProperty<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">);</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">long</span> phoneCount = <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">ABMultiValueGetCount</span>(phones);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">for</span> (<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">int</span> j=<span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">0</span>; j&lt;phoneCount; j++) {</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #008400\">// label</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">CFStringRef</span> lable = <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">ABMultiValueCopyLabelAtIndex</span>(phones, j);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>// phone number</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">CFStringRef</span> number = <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">ABMultiValueCopyValueAtIndex</span>(phones, j);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>// localize label</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">CFStringRef</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> local = </span>ABAddressBookCopyLocalizedLabel<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">(lable);</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: &#39;Heiti SC Light&#39;; color: rgb(0, 132, 0);\"><span style=\"font-family: Menlo; color: rgb(0, 0, 0);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-family: Menlo;\">//</span>此处可使用一个自定义的<span style=\"font-family: Menlo;\">model</span>类来存储姓名和电话信息。我在这里就直接输出了。</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">NSLog</span>(<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;number%@&quot;</span> ,(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span> *)number);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">if</span> (local)<span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">CFRelease</span>(local);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">if</span> (lable) <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">CFRelease</span>(lable);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">if</span> (number)<span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">CFRelease</span>(number);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; }</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">if</span> (phones) <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">CFRelease</span>(phones);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; record = <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">NULL</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; }</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">if</span> (results)<span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">CFRelease</span>(results);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; results = <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span>;<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">if</span> (addressBook)<span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">CFRelease</span>(addressBook);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; addressBook = <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">NULL</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"margin-top: 0px; margin-bottom: 0.75em; line-height: 1.7em; text-indent: 1em;\"><span style=\"line-height: 1.7em; text-indent: 1em;\"><br/></span><br/></p><p style=\"margin-top: 0px; margin-bottom: 0.75em; line-height: 1.7em; text-indent: 1em;\"><span style=\"line-height: 1.7em; text-indent: 1em;\"><br/></span></p><p style=\"margin-top: 0px; margin-bottom: 0.75em; line-height: 1.7em; text-indent: 1em;\"><span style=\"line-height: 1.7em; text-indent: 1em;\">请求访问通讯录，只有第一次会弹出警示框询问用户。可通过以下方法判断状态来提醒用户</span></p><p style=\"margin-top: 0px; margin-bottom: 0.75em; line-height: 1.7em; text-indent: 1em;\"><span style=\"line-height: 1.7em; text-indent: 1em;\"></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">typedef</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">CF_ENUM</span>(CFIndex, ABAuthorizationStatus) {</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; kABAuthorizationStatusNotDetermined = <span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">0</span>,</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; kABAuthorizationStatusRestricted,</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; kABAuthorizationStatusDenied,</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; kABAuthorizationStatusAuthorized</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">};</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #78492a\">AB_EXTERN</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">ABAuthorizationStatus</span> ABAddressBookGetAuthorizationStatus(<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">void</span>) <span style=\"font-variant-ligatures: no-common-ligatures; color: #78492a\">__OSX_AVAILABLE_STARTING</span>(__MAC_NA,__IPHONE_6_0);</p><p style=\"margin-top: 0px; margin-bottom: 0.75em; line-height: 1.7em; text-indent: 1em;\"><span style=\"line-height: 1.7em; text-indent: 1em;\"><br/></span><br/></p><p style=\"margin-top: 0px; margin-bottom: 0.75em; line-height: 1.7em; text-indent: 1em;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0.75em; line-height: 1.7em; text-indent: 1em;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0.75em; line-height: 1.7em; text-indent: 1em;\">//获得状态，根据状态判断</p><p style=\"margin-top: 0px; margin-bottom: 0.75em; line-height: 1.7em; text-indent: 1em;\">ABAuthorizationStatus statu=ABAddressBookGetAuthorizationStatus();</p><p><br/></p>','2015-10-01 03:28:01','2015-10-01 11:35:57'),(664,'192.168.0.181',3,'通讯录添加联系人','<p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #78492a\">#import </span>&lt;AddressBook/AddressBook.h&gt;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #78492a\">#import </span>&lt;AddressBookUI/AddressBookUI.h&gt;</p><p><br/></p><p>加入框架AddressBook&nbsp;AddressBookUI</p><p><span style=\"color: rgb(209, 47, 27); font-family: Menlo; font-size: 11px;\"><span style=\"color: rgb(209, 47, 27); font-family: Menlo; font-size: 11px;\"><br/></span></span></p><p><span style=\"color: rgb(209, 47, 27); font-family: Menlo; font-size: 11px;\"><span style=\"color: rgb(209, 47, 27); font-family: Menlo; font-size: 11px;\"></span></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">- (<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">IBAction</span>)btnSave_click:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">id</span>)sender</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">self</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #31595d\">addToContact</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span>@&quot;haha&quot;<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> :</span>@&quot;Aohoh&quot;<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> :</span>@&quot;<span style=\"font-family: &#39;Heiti SC Light&#39;;\">无组织</span>&quot;<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span>@&quot;<span style=\"font-family: &#39;Heiti SC Light&#39;;\">没工作</span>&quot;<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span>@&quot;10086&quot;<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span>@&quot;1388888888&quot;<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span>@&quot;hanzhihong@qq.com&quot;<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span>@&quot;<span style=\"font-family: &#39;Heiti SC Light&#39;;\">不知道哪里</span>&quot;<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> :</span>@&quot;http://www.hanzhihong.cn&quot;<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">-(<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">void</span>)addToContact:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span>*)fristname :(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span>*)lastname :(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span>*)org :(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span>*)jobTitle :(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span>*)personPhoneMain :(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span>*)personPhoneMobile :(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span>*)email :(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span>*)address :(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span>*)url</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span>//typedef CFTypeRef ABAddressBookRef;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span>//typedef const void * CFTypeRef;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: &#39;Heiti SC Light&#39;; color: rgb(0, 132, 0);\"><span style=\"font-family: Menlo; color: rgb(0, 0, 0);\">&nbsp; &nbsp; </span><span style=\"font-family: Menlo;\">//</span>指向常量的指针</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">ABAddressBookRef</span> addressBook = <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: &#39;Heiti SC Light&#39;; color: rgb(0, 132, 0);\"><span style=\"font-family: Menlo; color: rgb(0, 0, 0);\">&nbsp; &nbsp; </span><span style=\"font-family: Menlo;\">//</span>判断当前系统的版本</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">if</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> ([[</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIDevice</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>currentDevice<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">].</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">systemVersion</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>floatValue<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">] &gt;= </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">6.0</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">)</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; {</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: &#39;Heiti SC Light&#39;; color: rgb(0, 132, 0);\"><span style=\"font-family: Menlo; color: rgb(0, 0, 0);\">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-family: Menlo;\">//</span>如果不小于<span style=\"font-family: Menlo;\">6.0</span>，使用对应的<span style=\"font-family: Menlo;\">api</span>获取通讯录，注意，必须先请求用户的同意，如果未获得同意或者用户未操作，此通讯录的内容为空</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; addressBook = </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">ABAddressBookCreateWithOptions</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">NULL</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">, </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">NULL</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">);</span>//<span style=\"font-family: &#39;Heiti SC Light&#39;;\">等待同意后向下执行</span>//<span style=\"font-family: &#39;Heiti SC Light&#39;;\">为了保证用户同意后在进行操作，此时使用多线程的信号量机制，创建信号量，信号量的资源数</span>0<span style=\"font-family: &#39;Heiti SC Light&#39;;\">表示没有资源，调用</span>dispatch_semaphore_wait<span style=\"font-family: &#39;Heiti SC Light&#39;;\">会立即等待。若对此处不理解，请参看</span>GCD<span style=\"font-family: &#39;Heiti SC Light&#39;;\">信号量同步相关内容。</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">dispatch_semaphore_t</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> sema = </span>dispatch_semaphore_create<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">0</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">);</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #008400\">//</span><span style=\"font-family: &#39;Heiti SC Light&#39;; color: rgb(0, 132, 0);\">发出访问通讯录的请求</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">ABAddressBookRequestAccessWithCompletion</span>(addressBook, ^(<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">bool</span> granted, <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">CFErrorRef</span> error){</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>//<span style=\"font-family: &#39;Heiti SC Light&#39;;\">如果用户同意，才会执行此</span>block<span style=\"font-family: &#39;Heiti SC Light&#39;;\">里面的方法</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: &#39;Heiti SC Light&#39;; color: rgb(0, 132, 0);\"><span style=\"font-family: Menlo; color: rgb(0, 0, 0);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-family: Menlo;\">//</span>此方法发送一个信号，增加一个资源数</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>dispatch_semaphore_signal<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">(sema);});</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: &#39;Heiti SC Light&#39;; color: rgb(0, 132, 0);\"><span style=\"font-family: Menlo; color: rgb(0, 0, 0);\">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-family: Menlo;\">//</span>如果之前的<span style=\"font-family: Menlo;\">block</span>没有执行，则<span style=\"font-family: Menlo;\">sema</span>的资源数为零，程序将被阻塞</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; </span>//<span style=\"font-family: &#39;Heiti SC Light&#39;;\">当用户选择同意，</span>block<span style=\"font-family: &#39;Heiti SC Light&#39;;\">的方法被执行，</span> sema<span style=\"font-family: &#39;Heiti SC Light&#39;;\">资源数为</span>1<span style=\"font-family: &#39;Heiti SC Light&#39;;\">；</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; </span>dispatch_semaphore_wait<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">(sema, </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #78492a\">DISPATCH_TIME_FOREVER</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">);</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; </span>//dispatch_release(sema);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: &#39;Heiti SC Light&#39;; color: rgb(0, 132, 0);\"><span style=\"font-family: Menlo; color: rgb(0, 0, 0);\">&nbsp; &nbsp; }</span><span style=\"font-family: Menlo;\">//</span>如果系统是<span style=\"font-family: Menlo;\">6.0</span>之前的系统，不需要获得同意，直接访问</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">else</span>{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; addressBook = <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">ABAddressBookCreate</span>();</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; }</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">printf</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">(</span>&quot;--------addToContact----Execute!!!------\n&quot;<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">);</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">ABRecordRef</span> newPerson = <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">ABPersonCreate</span>();</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">CFErrorRef</span> error = <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">NULL</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">ABRecordSetValue</span>(newPerson, <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">kABPersonFirstNameProperty</span>, (<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">__bridge</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">CFTypeRef</span>)(fristname), &amp;error);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">ABRecordSetValue</span>(newPerson, <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">kABPersonLastNameProperty</span>, (<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">__bridge</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">CFTypeRef</span>)(lastname), &amp;error);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(112, 61, 170);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">ABRecordSetValue</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">(newPerson, </span>kABPersonOrganizationProperty<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">,(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">__bridge</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>CFTypeRef<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">)(org), &amp;error);</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">ABRecordSetValue</span>(newPerson, <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">kABPersonJobTitleProperty</span>, (<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">__bridge</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">CFTypeRef</span>)(jobTitle), &amp;error);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: &#39;Heiti SC Light&#39;; color: rgb(0, 132, 0);\"><span style=\"font-family: Menlo; color: rgb(0, 0, 0);\">&nbsp; &nbsp; </span><span style=\"font-family: Menlo;\">//</span>联系人数据添加时间</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(112, 61, 170);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span>NSDateFormatter<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> *formatter =[[</span>NSDateFormatter<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">alloc</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">] </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">init</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; [formatter </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">setDateFormat</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span>@&quot;yyyy-MM-dd HH:mm:ss&quot;<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span> *currentTime = [formatter <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">stringFromDate</span>:[<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSDate</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">date</span>]];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span>*adddatatime=[<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">stringWithFormat</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;%@</span><span style=\"font-family: &#39;Heiti SC Light&#39;; color: rgb(209, 47, 27);\">添加的联系人</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">&quot;</span>,currentTime];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">ABRecordSetValue</span>(newPerson, <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">kABPersonNoteProperty</span>,(<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">__bridge</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">CFTypeRef</span>)adddatatime,&amp;error);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span>//phone number</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">ABMutableMultiValueRef</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> multiPhone = </span>ABMultiValueCreateMutable<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">(</span>kABMultiStringPropertyType<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">);</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">ABMultiValueAddValueAndLabel</span>(multiPhone, (<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">__bridge</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">CFTypeRef</span>)(personPhoneMain), <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">kABPersonPhoneMainLabel</span>, <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">NULL</span>);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">ABMultiValueAddValueAndLabel</span>(multiPhone, (<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">__bridge</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">CFTypeRef</span>)(personPhoneMobile), <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">kABPersonPhoneMobileLabel</span>, <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">NULL</span>);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span>//ABMultiValueAddValueAndLabel(multiPhone, @&quot;&quot;, kABOtherLabel, NULL);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">ABRecordSetValue</span>(newPerson, <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">kABPersonPhoneProperty</span>, multiPhone,&amp;error);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">CFRelease</span>(multiPhone);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span>//email</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">ABMutableMultiValueRef</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> multiEmail = </span>ABMultiValueCreateMutable<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">(</span>kABMultiStringPropertyType<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">);</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">ABMultiValueAddValueAndLabel</span>(multiEmail, (<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">__bridge</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">CFTypeRef</span>)(email), <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span>, <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">NULL</span>);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">ABRecordSetValue</span>(newPerson, <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">kABPersonEmailProperty</span>, multiEmail, &amp;error);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">CFRelease</span>(multiEmail);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span>//address</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">ABMutableMultiValueRef</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> multiAddress = </span>ABMultiValueCreateMutable<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">(</span>kABMultiDictionaryPropertyType<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">);</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(112, 61, 170);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span>NSMutableDictionary<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> *addressDictionary = [[</span>NSMutableDictionary<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">alloc</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">] </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">init</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; [addressDictionary <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">setObject</span>:address <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">forKey</span>:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span> *) <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">kABPersonAddressStreetKey</span>];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; [addressDictionary <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">setObject</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;&quot;</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">forKey</span>:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span> *)<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">kABPersonAddressCityKey</span>];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; [addressDictionary <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">setObject</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;&quot;</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">forKey</span>:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span> *)<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">kABPersonAddressStateKey</span>];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; [addressDictionary <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">setObject</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;&quot;</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">forKey</span>:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span> *)<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">kABPersonAddressZIPKey</span>];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">ABMultiValueAddValueAndLabel</span>(multiAddress, (<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">__bridge</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">CFTypeRef</span>)(addressDictionary), <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span>, <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">NULL</span>);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">ABRecordSetValue</span>(newPerson, <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">kABPersonAddressProperty</span>, multiAddress,&amp;error);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">CFRelease</span>(multiAddress);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span>//url</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">ABMutableMultiValueRef</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> multiUrl = </span>ABMultiValueCreateMutable<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">(</span>kABMultiStringPropertyType<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">);</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">ABMultiValueAddValueAndLabel</span>(multiUrl, (<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">__bridge</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">CFTypeRef</span>)(url), <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span>, <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">NULL</span>);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">ABRecordSetValue</span>(newPerson, <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">kABPersonURLProperty</span>, multiUrl, &amp;error);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">CFRelease</span>(multiUrl);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\">&nbsp;&nbsp; &nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">ABAddressBookAddRecord</span>(addressBook, newPerson, &amp;error);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">ABAddressBookSave</span>(addressBook, &amp;error);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">if</span> (error != <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">NULL</span>)</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; {</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(209, 47, 27);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">NSLog</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">(</span>@&quot;Danger Will Robinson! Danger!&quot;<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">);</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; }</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">else</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; {</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">NSLog</span>(<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;</span><span style=\"font-family: &#39;Heiti SC Light&#39;; color: rgb(209, 47, 27);\">添加联系人成功</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">.&quot;</span>);</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIAlertView</span> *alert = [[<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIAlertView</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">alloc</span>] <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">initWithTitle</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">message</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;</span><span style=\"font-family: &#39;Heiti SC Light&#39;; color: rgb(209, 47, 27);\">添加联系人成功</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">&quot;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">delegate</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">self</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">cancelButtonTitle</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">otherButtonTitles</span>:<span style=\"font-variant-ligatures: no-common-ligatures; color: #78492a\">NSLocalizedString</span>(<span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;ok&quot;</span>, <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span>), <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span>];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; alert.<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">tag</span>=<span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">1999</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; [alert <span style=\"font-variant-ligatures: no-common-ligatures; color: #3d1d81\">show</span>];</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; alert=<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">nil</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; }</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">- (<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">void</span>)willPresentAlertView:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIAlertView</span> *)alertView</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">{</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; min-height: 13px;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(0, 132, 0);\">// <span style=\"font-family: &#39;Heiti SC Light&#39;;\">提示框</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">- (<span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">void</span>)alertView:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIAlertView</span> *)alertView didDismissWithButtonIndex:(<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSInteger</span>)buttonIndex {</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">switch</span> (alertView.<span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">tag</span>) {</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">case</span> <span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">1999</span>:</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo; color: rgb(61, 29, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">self</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">navigationController</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span>popViewControllerAnimated<span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">YES</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style=\"font-variant-ligatures: no-common-ligatures; color: #bb2ca2\">break</span>;</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">&nbsp; &nbsp; }</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\">}</p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; font-family: Menlo;\"><br/></p>','2015-10-01 03:41:32','2015-10-01 12:36:01'),(665,'192.168.0.181',68,'使用ADB为未ROOT的手机提权','<p class=\"reader-word-layer reader-word-s1-1\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-weight: 600; font-size: 168px; letter-spacing: 0.37px; font-family: 宋体, a95ccedb80eb6294dd886c520010001, 宋体; position: absolute; word-break: keep-all; -webkit-font-smoothing: antialiased; text-shadow: rgba(0, 0, 0, 0.00392157) 1px 1px 1px; width: 338px; height: 168px; line-height: 168px; top: 1207px; left: 3515px; z-index: 0;\">使用</p><p class=\"reader-word-layer reader-word-s1-6\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-weight: 600; font-size: 168px; font-family: &#39;Times New Roman Bold&#39;, a95ccedb80eb6294dd886c520020001, &#39;Times New Roman Bold&#39;; position: absolute; word-break: keep-all; -webkit-font-smoothing: antialiased; text-shadow: rgba(0, 0, 0, 0.00392157) 1px 1px 1px; width: 353px; height: 168px; line-height: 168px; top: 1207px; left: 3914px; z-index: 1; letter-spacing: -1.21px;\">ADB</p><p class=\"reader-word-layer reader-word-s1-1\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-weight: 600; font-size: 168px; letter-spacing: 0.37px; font-family: 宋体, a95ccedb80eb6294dd886c520010001, 宋体; position: absolute; word-break: keep-all; -webkit-font-smoothing: antialiased; text-shadow: rgba(0, 0, 0, 0.00392157) 1px 1px 1px; width: 338px; height: 168px; line-height: 168px; top: 1207px; left: 4300px; z-index: 2;\">为未</p><p class=\"reader-word-layer reader-word-s1-6\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-weight: 600; font-size: 168px; font-family: &#39;Times New Roman Bold&#39;, a95ccedb80eb6294dd886c520020001, &#39;Times New Roman Bold&#39;; position: absolute; word-break: keep-all; -webkit-font-smoothing: antialiased; text-shadow: rgba(0, 0, 0, 0.00392157) 1px 1px 1px; width: 498px; height: 168px; line-height: 168px; top: 1207px; left: 4687px; z-index: 3; letter-spacing: 0.31px;\">ROOT</p><p class=\"reader-word-layer reader-word-s1-1\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-weight: 600; font-size: 168px; letter-spacing: 0.37px; font-family: 宋体, a95ccedb80eb6294dd886c520010001, 宋体; position: absolute; word-break: keep-all; -webkit-font-smoothing: antialiased; text-shadow: rgba(0, 0, 0, 0.00392157) 1px 1px 1px; width: 846px; height: 168px; line-height: 168px; top: 1207px; left: 5218px; z-index: 4;\">的手机提权</p><p>使用ADB为未ROOT的手机提权&nbsp;</p><p>&nbsp;&nbsp;</p><p>首先确保手机已安装了adb驱动，并将adb文件夹中文件传到system32文件夹下，将解压后的su文件及Superuser.apk放到C盘根目录。&nbsp;</p><p>将手机连接电脑，选择htc sync，打开cmd终端，输入以下指令： &nbsp;</p><p>1. adb shell &nbsp;</p><p>2. mount -o remount,rw -t yaffs2 /dev/block/mtdblock3 /system &nbsp;&nbsp;</p><p>打开一个新的cmd终端，输入以下指令： &nbsp;</p><p>1. adb push c:/Superuser.apk /system/app 2. adb push c:/su /data/local&nbsp;</p><p>&nbsp;</p><p>在第一个cmd终端中输入以下指令： &nbsp;</p><p>1. cd /system/xbin &nbsp;mv su osu &nbsp;</p><p>cat /data/local/su &gt; su &nbsp;</p><p>chmod 6755 su （一起复制）&nbsp;</p><p>2. ls -l *su 3. sync &nbsp;</p><p><br/></p><p>大功告成看看root了没有</p><p><br/></p>','2015-10-05 16:05:03','2015-10-06 00:07:21'),(666,'192.168.2.200',69,'ESP8266简单的串口和定时器','<p style=\"border: 0px; margin-top: 0px; margin-bottom: 24px; padding: 0px; vertical-align: baseline; color: rgb(51, 51, 51); font-family: Georgia, &#39;Bitstream Charter&#39;, serif; line-height: 24px; white-space: normal; background: rgb(255, 255, 255);\">ESP8266共有两组UART接⼝，分别为：<br/>UART0:<br/>U0TXD: pin26(U0TXD)<br/>U0RXD: pin25(U0RXD)<br/>U0CTS: pin12(MTCK)<br/>U0RTS: pin13(MTDO)<br/>UART1:<br/>U1TXD: pin14(GPIO2)</p><p style=\"border: 0px; margin-top: 0px; margin-bottom: 24px; padding: 0px; vertical-align: baseline; color: rgb(51, 51, 51); font-family: Georgia, &#39;Bitstream Charter&#39;, serif; line-height: 24px; white-space: normal; background: rgb(255, 255, 255);\">UART0作为数据通信接⼝口，UART1作为debug信息的打印。不过在最新发布的SDK1.0.1中，debug信息的默认打印也改到通过UART0接口了，可以直接利用os_printf()进行信息输出。当你想通过UART1输出debug信息时，通过以下接⼝可以设置从uart0或者uart1口输出打印。void UART_SetPrintPort(uint8 uart_no);<span id=\"more-986\" style=\"border: 0px; margin: 0px; padding: 0px; vertical-align: baseline; background: transparent;\"></span></p><p style=\"border: 0px; margin-top: 0px; margin-bottom: 24px; padding: 0px; vertical-align: baseline; color: rgb(51, 51, 51); font-family: Georgia, &#39;Bitstream Charter&#39;, serif; line-height: 24px; white-space: normal; background: rgb(255, 255, 255);\">由于ESP8266的开发环境没有在线调试功能，所以利用os_printf()进行信息输出在程序调试过程中尤为重要。</p><p>----------------------------------------------------------------</p><p>/*</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>串口发送举例</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>www.tansoo.cn</p><p>*/</p><p><br/></p><p>#include &lt;ets_sys.h&gt;</p><p>#include &lt;osapi.h&gt;</p><p>#include &lt;os_type.h&gt;</p><p>#include &lt;gpio.h&gt;</p><p>#include &quot;driver/uart.h&quot;</p><p><br/></p><p>//定义一个时间定时器变量hello_timer</p><p>LOCAL os_timer_t hello_timer;</p><p><br/></p><p>LOCAL void ICACHE_FLASH_ATTR hello_cb(void *arg)</p><p>{</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>os_printf(&quot;Hello World!\r\n&quot;);</p><p>}</p><p><br/></p><p>void user_init(void)</p><p>{</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>// 设置 UART0与UART1的通讯速率</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>uart_init(BIT_RATE_115200, BIT_RATE_115200);</p><p><br/></p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>//UART_SetPrintPort(UART1); &nbsp;// SDK V1.0.1 有效；</p><p><br/></p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>// 取消（停止）定时器hello_timer</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>os_timer_disarm(&amp;hello_timer);</p><p><br/></p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>// 将时间定时器变量hello_timer关联到一个函数hello_cb（），这个函数会在到达定时时间时执行一次，</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>os_timer_setfn(&amp;hello_timer, (os_timer_func_t *)hello_cb, (void *)0);</p><p><br/></p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>// 设置时间定时器变量hello_timer的时间周期为3秒钏，第三个参数为0时，hello_cb（）只会执行一次，当为1时，hello_cb（）会循环执行。</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>os_timer_arm(&amp;hello_timer, 3000, 1);</p><p>}</p><p><br/></p>','2015-10-13 03:05:30','2015-10-15 22:46:38'),(667,'192.168.2.200',69,'DEMO例子','<p><a href=\"http://bbs.espressif.com/viewforum.php?f=31&amp;sid=d963c9de9d1a06ad4c79378509b4be51\">http://bbs.espressif.com/viewforum.php?f=31&amp;sid=d963c9de9d1a06ad4c79378509b4be51</a></p><p>&nbsp;</p><p>模块型号</p><p><a href=\"http://bbs.ai-thinker.com/forum.php?mod=viewthread&amp;tid=641&amp;extra=page%3D1\">http://bbs.ai-thinker.com/forum.php?mod=viewthread&amp;tid=641&amp;extra=page%3D1</a></p>','2015-10-14 01:31:10','2015-11-27 12:46:35'),(668,'192.168.3.1',69,'ESP8266 as TCP server for STA_And_AP','<pre class=\"brush:cpp;toolbar:false\">‍‍\r\n#include&nbsp;&quot;ets_sys.h&quot;\r\n#include&nbsp;&quot;osapi.h&quot;\r\n#include&nbsp;&quot;user_interface.h&quot;\r\n#include&nbsp;&quot;espconn.h&quot;\r\n#include&nbsp;&quot;driver/uart.h&quot;\r\n\r\nLOCAL&nbsp;struct&nbsp;espconn&nbsp;esp_conn;\r\nLOCAL&nbsp;esp_tcp&nbsp;esptcp;\r\nLOCAL&nbsp;os_timer_t&nbsp;test_timer;\r\n#define&nbsp;SERVER_LOCAL_PORT&nbsp;&nbsp;&nbsp;8080\r\n\r\n/*****************************************************************************\r\n&nbsp;*&nbsp;FunctionName&nbsp;:&nbsp;tcp_server_sent_cb\r\n&nbsp;*&nbsp;Description&nbsp;&nbsp;:&nbsp;data&nbsp;sent&nbsp;callback.\r\n&nbsp;*&nbsp;Parameters&nbsp;&nbsp;&nbsp;:&nbsp;arg&nbsp;--&nbsp;Additional&nbsp;argument&nbsp;to&nbsp;pass&nbsp;to&nbsp;the&nbsp;callback&nbsp;function\r\n&nbsp;*&nbsp;Returns&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;none\r\n*******************************************************************************/\r\nLOCAL&nbsp;void&nbsp;ICACHE_FLASH_ATTR\r\ntcp_server_sent_cb(void&nbsp;*arg)\r\n{\r\n&nbsp;&nbsp;&nbsp;//data&nbsp;sent&nbsp;successfully\r\n&nbsp;&nbsp;&nbsp;&nbsp;os_printf(&quot;tcp&nbsp;sent&nbsp;cb&nbsp;&quot;);\r\n}\r\n/******************************************************************************\r\n&nbsp;*&nbsp;FunctionName&nbsp;:&nbsp;tcp_server_recv_cb\r\n&nbsp;*&nbsp;Description&nbsp;&nbsp;:&nbsp;receive&nbsp;callback.\r\n&nbsp;*&nbsp;Parameters&nbsp;&nbsp;&nbsp;:&nbsp;arg&nbsp;--&nbsp;Additional&nbsp;argument&nbsp;to&nbsp;pass&nbsp;to&nbsp;the&nbsp;callback&nbsp;function\r\n&nbsp;*&nbsp;Returns&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;none\r\n*******************************************************************************/\r\nLOCAL&nbsp;void&nbsp;ICACHE_FLASH_ATTR\r\ntcp_server_recv_cb(void&nbsp;*arg,&nbsp;char&nbsp;*pusrdata,&nbsp;unsigned&nbsp;short&nbsp;length)\r\n{\r\n&nbsp;&nbsp;&nbsp;//received&nbsp;some&nbsp;data&nbsp;from&nbsp;tcp&nbsp;connection\r\n&nbsp;&nbsp;&nbsp;struct&nbsp;espconn&nbsp;*pespconn&nbsp;=&nbsp;arg;\r\n&nbsp;&nbsp;&nbsp;os_printf(&quot;tcp&nbsp;recv&nbsp;:&nbsp;%s&nbsp;&quot;,&nbsp;pusrdata);\r\n&nbsp;&nbsp;&nbsp;espconn_sent(pespconn,&nbsp;pusrdata,&nbsp;length);\r\n}\r\n/******************************************************************************\r\n&nbsp;*&nbsp;FunctionName&nbsp;:&nbsp;tcp_server_discon_cb\r\n&nbsp;*&nbsp;Description&nbsp;&nbsp;:&nbsp;disconnect&nbsp;callback.\r\n&nbsp;*&nbsp;Parameters&nbsp;&nbsp;&nbsp;:&nbsp;arg&nbsp;--&nbsp;Additional&nbsp;argument&nbsp;to&nbsp;pass&nbsp;to&nbsp;the&nbsp;callback&nbsp;function\r\n&nbsp;*&nbsp;Returns&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;none\r\n*******************************************************************************/\r\nLOCAL&nbsp;void&nbsp;ICACHE_FLASH_ATTR\r\ntcp_server_discon_cb(void&nbsp;*arg)\r\n{\r\n&nbsp;&nbsp;&nbsp;//tcp&nbsp;disconnect&nbsp;successfully\r\n&nbsp;&nbsp;&nbsp;&nbsp;os_printf(&quot;tcp&nbsp;disconnect&nbsp;succeed&nbsp;!!!&nbsp;&quot;);\r\n}\r\n/******************************************************************************\r\n&nbsp;*&nbsp;FunctionName&nbsp;:&nbsp;tcp_server_recon_cb\r\n&nbsp;*&nbsp;Description&nbsp;&nbsp;:&nbsp;reconnect&nbsp;callback,&nbsp;error&nbsp;occured&nbsp;in&nbsp;TCP&nbsp;connection.\r\n&nbsp;*&nbsp;Parameters&nbsp;&nbsp;&nbsp;:&nbsp;arg&nbsp;--&nbsp;Additional&nbsp;argument&nbsp;to&nbsp;pass&nbsp;to&nbsp;the&nbsp;callback&nbsp;function\r\n&nbsp;*&nbsp;Returns&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;none\r\n*******************************************************************************/\r\nLOCAL&nbsp;void&nbsp;ICACHE_FLASH_ATTR\r\ntcp_server_recon_cb(void&nbsp;*arg,&nbsp;sint8&nbsp;err)\r\n{\r\n&nbsp;&nbsp;&nbsp;//error&nbsp;occured&nbsp;,&nbsp;tcp&nbsp;connection&nbsp;broke.&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;os_printf(&quot;reconnect&nbsp;callback,&nbsp;error&nbsp;code&nbsp;%d&nbsp;!!!&nbsp;&quot;,err);\r\n}\r\nLOCAL&nbsp;void&nbsp;tcp_server_mutli_sent(void)\r\n{\r\n&nbsp;&nbsp;&nbsp;struct&nbsp;espconn&nbsp;*pesp_conn&nbsp;=&nbsp;&amp;esp_conn;\r\n&nbsp;&nbsp;&nbsp;remot_info&nbsp;*premot&nbsp;=&nbsp;NULL;\r\n&nbsp;&nbsp;&nbsp;uint8&nbsp;count&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;sint8&nbsp;value&nbsp;=&nbsp;ESPCONN_OK;\r\n&nbsp;&nbsp;&nbsp;if&nbsp;(espconn_get_connection_info(pesp_conn,&amp;premot,0)&nbsp;==&nbsp;ESPCONN_OK)\r\n&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;*pbuf&nbsp;=&nbsp;&quot;tcp_server_mutli_sent&nbsp;&quot;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(count&nbsp;=&nbsp;0;&nbsp;count&nbsp;&lt;&nbsp;pesp_conn-&gt;link_cnt;&nbsp;count&nbsp;++){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pesp_conn-&gt;proto.tcp-&gt;remote_port&nbsp;=&nbsp;premot[count].remote_port;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pesp_conn-&gt;proto.tcp-&gt;remote_ip[0]&nbsp;=&nbsp;premot-&gt;remote_ip[0];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pesp_conn-&gt;proto.tcp-&gt;remote_ip[1]&nbsp;=&nbsp;premot-&gt;remote_ip[1];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pesp_conn-&gt;proto.tcp-&gt;remote_ip[2]&nbsp;=&nbsp;premot-&gt;remote_ip[2];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pesp_conn-&gt;proto.tcp-&gt;remote_ip[3]&nbsp;=&nbsp;premot-&gt;remote_ip[3];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;os_memcpy(pesp_conn-&gt;proto.tcp-&gt;remote_ip,&nbsp;premot-&gt;remote_ip);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;espconn_sent(pesp_conn,&nbsp;pbuf,&nbsp;os_strlen(pbuf));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;}\r\n}\r\n/******************************************************************************\r\n&nbsp;*&nbsp;FunctionName&nbsp;:&nbsp;tcp_server_listen\r\n&nbsp;*&nbsp;Description&nbsp;&nbsp;:&nbsp;TCP&nbsp;server&nbsp;listened&nbsp;a&nbsp;connection&nbsp;successfully\r\n&nbsp;*&nbsp;Parameters&nbsp;&nbsp;&nbsp;:&nbsp;arg&nbsp;--&nbsp;Additional&nbsp;argument&nbsp;to&nbsp;pass&nbsp;to&nbsp;the&nbsp;callback&nbsp;function\r\n&nbsp;*&nbsp;Returns&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;none\r\n*******************************************************************************/\r\nLOCAL&nbsp;void&nbsp;ICACHE_FLASH_ATTR\r\ntcp_server_listen(void&nbsp;*arg)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;struct&nbsp;espconn&nbsp;*pesp_conn&nbsp;=&nbsp;arg;\r\n&nbsp;&nbsp;&nbsp;&nbsp;os_printf(&quot;tcp_server_listen&nbsp;!!!&nbsp;&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;espconn_regist_recvcb(pesp_conn,&nbsp;tcp_server_recv_cb);\r\n&nbsp;&nbsp;&nbsp;&nbsp;espconn_regist_reconcb(pesp_conn,&nbsp;tcp_server_recon_cb);\r\n&nbsp;&nbsp;&nbsp;&nbsp;espconn_regist_disconcb(pesp_conn,&nbsp;tcp_server_discon_cb);&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;espconn_regist_sentcb(pesp_conn,&nbsp;tcp_server_sent_cb);\r\n&nbsp;&nbsp;&nbsp;&nbsp;tcp_server_mutli_sent();\r\n}\r\n/******************************************************************************\r\n*&nbsp;FunctionName&nbsp;:&nbsp;user_tcpserver_init\r\n*&nbsp;Description&nbsp;&nbsp;:&nbsp;parameter&nbsp;initialize&nbsp;as&nbsp;a&nbsp;TCP&nbsp;server\r\n*&nbsp;Parameters&nbsp;&nbsp;&nbsp;:&nbsp;port&nbsp;--&nbsp;server&nbsp;port\r\n*&nbsp;Returns&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;none\r\n*******************************************************************************/\r\nvoid&nbsp;ICACHE_FLASH_ATTR\r\nuser_tcpserver_init(uint32&nbsp;port)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;esp_conn.type&nbsp;=&nbsp;ESPCONN_TCP;\r\n&nbsp;&nbsp;&nbsp;&nbsp;esp_conn.state&nbsp;=&nbsp;ESPCONN_NONE;\r\n&nbsp;&nbsp;&nbsp;&nbsp;esp_conn.proto.tcp&nbsp;=&nbsp;&amp;esptcp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;esp_conn.proto.tcp-&gt;local_port&nbsp;=&nbsp;port;\r\n&nbsp;&nbsp;&nbsp;&nbsp;espconn_regist_connectcb(&amp;esp_conn,&nbsp;tcp_server_listen);\r\n&nbsp;&nbsp;&nbsp;&nbsp;sint8&nbsp;ret&nbsp;=&nbsp;espconn_accept(&amp;esp_conn);\r\n&nbsp;&nbsp;&nbsp;&nbsp;os_printf(&quot;espconn_accept&nbsp;[%d]&nbsp;!!!&nbsp;&quot;,&nbsp;ret);\r\n}\r\n\r\n/******************************************************************************\r\n*&nbsp;FunctionName&nbsp;:&nbsp;user_esp_platform_check_ip\r\n*&nbsp;Description&nbsp;&nbsp;:&nbsp;check&nbsp;whether&nbsp;get&nbsp;ip&nbsp;addr&nbsp;or&nbsp;not\r\n*&nbsp;Parameters&nbsp;&nbsp;&nbsp;:&nbsp;none\r\n*&nbsp;Returns&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;none\r\n*******************************************************************************/\r\nvoid&nbsp;ICACHE_FLASH_ATTR\r\nuser_esp_platform_check_ip(void)\r\n{\r\nstruct&nbsp;ip_info&nbsp;ipconfig;\r\n//disarm&nbsp;timer&nbsp;first\r\nos_timer_disarm(&amp;test_timer);\r\n//get&nbsp;ip&nbsp;info&nbsp;of&nbsp;ESP8266&nbsp;station\r\n&nbsp;&nbsp;&nbsp;&nbsp;wifi_get_ip_info(STATION_IF,&nbsp;&amp;ipconfig);\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(wifi_station_get_connect_status()&nbsp;==&nbsp;STATION_GOT_IP&nbsp;&amp;&amp;&nbsp;ipconfig.ip.addr&nbsp;!=&nbsp;0)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os_printf(&quot;got&nbsp;ip&nbsp;!!!&nbsp;&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user_tcpserver_init(SERVER_LOCAL_PORT);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;\r\nelse&nbsp;\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((wifi_station_get_connect_status()&nbsp;==&nbsp;STATION_WRONG_PASSWORD&nbsp;||\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wifi_station_get_connect_status()&nbsp;==&nbsp;STATION_NO_AP_FOUND&nbsp;||\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wifi_station_get_connect_status()&nbsp;==&nbsp;STATION_CONNECT_FAIL))\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os_printf(&quot;connect&nbsp;fail&nbsp;!!!&nbsp;&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//re-arm&nbsp;timer&nbsp;to&nbsp;check&nbsp;ip\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os_timer_setfn(&amp;test_timer,&nbsp;(os_timer_func_t&nbsp;*)user_esp_platform_check_ip,&nbsp;NULL);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os_timer_arm(&amp;test_timer,&nbsp;100,&nbsp;0);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}\r\n/******************************************************************************\r\n&nbsp;*&nbsp;FunctionName&nbsp;:&nbsp;user_set_station_config\r\n&nbsp;*&nbsp;Description&nbsp;&nbsp;:&nbsp;set&nbsp;the&nbsp;router&nbsp;info&nbsp;which&nbsp;ESP8266&nbsp;station&nbsp;will&nbsp;connect&nbsp;to&nbsp;\r\n&nbsp;*&nbsp;Parameters&nbsp;&nbsp;&nbsp;:&nbsp;none\r\n&nbsp;*&nbsp;Returns&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;none\r\n*******************************************************************************/\r\nvoid&nbsp;ICACHE_FLASH_ATTR\r\nuser_set_station_config(char*SSID,char*passwd)\r\n{\r\n//&nbsp;Wifi&nbsp;configuration&nbsp;\r\nchar&nbsp;ssid[32];&nbsp;\r\nchar&nbsp;password[64];&nbsp;\r\nstruct&nbsp;station_config&nbsp;stationConf;&nbsp;\r\nstrcpy(ssid,SSID);\r\nstrcpy(password,passwd);\r\n//need&nbsp;not&nbsp;mac&nbsp;address\r\nstationConf.bssid_set&nbsp;=&nbsp;0;&nbsp;\r\n//stationConf.bssid&nbsp;is&nbsp;mac&nbsp;addr&nbsp;to&nbsp;WDS\r\n//Set&nbsp;ap&nbsp;settings&nbsp;\r\nos_memcpy(&amp;stationConf.ssid,&nbsp;ssid,&nbsp;32);&nbsp;\r\nos_memcpy(&amp;stationConf.password,&nbsp;password,&nbsp;64);&nbsp;\r\nwifi_station_set_config(&amp;stationConf);&nbsp;\r\n//set&nbsp;a&nbsp;timer&nbsp;to&nbsp;check&nbsp;whether&nbsp;got&nbsp;ip&nbsp;from&nbsp;router&nbsp;succeed&nbsp;or&nbsp;not.\r\nos_timer_disarm(&amp;test_timer);\r\nos_timer_setfn(&amp;test_timer,&nbsp;(os_timer_func_t&nbsp;*)user_esp_platform_check_ip,&nbsp;NULL);\r\nos_timer_arm(&amp;test_timer,&nbsp;100,&nbsp;0);\r\n}\r\n/******************************************************************************\r\n*&nbsp;FunctionName&nbsp;:&nbsp;user_init\r\n*&nbsp;Description&nbsp;&nbsp;:&nbsp;entry&nbsp;of&nbsp;user&nbsp;application,&nbsp;init&nbsp;user&nbsp;function&nbsp;here\r\n*&nbsp;Parameters&nbsp;&nbsp;&nbsp;:&nbsp;none\r\n*&nbsp;Returns&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;none\r\n*******************************************************************************/\r\nvoid&nbsp;user_init(void)\r\n{\r\n&nbsp;&nbsp;&nbsp;uart_init(BIT_RATE_115200,&nbsp;BIT_RATE_115200);\r\n&nbsp;&nbsp;&nbsp;//printf&nbsp;init&nbsp;message&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os_printf(&quot;\r\n&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os_printf(&quot;version:%s\r\n&quot;,system_get_sdk_version());\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os_printf(&quot;copyright:www.hanzhihong.cn\r\n&quot;);\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//Set&nbsp;station&nbsp;mode&nbsp;\r\n&nbsp;&nbsp;&nbsp;wifi_set_opmode(STATIONAP_MODE);&nbsp;\r\n&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;//&nbsp;ESP8266&nbsp;connect&nbsp;to&nbsp;router.\r\n&nbsp;&nbsp;&nbsp;user_set_station_config(&quot;hzh_wifi&quot;,&quot;&quot;);\r\n}\r\n‍‍</pre>','2015-10-14 01:33:36','2015-10-14 14:00:03'),(669,'192.168.2.200',23,'js复制到粘贴板','<p>//复制到粘贴板</p><p>function copyData(copyText) {</p><p>&nbsp; &nbsp;window.clipboardData.setData(&quot;Text&quot;,copyText);&nbsp;</p><p>}&nbsp;</p><p>copyData(document.getElementById(&quot;ctl00_cpRight_txtUrl&quot;).value);</p><p><br/></p>','2015-10-14 01:58:57','2015-10-14 09:58:57'),(670,'192.168.1.51',69,'WIFI工作模式设置','<pre class=\"brush:cpp;toolbar:false\">LOCAL&nbsp;os_timer_t&nbsp;test_timer;\r\n&nbsp;\r\n/******************************************************************************\r\n*&nbsp;FunctionName&nbsp;:&nbsp;user_esp_platform_check_ip\r\n*&nbsp;Description&nbsp;&nbsp;:&nbsp;check&nbsp;whether&nbsp;get&nbsp;ip&nbsp;addr&nbsp;or&nbsp;not\r\n*&nbsp;Parameters&nbsp;&nbsp;&nbsp;:&nbsp;none\r\n*&nbsp;Returns&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:\r\n&nbsp;0=ok\r\n&nbsp;not&nbsp;0=fail\r\n*******************************************************************************/\r\nvoid&nbsp;ICACHE_FLASH_ATTR&nbsp;user_esp_platform_check_ip(void)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;struct&nbsp;ip_info&nbsp;ipconfig;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//disarm&nbsp;timer&nbsp;first\r\n&nbsp;&nbsp;&nbsp;&nbsp;os_timer_disarm(&amp;test_timer);\r\n&nbsp;&nbsp;&nbsp;&nbsp;//get&nbsp;ip&nbsp;info&nbsp;of&nbsp;ESP8266&nbsp;station\r\n&nbsp;&nbsp;&nbsp;&nbsp;wifi_get_ip_info(STATION_IF,&nbsp;&amp;ipconfig);\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(wifi_station_get_connect_status()&nbsp;==&nbsp;STATION_GOT_IP&nbsp;&amp;&amp;&nbsp;ipconfig.ip.addr&nbsp;!=&nbsp;0)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os_printf(&quot;got&nbsp;ip&nbsp;!!!&nbsp;&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((wifi_station_get_connect_status()&nbsp;==&nbsp;STATION_WRONG_PASSWORD&nbsp;||\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wifi_station_get_connect_status()&nbsp;==&nbsp;STATION_NO_AP_FOUND&nbsp;||\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wifi_station_get_connect_status()&nbsp;==&nbsp;STATION_CONNECT_FAIL))\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//os_printf(&quot;connect&nbsp;fail&nbsp;!!!&nbsp;[#ue_pole#n]&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//os_printf(&quot;re-arm&nbsp;timer&nbsp;to&nbsp;check&nbsp;ip[#ue_pole#n]&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;//re-arm&nbsp;timer&nbsp;to&nbsp;check&nbsp;ip\r\n&nbsp;&nbsp;&nbsp;&nbsp;os_timer_setfn(&amp;uwork_timer,&nbsp;(os_timer_func_t&nbsp;*)uwork_esp_platform_check_ip,&nbsp;NULL);\r\n&nbsp;&nbsp;&nbsp;&nbsp;os_timer_arm(&amp;uwork_timer,&nbsp;1000,&nbsp;0);\r\n}\r\n/******************************************************************************\r\n&nbsp;*&nbsp;FunctionName&nbsp;:&nbsp;user_set_station_config\r\n&nbsp;*&nbsp;Description&nbsp;&nbsp;:&nbsp;set&nbsp;the&nbsp;router&nbsp;info&nbsp;which&nbsp;ESP8266&nbsp;station&nbsp;will&nbsp;connect&nbsp;to&nbsp;\r\n&nbsp;*&nbsp;Parameters&nbsp;&nbsp;&nbsp;:&nbsp;none\r\n&nbsp;*&nbsp;Returns&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;none\r\n*******************************************************************************/\r\nint&nbsp;ICACHE_FLASH_ATTR&nbsp;uwork_set_ap_config(char*SSID,AUTH_MODE&nbsp;auth,char*passwd)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;struct&nbsp;softap_config&nbsp;config={0};\r\n&nbsp;&nbsp;&nbsp;&nbsp;struct&nbsp;ip_info&nbsp;ipinfo;\r\n&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;ssid[32]={0};&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;password[64]={0};\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(0==strlen(SSID))\r\n&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;return&nbsp;1;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(auth!=0&nbsp;&amp;&amp;&nbsp;strlen(passwd)&lt;8)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;return&nbsp;2;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;os_printf(&quot;user&nbsp;init&nbsp;wifi&nbsp;for&nbsp;ap&nbsp;SSID=%s&nbsp;&quot;,SSID);\r\n&nbsp;&nbsp;&nbsp;&nbsp;wifi_set_opmode(SOFTAP_MODE);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;strcpy(ssid,SSID);\r\n&nbsp;&nbsp;&nbsp;&nbsp;strcpy(password,passwd);\r\n&nbsp;&nbsp;&nbsp;&nbsp;wifi_softap_get_config(&amp;config);&nbsp;//&nbsp;Get&nbsp;config&nbsp;first.&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;os_memcpy(&amp;config.ssid,&nbsp;ssid,&nbsp;32);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;os_memcpy(&amp;config.password,&nbsp;password,&nbsp;64);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;config.authmode&nbsp;=&nbsp;auth;\r\n&nbsp;&nbsp;&nbsp;&nbsp;config.ssid_len&nbsp;=&nbsp;strlen(config.ssid);//&nbsp;or&nbsp;its&nbsp;actual&nbsp;length\r\n&nbsp;&nbsp;&nbsp;&nbsp;config.max_connection&nbsp;=&nbsp;1;&nbsp;//max&nbsp;4&nbsp;how&nbsp;many&nbsp;stations&nbsp;can&nbsp;connect&nbsp;to&nbsp;ESP8266&nbsp;softAP&nbsp;at&nbsp;most.\r\n&nbsp;&nbsp;&nbsp;&nbsp;//set&nbsp;ip&nbsp;address\r\n&nbsp;&nbsp;&nbsp;&nbsp;wifi_softap_dhcps_stop();\r\n&nbsp;&nbsp;&nbsp;&nbsp;IP4_ADDR(&amp;ipinfo.ip,192,168,1,1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;IP4_ADDR(&amp;ipinfo.netmask,255,255,255,0);\r\n&nbsp;&nbsp;&nbsp;&nbsp;IP4_ADDR(&amp;ipinfo.gw,192,168,1,1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;wifi_set_ip_info(SOFTAP_IF,&amp;ipinfo);\r\n&nbsp;&nbsp;&nbsp;&nbsp;wifi_softap_set_config(&amp;config);//&nbsp;Set&nbsp;ESP8266&nbsp;softap&nbsp;config&nbsp;.\r\n&nbsp;&nbsp;&nbsp;&nbsp;wifi_softap_dhcps_start();\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;0;\r\n}\r\n&nbsp;\r\nint&nbsp;ICACHE_FLASH_ATTR&nbsp;uwork_set_station_config(char*SSID,char*passwd)\r\n{\r\n//&nbsp;Wifi&nbsp;configuration&nbsp;\r\nchar&nbsp;ssid[32]={0};&nbsp;\r\nchar&nbsp;password[64]={0};&nbsp;\r\nstruct&nbsp;station_config&nbsp;stationConf={0};&nbsp;\r\n&nbsp;\r\nif(0==strlen(SSID))\r\n{&nbsp;return&nbsp;1;&nbsp;}\r\n\r\nos_printf(&quot;init&nbsp;wifi&nbsp;for&nbsp;station&nbsp;&quot;);\r\n//Set&nbsp;&nbsp;station&nbsp;mode&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;wifi_set_opmode(STATION_MODE);&nbsp;\r\n&nbsp;\r\nstrcpy(ssid,SSID);\r\nstrcpy(password,passwd);\r\n&nbsp;\r\n//need&nbsp;not&nbsp;mac&nbsp;address\r\nstationConf.bssid_set&nbsp;=&nbsp;0;&nbsp;\r\n//stationConf.bssid&nbsp;is&nbsp;mac&nbsp;addr&nbsp;to&nbsp;WDS\r\n&nbsp;\r\n//Set&nbsp;ap&nbsp;settings&nbsp;\r\nos_memcpy(&amp;stationConf.ssid,&nbsp;ssid,&nbsp;32);&nbsp;\r\nos_memcpy(&amp;stationConf.password,&nbsp;password,&nbsp;64);&nbsp;\r\nwifi_station_set_config(&amp;stationConf);\r\n//set&nbsp;a&nbsp;timer&nbsp;to&nbsp;check&nbsp;whether&nbsp;got&nbsp;ip&nbsp;from&nbsp;router&nbsp;succeed&nbsp;or&nbsp;not.\r\nos_timer_disarm(&amp;uwork_timer);\r\nos_timer_setfn(&amp;uwork_timer,&nbsp;(os_timer_func_t&nbsp;*)uwork_esp_platform_check_ip,&nbsp;NULL);\r\nos_timer_arm(&amp;uwork_timer,&nbsp;100,&nbsp;0);\r\nreturn&nbsp;0;\r\n}\r\n&nbsp;\r\n\r\nint&nbsp;ICACHE_FLASH_ATTR&nbsp;uwork_set_staap_config(char*sta_ssid,char*&nbsp;sta_pwd,char*ap_ssid,AUTH_MODE&nbsp;auth,char*wifipwd)\r\n{\r\n&nbsp;//&nbsp;Wifi&nbsp;configuration&nbsp;\r\n&nbsp;char&nbsp;ssid[32]={0};&nbsp;\r\n&nbsp;char&nbsp;brg_ssid[32]={0};&nbsp;\r\n&nbsp;char&nbsp;wpwd[64]={0};&nbsp;\r\n&nbsp;char&nbsp;tpwd[64]={0};&nbsp;\r\n&nbsp;struct&nbsp;ip_info&nbsp;ipinfo;\r\n&nbsp;struct&nbsp;softap_config&nbsp;config={0};\r\n&nbsp;struct&nbsp;station_config&nbsp;stationConf={0};\r\n&nbsp;if(0==strlen(sta_ssid))\r\n&nbsp;{\r\n&nbsp;&nbsp;os_printf(&quot;uwork_set_staap_config&nbsp;sta_ssid&nbsp;is&nbsp;NULL&quot;);\r\n&nbsp;&nbsp;return&nbsp;1;&nbsp;\r\n&nbsp;}\r\n&nbsp;if(0==strlen(ap_ssid))\r\n&nbsp;{\r\n&nbsp;&nbsp;os_printf(&quot;uwork_set_staap_config&nbsp;ap_ssid&nbsp;is&nbsp;NULL&quot;);\r\n&nbsp;&nbsp;return&nbsp;1;&nbsp;\r\n&nbsp;}\r\n&nbsp;os_printf(&quot;init&nbsp;wifi&nbsp;for&nbsp;staap&quot;);\r\n&nbsp;//Set&nbsp;&nbsp;station&nbsp;mode&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;wifi_set_opmode(STATIONAP_MODE);&nbsp;\r\n&nbsp;strcpy(ssid,ap_ssid);\r\n&nbsp;strcpy(brg_ssid,sta_ssid);\r\n&nbsp;strcpy(wpwd,wifipwd);\r\n&nbsp;strcpy(tpwd,sta_pwd);\r\n&nbsp;//need&nbsp;not&nbsp;mac&nbsp;address\r\n&nbsp;stationConf.bssid_set&nbsp;=&nbsp;0;\r\n&nbsp;//Set&nbsp;sta&nbsp;settings&nbsp;\r\n&nbsp;os_memcpy(&amp;stationConf.ssid,&nbsp;brg_ssid,&nbsp;32);&nbsp;\r\n&nbsp;os_memcpy(&amp;stationConf.password,&nbsp;tpwd,&nbsp;64);&nbsp;\r\n&nbsp;wifi_station_set_config(&amp;stationConf);&nbsp;&nbsp;\r\n&nbsp;\r\n&nbsp;//////////////////////////////\r\n&nbsp;wifi_softap_get_config(&amp;config);&nbsp;//&nbsp;Get&nbsp;config&nbsp;first.&nbsp;&nbsp;&nbsp;\r\n&nbsp;os_memcpy(&amp;config.ssid,&nbsp;ssid,&nbsp;32);&nbsp;\r\n&nbsp;os_memcpy(&amp;config.password,&nbsp;wpwd,&nbsp;64);&nbsp;\r\n&nbsp;config.authmode&nbsp;=&nbsp;auth;\r\n&nbsp;config.ssid_len&nbsp;=&nbsp;strlen(config.ssid);//&nbsp;or&nbsp;its&nbsp;actual&nbsp;length\r\n&nbsp;config.max_connection&nbsp;=&nbsp;1;&nbsp;//max&nbsp;4&nbsp;how&nbsp;many&nbsp;stations&nbsp;can&nbsp;connect&nbsp;to&nbsp;ESP8266&nbsp;softAP&nbsp;at&nbsp;most.\r\n&nbsp;\r\n&nbsp;//set&nbsp;ip&nbsp;address\r\n&nbsp;wifi_softap_dhcps_stop();\r\n&nbsp;IP4_ADDR(&amp;ipinfo.ip,192,168,8,1);\r\n&nbsp;IP4_ADDR(&amp;ipinfo.netmask,255,255,255,0);\r\n&nbsp;IP4_ADDR(&amp;ipinfo.gw,192,168,8,1);\r\n&nbsp;wifi_set_ip_info(SOFTAP_IF,&amp;ipinfo);\r\n&nbsp;wifi_softap_dhcps_start();\r\n&nbsp;wifi_softap_set_config(&amp;config);//&nbsp;Set&nbsp;ESP8266&nbsp;softap&nbsp;config&nbsp;.\r\n&nbsp;\r\n&nbsp;//set&nbsp;a&nbsp;timer&nbsp;to&nbsp;check&nbsp;whether&nbsp;got&nbsp;ip&nbsp;from&nbsp;router&nbsp;succeed&nbsp;or&nbsp;not.\r\n&nbsp;os_timer_disarm(&amp;uwork_timer);\r\n&nbsp;os_timer_setfn(&amp;uwork_timer,&nbsp;(os_timer_func_t&nbsp;*)uwork_esp_platform_check_ip,&nbsp;NULL);\r\n&nbsp;os_timer_arm(&amp;uwork_timer,&nbsp;100,&nbsp;0);&nbsp;\r\n&nbsp;return&nbsp;0;\r\n}</pre>','2015-10-14 05:59:36','2016-10-24 04:14:31'),(671,'192.168.2.100',69,'udp组播','<p>//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////</p><p>//.h文件</p><p>&nbsp;</p><p>#ifndef __USER_WORK_SERVICE_MULT_UDP_H__</p><p><br/>#include &lt;ets_sys.h&gt;<br/>#include &lt;c_types.h&gt;<br/>#include &lt;osapi.h&gt;<br/>#include &lt;user_interface.h&gt;<br/>#include &lt;espconn.h&gt;<br/>#include &lt;driver/uart.h&gt;<br/>#include &lt;driver/spi.h&gt;<br/>#include &quot;data_struct.h&quot;<br/>#include &lt;mem.h&gt;</p><p>/******************************************************************************<br/>&nbsp;* FunctionName : user_devicefind_recv<br/>&nbsp;* Description&nbsp; : Processing the received udp packet<br/>&nbsp;* Parameters&nbsp;&nbsp; : arg -- Additional argument to pass to the callback function<br/>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pusrdata -- The received data (or NULL when the connection has been closed!)<br/>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; length -- The length of received data<br/>&nbsp;* Returns&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : none<br/>*******************************************************************************/<br/>LOCAL void ICACHE_FLASH_ATTR<br/>uwork_service_udp_recv(void *arg, char *pusrdata, unsigned short length);</p><p>//UDP发送<br/>sint8 uwork_service_sento_last_recv(char *buf,int len);<br/>sint8 uwork_service_sento(char *buf,int len,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char sendAddr1,char sendAddr2,char sendAddr3,char sendAddr4,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int sendPort);</p><p>/******************************************************************************<br/>&nbsp;* FunctionName : user_devicefind_init<br/>&nbsp;* Description&nbsp; : create a udp listening<br/>&nbsp;* Parameters&nbsp;&nbsp; : bind_port--绑定的端口<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mult_addr1~mult_addr4--ipv4地址<br/>&nbsp;* Returns&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : none<br/>*******************************************************************************/<br/>void ICACHE_FLASH_ATTR<br/>uwork_service_mult_udp_init(uint32 bind_port,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char mult_addr1,char mult_addr2,char mult_addr3,char mult_addr4);</p><p><br/>#define __USER_WORK_SERVICE_MULT_UDP_H__<br/>#endif</p><p>&nbsp;</p><p>//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////</p><p>//.C文件</p><p>#include &quot;uwork_service_mult_udp.h&quot;</p><p>/*---------------------------------------------------------------------------*/<br/>LOCAL struct espconn uwork_mult_ptrespconn;<br/>char g_udpLastRecvIP[4];//最后一次发送的IP<br/>int&nbsp; g_udpLastRecvPort;</p><p>/******************************************************************************<br/>&nbsp;* FunctionName : user_devicefind_recv<br/>&nbsp;* Description&nbsp; : Processing the received udp packet<br/>&nbsp;* Parameters&nbsp;&nbsp; : arg -- Additional argument to pass to the callback function<br/>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pusrdata -- The received data (or NULL when the connection has been closed!)<br/>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; length -- The length of received data<br/>&nbsp;* Returns&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : none<br/>*******************************************************************************/<br/>LOCAL void ICACHE_FLASH_ATTR<br/>uwork_service_udp_recv(void *arg, char *pusrdata, unsigned short length)<br/>{<br/>&nbsp;remot_info *remoteInfo;<br/>&nbsp;struct espconn* pudp=(struct espconn*)arg;<br/>&nbsp;&nbsp;&nbsp; if (pusrdata)<br/>&nbsp;{&nbsp;&nbsp;<br/>&nbsp;&nbsp;espconn_get_connection_info(pudp,&amp;remoteInfo,0);<br/>&nbsp;&nbsp;g_udpLastRecvIP[0]=remoteInfo-&gt;remote_ip[0];<br/>&nbsp;&nbsp;g_udpLastRecvIP[1]=remoteInfo-&gt;remote_ip[1];<br/>&nbsp;&nbsp;g_udpLastRecvIP[2]=remoteInfo-&gt;remote_ip[2];<br/>&nbsp;&nbsp;g_udpLastRecvIP[3]=remoteInfo-&gt;remote_ip[3];<br/>&nbsp;&nbsp;g_udpLastRecvPort=remoteInfo-&gt;remote_port;<br/>&nbsp;}<br/>&nbsp;else<br/>&nbsp;{ return;}<br/>&nbsp;<br/>&nbsp;//received device find message<br/>&nbsp;char DeviceBuffer[120] = {0};<br/>&nbsp;os_sprintf(DeviceBuffer, &quot;%s------%d.%d.%d.%d:%d\n&quot;, <br/>&nbsp;&nbsp;&nbsp;&nbsp;pusrdata,IP2STR(&amp;remoteInfo-&gt;remote_ip),remoteInfo-&gt;remote_port);<br/>&nbsp;os_printf(&quot;%s&quot;, DeviceBuffer);&nbsp;</p><p>&nbsp;//返回去<br/>&nbsp;uwork_service_sento_last_recv(&quot;abc&quot;,4);<br/>}</p><p>sint8 uwork_service_sento_last_recv(char *buf,int len)<br/>{<br/>&nbsp;os_printf(&quot;uwork_service_sento_last_recv&nbsp; len=%d\n&quot;,len);</p><p>&nbsp;&nbsp;&nbsp;&nbsp; char DeviceBuffer[40] = {0};<br/>&nbsp;&nbsp;&nbsp;&nbsp; char hwaddr[6];<br/>&nbsp;&nbsp;&nbsp;&nbsp; struct ip_info ipconfig;</p><p>&nbsp;&nbsp;&nbsp;&nbsp; const char udp_remote_ip[4] = { g_udpLastRecvIP[0], g_udpLastRecvIP[1], g_udpLastRecvIP[2], g_udpLastRecvIP[3]};&nbsp; <br/>&nbsp;&nbsp;&nbsp;&nbsp; os_memcpy(uwork_mult_ptrespconn.proto.udp-&gt;remote_ip, udp_remote_ip, 4); // ESP8266 udp remote IP need to be set everytime we call espconn_sent<br/>&nbsp;&nbsp;&nbsp;&nbsp; uwork_mult_ptrespconn.proto.udp-&gt;remote_port = g_udpLastRecvPort;&nbsp; // ESP8266 udp remote port need to be set everytime we call espconn_sent</p><p>&nbsp;&nbsp;&nbsp;&nbsp; return espconn_sent(&amp;uwork_mult_ptrespconn, buf, len);<br/>&nbsp;}</p><p>sint8 uwork_service_sento(char *buf,int len,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char sendAddr1,char sendAddr2,char sendAddr3,char sendAddr4,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int sendPort)<br/>{<br/>&nbsp;os_printf(&quot;uwork_service_sento len=%d\n&quot;,len);</p><p>&nbsp;&nbsp;&nbsp;&nbsp; char DeviceBuffer[40] = {0};<br/>&nbsp;&nbsp;&nbsp;&nbsp; char hwaddr[6];<br/>&nbsp;&nbsp;&nbsp;&nbsp; struct ip_info ipconfig;</p><p>&nbsp;&nbsp;&nbsp;&nbsp; const char udp_remote_ip[4] = { sendAddr1, sendAddr2, sendAddr3, sendAddr4};&nbsp; <br/>&nbsp;&nbsp;&nbsp;&nbsp; os_memcpy(uwork_mult_ptrespconn.proto.udp-&gt;remote_ip, udp_remote_ip, 4); // ESP8266 udp remote IP need to be set everytime we call espconn_sent<br/>&nbsp;&nbsp;&nbsp;&nbsp; uwork_mult_ptrespconn.proto.udp-&gt;remote_port = sendPort;&nbsp; // ESP8266 udp remote port need to be set everytime we call espconn_sent<br/>&nbsp; <br/>&nbsp;&nbsp;&nbsp;&nbsp; return espconn_sent(&amp;uwork_mult_ptrespconn, buf, len);<br/>&nbsp;}</p><p>void ICACHE_FLASH_ATTR<br/>uwork_service_mult_udp_init(uint32 bind_port,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char mult_addr1,char mult_addr2,char mult_addr3,char mult_addr4)<br/>{<br/>&nbsp;struct ip_info host_ip;<br/>&nbsp;struct ip_info multicast_ip;</p><p>&nbsp;&nbsp;&nbsp; uwork_mult_ptrespconn.type = ESPCONN_UDP;<br/>&nbsp;&nbsp;&nbsp; uwork_mult_ptrespconn.proto.udp = (esp_udp *)os_zalloc(sizeof(esp_udp));<br/>&nbsp;&nbsp;&nbsp; uwork_mult_ptrespconn.proto.udp-&gt;local_port = bind_port;&nbsp; // ESP8266 udp port<br/>&nbsp;//组播功能----begin<br/>&nbsp;IP4_ADDR(&amp;multicast_ip.ip,mult_addr1,mult_addr2,mult_addr3,mult_addr4);<br/>&nbsp;switch (wifi_get_opmode())<br/>&nbsp;{<br/>&nbsp;case 0x01:<br/>&nbsp;&nbsp;&nbsp;wifi_get_ip_info(SOFTAP_IF, &amp;host_ip);<br/>&nbsp;&nbsp;break;<br/>&nbsp;case 0x02:<br/>&nbsp;&nbsp;&nbsp;wifi_get_ip_info(STATION_IF, &amp;host_ip);<br/>&nbsp;&nbsp;break;<br/>&nbsp;case 0x03:<br/>&nbsp;&nbsp;&nbsp;wifi_get_ip_info(STATION_IF, &amp;host_ip);<br/>&nbsp;&nbsp;break;<br/>&nbsp;}<br/>&nbsp;espconn_igmp_join(&amp;host_ip.ip,&amp;multicast_ip.ip);<br/>&nbsp;//组播功能----end<br/>&nbsp;&nbsp;&nbsp; espconn_regist_recvcb(&amp;uwork_mult_ptrespconn, uwork_service_udp_recv); // register a udp packet receiving callback<br/>&nbsp;&nbsp;&nbsp; espconn_create(&amp;uwork_mult_ptrespconn);&nbsp;&nbsp; // create udp<br/>}<br/></p><p></p>','2015-10-15 05:04:34','2015-10-23 17:19:08'),(672,'192.168.2.200',69,'eeprom读写','<p>&nbsp;</p><pre class=\"brush:cpp;toolbar:false\">实测可用地址族,一个族为4096&nbsp;字节\r\n\r\n**************\r\n特别注意:\r\n结构体字节一定要4字节对齐\r\ntypedef&nbsp;struct&nbsp;_Tzh\r\n{\r\n	unsigned&nbsp;char&nbsp;kg1;&nbsp;这样子会循环运行报错\r\n}Tzh;\r\ntypedef&nbsp;struct&nbsp;_Tzh\r\n{\r\n	int&nbsp;kg1;&nbsp;这样子才对\r\n}Tzh;\r\n********************\r\n\r\neagle.flash.bin大小不超过80K,一般可用地址,\r\n8m内存，20族...60,61,62,63族\r\n4m内存，20族...31族\r\n&nbsp;&nbsp;&nbsp;\r\n由64族0x40000开始是eagle.irom0text.bin的使用</pre><p><span style=\"line-height: 0px; display: none;\"></span>&nbsp;</p><p>&nbsp;</p><p>///////////////////////////////////////////////////////////////////////</p><p>#pragma pack(push) //保存对齐状态</p><p>#pragma pack(4)</p><p>typedef struct _TzhUserEEPRomInfo</p><p>{</p><p><span class=\"Apple-tab-span\" style=\"white-space: pre;\"></span>&nbsp;&nbsp;&nbsp;&nbsp; char devname[128];</p><p><span class=\"Apple-tab-span\" style=\"white-space: pre;\"></span>&nbsp;&nbsp;&nbsp;&nbsp; char ctrl_passwd[64];</p><p>}TzhUserEEPRomInfo;</p><p>#pragma pack(pop)//恢复对齐状态</p><p>&nbsp;</p><p>///////////////////////////////////////////////////////////////////////<br/></p><p>/*1，写入之前需要对这个扇区进行擦除*/</p><p><span class=\"Apple-tab-span\" style=\"white-space: pre;\"></span>spi_flash_erase_sector(62);</p><p><span class=\"Apple-tab-span\" style=\"white-space: pre;\"></span>/*2，擦除后进入写入操作 ,大小不要超过4096Byte*/</p><p><span class=\"Apple-tab-span\" style=\"white-space: pre;\"></span>spi_flash_write(62 * SPI_FLASH_SEC_SIZE,(uint32*)&amp;romInfo,sizeof(TzhUserEEPRomInfo));</p><p><span class=\"Apple-tab-span\" style=\"white-space: pre;\"></span></p><p>&nbsp;</p><p>////////////////////////////////////////////////////////////////////////</p><p><span class=\"Apple-tab-span\" style=\"white-space: pre;\"></span>//读取</p><p><span class=\"Apple-tab-span\" style=\"white-space: pre;\"></span>if(SPI_FLASH_RESULT_OK==spi_flash_read(62 * SPI_FLASH_SEC_SIZE,(uint32*)&amp;readRom,sizeof(TzhUserEEPRomInfo)))</p><p><span class=\"Apple-tab-span\" style=\"white-space: pre;\"></span>{</p><p><span class=\"Apple-tab-span\" style=\"white-space: pre;\"></span>os_printf(&quot;readRom.devname=%s\r\n&quot;,readRom.devname);</p><p><span class=\"Apple-tab-span\" style=\"white-space: pre;\"></span>os_printf(&quot;readRom.password=%s\r\n&quot;,readRom.wifi_passwd);</p><p><span class=\"Apple-tab-span\" style=\"white-space: pre;\"></span>os_printf(&quot;readRom.fixedIP=%s\r\n&quot;,readRom.fixedIP);<span class=\"Apple-tab-span\" style=\"white-space: pre;\"></span></p><p><span class=\"Apple-tab-span\" style=\"white-space: pre;\"></span>}</p><p><span class=\"Apple-tab-span\" style=\"white-space: pre;\"></span>else</p><p><span class=\"Apple-tab-span\" style=\"white-space: pre;\"></span>{</p><p><span class=\"Apple-tab-span\" style=\"white-space: pre;\"></span>os_printf(&quot;spi_flash_read fail!!\r\n&quot;);</p><p><span class=\"Apple-tab-span\" style=\"white-space: pre;\"></span>}</p><p>&nbsp;</p><p>&nbsp;</p>','2015-10-15 14:38:05','2016-03-25 03:40:24'),(674,'192.168.2.200',69,'定时器循环判断GPIO输入状态','<p>void ICACHE_FLASH_ATTR dqztqh()//定时器循环</p><p>{</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>PIN_FUNC_SELECT(PERIPHS_IO_MUX_MTDI_U, FUNC_GPIO12);//复用IO</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>if(GPIO_INPUT_GET(GPIO_ID_PIN(12))==0)//判断按键</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>{</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>}</p><p>}</p><p><br/></p>','2015-10-16 15:23:37','2015-10-16 23:23:37'),(675,'192.168.1.100',2,'MAC字符串转字节','<p><br/></p><p>int macStrToMac(char *macstr,unsigned char *macAddr6byte)</p><p>{</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>int i,j,po;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>unsigned char shex[6]={0};</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>int mid;</p><p><br/></p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>if(strlen(macstr)!=17)</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>{return 1;}</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span></p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>j=0;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>mid=0;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>po=1;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>for(i=0;i&lt;17;i++) &nbsp;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>{&nbsp;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>if(macstr[i]!=&#39;:&#39; &amp;&amp; macstr[i]!=&#39;-&#39; &amp;&amp;&nbsp;macstr[i]!=0)</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>{</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>if( macstr[i]&gt;=&#39;0&#39;&amp;&amp;macstr[i]&lt;=&#39;9&#39; ) mid = macstr[i]-&#39;0&#39;; &nbsp;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>else &nbsp; if( &nbsp; macstr[i]&gt;=&#39;a&#39;&amp;&amp;macstr[i]&lt;=&#39;f&#39; &nbsp; ) &nbsp; mid &nbsp; = &nbsp; macstr[i] &nbsp; -&#39;a&#39; &nbsp; +10; &nbsp;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>else &nbsp; if( &nbsp; macstr[i]&gt;=&#39;A&#39;&amp;&amp;macstr[i]&lt;=&#39;F&#39; &nbsp; ) &nbsp; mid &nbsp; = &nbsp; macstr[i] &nbsp; -&#39;A&#39; &nbsp; +10; &nbsp;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>else &nbsp; return 1; &nbsp; &nbsp; &nbsp;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>mid &lt;&lt;= (po&lt;&lt;2); //最精妙的地方，需要好好琢磨。&nbsp;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>shex[j] |= mid;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>po--;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>}</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>else</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>{</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>j++;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>po=1;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>}</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>}</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>for(i=0;i&lt;6;i++)</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>{macAddr6byte[i]=shex[i];}</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>return 0;</p><p>}</p><p>&nbsp;</p><p>int macNumToStr(unsigned char *macAddr, char *str) {</p><p>&nbsp; &nbsp;if ( macAddr == NULL ) return 1;</p><p>&nbsp; &nbsp;if ( str == NULL ) return 1;</p><p>&nbsp; &nbsp;os_sprintf(str, &quot;%2.2X:%2.2X:%2.2X:%2.2X:%2.2X:%2.2X&quot;,</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(unsigned char ) macAddr[0], (unsigned char ) macAddr[1], (unsigned char ) macAddr[2],</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(unsigned char ) macAddr[3], (unsigned char ) macAddr[4], (unsigned char ) macAddr[5]);</p><p>&nbsp; &nbsp;return 0;</p><p>}</p><p><br/></p><p>/////////////////////////////////////////////////</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>char mac[18]={0};</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>unsigned char m[6];</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\"></span>macStrToMacNum(&quot;91:2B:34:5F:73:AE&quot;,m);</p><p><span class=\"Apple-tab-span\" style=\"white-space: pre;\"></span>macNumToStr(m,mac);</p><p><br/></p>','2015-10-19 14:20:37','2015-10-22 12:33:02'),(676,'192.168.2.100',69,'串口操作','<p>//初始化输出串口<br/>&nbsp;uart_init(BIT_RATE_115200, BIT_RATE_115200);</p><p>&nbsp;</p><p>//发送部分</p><p>uart0_tx_buffer(&quot;&amp;&amp;^&quot;,3);</p><p>&nbsp;</p><p>&nbsp;</p><p>//接收部分,修改uart.c文档里的函数</p><p>LOCAL void ICACHE_FLASH_ATTR ///////<br/>uart_recvTask(os_event_t *events)<br/>{<br/>&nbsp;&nbsp;&nbsp; if(events-&gt;sig == 0){<br/>&nbsp;&nbsp;&nbsp; #if&nbsp; UART_BUFF_EN&nbsp; <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Uart_rx_buff_enq();<br/>&nbsp;&nbsp;&nbsp; #else<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; uint8 fifo_len = (READ_PERI_REG(UART_STATUS(UART0))&gt;&gt;UART_RXFIFO_CNT_S)&amp;UART_RXFIFO_CNT;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; uint8 d_tmp = 0;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; uint8 idx=0;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(idx=0;idx&lt;fifo_len;idx++) {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; d_tmp = READ_PERI_REG(UART_FIFO(UART0)) &amp; 0xFF;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //uart_tx_one_char(UART0, d_tmp);<br/>&nbsp;&nbsp;&nbsp;=======d_tmp是接收到的字节===========<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WRITE_PERI_REG(UART_INT_CLR(UART0), UART_RXFIFO_FULL_INT_CLR|UART_RXFIFO_TOUT_INT_CLR);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; uart_rx_intr_enable(UART0);<br/>&nbsp;&nbsp;&nbsp; #endif<br/>&nbsp;&nbsp;&nbsp; }else if(events-&gt;sig == 1){<br/>&nbsp;&nbsp;&nbsp; #if UART_BUFF_EN<br/>&nbsp; //already move uart buffer output to uart empty interrupt<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //tx_start_uart_buffer(UART0);<br/>&nbsp;&nbsp;&nbsp; #else <br/>&nbsp;&nbsp;&nbsp; <br/>&nbsp;&nbsp;&nbsp; #endif<br/>&nbsp;&nbsp;&nbsp; }<br/>}<br/></p>','2015-10-23 16:45:21','2015-10-24 00:45:31'),(677,'192.168.2.200',41,'GPIO控制继电器','<p><img src=\"/my/notes/js/ue/php/upload_img/20151031/14462945089034.png\" title=\"P7CME7)DPQW8Z]QYMPE9TLB.png\"/></p>','2015-10-31 12:28:55','2015-10-31 20:28:55'),(678,'192.168.2.3',35,'mac系统安装ada-GPS工具','<p class=\"p1\"><strong>执行安装</strong></p><p class=\"p1\">$&gt;sudo ./doinstall</p><p class=\"p1\"><span class=\"s1\"><br/></span></p><p class=\"p1\"><strong><span class=\"s1\">导入环境变量</span></strong></p><p class=\"p1\"><span class=\"s1\">export PATH=$PATH:/usr/local/gnat/bin</span></p><p><br/></p><p><strong>新建项目</strong></p><p>$&gt;mkdir 项目目录<br/></p><p>$&gt;gps</p><p>然后点击确定</p><p><br/></p><p><strong>打开项目</strong></p><p>$&gt;cd 项目目录</p><p>$&gt;gps</p>','2015-11-03 17:58:16','2015-11-04 02:10:50'),(679,'192.168.2.200',35,'类','<p style=\"white-space: normal;\">//------------------------------------------------------</p><p style=\"white-space: normal;\">//define.ads文件&nbsp;</p><p>package define is</p><p>&nbsp; &nbsp;type fuckint is range 0..100;</p><p>&nbsp; &nbsp;function add(a:fuckint; b:fuckint) return fuckint;</p><p>&nbsp; &nbsp;procedure copy(a:Integer;b:access Integer); &nbsp;</p><p>end define;</p><p><br/></p><p>//------------------------------------------------------</p><p>//define.adb文件&nbsp;</p><p>package body define is</p><p><br/></p><p>&nbsp; &nbsp;function add(a:fuckint; b:fuckint) &nbsp;return fuckint &nbsp;is<br/></p><p>&nbsp; &nbsp;begin</p><p>&nbsp; &nbsp; &nbsp; &nbsp; return a+b;</p><p>&nbsp; &nbsp;end add;</p><p><br/></p><p>&nbsp; &nbsp;procedure copy(a:Integer;b:access Integer) is</p><p>&nbsp; &nbsp;begin</p><p>&nbsp; &nbsp; &nbsp; b.all:=a;</p><p>&nbsp; &nbsp;end copy;</p><p><br/></p><p>end define;</p><p><br/></p>','2015-11-09 04:52:37','2015-11-10 23:23:31'),(680,'192.168.2.200',35,'多条件判断','<pre>-------------------\r\n--c\r\nswitch&nbsp;(expression)&nbsp;\r\n{\r\n&nbsp;&nbsp;case&nbsp;value:&nbsp;statement\r\n&nbsp;&nbsp;default:&nbsp;&nbsp;&nbsp;&nbsp;statement\r\n}\r\n\r\n------------------------\r\n--ada\r\ncase&nbsp;expression&nbsp;is\r\n&nbsp;&nbsp;when&nbsp;value&nbsp;=&gt;&nbsp;statement\r\n&nbsp;&nbsp;when&nbsp;others&nbsp;=&gt;&nbsp;statement\r\nend&nbsp;case;</pre><p><br/></p>','2015-11-09 05:14:31','2015-11-09 13:47:15'),(681,'192.168.2.200',2,'linux_epoll UDP传输','<p>----调用逻辑------</p><pre class=\"brush:cpp;toolbar:false\">TzhP2PDependService&nbsp;ttt;\r\nret&nbsp;=&nbsp;p2p_depend_init(&amp;ttt,8755);\r\nif(ret)\r\n{\r\n	printf(&quot;master&nbsp;startup&nbsp;ok...[#ue_pole#n]&quot;);\r\n}\r\nelse\r\n{\r\n	printf(&quot;master&nbsp;startup&nbsp;fail...[#ue_pole#n]&quot;);\r\n	return&nbsp;0;\r\n}\r\n\r\nwhile(1)\r\n{\r\n	int&nbsp;ret=p2p_depend_thread_pp(&amp;ttt);\r\n	p2p_depend_thread_retain(ret,&amp;ttt);\r\n\r\n	while(p2p_depend_read_data(&amp;ttt,recv_ip,&amp;recv_port,recv_buf,&amp;recv_len))\r\n	{\r\n	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;have&nbsp;new&nbsp;data*/\r\n	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;recv_buf[recv_len]=0;\r\n	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(&quot;new&nbsp;udp&nbsp;data=%d-&gt;%s\r\n&quot;,recv_len,recv_buf);\r\n	}\r\n}</pre><p>--------------------------------</p><p>--udp_depend.h头文件<br/></p><pre class=\"brush:cpp;toolbar:false\">#ifndef&nbsp;__REDEF_SOCKET_H__\r\n\r\n#ifdef&nbsp;__cplusplus\r\nextern&nbsp;&quot;C&quot;{\r\n#endif\r\n\r\n#include&nbsp;&lt;sys/socket.h&gt;&nbsp;&nbsp;&nbsp;\r\n#include&nbsp;&lt;sys/epoll.h&gt;&nbsp;&nbsp;&nbsp;\r\n#include&nbsp;&lt;netinet/in.h&gt;&nbsp;&nbsp;&nbsp;\r\n#include&nbsp;&lt;arpa/inet.h&gt;&nbsp;&nbsp;&nbsp;\r\n#include&nbsp;&lt;fcntl.h&gt;&nbsp;&nbsp;&nbsp;\r\n#include&nbsp;&lt;stdio.h&gt;&nbsp;&nbsp;&nbsp;&nbsp;\r\n#include&nbsp;&lt;errno.h&gt;&nbsp;&nbsp;&nbsp;&nbsp;\r\n\r\n&nbsp;#include&nbsp;&lt;sys/time.h&gt;\r\n&nbsp;#include&nbsp;&lt;stddef.h&gt;\r\n&nbsp;#include&nbsp;&lt;unistd.h&gt;\r\n&nbsp;#include&nbsp;&lt;stdlib.h&gt;\r\n&nbsp;#include&nbsp;&lt;sys/wait.h&gt;\r\n\r\n#include&nbsp;&quot;global.h&quot;\r\n\r\n//epoll\r\n#define&nbsp;MAX_EVENT&nbsp;	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10000&nbsp;&nbsp;&nbsp;\r\n\r\n\r\ntypedef&nbsp;struct&nbsp;_TzhP2PDependData\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;ipv4[16];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;&nbsp;port;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;buf[2048];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;short&nbsp;buflen;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;send_pos;		//send&nbsp;begin&nbsp;pos&nbsp;,the&nbsp;lenght&nbsp;as&nbsp;same&nbsp;as&nbsp;frame&nbsp;to&nbsp;finish&nbsp;transmission\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;struct&nbsp;_TzhP2PDependData&nbsp;*_next;&nbsp;&nbsp;//next&nbsp;target\r\n}TzhP2PDependData;\r\n\r\ntypedef&nbsp;struct&nbsp;_TzhP2PDependServer\r\n{&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;&nbsp;listenfd;//bind&nbsp;port&nbsp;socket\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;epfd;&nbsp;&nbsp;&nbsp;&nbsp;//epoll&nbsp;create&nbsp;id\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;sockfd;&nbsp;//tmp&nbsp;socket&nbsp;value\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;nfds;&nbsp;//epoll&nbsp;event&nbsp;count\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;struct&nbsp;epoll_event&nbsp;&nbsp;events[64];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TzhP2PDependData&nbsp;*sendlist;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TzhP2PDependData&nbsp;*p_sendlist_last;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;sendlist_count;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TYPE_CS&nbsp;cs_sendlist;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TzhP2PDependData&nbsp;*recvlist;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TzhP2PDependData&nbsp;*p_recvlist_last;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;recvlist_count;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TYPE_CS&nbsp;cs_recvlist;\r\n}TzhP2PDependService;\r\n\r\n//\r\nint&nbsp;p2p_depend_Init(TzhP2PDependService&nbsp;*pstc,int&nbsp;port&nbsp;);\r\n\r\n/*\r\nreturn&nbsp;value:\r\n&nbsp;&nbsp;&nbsp;1=recv&nbsp;data&nbsp;event\r\n&nbsp;&nbsp;&nbsp;2=write&nbsp;data&nbsp;event\r\n&nbsp;*/\r\nint&nbsp;p2p_depend_thread(TzhP2PDependService&nbsp;*pstc);\r\n\r\n/*\r\n&nbsp;&nbsp;&nbsp;function&nbsp;udpThread&nbsp;after&nbsp;using\r\n&nbsp;&nbsp;&nbsp;if&nbsp;udpThread&nbsp;return&nbsp;1&nbsp;then&nbsp;using&nbsp;udpRecvData\r\n&nbsp;&nbsp;&nbsp;if&nbsp;udpThread&nbsp;return&nbsp;2&nbsp;then&nbsp;using&nbsp;&nbsp;udpSendData\r\n&nbsp;*/\r\nvoid&nbsp;p2p_depend_thread_retain(int&nbsp;udpThread_ret,&nbsp;TzhP2PDependService&nbsp;*pstc);\r\n\r\n/*\r\n&nbsp;&nbsp;&nbsp;&nbsp;insert&nbsp;data&nbsp;to&nbsp;sendlist\r\nreturn&nbsp;value:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0=ok\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1=not&nbsp;enought\r\n*/\r\nint&nbsp;p2p_depend_send_Insert(const&nbsp;char&nbsp;*ip,int&nbsp;port,const&nbsp;char&nbsp;*buf,int&nbsp;buflen,&nbsp;TzhP2PDependService&nbsp;*pstc);\r\n/*\r\n&nbsp;&nbsp;&nbsp;&nbsp;insert&nbsp;data&nbsp;to&nbsp;sendlist\r\nreturn&nbsp;value:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0=&nbsp;no&nbsp;data\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1=&nbsp;have&nbsp;some&nbsp;surplus\r\n*/\r\nint&nbsp;p2p_depend_read_first_recv(TzhP2PDependService&nbsp;*pstc,char&nbsp;*ip,int&nbsp;*port,char&nbsp;*buf,short*&nbsp;buflen);\r\n\r\n#ifdef&nbsp;__cplusplus\r\n}\r\n#endif\r\n\r\n#define&nbsp;__REDEF_SOCKET_H__\r\n#endif</pre><p><br/></p><p>--------------------------------------------------------</p><p>--udp_depend.c源码文件</p><pre class=\"brush:cpp;toolbar:false\">#include&nbsp;&quot;udp_depend.h&quot;\r\n\r\n//////////////////////////////////////////////////////////////////////////////////////\r\n//set&nbsp;non&nbsp;block\r\nvoid&nbsp;_udpSetNonBlocking(int&nbsp;sock)&nbsp;;\r\n//bind&nbsp;any&nbsp;port\r\nint&nbsp;_udpBindAddr(SOCKET&nbsp;s,char&nbsp;*ip,int&nbsp;port);\r\n\r\n///////////////////////////////////////////////////////////////////////////////////////\r\nvoid&nbsp;_udpAddrToPram(const&nbsp;struct&nbsp;sockaddr_in&nbsp;*addr,char*ip,unsigned&nbsp;short&nbsp;*port);\r\nvoid&nbsp;_udpPramToAddr(const&nbsp;char*ip,unsigned&nbsp;short&nbsp;port,struct&nbsp;sockaddr_in&nbsp;*addr);\r\n\r\n/*\r\n&nbsp;&nbsp;&nbsp;&nbsp;insert&nbsp;data&nbsp;to&nbsp;recvlist\r\nreturn&nbsp;value:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0=ok\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1=not&nbsp;enought\r\n*/\r\nint&nbsp;_p2p_depend_recv_insert(char&nbsp;*ip,int&nbsp;port,char&nbsp;*buf,int&nbsp;buflen,&nbsp;TzhP2PDependService&nbsp;*pstc);\r\n\r\n///////////////////////////////////////////////////////////////////////////////////////\r\nvoid&nbsp;_udpSockSetReuseAddr(SOCKET&nbsp;s)\r\n{\r\n			/*&nbsp;only&nbsp;useful&nbsp;in&nbsp;linux&nbsp;*/\r\n			unsigned&nbsp;int&nbsp;len;\r\n			int&nbsp;opt;\r\n			opt&nbsp;=&nbsp;0;\r\n			len&nbsp;=&nbsp;sizeof(opt);\r\n\r\n			opt&nbsp;=&nbsp;1;\r\n			if(setsockopt(s,SOL_SOCKET,SO_REUSEADDR,\r\n				(const&nbsp;void*)&amp;opt,len)==SOCKET_ERROR)\r\n			{\r\n				printf(&quot;zhSockSetReuse&nbsp;socket&nbsp;fail[#ue_pole#n]&quot;);\r\n			}\r\n}\r\n\r\nvoid&nbsp;_udpAddrToPram(const&nbsp;struct&nbsp;sockaddr_in&nbsp;*addr,char*ip,unsigned&nbsp;short&nbsp;*port)\r\n{\r\n			if(ip)\r\n			{\r\n				strcpy(ip,inet_ntoa(addr-&gt;sin_addr));\r\n			}\r\n			if(port)\r\n			{\r\n				*port=ntohs(addr-&gt;sin_port);\r\n			}\r\n}\r\n\r\nvoid&nbsp;_udpPramToAddr(const&nbsp;char*ip,unsigned&nbsp;short&nbsp;port,struct&nbsp;sockaddr_in&nbsp;*addr)\r\n{\r\n			memset(addr,0,sizeof(struct&nbsp;sockaddr_in));\r\n			addr-&gt;sin_addr.s_addr=inet_addr(ip);\r\n			addr-&gt;sin_port=htons(port);\r\n			addr-&gt;sin_family=AF_INET;\r\n}\r\n\r\nvoid&nbsp;_udpSetNonBlocking(int&nbsp;sock)&nbsp;\r\n{&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;opts;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;opts=fcntl(sock,F_GETFL);&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(opts&lt;0)&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;perror(&quot;fcntl(sock,GETFL)&quot;);&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;opts&nbsp;=&nbsp;opts|O_NONBLOCK;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(fcntl(sock,F_SETFL,opts)&lt;0)&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;perror(&quot;fcntl(sock,SETFL,opts)&quot;);&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}&nbsp;&nbsp;&nbsp;\r\n\r\nint&nbsp;_udpBindAddr(SOCKET&nbsp;s,char&nbsp;*ip,int&nbsp;port)\r\n{\r\n	struct&nbsp;sockaddr_in&nbsp;addrLocal;\r\n	addrLocal.sin_family=AF_INET;\r\n	addrLocal.sin_port=htons(port);\r\n	if(ip)\r\n	{\r\n		addrLocal.sin_addr.s_addr=inet_addr(ip);\r\n	}\r\n	else\r\n	{\r\n		addrLocal.sin_addr.s_addr=htonl(INADDR_ANY);\r\n	}\r\n	if(bind(s,(struct&nbsp;sockaddr*)&amp;addrLocal,sizeof(addrLocal))==SOCKET_ERROR)\r\n	{\r\n		printf(&quot;bind&nbsp;socket&nbsp;error[#ue_pole#n]&quot;);\r\n		return&nbsp;0;\r\n	}\r\n	return&nbsp;1;\r\n}\r\n\r\n/*&nbsp;\r\n&nbsp;&nbsp;&nbsp;return&nbsp;value&nbsp;\r\n&nbsp;&nbsp;&nbsp;1=ok&nbsp;\r\n&nbsp;&nbsp;&nbsp;0=fail\r\n*/\r\nint&nbsp;p2p_depend_Init(TzhP2PDependService&nbsp;*pstc,int&nbsp;port&nbsp;)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;ret;\r\n&nbsp;&nbsp;&nbsp;&nbsp;struct&nbsp;epoll_event&nbsp;&nbsp;ev;\r\n\r\n&nbsp;&nbsp;&nbsp;//\r\n&nbsp;&nbsp;&nbsp;&nbsp;INIT_CS(&amp;pstc-&gt;cs_sendlist);\r\n&nbsp;&nbsp;&nbsp;&nbsp;INIT_CS(&amp;pstc-&gt;cs_recvlist);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;//\r\n&nbsp;&nbsp;&nbsp;&nbsp;pstc-&gt;epfd=epoll_create(256);\r\n&nbsp;&nbsp;&nbsp;&nbsp;printf(&quot;epoll_create(256)&nbsp;return&nbsp;%d[#ue_pole#n]&quot;,&nbsp;pstc-&gt;epfd);&nbsp;&nbsp;&nbsp;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;pstc-&gt;listenfd=socket(AF_INET,SOCK_DGRAM,IPPROTO_UDP);\r\n&nbsp;&nbsp;&nbsp;&nbsp;_udpSockSetReuseAddr(pstc-&gt;listenfd);\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(pstc-&gt;listenfd==INVALID_SOCKET)&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n		return&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;//set&nbsp;non&nbsp;block&nbsp;mode\r\n&nbsp;&nbsp;&nbsp;&nbsp;_udpSetNonBlocking(pstc-&gt;listenfd);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;ev.data.fd=pstc-&gt;listenfd;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;ev.events=EPOLLIN|EPOLLET;\r\n&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;ret=epoll_ctl(pstc-&gt;epfd,&nbsp;EPOLL_CTL_ADD,&nbsp;pstc-&gt;listenfd,&amp;ev);&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;printf(&quot;epoll_ctl&nbsp;ret=&nbsp;%d[#ue_pole#n]&quot;,ret);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(!_udpBindAddr(pstc-&gt;listenfd,NULL,&nbsp;port))\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;	&nbsp;&nbsp;&nbsp;&nbsp;printf(&quot;bind&nbsp;fail[#ue_pole#n]&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;printf(&quot;bind&nbsp;port=%d[#ue_pole#n]&quot;,port);\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;1;\r\n}\r\n\r\nint&nbsp;p2p_depend_thread(TzhP2PDependService&nbsp;*pstc)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;struct&nbsp;sockaddr_in&nbsp;clientaddr;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;socklen_t&nbsp;&nbsp;addrlen=sizeof(struct&nbsp;sockaddr_in);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;recvBuf[3000];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ssize_t&nbsp;recvRet;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;i;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;ret=0;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pstc-&gt;nfds=epoll_wait(pstc-&gt;epfd,&nbsp;pstc-&gt;events,&nbsp;MAX_EVENT,-1);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(i=0;&nbsp;i&lt;pstc-&gt;nfds;&nbsp;++i)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(pstc-&gt;events[i].events&amp;EPOLLIN)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(&nbsp;(pstc-&gt;sockfd&nbsp;=&nbsp;pstc-&gt;events[i].data.fd)&nbsp;&lt;&nbsp;0)&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;recvRet&nbsp;=&nbsp;recvfrom(pstc-&gt;sockfd,&nbsp;recvBuf,&nbsp;sizeof(recvBuf),0,(struct&nbsp;sockaddr*)&amp;clientaddr,&amp;addrlen);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	&nbsp;&nbsp;if(recvRet&gt;0)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//recv&nbsp;data\r\n								char&nbsp;ipv4[16];\r\n								unsigned&nbsp;short&nbsp;port;\r\n								_udpAddrToPram(&amp;clientaddr,ipv4,&amp;port);\r\n								_p2p_depend_recv_insert(ipv4,&nbsp;port,&nbsp;recvBuf&nbsp;,&nbsp;recvRet&nbsp;,&nbsp;pstc);\r\n	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;(recvRet&nbsp;==&nbsp;0)&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;perror(&quot;connfd=0[#ue_pole#n]&quot;);&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;close(pstc-&gt;sockfd);&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pstc-&gt;events[i].data.fd&nbsp;=&nbsp;-1;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;(recvRet&lt;0)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(errno&nbsp;==&nbsp;ECONNRESET)&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;close(pstc-&gt;sockfd);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pstc-&gt;events[i].data.fd&nbsp;=&nbsp;-1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ret=1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if(pstc-&gt;events[i].events&amp;EPOLLOUT)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TzhP2PDependData&nbsp;*p1,*p2;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(pstc-&gt;events[i].data.fd&nbsp;==&nbsp;-1)&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pstc-&gt;sockfd&nbsp;=&nbsp;pstc-&gt;events[i].data.fd;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//send&nbsp;data\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LOCK_CS(&amp;pstc-&gt;cs_sendlist);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		p1&nbsp;=&nbsp;pstc-&gt;sendlist;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		while(p1&nbsp;!=&nbsp;NULL)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;			p2&nbsp;=&nbsp;p1-&gt;_next;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;			ret=p1-&gt;buflen&nbsp;-&nbsp;p1-&gt;send_pos;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;			if(ret&lt;=0)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;			{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;				//data&nbsp;exist&nbsp;some&nbsp;problem\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;				p1-&gt;buflen=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;				p1-&gt;send_pos=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;				ret=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;			}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;			else\r\n		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_udpPramToAddr(p1-&gt;ipv4,p1-&gt;port,&amp;clientaddr);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;				ret=sendto(pstc-&gt;sockfd,&nbsp;&amp;p1-&gt;buf[p1-&gt;send_pos]&nbsp;,&nbsp;ret,0,(struct&nbsp;sockaddr*)&amp;clientaddr,addrlen);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;			}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;			if(ret&gt;0&nbsp;||&nbsp;0==p1-&gt;buflen)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;			{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;				p1-&gt;send_pos+=ret;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;				if(p1-&gt;send_pos==p1-&gt;buflen)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;				{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;					free&nbsp;(p1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;					p1&nbsp;=&nbsp;p2;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;					//send&nbsp;finish\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;					pstc-&gt;sendlist_count--;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;					pstc-&gt;sendlist=p1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;					if(NULL==pstc-&gt;sendlist)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;					{pstc-&gt;p_recvlist_last=NULL;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;				}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;			}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;			else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;			{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;				break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;			}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;		UNLOCK_CS(&amp;pstc-&gt;cs_sendlist);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ret&nbsp;=2;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;ret;\r\n}\r\n\r\nvoid&nbsp;p2p_depend_thread_retain(int&nbsp;udpThread_ret,&nbsp;TzhP2PDependService&nbsp;*pstc)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;struct&nbsp;epoll_event&nbsp;&nbsp;ev;\r\n&nbsp;&nbsp;&nbsp;&nbsp;switch(udpThread_ret)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;1:\r\n		//trans&nbsp;send\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ev.data.fd=pstc-&gt;sockfd;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ev.events=EPOLLOUT|EPOLLET;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;epoll_ctl(pstc-&gt;epfd,EPOLL_CTL_MOD,pstc-&gt;sockfd,&amp;ev);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n	break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;2:\r\n	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//trans&nbsp;recv\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ev.data.fd=pstc-&gt;sockfd;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ev.events=EPOLLIN|EPOLLET;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;epoll_ctl(pstc-&gt;epfd,EPOLL_CTL_MOD,pstc-&gt;sockfd,&amp;ev);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n	break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}\r\n\r\nint&nbsp;_p2p_depend_recv_insert(char&nbsp;*ip,int&nbsp;port,char&nbsp;*buf,int&nbsp;buflen,&nbsp;TzhP2PDependService&nbsp;*pstc)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;&nbsp;ret=0;\r\n\r\n	//insert&nbsp;to&nbsp;data&nbsp;list\r\n	LOCK_CS(&amp;pstc-&gt;cs_recvlist);\r\n	if(NULL==pstc-&gt;recvlist)\r\n	{\r\n		pstc-&gt;recvlist=(TzhP2PDependData*)malloc(sizeof(TzhP2PDependData));\r\n		if(pstc-&gt;recvlist)\r\n		{\r\n			memset(pstc-&gt;recvlist,0,sizeof(TzhP2PDependData));\r\n			memcpy(pstc-&gt;recvlist-&gt;buf,buf,buflen);\r\n			pstc-&gt;recvlist-&gt;buflen=buflen;\r\n			pstc-&gt;p_recvlist_last=pstc-&gt;recvlist;\r\n		}\r\n		else\r\n		{&nbsp;ret=1;&nbsp;}\r\n	}\r\n	else\r\n	{\r\n		pstc-&gt;p_recvlist_last-&gt;_next=(TzhP2PDependData*)malloc(sizeof(TzhP2PDependData));\r\n		if(pstc-&gt;p_recvlist_last-&gt;_next)\r\n		{\r\n			memset(pstc-&gt;p_recvlist_last-&gt;_next,0,sizeof(TzhP2PDependData));\r\n			memcpy(pstc-&gt;p_recvlist_last-&gt;_next-&gt;buf,buf,buflen);\r\n			pstc-&gt;p_recvlist_last-&gt;_next-&gt;buflen=buflen;\r\n			pstc-&gt;p_recvlist_last=pstc-&gt;p_recvlist_last-&gt;_next;\r\n		}\r\n		else\r\n		{&nbsp;ret=1;&nbsp;}\r\n	}\r\n\r\n	pstc-&gt;recvlist_count++;\r\n	UNLOCK_CS(&amp;pstc-&gt;cs_recvlist);\r\n	return&nbsp;ret;\r\n}\r\n\r\nint&nbsp;p2p_depend_send_Insert(const&nbsp;char&nbsp;*ip,int&nbsp;port,const&nbsp;char&nbsp;*buf,int&nbsp;buflen,&nbsp;TzhP2PDependService&nbsp;*pstc)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;&nbsp;ret=0;\r\n\r\n	//insert&nbsp;to&nbsp;data&nbsp;list\r\n	LOCK_CS(&amp;pstc-&gt;cs_sendlist);\r\n	if(NULL==pstc-&gt;sendlist)\r\n	{\r\n		pstc-&gt;sendlist=(TzhP2PDependData*)malloc(sizeof(TzhP2PDependData));\r\n		if(pstc-&gt;sendlist)\r\n		{\r\n			memset(pstc-&gt;sendlist,0,sizeof(TzhP2PDependData));\r\n			memcpy(pstc-&gt;sendlist-&gt;buf,buf,buflen);\r\n			pstc-&gt;sendlist-&gt;buflen=buflen;\r\n			pstc-&gt;p_sendlist_last=pstc-&gt;sendlist;\r\n		}\r\n		else\r\n		{&nbsp;ret=1;&nbsp;}\r\n	}\r\n	else\r\n	{\r\n		pstc-&gt;p_sendlist_last-&gt;_next=(TzhP2PDependData*)malloc(sizeof(TzhP2PDependData));\r\n		if(pstc-&gt;p_sendlist_last-&gt;_next)\r\n		{\r\n			memset(pstc-&gt;p_sendlist_last-&gt;_next,0,sizeof(TzhP2PDependData));\r\n			memcpy(pstc-&gt;p_sendlist_last-&gt;_next-&gt;buf,buf,buflen);\r\n			pstc-&gt;p_sendlist_last-&gt;_next-&gt;buflen=buflen;\r\n			pstc-&gt;p_sendlist_last=pstc-&gt;p_sendlist_last-&gt;_next;\r\n		}\r\n		else\r\n		{&nbsp;ret=1;&nbsp;}\r\n	}\r\n\r\n	pstc-&gt;sendlist_count++;\r\n	UNLOCK_CS(&amp;pstc-&gt;cs_sendlist);\r\n	return&nbsp;ret;\r\n}\r\n\r\nint&nbsp;p2p_depend_read_first_recv(TzhP2PDependService&nbsp;*pstc,char&nbsp;*ip,int&nbsp;*port,char&nbsp;*buf,short*buflen)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//recv&nbsp;data\r\n	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(pstc-&gt;recvlist_count&gt;0&nbsp;&amp;&amp;&nbsp;pstc-&gt;recvlist)\r\n	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n							LOCK_CS(&amp;pstc-&gt;cs_recvlist);\r\n							//将数值返回到上层\r\n							strcpy(ip,pstc-&gt;recvlist-&gt;ipv4);\r\n							*port=pstc-&gt;recvlist-&gt;port;\r\n							memcpy(buf,&nbsp;pstc-&gt;recvlist-&gt;buf,pstc-&gt;recvlist-&gt;buflen);\r\n							*buflen=pstc-&gt;recvlist-&gt;buflen;\r\n							//将删除第一次数据\r\n							free&nbsp;(pstc-&gt;recvlist);\r\n							pstc-&gt;recvlist_count--;\r\n							pstc-&gt;recvlist=pstc-&gt;recvlist-&gt;_next;\r\n							if(NULL==pstc-&gt;recvlist)\r\n							{\r\n								pstc-&gt;p_recvlist_last=NULL;\r\n							}\r\n\r\n							UNLOCK_CS(&amp;pstc-&gt;cs_recvlist);\r\n							return&nbsp;1;\r\n	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;0;\r\n}</pre><p><br/></p>','2015-11-09 16:13:53','2015-11-21 20:01:33'),(682,'192.168.2.200',65,'eclipse安装','<p style=\"word-wrap: break-word; margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: &#39;Microsoft YaHei&#39;, Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">项目主页：<a title=\"http://www.eclipse.org\" rel=\"nofollow\" href=\"http://www.eclipse.org/\" style=\"word-wrap: break-word; color: rgb(68, 68, 68); text-decoration: none;\">http://www.eclipse.org</a></p><p style=\"word-wrap: break-word; margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: &#39;Microsoft YaHei&#39;, Arial, Verdana, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\"># 安装：</p><pre style=\"word-wrap: break-word; font-size: 14px; line-height: 25.2px; background-color: rgb(255, 255, 255);\">sudo&nbsp;apt-get&nbsp;install&nbsp;eclipse-cdt&nbsp;eclipse</pre><p><br/></p>','2015-11-13 04:47:21','2015-11-13 12:47:21'),(683,'192.168.2.200',35,'多任务,多线程互斥锁链表','<pre class=\"brush:cpp;toolbar:false\">--------------------------------------------------------------\r\nwith&nbsp;Ada.Containers.Indefinite_Doubly_Linked_Lists;\r\npackage&nbsp;pack&nbsp;is\r\n&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;type&nbsp;Person&nbsp;is&nbsp;record\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name:string(1..12);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;age&nbsp;:Integer;\r\n&nbsp;&nbsp;&nbsp;end&nbsp;record;\r\n&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;package&nbsp;PersonList&nbsp;is&nbsp;new&nbsp;Ada.Containers.Indefinite_Doubly_Linked_Lists(Person);\r\n&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;type&nbsp;dword&nbsp;is&nbsp;mod&nbsp;2**32;\r\n&nbsp;&nbsp;&nbsp;task&nbsp;type&nbsp;T(id:dword)&nbsp;is\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;entry&nbsp;append(List:in&nbsp;out&nbsp;PersonList.List;newElement:Person);\r\n&nbsp;&nbsp;&nbsp;end&nbsp;T;\r\n&nbsp;&nbsp;&nbsp;\r\nend&nbsp;pack;\r\n-------------------------------------------------------------\r\npackage&nbsp;body&nbsp;pack&nbsp;is\r\n&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;task&nbsp;body&nbsp;T&nbsp;is&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;begin\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;loop\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;select\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;accept&nbsp;append&nbsp;(List&nbsp;:&nbsp;in&nbsp;out&nbsp;PersonList.List;&nbsp;newElement&nbsp;:&nbsp;in&nbsp;Person)&nbsp;do\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List.Append(newElement);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;append;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delay&nbsp;0.01;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;select;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;loop;\r\n&nbsp;&nbsp;&nbsp;end&nbsp;T;\r\n\r\nend&nbsp;pack;\r\n------------------------------------------------------------------------\r\nwith&nbsp;Text_IO;\r\nwith&nbsp;pack;&nbsp;use&nbsp;pack;\r\nprocedure&nbsp;Main&nbsp;is\r\n&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;T1:T(1);\r\n&nbsp;&nbsp;&nbsp;T2:T(2);\r\n&nbsp;&nbsp;&nbsp;List:PersonList.List;\r\n\r\nbegin\r\n&nbsp;&nbsp;&nbsp;for&nbsp;i&nbsp;in&nbsp;1..50&nbsp;loop\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;T1.append(List,(&quot;xiaoming&nbsp;&nbsp;&nbsp;&nbsp;&quot;,i));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;T2.append(List,(&quot;xiaowang&nbsp;&nbsp;&nbsp;&nbsp;&quot;,i));\r\n&nbsp;&nbsp;&nbsp;end&nbsp;loop;\r\n&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;declare\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cur:PersonList.Cursor:=list.First;\r\n&nbsp;&nbsp;&nbsp;begin\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;loop\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit&nbsp;when&nbsp;not&nbsp;PersonList.Has_Element(cur);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Text_IO.Put_Line(PersonList.Element(cur).name&amp;PersonList.Element(cur).age&#39;Img);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cur:=PersonList.Next(cur);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;loop;\r\nend&nbsp;Main;</pre><p><br/></p>','2015-11-13 07:03:12','2015-11-13 15:05:36'),(684,'14.217.232.71',18,'https配置','<p>新建目录 c:/apache2</p><p>新建目录&nbsp;c:/apache2/logs</p><p><br/></p><p><strong style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px; white-space: normal;\">步骤一：安装apache,使其支持SSL,并安装php</strong><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\">&nbsp;</span><br style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px; white-space: normal;\"/><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\">1.安装配有SSL模块的apache,apache_2.2.8-win32-x86-openssl-0.9.8g&nbsp;</span><br style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px; white-space: normal;\"/><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\">2.配置apache以支持SSL:打开apache的配置文件conf/httpd.conf&nbsp;</span><br style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px; white-space: normal;\"/><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\">LoadModule ssl_module modules/mod_ssl.so&nbsp;</span><br style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px; white-space: normal;\"/><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\">Include conf/extra/httpd-ssl.conf &nbsp; &nbsp;//如果要修改HTTPS工作目录在此文件里</span><br style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px; white-space: normal;\"/><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\">去掉两行前面的#&nbsp;</span><br style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px; white-space: normal;\"/><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\">2)注意修改httpd-ssl.conf 文件里的两个字段： ,一会生成的crt ,key两个文件扔到这个位置</span><br style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px; white-space: normal;\"/><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\">SSLCertificateFile &quot;c:/apache2/server.crt&quot;&nbsp;</span><br style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px; white-space: normal;\"/><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\">SSLCertificateKeyFile &quot;c:/apache2/server.key&quot;&nbsp;</span><br style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px; white-space: normal;\"/><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\">3.安装php,整合apache和Php(略)&nbsp;</span><br style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px; white-space: normal;\"/><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\">为下面你所生成的证书和密钥地址。&nbsp;</span><br style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px; white-space: normal;\"/><br style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px; white-space: normal;\"/><strong style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px; white-space: normal;\">步骤二：为网站服务器生成证书及私钥文件&nbsp;<br/></strong><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\">1. 生成服务器的私钥&nbsp;</span><br style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px; white-space: normal;\"/><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\">进入命令行:&nbsp;</span><br style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px; white-space: normal;\"/><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\"><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\"></span></span></p><pre class=\"brush:bash;toolbar:false\">D:/local/apache2/bin/openssl&nbsp;genrsa&nbsp;-out&nbsp;server.key&nbsp;1024</pre><p><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\"><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\"></span></span><br style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px; white-space: normal;\"/><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\">在当前目录下生成了一个server.key生成签署申请&nbsp;</span><br style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px; white-space: normal;\"/><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\">2. 生成签署申请&nbsp;</span><br style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px; white-space: normal;\"/><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\"><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\"></span></span></p><pre class=\"brush:bash;toolbar:false\">D:/local/apache2/bin/openssl&nbsp;req&nbsp;-new&nbsp;–out&nbsp;server.csr&nbsp;-key&nbsp;server.key&nbsp;-config&nbsp;../conf/openssl.cnf</pre><p><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\"><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\"></span></span><br style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px; white-space: normal;\"/><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\">此时生成签署文件server.csr.&nbsp;</span><br style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px; white-space: normal;\"/><br style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px; white-space: normal;\"/><strong style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px; white-space: normal;\">步骤三：通过CA为网站服务器签署证书&nbsp;<br/></strong><br style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px; white-space: normal;\"/><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\">1.生成CA私钥&nbsp;</span><br style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px; white-space: normal;\"/><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\"><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\"></span></span></p><pre class=\"brush:bash;toolbar:false\">D:/local/apache2/bin/openssl&nbsp;genrsa&nbsp;-out&nbsp;ca.key&nbsp;1024</pre><p><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\"><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\"></span></span><br style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px; white-space: normal;\"/><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\">多出ca.key文件&nbsp;</span><br style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px; white-space: normal;\"/><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\">2.利用CA的私钥产生CA的自签署证书&nbsp;</span><br style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px; white-space: normal;\"/><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\"><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\"></span></span></p><pre class=\"brush:bash;toolbar:false\">D:/local/apache2/bin/openssl&nbsp;req&nbsp;-new&nbsp;-x509&nbsp;-days&nbsp;365&nbsp;-key&nbsp;ca.key&nbsp;-out&nbsp;ca.crt&nbsp;-config&nbsp;../conf/openssl.cnf</pre><p><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\"><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\"></span></span><br style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px; white-space: normal;\"/><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\">此时需要输入一些信息，注意Common Name为服务器域名，如果在本机，为本机IP。&nbsp;</span><br style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px; white-space: normal;\"/><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\"><br/></span><br/></p><p><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\">3.新建文件和目录</span></p><p><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\"><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\">于是在在当前目录创建demoCA，里面创建以下文件，index.txt,serial两个文档,serial文件内容为01，其他为空,以及文件夹 newcerts.再执行一遍，即可生成server.crt文件&nbsp;</span></span></p><p><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\"><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\"><br/></span></span></p><p><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\">4.CA为网站服务器签署证书&nbsp;</span></p><pre class=\"brush:bash;toolbar:false\">D:/local/apache2/bin/openssl&nbsp;ca&nbsp;-in&nbsp;server.csr&nbsp;-out&nbsp;server.crt&nbsp;-cert&nbsp;ca.crt&nbsp;-keyfile&nbsp;ca.key&nbsp;-config&nbsp;../conf/openssl.cnf</pre><p><span style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px;\"></span><br style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px; white-space: normal;\"/><br style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px; white-space: normal;\"/><strong style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px; white-space: normal;\">步骤四：然后将 server.crt,server.key复制到c:/apache2文件夹下，重启apache&nbsp;</strong><br/></p><p><strong style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25.2000007629395px; white-space: normal;\"><br/></strong></p>','2015-11-18 10:01:46','2015-11-18 18:10:31'),(685,'192.168.2.200',23,'cookies操作','<p><span style=\"font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px;  color: rgb(128, 0, 0); background-color: rgb(255, 255, 255);\"><strong>//JS操作cookies方法!</strong></span><span style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px;  background-color: rgb(255, 255, 255);\">&nbsp;</span><br style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\"/><strong style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">//写cookies</strong><span style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px;  background-color: rgb(255, 255, 255);\">&nbsp;</span><br style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px;  background-color: rgb(255, 255, 255);\">function setCookie(name,value)&nbsp;</span><br style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px;  background-color: rgb(255, 255, 255);\">{&nbsp;</span><br style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px;  background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp; var Days = 30;&nbsp;</span><br style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px;  background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp; var exp = new Date();&nbsp;</span><br style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px;  background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp; exp.setTime(exp.getTime() + Days*24*60*60*1000);&nbsp;</span><br style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px;  background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp; document.cookie = name + &quot;=&quot;+ escape (value) + &quot;;expires=&quot; + exp.toGMTString();&nbsp;</span><br style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px;  background-color: rgb(255, 255, 255);\">}&nbsp;</span><br style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\"/><strong style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">//读取cookies</strong><span style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px;  background-color: rgb(255, 255, 255);\">&nbsp;</span><br style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px;  background-color: rgb(255, 255, 255);\">function getCookie(name)&nbsp;</span><br style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px;  background-color: rgb(255, 255, 255);\">{&nbsp;</span><br style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px;  background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp; var arr,reg=new RegExp(&quot;(^| )&quot;+name+&quot;=([^;]*)(;|$)&quot;);</span><br style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px;  background-color: rgb(255, 255, 255);\">&nbsp;</span><br style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px;  background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp; if(arr=document.cookie.match(reg))</span><br style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px;  background-color: rgb(255, 255, 255);\">&nbsp;</span><br style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px;  background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return unescape(arr[2]);&nbsp;</span><br style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px;  background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp; else&nbsp;</span><br style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px;  background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return null;&nbsp;</span><br style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px;  background-color: rgb(255, 255, 255);\">}&nbsp;</span><br style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\"/><strong style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">//删除cookies</strong><span style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px;  background-color: rgb(255, 255, 255);\">&nbsp;</span><br style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px;  background-color: rgb(255, 255, 255);\">function delCookie(name)&nbsp;</span><br style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px;  background-color: rgb(255, 255, 255);\">{&nbsp;</span><br style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px;  background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp; var exp = new Date();&nbsp;</span><br style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px;  background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp; exp.setTime(exp.getTime() - 1);&nbsp;</span><br style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px;  background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp; var cval=getCookie(name);&nbsp;</span><br style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px;  background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp; if(cval!=null)&nbsp;</span><br style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px;  background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; document.cookie= name + &quot;=&quot;+cval+&quot;;expires=&quot;+exp.toGMTString();&nbsp;</span><br style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(35, 35, 35); font-family: Verdana, Arial, helvetica, sans-seriff; font-size: 14px; line-height: 25.2px;  background-color: rgb(255, 255, 255);\">}&nbsp;</span></p>','2015-11-19 14:45:54','2015-11-19 22:45:54'),(688,'192.168.2.200',18,'file_get_contents不能用解决方法','<p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-family: Simsun; font-size: 14px;  background-color: rgb(255, 255, 255);\">加载php.ini的模块</span></p><pre accuse=\"qRA\" style=\"margin-top: 0px; margin-right: 120px; margin-bottom: 0px; padding: 0px; font-family: arial, &#39;courier new&#39;, courier, 宋体, monospace, &#39;Microsoft YaHei&#39;; white-space: pre-wrap; word-wrap: break-word; color: rgb(123, 123, 123); font-size: 14px; line-height: 24px; background-color: rgb(243, 255, 236);\">extension=php_curl.dll</pre><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\">--------------------------------------------------------------<br/><span style=\"font-family: Simsun; font-size: 14px;  background-color: rgb(255, 255, 255);\"></span></p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\">$url=&quot;http://www.hanzhihong.cn&quot;;<br/></p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\">//服务器不禁止用file_get_contents时</p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\">//$Conent=file_get_contents($url);</p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\">--------------------------------------------------------------</p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\">$ch = curl_init() or die (curl_error());</p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\">curl_setopt($ch,CURLOPT_URL,$url);</p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\">curl_setopt($ch,CURLOPT_RETURNTRANSFER,1);</p><p>curl_setopt($<span style=\"font-family: Simsun; font-size: 14px;  background-color: rgb(255, 255, 255);\">ch</span>, CURLOPT_TIMEOUT, 500);</p><p>// 为保证第三方服务器数据传输的安全性，采用https方式调用，必须使用下面2行代码打开或跳过ssl安全校验。</p><p>//curl_setopt($<span style=\"font-family: Simsun; font-size: 14px;  background-color: rgb(255, 255, 255);\">ch</span>, CURLOPT_SSL_VERIFYPEER, false);//跳过https验证,跟微信服务器通讯要跳过</p><p>//curl_setopt($<span style=\"font-family: Simsun; font-size: 14px;  background-color: rgb(255, 255, 255);\">ch</span>, CURLOPT_SSL_VERIFYHOST, 2);&nbsp;</p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\">$<span style=\"font-family: Simsun; font-size: 14px;  background-color: rgb(255, 255, 255);\">Conent</span> = curl_exec($ch) or die (curl_error());</p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\">//echo curl_error($ch);</p><p style=\"font-family: Simsun; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\">curl_close($ch);</p><p><br/></p><p><br/></p><p><br/></p>','2015-11-24 09:24:48','2015-11-27 00:11:08'),(689,'192.168.2.200',18,'获取远程URL图片到服务器本地','<p>&lt;?php</p><p><br/></p><p>/*</p><p>*功能：php多种方式完美实现下载远程图片保存到本地</p><p>*参数：文件url,保存文件名称，使用的下载方式</p><p>*当保存文件名称为空时则使用远程文件原来的名称</p><p>*/</p><p>function getImage($url,$filename=&#39;&#39;,$type=0){</p><p>&nbsp; &nbsp; if($url==&#39;&#39;){return false;}</p><p>&nbsp; &nbsp; if($filename==&#39;&#39;){</p><p>&nbsp; &nbsp; &nbsp; &nbsp; $ext=strrchr($url,&#39;.&#39;);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; if($ext!=&#39;.gif&#39; &amp;&amp; $ext!=&#39;.jpg&#39;){return false;}</p><p>&nbsp; &nbsp; &nbsp; &nbsp; $filename=time().$ext;</p><p>&nbsp; &nbsp; }</p><p>&nbsp; &nbsp; //文件保存路径&nbsp;</p><p>&nbsp; &nbsp; if($type){</p><p>&nbsp; $ch=curl_init();</p><p>&nbsp; $timeout=5;</p><p>&nbsp; curl_setopt($ch,CURLOPT_URL,$url);</p><p>&nbsp; curl_setopt($ch,CURLOPT_RETURNTRANSFER,1);</p><p>&nbsp; curl_setopt($ch,CURLOPT_CONNECTTIMEOUT,$timeout);</p><p>&nbsp; $img=curl_exec($ch);</p><p>&nbsp; curl_close($ch);</p><p>&nbsp; &nbsp; }else{</p><p>&nbsp; &nbsp; &nbsp;ob_start();&nbsp;</p><p>&nbsp; &nbsp; &nbsp;readfile($url);</p><p>&nbsp; &nbsp; &nbsp;$img=ob_get_contents();&nbsp;</p><p>&nbsp; &nbsp; &nbsp;ob_end_clean();&nbsp;</p><p>&nbsp; &nbsp; }</p><p>&nbsp; &nbsp; $size=strlen($img);</p><p>&nbsp; &nbsp; //文件大小&nbsp;</p><p>&nbsp; &nbsp; $fp2=@fopen($filename,&#39;a&#39;);</p><p>&nbsp; &nbsp; fwrite($fp2,$img);</p><p>&nbsp; &nbsp; fclose($fp2);</p><p>&nbsp; &nbsp; return $filename;</p><p>}</p><p><br/></p><p>echo getImage(&quot;http://mimg.127.net/logo/163logo.gif&quot;,&#39;&#39;);</p><p>?&gt;</p><p><br/></p>','2015-11-25 16:08:38','2015-11-26 00:08:38'),(690,'192.168.2.200',41,'GPIO控制蜂鸣器','<p><img src=\"/my/notes/js/ue/php/upload_img/20151126/14485526705770.png\" title=\"QQ图片20151126232754.png\"/></p>','2015-11-26 15:44:33','2015-11-26 23:44:33'),(691,'192.168.2.200',69,'esp8266-03最小电路','<p><img title=\"QQ图片20151127114808.png\" src=\"/my/notes/js/ue/php/upload_img/20151127/14485961272447.png\"/></p>','2015-11-27 03:48:49','2015-11-27 11:48:49'),(692,'192.168.2.200',68,'A830L泛泰刷机官网','<p><a href=\"http://dmfile.isky.co.kr/NewSelfUpgrade/index.html\">http://dmfile.isky.co.kr/NewSelfUpgrade/index.html</a></p>','2015-11-28 02:52:59','2015-11-28 10:52:59'),(693,'192.168.2.200',29,'​ 热敏打印机头','<p>富士通（FTP-628MCL101），厦门精芯的（JX-2R-01）、厦门普瑞特（PT486F、PT723F）、厦门吉瑞普（JRP-2RA、JRP-2RA2）、厦门易普斯立林（EPPS-PTP-202）</p>','2015-11-28 16:09:13','2015-11-29 00:09:13'),(694,'192.168.2.200',41,'变压器偶合振荡器','<p><img src=\"/my/notes/js/ue/php/upload_img/20151209/14496470705244.png\" title=\"-wk-c5bab6416b2eca1f2ff92e43567e428a-0.png\"/></p>','2015-12-09 07:44:10','2015-12-09 15:44:37'),(695,'192.168.2.200',26,'IAR选项字节','<p>IAR在调试的时候是可以直接设置optionbyte，先点下载，出现调试界面后在tools选项里有optionbyte设置</p>','2015-12-15 08:09:21','2015-12-15 16:09:21'),(696,'192.168.0.3',70,'Mac省电模式后WiFi 自动断网的修复','<p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(51, 51, 51); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 24px; white-space: normal;\">有好多人抱怨，新版的Mac OS X系统，会在系统进入Sleep之后，自动断WiFi网，对好多用户来说这个不能接受。遇到一个人，需要开上数个ssh连接，一旦断网，需要重新开这些连接，给工作带来不变。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(51, 51, 51); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 24px; white-space: normal;\">　　经过测试，新版的支持一个Standby的模式的，在GUI界面是看不见的，也没有休眠的设置，所以需要使用命令。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(51, 51, 51); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 24px; white-space: normal;\">　　使用下面的Terminal【终端】命令来设定系统，可以禁止Standby状态：</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; color: rgb(51, 51, 51); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 24px; white-space: normal;\">　　sudo pmset -a standby 0 sleep 20 hibernatemode 3 networkoversleep 0 force</p><p><br/></p>','2015-12-18 02:48:37','2015-12-18 10:48:37'),(697,'192.168.2.200',31,'Eclipse启动自动加载指定工作空间','<p><a href=\"http://blog.csdn.net/spare_h/article/details/7448796\" style=\"color: rgb(0, 0, 0); text-decoration: none; font-family: &#39;Microsoft YaHei&#39;; font-size: 20px; line-height: 30px; white-space: normal; background-color: rgb(255, 255, 255);\">Eclipse启动自动加载指定工作空间</a></p><p><br/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 18px;\">Eclipse使用过程中，经常会有使用多个工作空间的情况，每次选择太麻烦了，可以同时设置快捷方式的不同参数和不同名字（比如就是对应的工作空间的名字）。<br/></span></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 18px;\">Eclipse启动参数<br/></span></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 18px;\">-data [workspace location]</span></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 18px;\">描述：</span></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 18px;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 指定启动时的Workspace位置</span></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 18px;\">举例：</span></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 18px;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 例如Workspace位置设在D:/myworkspace，则eclipse -data D:/myworkspace</span></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 18px;\">实际应用：<br/></span></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 18px;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 要使用 -data 命令行自变量，只要将 -data your_workspace_location（例如，-dataE:workspace）添加至快捷方式属性中的目标字段。</span></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 18px;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; E:eclipseeclipse.exe&nbsp; -data E:/workspace</span></p><p><br/></p>','2015-12-21 16:05:47','2015-12-22 00:05:47'),(698,'192.168.1.17',24,'MQTT协议','<p>ios<br/></p><p><a href=\"https://github.com/jmesnil/MQTTKit\" _src=\"https://github.com/jmesnil/MQTTKit\">https://github.com/jmesnil/MQTTKit</a> </p><p><br/></p><pre class=\"brush:cpp;toolbar:false\">MQTTClient&nbsp;*client;</pre><p><br/></p><p class=\"p1\"><span class=\"s1\">&nbsp;发送</span></p><pre class=\"brush:cpp;toolbar:false\">//---------------------------------------------------\r\n//&nbsp;connect&nbsp;to&nbsp;the&nbsp;MQTT&nbsp;server\r\n//发送每次都要新建发送对象\r\nclient&nbsp;=&nbsp;[[MQTTClient&nbsp;alloc]&nbsp;initWithClientId:[NSString&nbsp;stringWithFormat:@&quot;%ld%d&quot;,time(NULL),rand()]];\r\n[clientSend&nbsp;connectToHost:mqttHost\r\n&nbsp;&nbsp;&nbsp;&nbsp;completionHandler:^(NSUInteger&nbsp;code)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(code&nbsp;==&nbsp;ConnectionAccepted)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//------------------------------------\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//接收/订阅消息\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSString*subscr=[NSString&nbsp;stringWithFormat:@&quot;%@/device&quot;,[_dc&nbsp;objectForKey:@&quot;WorkId&quot;]];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[client&nbsp;subscribe:subscr&nbsp;withCompletionHandler:nil];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//------------------------------------\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//推送订阅消息\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSString*topic=[NSString&nbsp;stringWithFormat:@&quot;%@/service&quot;,[_dc&nbsp;objectForKey:@&quot;WorkId&quot;]];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[clientSend&nbsp;publishString:@&quot;&nbsp;{&quot;CMD&quot;:&quot;ReqClientStatus&quot;}&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;toTopic:topic\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;withQos:AtMostOnce\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;retain:NO\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;completionHandler:^(int&nbsp;mid)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSLog(@&quot;message&nbsp;has&nbsp;been&nbsp;delivered&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}];\r\n\r\n//---------------------------------------------------\r\n//断开会话\r\n[client&nbsp;disconnectWithCompletionHandler:^(NSUInteger&nbsp;code)&nbsp;{\r\n//&nbsp;The&nbsp;client&nbsp;is&nbsp;disconnected&nbsp;when&nbsp;this&nbsp;completion&nbsp;handler&nbsp;is&nbsp;called\r\nNSLog(@&quot;MQTT&nbsp;client&nbsp;is&nbsp;disconnected&nbsp;code=%ld&quot;,code);\r\n}];\r\n//----------------------------------------------------</pre><p class=\"p1\"><br/></p>','2015-12-23 07:35:57','2015-12-25 22:49:15'),(699,'192.168.0.14',71,'UITableViewController','<pre class=\"brush:cpp;toolbar:false\">import&nbsp;UIKit\r\nclass&nbsp;SearchDev:&nbsp;UITableViewController\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;override&nbsp;func&nbsp;awakeFromNib()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;override&nbsp;func&nbsp;viewDidLoad()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super.viewDidLoad();\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;override&nbsp;func&nbsp;numberOfSectionsInTableView(tableView:&nbsp;UITableView)&nbsp;-&gt;&nbsp;Int&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;//行数\r\n&nbsp;&nbsp;&nbsp;&nbsp;override&nbsp;func&nbsp;tableView(tableView:&nbsp;UITableView,&nbsp;numberOfRowsInSection&nbsp;section:&nbsp;Int)&nbsp;-&gt;&nbsp;Int\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;10;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;//加载自定义行\r\n&nbsp;&nbsp;&nbsp;&nbsp;override&nbsp;func&nbsp;tableView(tableView:&nbsp;UITableView,&nbsp;cellForRowAtIndexPath&nbsp;indexPath:&nbsp;NSIndexPath)&nbsp;-&gt;&nbsp;UITableViewCell\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//SearchCell是CELL的类名\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;nib_file=&quot;SearchCell&quot;;//文件名\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;cid=&quot;SearchCell_ID&quot;;//标识ID\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;cell:SearchCell!=tableView.dequeueReusableCellWithIdentifier(cid)&nbsp;as?&nbsp;SearchCell;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(cell&nbsp;==&nbsp;nil)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;nib=NSBundle.mainBundle().loadNibNamed(nib_file,&nbsp;owner:self,&nbsp;options:&nbsp;nil);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;oj&nbsp;in&nbsp;nib{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(oj.isKindOfClass(SearchCell))\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;cell=oj&nbsp;as!&nbsp;SearchCell;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cell.lbTitle?.text=&quot;aaaa=&quot;+String(indexPath.row);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;cell;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//行高\r\n&nbsp;&nbsp;&nbsp;&nbsp;override&nbsp;func&nbsp;tableView(tableView:&nbsp;UITableView,&nbsp;heightForRowAtIndexPath&nbsp;indexPath:&nbsp;NSIndexPath)&nbsp;-&gt;&nbsp;CGFloat&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;100;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}</pre>','2015-12-28 16:56:50','2016-01-01 21:35:18'),(700,'192.168.3.1',69,'AT常用逻辑','<p>1.--CH_PD引脚6K~10K电阻拉高电平,每条指令以 0D 0A 即换行符结尾&nbsp;</p><p><br/></p><p>2.打开串口调试,波特率115200,8,1,N</p><p><br/></p><p>3.初始化模块</p><p>AT+RESTORE</p><p><br/></p><p>4.--STA模式,输入SSID,WIFI密码</p><p>AT+CWMODE=1</p><p>AT+CWJAP=&quot;hzh&quot;,&quot;83317352&quot;</p><p>--取消STA开机自动连接WIFI--AT+CWAUTOCONN=0</p><p>--启用STA开机自动连接WIFI--AT+CWAUTOCONN=1</p><p>--创建AP--AT+CWMODE=2</p><p>--创建AP--AT+CWSAP=&quot;HAHA123&quot;,&quot;&quot;,1,0</p><p><br/></p><p>5.--模块断电后初始化应用</p><p>--UDP可变目标IP--AT+CIPSTART=&quot;UDP&quot;,&quot;192.168.2.200&quot;,8080,1112,2</p><p>--UDP固定发送目标IP--AT+CIPSTART=&quot;UDP&quot;,&quot;192.168.2.200&quot;,8080,1112,0</p><p>--TCP客户端--AT+CIPSTART=&quot;TCP&quot;,&quot;192.168.2.200&quot;,6766</p><p><br/></p><p>6.--发送,要分开两次发送</p><p>AT+CIPSEND=4</p><p>haha</p><p><br/></p><p>7.--重启模块</p><p>--关闭UDP或TCP客户端SOCKET--AT+CIPCLOSE</p><p>--断开指定TCP客户端--AT+CIPCLOSE=0</p><p>AT+RST</p><p><br/></p><p>8.--查询AP列表</p><p>AT+CWLAP</p><p><br/></p>','2015-12-30 06:22:50','2015-12-30 14:22:50'),(701,'192.168.2.200',31,'eclipse加入pthread','<p><img src=\"/my/notes/js/ue/php/upload_doc/20151231/14514932893147.jpg\"/></p>','2015-12-30 16:34:54','2015-12-31 00:34:54'),(702,'192.168.2.5',71,'Swift的String转char','<p><span style=\"color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px;  background-color: rgb(255, 255, 255);\">1.原来C语言中的很多基本类型，在swift语言中都有对应的类型。这些类型的对应是自动完成的。</span><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px;  background-color: rgb(255, 255, 255);\">基本类型对应</span><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px;  background-color: rgb(255, 255, 255);\">int =&gt; CInt</span><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px;  background-color: rgb(255, 255, 255);\">double =&gt; CDouble</span><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px;  background-color: rgb(255, 255, 255);\">float =&gt; CFloat</span><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px;  background-color: rgb(255, 255, 255);\">char =&gt; CChar / UInt8</span><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px;  background-color: rgb(255, 255, 255);\">char* =&gt; UnsafeMutablePointer &lt; CChar&gt; ， / UnsafeMutablePointer &lt; UInt8&gt;， .</span><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px;  background-color: rgb(255, 255, 255);\">2.在以前的一篇文章中</span><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px;  background-color: rgb(255, 255, 255);\">Swift编程语言入门视频教程（五）--输入语句</span><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px;  background-color: rgb(255, 255, 255);\">我介绍了利用C语言的输入函数来实现swift的输入语句。当时只能输入整数。</span><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px;  background-color: rgb(255, 255, 255);\">如果用户想输入字符串，那该怎么办呢？那这里就迁徙到Swift的String与C语言中的字符串char*之间转换。</span><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px;  background-color: rgb(255, 255, 255);\">我们就可以利用上面的对因关系来实现。</span><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px;  background-color: rgb(255, 255, 255);\">源代码下载：</span><a href=\"http://pan.baidu.com/s/1i35kd7Z\" target=\"_blank\" id=\"url_3\" style=\"outline: none; text-decoration: none; color: rgb(0, 112, 175); margin: 0px; padding: 0px; font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">http://pan.baidu.com/s/1i35kd7Z</a><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px;  background-color: rgb(255, 255, 255);\">实现过程如下：</span><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px;  background-color: rgb(255, 255, 255);\">a）首先创建一个C语言的文件，然后在文件中实现如下函数：</span><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px;  background-color: rgb(255, 255, 255);\">&nbsp;&nbsp; void getString(char *str) {</span><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px;  background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;scanf(&quot;%s&quot;, str);</span><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px;  background-color: rgb(255, 255, 255);\">}</span><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px;  background-color: rgb(255, 255, 255);\">b) 然后在桥接文件（cstring-Bridging-Header.h）中写入上面函数的声明。</span><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px;  background-color: rgb(255, 255, 255);\">void getString(char *str)；</span><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px;  background-color: rgb(255, 255, 255);\">c）然后在main.swift的文件中输入下面的代码，这样就可以输入字符串了！</span><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px;  background-color: rgb(255, 255, 255);\">import Foundation</span><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px;  background-color: rgb(255, 255, 255);\">var name = UnsafeMutablePointer &lt; CChar&gt;.alloc(20) //这里是指定大小</span><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px;  background-color: rgb(255, 255, 255);\">getString(name)</span><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px;  background-color: rgb(255, 255, 255);\">var res = String.fromCString(name)</span><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px;  background-color: rgb(255, 255, 255);\">println(res)</span><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px;  background-color: rgb(255, 255, 255);\">这样你从键盘输入字符串，就能输出对应的字符串：</span><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px;  background-color: rgb(255, 255, 255);\">例如我输入jamszhy，就能得到如下结果：</span><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px;  background-color: rgb(255, 255, 255);\">jamszhy</span><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px;  background-color: rgb(255, 255, 255);\">Optional(&quot;jamszhy&quot;)</span><br style=\"outline: none; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, STheiti, 微软雅黑, 黑体, Arial, Tahoma, sans-serif, serif; font-size: 14px; line-height: 24px;  background-color: rgb(255, 255, 255);\">Program ended with exit code: 0</span></p>','2016-01-03 04:41:39','2016-01-03 12:41:39'),(703,'192.168.1.38',3,'获取本机IP地址','<p class=\"p1\"><span class=\"s1\">#include </span><span class=\"s2\">&lt;arpa/inet.h&gt;</span></p><p class=\"p1\"><span class=\"s1\">#include </span><span class=\"s2\">&lt;sys/socket.h&gt;</span></p><p class=\"p2\"><span class=\"s2\">#include </span><span class=\"s3\">&lt;netdb.h&gt;</span></p><p class=\"p1\"><span class=\"s1\">#include </span><span class=\"s2\">&lt;ifaddrs.h&gt;</span></p><p class=\"p2\"><span class=\"s2\">#include </span><span class=\"s3\">&lt;stdio.h&gt;</span></p><p class=\"p1\"><span class=\"s1\">#include </span><span class=\"s2\">&lt;stdlib.h&gt;</span></p><p class=\"p1\"><span class=\"s1\">#include </span><span class=\"s2\">&lt;unistd.h&gt;</span></p><p class=\"p3\"><span class=\"s2\"></span><br/></p><p class=\"p4\"><span class=\"s2\"></span></p><p class=\"p1\"><span class=\"s1\">+(</span><span class=\"s2\">NSArray</span><span class=\"s1\">*)deviceIPAdress</span></p><p class=\"p1\"><span class=\"s1\">{</span></p><p class=\"p1\"><span class=\"s1\">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class=\"s2\">NSString</span><span class=\"s1\"> *address = </span><span class=\"s3\">@&quot;error&quot;</span><span class=\"s1\">;</span></p><p class=\"p1\"><span class=\"s1\">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class=\"s2\">NSString</span><span class=\"s1\"> *netmask = </span><span class=\"s3\">@&quot;error&quot;</span><span class=\"s1\">;</span></p><p class=\"p1\"><span class=\"s1\">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class=\"s2\">NSString</span><span class=\"s1\"> *broadaddr = </span><span class=\"s3\">@&quot;error&quot;</span><span class=\"s1\">;</span></p><p class=\"p1\"><span class=\"s1\">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class=\"s4\">struct</span><span class=\"s1\"> </span><span class=\"s2\">ifaddrs</span><span class=\"s1\"> *interfaces = </span><span class=\"s4\">NULL</span><span class=\"s1\">;</span></p><p class=\"p1\"><span class=\"s1\">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class=\"s4\">struct</span><span class=\"s1\"> </span><span class=\"s2\">ifaddrs</span><span class=\"s1\"> *temp_addr = </span><span class=\"s4\">NULL</span><span class=\"s1\">;</span></p><p class=\"p1\"><span class=\"s1\">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class=\"s4\">int</span><span class=\"s1\"> success = </span><span class=\"s5\">0</span><span class=\"s1\">;</span></p><p class=\"p2\"><span class=\"s1\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span></p><p class=\"p3\"><span class=\"s6\">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class=\"s1\">// retrieve the current interfaces - returns 0 on success</span></p><p class=\"p1\"><span class=\"s1\">&nbsp; &nbsp; &nbsp; &nbsp; success = </span><span class=\"s7\">getifaddrs</span><span class=\"s1\">(&amp;interfaces);</span></p><p class=\"p2\"><span class=\"s1\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span></p><p class=\"p1\"><span class=\"s1\">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class=\"s4\">if</span><span class=\"s1\"> (success == </span><span class=\"s5\">0</span><span class=\"s1\">)</span></p><p class=\"p1\"><span class=\"s1\">&nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class=\"p1\"><span class=\"s1\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; temp_addr = interfaces;</span></p><p class=\"p2\"><span class=\"s1\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p><p class=\"p1\"><span class=\"s1\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class=\"s4\">while</span><span class=\"s1\">(temp_addr != </span><span class=\"s4\">NULL</span><span class=\"s1\">)</span></p><p class=\"p1\"><span class=\"s1\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class=\"p3\"><span class=\"s6\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class=\"s1\">// check if interface is en0 which is the wifi connection on the iPhone</span></p><p class=\"p1\"><span class=\"s1\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class=\"s4\">if</span><span class=\"s1\">(temp_addr-&gt;</span><span class=\"s2\">ifa_addr</span><span class=\"s1\">-&gt;</span><span class=\"s2\">sa_family</span><span class=\"s1\"> == </span><span class=\"s8\">AF_INET</span><span class=\"s1\">)</span></p><p class=\"p1\"><span class=\"s1\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class=\"p1\"><span class=\"s1\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class=\"s4\">if</span><span class=\"s1\">([[</span><span class=\"s2\">NSString</span><span class=\"s1\"> </span><span class=\"s7\">stringWithUTF8String</span><span class=\"s1\">:temp_addr-&gt;</span><span class=\"s2\">ifa_name</span><span class=\"s1\">] </span><span class=\"s7\">isEqualToString</span><span class=\"s1\">:</span><span class=\"s3\">@&quot;en0&quot;</span><span class=\"s1\">])</span></p><p class=\"p1\"><span class=\"s1\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class=\"p1\"><span class=\"s1\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; address = [</span><span class=\"s2\">NSString</span><span class=\"s1\"> </span><span class=\"s7\">stringWithUTF8String</span><span class=\"s1\">:</span><span class=\"s7\">inet_ntoa</span><span class=\"s1\">(((</span><span class=\"s4\">struct</span><span class=\"s1\"> </span><span class=\"s2\">sockaddr_in</span><span class=\"s1\"> *)temp_addr-&gt;</span><span class=\"s2\">ifa_addr</span><span class=\"s1\">)-&gt;</span><span class=\"s2\">sin_addr</span><span class=\"s1\">)];</span></p><p class=\"p1\"><span class=\"s1\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; netmask = [</span><span class=\"s2\">NSString</span><span class=\"s1\"> </span><span class=\"s7\">stringWithUTF8String</span><span class=\"s1\">:</span><span class=\"s7\">inet_ntoa</span><span class=\"s1\">(((</span><span class=\"s4\">struct</span><span class=\"s1\"> </span><span class=\"s2\">sockaddr_in</span><span class=\"s1\"> *)temp_addr-&gt;</span><span class=\"s2\">ifa_netmask</span><span class=\"s1\">)-&gt;</span><span class=\"s2\">sin_addr</span><span class=\"s1\">)];</span></p><p class=\"p1\"><span class=\"s1\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; broadaddr = [</span><span class=\"s2\">NSString</span><span class=\"s1\"> </span><span class=\"s7\">stringWithUTF8String</span><span class=\"s1\">:</span><span class=\"s7\">inet_ntoa</span><span class=\"s1\">(((</span><span class=\"s4\">struct</span><span class=\"s1\"> </span><span class=\"s2\">sockaddr_in</span><span class=\"s1\"> *)temp_addr-&gt;</span><span class=\"s2\">ifa_dstaddr</span><span class=\"s1\">)-&gt;</span><span class=\"s2\">sin_addr</span><span class=\"s1\">)];</span></p><p class=\"p1\"><span class=\"s1\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class=\"p1\"><span class=\"s1\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class=\"p2\"><span class=\"s1\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p><p class=\"p1\"><span class=\"s1\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; temp_addr = temp_addr-&gt;</span><span class=\"s2\">ifa_next</span><span class=\"s1\">;</span></p><p class=\"p1\"><span class=\"s1\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class=\"p1\"><span class=\"s1\">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class=\"p2\"><span class=\"s1\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</span></p><p class=\"p1\"><span class=\"s1\">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class=\"s7\">freeifaddrs</span><span class=\"s1\">(interfaces);</span></p><p class=\"p2\"><span class=\"s1\">&nbsp;&nbsp; &nbsp;</span></p><p class=\"p1\"><span class=\"s1\">&nbsp;&nbsp; &nbsp; </span><span class=\"s7\">NSLog</span><span class=\"s1\">(</span><span class=\"s3\">@&quot;local ip=%@&quot;</span><span class=\"s1\">,address);</span></p><p class=\"p1\"><span class=\"s1\">&nbsp;&nbsp; &nbsp; </span><span class=\"s7\">NSLog</span><span class=\"s1\">(</span><span class=\"s3\">@&quot;netmask=%@&quot;</span><span class=\"s1\">,netmask);</span></p><p class=\"p1\"><span class=\"s1\">&nbsp;&nbsp; &nbsp; </span><span class=\"s7\">NSLog</span><span class=\"s1\">(</span><span class=\"s3\">@&quot;broadaddr=%@&quot;</span><span class=\"s1\">,broadaddr);</span></p><p class=\"p2\"><span class=\"s1\">&nbsp;&nbsp; &nbsp;</span></p><p class=\"p1\"><span class=\"s1\">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class=\"s4\">return</span><span class=\"s1\"> [</span><span class=\"s2\">NSArray</span><span class=\"s1\"> </span><span class=\"s7\">arrayWithObjects</span><span class=\"s1\">:address,netmask,broadaddr, </span><span class=\"s4\">nil</span><span class=\"s1\">];</span></p><p class=\"p1\"><span class=\"s1\">}</span></p><p class=\"p4\"><br/></p>','2016-01-09 13:10:43','2016-01-09 21:11:10'),(704,'192.168.2.75',24,'16进字符串互转16进缓存','<pre class=\"brush:cpp;toolbar:false\">C语言\r\n#ifndef&nbsp;AAAMCICICIC_\r\n\r\n#include&nbsp;&lt;stdio.h&gt;\r\n\r\nstatic&nbsp;int&nbsp;transDecode(char&nbsp;*src,&nbsp;char&nbsp;*bits)&nbsp;\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;i,&nbsp;n&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i&nbsp;=&nbsp;0;&nbsp;src[i];&nbsp;i&nbsp;+=&nbsp;2)&nbsp;{\r\n		if&nbsp;(src[i]&nbsp;&gt;=&nbsp;&#39;A&#39;&nbsp;&amp;&amp;&nbsp;src[i]&nbsp;&lt;=&nbsp;&#39;F&#39;)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bits[n]&nbsp;=&nbsp;src[i]&nbsp;-&nbsp;&#39;A&#39;&nbsp;+&nbsp;10;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;bits[n]&nbsp;=&nbsp;src[i]&nbsp;-&nbsp;&#39;0&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(src[i&nbsp;+&nbsp;1]&nbsp;&gt;=&nbsp;&#39;A&#39;&nbsp;&amp;&amp;&nbsp;src[i&nbsp;+&nbsp;1]&nbsp;&lt;=&nbsp;&#39;F&#39;)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bits[n]&nbsp;=&nbsp;(bits[n]&nbsp;&lt;&lt;&nbsp;4)&nbsp;|&nbsp;(src[i&nbsp;+&nbsp;1]&nbsp;-&nbsp;&#39;A&#39;&nbsp;+&nbsp;10);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;bits[n]&nbsp;=&nbsp;(bits[n]&nbsp;&lt;&lt;&nbsp;4)&nbsp;|&nbsp;(src[i&nbsp;+&nbsp;1]&nbsp;-&nbsp;&#39;0&#39;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++n;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;n;\r\n}\r\n\r\nstatic&nbsp;int&nbsp;transEncode(char*&nbsp;buffer,int&nbsp;buflen,const&nbsp;unsigned&nbsp;char&nbsp;*p_pBuff,&nbsp;int&nbsp;p_pBuffLen)&nbsp;\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;i;\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(NULL&nbsp;!=&nbsp;p_pBuff)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;p_pBuffLen;&nbsp;i++)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sprintf_s(buffer&nbsp;+&nbsp;i&nbsp;*&nbsp;2,buflen-i*2,&nbsp;&quot;%02X&quot;,&nbsp;(unsigned&nbsp;char)&nbsp;p_pBuff[i]);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//printf(&quot;[%s][#ue_pole#n]&quot;,&nbsp;buffer);\r\n	i*=2;\r\n	buffer[i]=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;i;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}\r\n\r\n#define&nbsp;AAAMCICICIC_\r\n#endif</pre><p><br/></p><p>////////////////////////////////////////////////////////////////////////////</p><p>JAVA语言</p><pre class=\"brush:java;toolbar:false;\">public&nbsp;static&nbsp;String&nbsp;transDecode(String&nbsp;ss)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;nssa=ss.length();\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(nssa%2!=0)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{return&nbsp;&quot;&quot;;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;byte[]&nbsp;src=ss.getBytes();\r\n&nbsp;&nbsp;&nbsp;&nbsp;byte[]&nbsp;dst=new&nbsp;byte[1024];\r\n&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;i,&nbsp;n&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i&nbsp;=&nbsp;0;&nbsp;i&lt;src.length;&nbsp;i&nbsp;+=&nbsp;2)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(src[i]&nbsp;&gt;=&nbsp;&#39;A&#39;&nbsp;&amp;&amp;&nbsp;src[i]&nbsp;&lt;=&nbsp;&#39;F&#39;)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dst[n]&nbsp;=&nbsp;(byte)&nbsp;(src[i]&nbsp;-&nbsp;&#39;A&#39;&nbsp;+&nbsp;10);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;dst[n]&nbsp;=&nbsp;(byte)&nbsp;(src[i]&nbsp;-&nbsp;&#39;0&#39;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(src[i&nbsp;+&nbsp;1]&nbsp;&gt;=&nbsp;&#39;A&#39;&nbsp;&amp;&amp;&nbsp;src[i&nbsp;+&nbsp;1]&nbsp;&lt;=&nbsp;&#39;F&#39;)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dst[n]&nbsp;=&nbsp;(byte)&nbsp;((dst[n]&nbsp;&lt;&lt;&nbsp;4)&nbsp;|&nbsp;(src[i&nbsp;+&nbsp;1]&nbsp;-&nbsp;&#39;A&#39;&nbsp;+&nbsp;10));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;dst[n]&nbsp;=&nbsp;(byte)&nbsp;((dst[n]&nbsp;&lt;&lt;&nbsp;4)&nbsp;|&nbsp;(src[i&nbsp;+&nbsp;1]&nbsp;-&nbsp;&#39;0&#39;));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++n;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;try&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new&nbsp;String(dst,&nbsp;&quot;UTF8&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;catch&nbsp;(UnsupportedEncodingException&nbsp;e)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.printStackTrace();\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;null;\r\n}\r\n\r\npublic&nbsp;static&nbsp;String&nbsp;transEncode(String&nbsp;ss)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;ret;\r\n&nbsp;&nbsp;&nbsp;&nbsp;ret=&quot;&quot;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;for(int&nbsp;i=0;i&lt;ss.length();i++)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Formatter&nbsp;fmt&nbsp;=&nbsp;new&nbsp;Formatter();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;nn=ss.charAt(i);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fmt.format(&quot;%02X&quot;,nn);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ret+=fmt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fmt.close();\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(ret);\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;ret;\r\n}</pre><p><br/></p>','2016-01-10 12:21:34','2016-12-14 16:49:21'),(705,'192.168.2.200',69,'GPIO按键控制LED','<pre class=\"brush:cpp;toolbar:false\">bool&nbsp;g_pluStatus=false;\r\n/////////////////////////////////////////////////////////////////////&nbsp;\r\nvoid&nbsp;ICACHE_FLASH_ATTR&nbsp;defaultSetting();&nbsp;&nbsp;\r\n&nbsp;\r\n//////////////////////////////////////////////////////////////////////////////\r\nvoid&nbsp;ICACHE_FLASH_ATTR&nbsp;user_plug_init(void);\r\nLOCAL&nbsp;void&nbsp;ICACHE_FLASH_ATTR&nbsp;user_led_init(void);\r\nLOCAL&nbsp;void&nbsp;ICACHE_FLASH_ATTR&nbsp;user_plug_short_press(void);\r\nLOCAL&nbsp;void&nbsp;ICACHE_FLASH_ATTR&nbsp;user_plug_long_press(void);\r\nvoid&nbsp;ICACHE_FLASH_ATTR&nbsp;user_led_output(uint8&nbsp;level);\r\n&nbsp;\r\n//////////////////////////////////////////////////////////////////////////////\r\nvoid&nbsp;ICACHE_FLASH_ATTR&nbsp;user_plug_init(void)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;os_printf(&quot;restore&nbsp;key&nbsp;init[#ue_pole#n]&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;single_key[0]&nbsp;=&nbsp;key_init_single(PLUG_KEY_0_IO_NUM,&nbsp;PLUG_KEY_0_IO_MUX,&nbsp;PLUG_KEY_0_IO_FUNC,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user_plug_long_press,&nbsp;user_plug_short_press);\r\n&nbsp;&nbsp;&nbsp;&nbsp;keys.key_num&nbsp;=&nbsp;PLUG_KEY_NUM;\r\n&nbsp;&nbsp;&nbsp;&nbsp;keys.single_key&nbsp;=&nbsp;single_key;\r\n&nbsp;&nbsp;&nbsp;&nbsp;key_init(&amp;keys);\r\n}\r\n//\r\nLOCAL&nbsp;void&nbsp;ICACHE_FLASH_ATTR&nbsp;user_led_init(void)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;PIN_FUNC_SELECT(LED_2_IO_MUX,&nbsp;LED_2_IO_FUNC);\r\n&nbsp;&nbsp;&nbsp;&nbsp;GPIO_OUTPUT_SET(GPIO_ID_PIN(LED_2_IO_NUM),&nbsp;0);&nbsp;//初始化时关闭\r\n}\r\n//////////////////////////////////////////////////////////////////////////////\r\nLOCAL&nbsp;void&nbsp;ICACHE_FLASH_ATTR&nbsp;user_plug_short_press(void)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;os_printf(&quot;user_plug_short_press,&nbsp;[#ue_pole#n]&quot;);\r\n&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;g_pluStatus=!g_pluStatus;\r\n&nbsp;&nbsp;&nbsp;&nbsp;user_led_output(g_pluStatus);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;os_printf(&quot;GPIO2&nbsp;plug&nbsp;change&nbsp;=%d&nbsp;[#ue_pole#n]&quot;,g_pluStatus);\r\n}\r\nLOCAL&nbsp;void&nbsp;ICACHE_FLASH_ATTR&nbsp;user_plug_long_press(void)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;os_printf(&quot;user_plug_long_press[#ue_pole#n]&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;//恢复出厂设置\r\n&nbsp;&nbsp;&nbsp;&nbsp;defaultSetting();\r\n}\r\nvoid&nbsp;ICACHE_FLASH_ATTR&nbsp;user_led_output(uint8&nbsp;level)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;g_pluStatus=level;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;GPIO_OUTPUT_SET(GPIO_ID_PIN(LED_2_IO_NUM),&nbsp;level);\r\n}\r\n&nbsp;\r\n/////////////////////////////////////////////////////////////////////&nbsp;\r\n//出厂设置---------------\r\n&nbsp;\r\nvoid&nbsp;ICACHE_FLASH_ATTR&nbsp;defaultSetting()\r\n{\r\n&nbsp;//-----------出厂设置---------------\r\n&nbsp;//擦除闪存数据\r\n&nbsp;TzhEEPRomFristFixedInfo&nbsp;tmpFixRom={0};\r\n&nbsp;os_memcpy(tmpFixRom.structDataChecksum,&quot;hello&quot;,5);//&quot;hello&quot;是固定的验证数据,不变\r\n&nbsp;spi_flash_erase_sector(62);\r\n&nbsp;spi_flash_write(62&nbsp;*&nbsp;SPI_FLASH_SEC_SIZE,(uint32*)&amp;tmpFixRom,sizeof(TzhEEPRomFristFixedInfo));\r\n&nbsp;//----------------------------------\r\n&nbsp;//出厂重置\r\n&nbsp;&nbsp;&nbsp;&nbsp;system_restore();\r\n&nbsp;&nbsp;&nbsp;&nbsp;system_restart();\r\n}</pre><p>&nbsp;</p>','2016-01-16 14:54:56','2016-01-16 23:15:18'),(706,'192.168.1.200',69,'station模式 设置固定IP','<pre class=\"brush:cpp;toolbar:false\">void&nbsp;ICACHE_FLASH_ATTR&nbsp;uwork_esp_platform_check_ip(void)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;struct&nbsp;ip_info&nbsp;ipconfig;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//disarm&nbsp;timer&nbsp;first\r\n&nbsp;&nbsp;&nbsp;&nbsp;os_timer_disarm(&amp;uwork_timer);\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//get&nbsp;ip&nbsp;info&nbsp;of&nbsp;ESP8266&nbsp;station\r\n&nbsp;&nbsp;&nbsp;&nbsp;wifi_get_ip_info(STATION_IF,&nbsp;&amp;ipconfig);\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(wifi_station_get_connect_status()&nbsp;==&nbsp;STATION_GOT_IP&nbsp;&amp;&amp;&nbsp;ipconfig.ip.addr&nbsp;!=&nbsp;0)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os_printf(&quot;got&nbsp;ip&nbsp;!!![#ue_pole#n]&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//进入工作模式\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;uwork_service_main();\r\n&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((wifi_station_get_connect_status()&nbsp;==&nbsp;STATION_WRONG_PASSWORD&nbsp;||\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wifi_station_get_connect_status()&nbsp;==&nbsp;STATION_NO_AP_FOUND&nbsp;||\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wifi_station_get_connect_status()&nbsp;==&nbsp;STATION_CONNECT_FAIL))\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//os_printf(&quot;connect&nbsp;fail&nbsp;!!!&nbsp;[#ue_pole#n]&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//os_printf(&quot;re-arm&nbsp;timer&nbsp;to&nbsp;check&nbsp;ip[#ue_pole#n]&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//re-arm&nbsp;timer&nbsp;to&nbsp;check&nbsp;ip\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os_timer_setfn(&amp;test_timer,&nbsp;(os_timer_func_t&nbsp;*)user_esp_platform_check_ip,&nbsp;NULL);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os_timer_arm(&amp;test_timer,&nbsp;100,&nbsp;0);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}\r\nint&nbsp;ICACHE_FLASH_ATTR&nbsp;uwork_set_station_config(char*SSID,char*wifipwd)\r\n{\r\n//&nbsp;Wifi&nbsp;configuration&nbsp;\r\nchar&nbsp;ssid[32]={0};&nbsp;\r\nchar&nbsp;password[64]={0};&nbsp;\r\nstruct&nbsp;station_config&nbsp;stationConf={0};&nbsp;\r\nstruct&nbsp;ip_info&nbsp;ipinfo;\r\n\r\nif(0==strlen(SSID))\r\n{\r\nos_printf(&quot;uwork_set_ap_config&nbsp;SSID&nbsp;is&nbsp;NULL&quot;);\r\nreturn&nbsp;1;&nbsp;\r\n}\r\n\r\n//Set&nbsp;&nbsp;station&nbsp;mode&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;wifi_set_opmode(STATION_MODE);&nbsp;\r\n\r\nstrcpy(ssid,SSID);\r\nstrcpy(password,wifipwd);\r\n\r\n//need&nbsp;not&nbsp;mac&nbsp;address\r\nstationConf.bssid_set&nbsp;=&nbsp;0;&nbsp;\r\n//stationConf.bssid&nbsp;is&nbsp;mac&nbsp;addr&nbsp;to&nbsp;WDS\r\n\r\n//Set&nbsp;ap&nbsp;settings&nbsp;\r\nos_memcpy(&amp;stationConf.ssid,&nbsp;ssid,&nbsp;32);&nbsp;\r\nos_memcpy(&amp;stationConf.password,&nbsp;password,&nbsp;64);&nbsp;\r\nwifi_station_set_config(&amp;stationConf);\r\n\r\n//set&nbsp;ip&nbsp;address\r\nwifi_station_dhcpc_stop();\r\nIP4_ADDR(&amp;ipinfo.ip,192,168,4,1);\r\nIP4_ADDR(&amp;ipinfo.netmask,255,255,248,0);\r\nIP4_ADDR(&amp;ipinfo.gw,192,168,8,1);\r\nwifi_set_ip_info(STATION_IF,&amp;ipinfo);\r\n\r\n//set&nbsp;a&nbsp;timer&nbsp;to&nbsp;check&nbsp;whether&nbsp;got&nbsp;ip&nbsp;from&nbsp;router&nbsp;succeed&nbsp;or&nbsp;not.\r\nos_timer_disarm(&amp;uwork_timer);\r\nos_timer_setfn(&amp;uwork_timer,&nbsp;(os_timer_func_t&nbsp;*)uwork_esp_platform_check_ip,&nbsp;NULL);\r\nos_timer_arm(&amp;uwork_timer,&nbsp;100,&nbsp;0);\r\nreturn&nbsp;0;\r\n}</pre><p><br/></p>','2016-01-16 21:05:32','2016-06-07 12:53:32'),(707,'192.168.2.200',68,'adb usb连接到手机','<p>命令</p><p>adb shell</p>','2016-01-18 09:19:42','2016-01-18 17:19:42'),(708,'192.168.2.200',66,'苹果iPhone safari浏览器样式重置修复submit按钮圆角bug','<p>.basic-grey .button {</p><p>background: #E27575;</p><p>border: none;</p><p>padding: 10px 25px 10px 25px;</p><p>color: #FFF;</p><p>box-shadow: 1px 1px 5px #B6B6B6;</p><p>border-radius: 3px;</p><p>text-shadow: 1px 1px 1px #9E3F3F;</p><p>cursor: pointer;</p><p>width:50%;</p><p>font-size:20px;</p><p>margin:30px 0px 10px 0px;</p><p>-webkit-appearance: none; //<span style=\"font-family: tahoma, arial, 宋体; font-size: 14px; line-height: 25.2px;  background-color: rgb(255, 255, 255);\">修复iPhone的safari浏览器上submit按钮圆角bug&nbsp;</span></p><p>}</p><p><br/></p><p>&lt;input type=&quot;button&quot; class=&quot;button&quot; value=&quot;确 &nbsp;定&quot; /&gt;</p><p><br/></p>','2016-01-19 11:39:28','2016-01-19 19:39:28'),(709,'192.168.2.200',23,'让footer始终位于页面的最底部','<p>CSS:</p><pre class=\"brush:html;toolbar:false\">&lt;div&nbsp;class=&quot;container&quot;&gt;\r\n&lt;div&nbsp;class=&quot;body&quot;&gt;无数换行.&lt;br&gt;&lt;/div&gt;\r\n&lt;div&nbsp;class=&quot;footer&quot;&gt;我就是个底部....&lt;/div&gt;\r\n&lt;/div&gt;</pre><p>&nbsp;</p><p>&nbsp;</p><p>第一种情况：footer随着滚动条的滚动而滚动</p><pre class=\"brush:html;toolbar:false\">.container{position:relative;width:100%;min-height:100%;}\r\n.body{padding-bottom:50px;}\r\n.footer{height:50px;position:fixed;bottom:0px;left:0px;}</pre><p>&nbsp;</p><p>&nbsp;</p><p>第二种情况:footer始终在其底部固定,&lt;!doctype html&gt; 这句话不能加.不然会失效</p><pre class=\"brush:html;toolbar:false\">.container{position:relative;width:100%;min-height:100%;}\r\n.body{padding-bottom:50px;}\r\n.footer{height:50px;position:absolute;bottom:0px;left:0px;}</pre><p>&nbsp;</p>','2016-01-19 13:28:27','2016-01-23 22:52:56'),(710,'192.168.2.200',23,'用JS获取地址栏参数的方法（超级简单）','<p>function GetQueryString(name)<br/></p><p>{</p><p>&nbsp; &nbsp; &nbsp;var reg = new RegExp(&quot;(^|&amp;)&quot;+ name +&quot;=([^&amp;]*)(&amp;|$)&quot;);</p><p>&nbsp; &nbsp; &nbsp;var r = window.location.search.substr(1).match(reg);</p><p>&nbsp; &nbsp; &nbsp;if(r!=null)return &nbsp;unescape(r[2]); return null;</p><p>}</p><p>&nbsp;</p><p>// 调用方法</p><p>alert(GetQueryString(&quot;参数名1&quot;));</p><p>alert(GetQueryString(&quot;参数名2&quot;));</p><p>alert(GetQueryString(&quot;参数名3&quot;));</p><p><br/></p>','2016-01-26 08:50:20','2016-01-26 16:50:20'),(711,'192.168.2.200',23,'JS获取当前页面名称','<pre class=\"brush:js;toolbar:false\">//取当前页面名称(带后缀名)\r\nfunction&nbsp;pageName()\r\n{\r\n	var&nbsp;strUrl=location.href;\r\n	var&nbsp;arrUrl=strUrl.split(&quot;/&quot;);\r\n	var&nbsp;strPage=arrUrl[arrUrl.length-1];\r\n	strPage=strPage.split(&quot;?&quot;);\r\n	return&nbsp;strPage[0];\r\n}\r\n\r\n//&nbsp;取当前页面名称(不带后缀名)\r\nfunction&nbsp;pageName()\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;a&nbsp;=&nbsp;location.href;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;arrUrl=strUrl.split(&quot;/&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;strPage=arrUrl[arrUrl.length-1];\r\n	var&nbsp;b=strPage.split(&quot;?&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;c&nbsp;=&nbsp;b.slice(b.length-1,&nbsp;b.length).toString(String).split(&quot;.&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;c.slice(0,&nbsp;1);\r\n}</pre><p><br/></p>','2016-01-26 14:52:52','2016-01-26 22:52:52'),(712,'192.168.2.200',69,'搜索WIFI','<p><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">/******************************************************************************</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp;* FunctionName : scan_done</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp;* Description&nbsp; : scan done callback</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp;* Parameters&nbsp; &nbsp;:&nbsp; arg: contain the aps information;&nbsp;</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; status: scan over status</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp;* Returns&nbsp; &nbsp; &nbsp; : none</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">*******************************************************************************/</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">void ICACHE_FLASH_ATTR</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">scan_done(void *arg, STATUS status)</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">{</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; uint8 ssid[33];</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; char temp[128];</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; if (status == OK)</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; {</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; struct bss_info *bss_link = (struct bss_info *)arg;</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; bss_link = bss_link-&gt;next.stqe_next;//ignore the first one , it&#39;s invalid.</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; while (bss_link != NULL)</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; {</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; os_memset(ssid, 0, 33);</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; if (os_strlen(bss_link-&gt;ssid) &lt;= 32)</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; {</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; os_memcpy(ssid, bss_link-&gt;ssid, os_strlen(bss_link-&gt;ssid));</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; }</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; else</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; {</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; os_memcpy(ssid, bss_link-&gt;ssid, 32);</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; }</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; os_printf(&quot;(%d,&quot;%s&quot;,%d,&quot;&quot;MACSTR&quot;&quot;,%d)\r[#ue_pole#n]&quot;,</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bss_link-&gt;authmode, ssid, bss_link-&gt;rssi,</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;MAC2STR(bss_link-&gt;bssid),bss_link-&gt;channel);</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; &nbsp; bss_link = bss_link-&gt;next.stqe_next;</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; }</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; }</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; else</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; {</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; &nbsp;&nbsp; os_printf(&quot;scan fail !!!\r[#ue_pole#n]&quot;);</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; }</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">}</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">/******************************************************************************</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp;* FunctionName : user_scan</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp;* Description&nbsp; : wifi scan, only can be called after system init done.</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp;* Parameters&nbsp; &nbsp;:&nbsp; none</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp;* Returns&nbsp; &nbsp; &nbsp; : none</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">*******************************************************************************/</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">void ICACHE_FLASH_ATTR</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">user_scan(void)</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">{</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; &nbsp;if(wifi_get_opmode() == SOFTAP_MODE)</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; &nbsp;{</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; &nbsp;&nbsp; os_printf(&quot;ap mode can&#39;t scan !!!\r[#ue_pole#n]&quot;);</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; &nbsp;&nbsp; return;</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; &nbsp;}</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; &nbsp;</span><span class=\"posthilit\" style=\"margin: 0px; padding: 0px 2px 1px; border: 0px; font-stretch: inherit; font-size: 12px; line-height: 15.6px; font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; vertical-align: baseline; color: rgb(188, 42, 77);  background-color: rgb(243, 191, 204);\">wifi_station_scan</span><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">(NULL,scan_done);</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">}</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">/******************************************************************************</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp;* FunctionName : user_init</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp;* Description&nbsp; : entry of user application, init user function here</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp;* Parameters&nbsp; &nbsp;: none</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp;* Returns&nbsp; &nbsp; &nbsp; : none</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">*******************************************************************************/</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">void user_init(void)</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">{</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; os_printf(&quot;SDK version:%s[#ue_pole#n]&quot;, system_get_sdk_version());</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; &nbsp;</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; &nbsp;//Set softAP + station mode&nbsp;</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; &nbsp;wifi_set_opmode(STATIONAP_MODE);&nbsp;</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; &nbsp;// wifi scan has to after system init done.</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">&nbsp; &nbsp;system_init_done_cb(user_scan);</span><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(46, 139, 87); font-family: Monaco, &#39;Andale Mono&#39;, &#39;Courier New&#39;, Courier, mono; font-size: 12px; line-height: 15.6px;  background-color: rgb(255, 255, 255);\">}</span></p>','2016-01-26 19:45:21','2016-01-27 03:45:21'),(713,'192.168.2.200',5,'Android基础控件之Button的基本使用','<p><a href=\"http://www.cnblogs.com/mengdd/archive/2012/12/20/2826235.html\">http://www.cnblogs.com/mengdd/archive/2012/12/20/2826235.html</a></p><p>&nbsp;</p><h2><span style=\"font-size: 18pt;\">Button基本使用方法</span></h2><p><span style=\"font-size: 15px;\">　　首先，添加Button控件到XML布局文件中。也可通过程序添加。</span></p><p><span style=\"font-size: 15px;\">　　在布局文件中设置按钮的一些属性，如位置，宽高，按钮上的字，颜色等。</span></p><p><span style=\"font-size: 15px;\">　　比较重要的是要给按钮一个id号，这是按钮唯一的名字。</span></p><p><span style=\"font-size: 15px;\">　　这样在程序中可以通过如下形式获得按钮：</span></p><p><span style=\"font-size: 15px;\">　　<span style=\"background-color: rgb(255, 255, 0);\">button = (Button)findViewById(R.id.buttonId);</span></span></p><h2>&nbsp;</h2><h2><span style=\"color: rgb(51, 102, 255); font-size: 18pt;\">1.通过onClick属性设置处理方法</span></h2><p><span style=\"font-size: 15px;\">　　在XML布局文件中设置Button的属性：</span></p><p><span style=\"font-size: 15px;\">　　<span style=\"background-color: rgb(255, 255, 0);\">android:onClick=&quot;yourMethodName&quot;</span></span></p><p><span style=\"font-size: 15px;\">　　然后在该布局文件对应的Acitivity中实现该方法：</span>&nbsp;</p><p><span class=\"cnblogs_code_copy\"><a title=\"复制代码\" href=\"javascript:void(0);\"></a></span></p><pre>　　public&nbsp;void&nbsp;yourMethodName(View&nbsp;view)\r\n　　{\r\n&nbsp;&nbsp;&nbsp;&nbsp;　　　//&nbsp;Do&nbsp;something&nbsp;in&nbsp;response&nbsp;to&nbsp;button&nbsp;click\r\n　　}</pre><p><span style=\"font-size: 15px;\">　　<span style=\"background-color: rgb(255, 255, 0);\">需要注意的是这个方法必须符合三个条件：</span></span></p><p><span style=\"font-size: 15px;\">　　1.public</span></p><p><span style=\"font-size: 15px;\">　　2.返回void</span></p><p><span style=\"font-size: 15px;\">　　3.只有一个参数View，这个View就是被点击的这个控件。</span></p><p><span style=\"font-size: 15px;\"></span>&nbsp;</p><h2><span style=\"color: rgb(51, 102, 255); font-size: 18pt;\">2.使用setOnClickListener添加监听器对象</span></h2><p>&nbsp;</p><pre>　　Button&nbsp;button&nbsp;=&nbsp;(Button)&nbsp;findViewById(R.id.button_send);\r\n　　button.setOnClickListener(new&nbsp;View.OnClickListener()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;　　public&nbsp;void&nbsp;onClick(View&nbsp;v)\r\n　　　{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;　　&nbsp;//&nbsp;Do&nbsp;something&nbsp;in&nbsp;response&nbsp;to&nbsp;button&nbsp;click\r\n&nbsp;&nbsp;&nbsp;&nbsp;　　}\r\n　　});</pre><p><span class=\"cnblogs_code_copy\"><a title=\"复制代码\" href=\"javascript:void(0);\"></a></span></p><p>&nbsp;</p>','2016-01-31 10:22:52','2016-01-31 18:23:54'),(714,'192.168.2.200',5,'UDP例子','<p><strong>加入权限</strong></p><p><strong>android.permission.INTERNET</strong></p><p><strong>android.permission.CHANGE_WIFI_MULTICAST_STATE</strong></p><p><strong>android.permission.ACCESS_WIFI_STATE</strong></p><p><strong>android.permission.ACCESS_NETWORK_STATE</strong></p><p>&nbsp;</p><p>&nbsp;</p><pre class=\"brush:cpp;toolbar:false\">import&nbsp;android.os.Bundle;\r\nimport&nbsp;android.annotation.SuppressLint;\r\nimport&nbsp;android.app.Activity;\r\nimport&nbsp;android.view.View;\r\nimport&nbsp;android.widget.TextView;\r\nimport&nbsp;android.os.Message;\r\nimport&nbsp;java.net.DatagramPacket;\r\nimport&nbsp;java.net.DatagramSocket;\r\nimport&nbsp;java.net.InetAddress;\r\nimport&nbsp;java.net.SocketException;\r\nimport&nbsp;android.os.Handler;\r\n@SuppressLint(&quot;HandlerLeak&quot;)\r\npublic&nbsp;class&nbsp;MainActivity&nbsp;extends&nbsp;Activity&nbsp;{\r\n&nbsp;public&nbsp;Handler&nbsp;Handler;\r\n&nbsp;private&nbsp;DatagramSocket&nbsp;socket;\r\n&nbsp;@Override\r\n&nbsp;protected&nbsp;void&nbsp;onCreate(Bundle&nbsp;savedInstanceState)&nbsp;{\r\n&nbsp;&nbsp;super.onCreate(savedInstanceState);\r\n&nbsp;&nbsp;setContentView(R.layout.activity_main);\r\n&nbsp;&nbsp;//&nbsp;/////////////////////////////////////////////////\r\n&nbsp;&nbsp;try&nbsp;{\r\n&nbsp;&nbsp;&nbsp;socket&nbsp;=&nbsp;new&nbsp;DatagramSocket(8080);\r\n&nbsp;&nbsp;&nbsp;new&nbsp;Thread(new&nbsp;RecvUDPService()).start();\r\n&nbsp;&nbsp;&nbsp;Handler&nbsp;=&nbsp;new&nbsp;Handler()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;handleMessage(Message&nbsp;msg)&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//显示数据\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;text&nbsp;=&nbsp;(String)&nbsp;msg.obj;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TextView&nbsp;txt1&nbsp;=&nbsp;(TextView)&nbsp;findViewById(R.id.textView1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;txt1.setText(text);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;};\r\n&nbsp;&nbsp;}&nbsp;catch&nbsp;(SocketException&nbsp;e)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;e.printStackTrace();\r\n&nbsp;&nbsp;}\r\n&nbsp;}\r\n&nbsp;public&nbsp;void&nbsp;btn1_click(View&nbsp;view)&nbsp;{\r\n&nbsp;&nbsp;new&nbsp;Thread(new&nbsp;SendUDP(&quot;192.168.2.200&quot;,&nbsp;18080,&nbsp;&quot;hahaha...&quot;)).start();\r\n&nbsp;}\r\n&nbsp;public&nbsp;class&nbsp;SendUDP&nbsp;implements&nbsp;Runnable&nbsp;{\r\n&nbsp;&nbsp;String&nbsp;sendbuf;\r\n&nbsp;&nbsp;String&nbsp;send_host_or_ip;\r\n&nbsp;&nbsp;int&nbsp;sendPort;\r\n&nbsp;&nbsp;public&nbsp;SendUDP(String&nbsp;host,&nbsp;int&nbsp;port,&nbsp;String&nbsp;buf)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;sendbuf&nbsp;=&nbsp;buf;\r\n&nbsp;&nbsp;&nbsp;send_host_or_ip&nbsp;=&nbsp;host;\r\n&nbsp;&nbsp;&nbsp;sendPort&nbsp;=&nbsp;port;\r\n&nbsp;&nbsp;}\r\n&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;public&nbsp;void&nbsp;run()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;try&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;byte[]&nbsp;buf;\r\n&nbsp;&nbsp;&nbsp;&nbsp;InetAddress&nbsp;serverAddr&nbsp;=&nbsp;InetAddress.getByName(send_host_or_ip);\r\n&nbsp;&nbsp;&nbsp;&nbsp;buf&nbsp;=&nbsp;sendbuf.getBytes();\r\n&nbsp;&nbsp;&nbsp;&nbsp;DatagramPacket&nbsp;packet&nbsp;=&nbsp;new&nbsp;DatagramPacket(buf,&nbsp;buf.length,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;serverAddr,&nbsp;sendPort);\r\n&nbsp;&nbsp;&nbsp;&nbsp;updatetrack(&quot;Client:&nbsp;Sending&nbsp;‘&quot;&nbsp;+&nbsp;new&nbsp;String(buf)&nbsp;+&nbsp;&quot;’[#ue_pole#n]&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;socket.send(packet);\r\n&nbsp;&nbsp;&nbsp;}&nbsp;catch&nbsp;(Exception&nbsp;e)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;updatetrack(&quot;Client:&nbsp;Error![#ue_pole#n]&quot;);\r\n&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;}\r\n&nbsp;}\r\n&nbsp;public&nbsp;class&nbsp;RecvUDPService&nbsp;implements&nbsp;Runnable&nbsp;{\r\n&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;public&nbsp;void&nbsp;run()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;try&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(true)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;byte[]&nbsp;buf&nbsp;=&nbsp;new&nbsp;byte[2048];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DatagramPacket&nbsp;packet&nbsp;=&nbsp;new&nbsp;DatagramPacket(buf,&nbsp;buf.length);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;socket.receive(packet);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;updatetrack(&quot;Server:&nbsp;Message&nbsp;received:&nbsp;‘&quot;+&nbsp;new&nbsp;String(packet.getData())&nbsp;+&nbsp;&quot;’[#ue_pole#n]&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;}&nbsp;catch&nbsp;(Exception&nbsp;e)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;updatetrack(&quot;Server:&nbsp;Error![#ue_pole#n]&quot;);\r\n&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;}\r\n&nbsp;}\r\n&nbsp;public&nbsp;void&nbsp;updatetrack(String&nbsp;s)&nbsp;{\r\n&nbsp;&nbsp;Message&nbsp;msg&nbsp;=&nbsp;new&nbsp;Message();\r\n&nbsp;&nbsp;String&nbsp;textTochange&nbsp;=&nbsp;s;\r\n&nbsp;&nbsp;msg.obj&nbsp;=&nbsp;textTochange;\r\n&nbsp;&nbsp;Handler.sendMessage(msg);\r\n&nbsp;}\r\n}</pre><p>&nbsp;</p>','2016-01-31 17:26:27','2016-02-05 19:19:31'),(715,'192.168.2.200',68,'通过adb清除密码','<p><span style=\"font-family: &#39;Hiragino Sans GB W3&#39;, &#39;Hiragino Sans GB&#39;, Arial, Helvetica, simsun, u5b8bu4f53; font-size: 14px; line-height: 22.4px;  background-color: rgb(255, 255, 255);\">新建“清除密码.bat”内容如下：</span></p><p><br/></p><pre class=\"prettyprint\"><p style=\"margin-top: 0px; margin-bottom: 10px;\">echo off<br/>cd /d %~dp0<br/>title 清除安卓手机密码<br/>echo 请开启手机调试<br/>echo 确保手机已经获取root权限，保持屏幕常亮不锁屏<br/>echo 如果出现授权提示请点“允许”<br/>echo 等待设备连接：<br/>adb wait-for-device<br/><br/>adb shell su -c &quot;mount -o remount rw /data&quot;<br/>echo.<br/>echo 清除访问限制...<br/>adb shell su -c &quot;rm &nbsp;/data/system/access_control.key&quot;<br/>echo.<br/>echo 清除图形密码(九宫格锁)...<br/>adb shell su -c &quot;rm &nbsp;/data/system/gesture.key&quot;<br/>echo.<br/>echo 清除数字密码...<br/>adb shell su -c &quot;rm &nbsp;/data/system/password.key&quot;<br/>echo.<br/>adb shell su -c &quot;mount -o remount ro /data&quot;<br/><br/>pause<br/></p></pre><p>可以把多条命令合并成一条：</p><pre class=\"prettyprint\">adb&nbsp;shell&nbsp;su&nbsp;-c&nbsp;&quot;mount&nbsp;-o&nbsp;remount&nbsp;rw&nbsp;/data;&nbsp;rm&nbsp;/data/system/access_control.key;&nbsp;rm&nbsp;/data/system/gesture.key;&nbsp;rm&nbsp;/data/system/password.key;&nbsp;mount&nbsp;-o&nbsp;remount&nbsp;ro&nbsp;/data&quot;</pre><p><br/></p><p>每条带“su -c ”的命令都需要授权，大多数授权管理需要在不锁屏状态下手动点击允许才能授权。所以有局限性。<wbr/></p><p>可以进入recovery模式，mount一下/data分区 ，把每条adb shell 的“su -c &nbsp;”去掉。</p><pre class=\"prettyprint\">adb&nbsp;shell&nbsp;&quot;mount&nbsp;-o&nbsp;remount&nbsp;rw&nbsp;/data;&nbsp;rm&nbsp;/data/system/access_control.key;&nbsp;rm&nbsp;/data/system/gesture.key;&nbsp;rm&nbsp;/data/system/password.key;&nbsp;mount&nbsp;-o&nbsp;remount&nbsp;ro&nbsp;/data&quot;</pre><p><br/></p>','2016-02-04 18:56:33','2016-02-05 02:56:33'),(716,'192.168.2.200',27,'java中char和byte的转换','<p><span style=\"color: rgb(0, 128, 0);\">// char转byte</span></p><p>private byte[] getBytes (char[] chars) {<br/>&nbsp;&nbsp; Charset cs = Charset.forName (&quot;UTF-8&quot;);<br/>&nbsp;&nbsp; CharBuffer cb = CharBuffer.allocate (chars.length);<br/>&nbsp;&nbsp; cb.put (chars);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cb.flip ();<br/>&nbsp;&nbsp; ByteBuffer bb = cs.encode (cb);<br/>&nbsp;&nbsp;<br/>&nbsp;&nbsp; return bb.array();</p><p>&nbsp;}</p><p><span style=\"color: rgb(0, 128, 0);\">// byte转char</span></p><p>private char[] getChars (byte[] bytes) {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Charset cs = Charset.forName (&quot;UTF-8&quot;);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ByteBuffer bb = ByteBuffer.allocate (bytes.length);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bb.put (bytes);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bb.flip ();<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CharBuffer cb = cs.decode (bb);<br/>&nbsp;&nbsp;<br/>&nbsp;&nbsp; return cb.array();<br/>}</p><p>&nbsp;</p>','2016-02-13 20:26:31','2016-02-14 04:29:06'),(717,'192.168.2.200',27,'读取16进制字节缓存数据流','<pre class=\"brush:java;toolbar:false\">package&nbsp;com.hxkong.hxMcu;\r\nimport&nbsp;java.io.ByteArrayInputStream;\r\nimport&nbsp;java.io.DataInputStream;\r\nimport&nbsp;java.io.IOException;\r\nimport&nbsp;java.nio.ByteBuffer;\r\nimport&nbsp;java.nio.CharBuffer;\r\nimport&nbsp;java.nio.charset.Charset;\r\n&nbsp;\r\npublic&nbsp;class&nbsp;McuProcess&nbsp;{\r\n&nbsp;public&nbsp;class&nbsp;McuData&nbsp;{\r\n&nbsp;&nbsp;public&nbsp;int&nbsp;head;\r\n&nbsp;&nbsp;public&nbsp;String&nbsp;flag;\r\n&nbsp;&nbsp;public&nbsp;int&nbsp;command;\r\n&nbsp;&nbsp;public&nbsp;int&nbsp;parameter_len;\r\n&nbsp;&nbsp;public&nbsp;byte[]&nbsp;parameter;\r\n&nbsp;&nbsp;public&nbsp;int&nbsp;end;\r\n&nbsp;&nbsp;public&nbsp;int&nbsp;checksum;\r\n&nbsp;}\r\n&nbsp;//&nbsp;byte转char\r\n&nbsp;public&nbsp;char[]&nbsp;getChars(byte[]&nbsp;bytes,int&nbsp;len)&nbsp;{\r\n&nbsp;&nbsp;if(0==len)\r\n&nbsp;&nbsp;&nbsp;return&nbsp;new&nbsp;char[]{};\r\n\r\n&nbsp;&nbsp;Charset&nbsp;cs&nbsp;=&nbsp;Charset.forName(&quot;UTF-8&quot;);\r\n&nbsp;&nbsp;ByteBuffer&nbsp;bb&nbsp;=&nbsp;ByteBuffer.allocate(len+1);\r\n&nbsp;&nbsp;bb.put(bytes,&nbsp;0,&nbsp;len);\r\n&nbsp;&nbsp;bb.flip();\r\n&nbsp;&nbsp;CharBuffer&nbsp;cb&nbsp;=&nbsp;cs.decode(bb);\r\n&nbsp;&nbsp;return&nbsp;cb.array();&nbsp;&nbsp;\r\n}\r\n\r\n&nbsp;public&nbsp;McuData&nbsp;getFrame(byte[]&nbsp;data)&nbsp;throws&nbsp;IOException&nbsp;{\r\n&nbsp;&nbsp;int&nbsp;i;\r\n&nbsp;&nbsp;McuData&nbsp;md&nbsp;=&nbsp;new&nbsp;McuData();\r\n&nbsp;&nbsp;ByteArrayInputStream&nbsp;bais&nbsp;=&nbsp;new&nbsp;ByteArrayInputStream(data);\r\n&nbsp;&nbsp;DataInputStream&nbsp;dis&nbsp;=&nbsp;new&nbsp;DataInputStream(bais);\r\n&nbsp;&nbsp;//读取数据\r\n&nbsp;&nbsp;md.head&nbsp;=&nbsp;dis.readUnsignedByte();\r\n&nbsp;&nbsp;ByteBuffer&nbsp;sb&nbsp;=&nbsp;ByteBuffer.allocate(data.length);\r\n&nbsp;&nbsp;for&nbsp;(i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;data.length;&nbsp;i++)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;byte&nbsp;ssb&nbsp;=&nbsp;dis.readByte();\r\n&nbsp;&nbsp;&nbsp;if&nbsp;(0&nbsp;==&nbsp;ssb)\r\n&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;sb.put(ssb);\r\n&nbsp;&nbsp;}\r\n&nbsp;&nbsp;sb.flip();\r\n&nbsp;&nbsp;md.flag&nbsp;=new&nbsp;String(getChars(sb.array(),i));\r\n&nbsp;&nbsp;md.command&nbsp;=&nbsp;dis.readUnsignedByte();\r\n&nbsp;&nbsp;md.parameter_len&nbsp;=&nbsp;dis.readUnsignedByte();\r\n&nbsp;&nbsp;sb.clear();\r\n&nbsp;&nbsp;for&nbsp;(i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;md.parameter_len;&nbsp;i++)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;sb.put(dis.readByte());\r\n&nbsp;&nbsp;}\r\n&nbsp;&nbsp;sb.flip();\r\n&nbsp;&nbsp;md.parameter=sb.array();\r\n&nbsp;&nbsp;md.checksum&nbsp;=&nbsp;dis.readUnsignedShort();\r\n&nbsp;&nbsp;md.end&nbsp;=&nbsp;dis.readUnsignedByte();\r\n&nbsp;&nbsp;return&nbsp;md;&nbsp;\r\n&nbsp;}\r\n}</pre><p>&nbsp;</p>','2016-02-13 21:16:58','2016-02-15 17:45:54'),(718,'192.168.2.200',5,'退出提示框','<pre class=\"brush:java;toolbar:false\">&nbsp;//&nbsp;/////////////////////////////////////////////////////////\r\n\r\n&nbsp;//&nbsp;退出提示框\r\n\r\n&nbsp;public&nbsp;void&nbsp;onBackPressed()&nbsp;{\r\n\r\n&nbsp;&nbsp;//&nbsp;提示框\r\n\r\n&nbsp;&nbsp;AlertDialog&nbsp;alert&nbsp;=&nbsp;new&nbsp;AlertDialog.Builder(this).create();\r\n\r\n&nbsp;&nbsp;alert.setTitle(null);\r\n\r\n&nbsp;&nbsp;alert.setIcon(R.drawable.ic_launcher);\r\n\r\n&nbsp;&nbsp;alert.setMessage(&quot;是否退出程序?&quot;);\r\n\r\n&nbsp;&nbsp;DialogInterface.OnClickListener&nbsp;cl&nbsp;=&nbsp;new&nbsp;DialogInterface.OnClickListener()&nbsp;{\r\n\r\n&nbsp;&nbsp;&nbsp;@Override\r\n\r\n&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;onClick(DialogInterface&nbsp;dialog,&nbsp;int&nbsp;which)&nbsp;{\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;System.exit(0);\r\n\r\n&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;};\r\n\r\n&nbsp;&nbsp;DialogInterface.OnClickListener&nbsp;c2&nbsp;=&nbsp;new&nbsp;DialogInterface.OnClickListener()&nbsp;{\r\n\r\n&nbsp;&nbsp;&nbsp;@Override\r\n\r\n&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;onClick(DialogInterface&nbsp;dialog,&nbsp;int&nbsp;which)&nbsp;{\r\n\r\n&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;};\r\n\r\n&nbsp;&nbsp;alert.setButton(DialogInterface.BUTTON_POSITIVE,&nbsp;&quot;确定&quot;,&nbsp;cl);\r\n\r\n&nbsp;&nbsp;alert.setButton(DialogInterface.BUTTON_NEGATIVE,&nbsp;&quot;取消&quot;,&nbsp;c2);\r\n\r\n&nbsp;&nbsp;alert.show();\r\n\r\n&nbsp;}</pre><p>&nbsp;</p>','2016-02-14 20:18:57','2016-02-15 04:42:12'),(719,'192.168.2.200',5,'Android实现退出时关闭所有Activity的方法','<pre class=\"brush:java;toolbar:false\">//关闭Activity的类\r\npublic&nbsp;class&nbsp;CloseActivityClass{&nbsp;\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;public&nbsp;static&nbsp;List&lt;Activity&gt;&nbsp;activityList&nbsp;=&nbsp;new&nbsp;ArrayList&lt;Activity&gt;();\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;public&nbsp;static&nbsp;void&nbsp;exitClient(Context&nbsp;ctx)\r\n&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;//&nbsp;关闭所有Activity\r\n&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;activityList.size();&nbsp;i++)\r\n&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(null&nbsp;!=&nbsp;activityList.get(i))\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;activityList.get(i).finish();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;ActivityManager&nbsp;activityMgr&nbsp;=&nbsp;(ActivityManager)&nbsp;ctx.getSystemService(Context.ACTIVITY_SERVICE&nbsp;);\r\n&nbsp;&nbsp;&nbsp;activityMgr.restartPackage(ctx.getPackageName());\r\n&nbsp;&nbsp;&nbsp;System.exit(0);\r\n&nbsp;&nbsp;}\r\n}\r\n\r\n\r\n//=======================================================\r\n然后在应用中每一个Activity的onCreate(Bundle&nbsp;savedInstanceState)方法中增加一句：\r\n&nbsp;&nbsp;&nbsp;&nbsp;CloseActivityClass.activityList.add(this);&nbsp;&nbsp;&nbsp;&nbsp;\r\n在应用退出时：\r\n&nbsp;&nbsp;&nbsp;&nbsp;CloseActivityClass.exitClient(MainActivity.this);</pre><p></p>','2016-02-15 16:05:38','2016-02-16 00:05:38'),(720,'192.168.2.200',5,'无BUG获取UDP远程IP和端口','<p>DatagramPacket packet = new DatagramPacket(buf, buf.length);<br/>sock.receive(packet);<br/>这几个函数</p><p>packet.getData()</p><p>packet.getAddress().toString().split(&quot;/&quot;)[1]</p><p>packet.getPort()</p>','2016-02-16 06:12:36','2016-02-16 14:12:36'),(721,'192.168.2.200',28,'SI4432无线模块','<p><a href=\"https://item.taobao.com/item.htm?spm=a230r.1.14.55.26r79f&amp;id=16529099101&amp;ns=1&amp;abbucket=18#detail\">https://item.taobao.com/item.htm?spm=a230r.1.14.55.26r79f&amp;id=16529099101&amp;ns=1&amp;abbucket=18#detail</a><img title=\"T2saYXXhVXXXXXXXXX_!!111537270[1].jpg\" src=\"/my/notes/js/ue/php/upload_img/20160217/14556648946652.jpg\"/></p>','2016-02-16 23:22:00','2016-02-17 07:24:57'),(723,'192.168.2.200',41,'延时电路','<p>RC延时电路的延时时间计算公式&nbsp;&nbsp;</p><p>计算公式: &nbsp;延时时间= — R*C*ln((E-V)/E) &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</p><p>&nbsp;其中: &nbsp; “—”是负号； &nbsp;电阻R和电容C是串联，R的单位为欧姆，C的单位为F； E为串联电阻和电容之间的电压，V为电容间要达到的电压。ln是自然对数，在EXCEL系统中有函数，计算非常方便。 &nbsp;经过实际对比计算结果是吻合的。 &nbsp; &nbsp;&nbsp;</p><p>&nbsp;</p><p>例如：R（150K）和C（1000UF）之间的电压为12V，当电容C两极的电压达到3伏时的时间： &nbsp; =&nbsp; -(150*1000)*(1000/1000000)*ln((12-3)/12)=43（秒）</p><p>&nbsp;</p><p><strong>此图约1.2秒.</strong></p><p><img title=\"1.png\" src=\"/my/notes/js/ue/php/upload_img/20160218/14557400463014.png\"/></p><p>&nbsp;</p><p>延时触发,继电器可控,</p><p><img src=\"/my/notes/js/ue/php/upload_doc/20160415/14606544718559.jpg\"/></p>','2016-02-17 20:14:38','2016-04-15 01:22:00'),(725,'192.168.5.55',26,'stm8s103   PWM输出 默认选项字节','<pre class=\"brush:cpp;toolbar:false\">PWM:&nbsp;R-&gt;PD4,&nbsp;G-&gt;PD3&nbsp;,B-&gt;PC4&nbsp;,W-&gt;PC3&nbsp;\r\n\r\nvoid&nbsp;PWM_Init()\r\n{&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//--------------------------------------------------------------&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;初始化GPIO输出...略\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PC_DDR_bit.DDR4&nbsp;=&nbsp;1;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PC_CR1_bit.C14=&nbsp;1;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PC_CR2_bit.C24=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PC_DDR_bit.DDR3&nbsp;=&nbsp;1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PC_CR1_bit.C13=&nbsp;1;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PC_CR2_bit.C23=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//-----------------------------------------------------------------\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//TIM1\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM1_PSCRH&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM1_PSCRL&nbsp;=1;&nbsp;&nbsp;&nbsp;&nbsp;//不分频&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//初始化自动装载寄存器，决定PWM方波的频率，Fpwm=8M/255&nbsp;HZ&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM1_ARRH&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM1_ARRL&nbsp;=&nbsp;254;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//PC3&nbsp;,W通道\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM1_CCR3H&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM1_CCR3L&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM1_CCMR3&nbsp;=&nbsp;0x60;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM1_CCER2&nbsp;|=&nbsp;0x01;&nbsp;//使能OC3\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//PC4&nbsp;,&nbsp;B颜色&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM1_CCR4H&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM1_CCR4L&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM1_CCMR4&nbsp;=&nbsp;0x60;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM1_CCER2&nbsp;|=&nbsp;0x10;&nbsp;//使能OC4\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM1_CR1&nbsp;|=&nbsp;0x01;&nbsp;&nbsp;&nbsp;&nbsp;//使能TIM1&nbsp;,&nbsp;&nbsp;启动计数\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM1_BKR&nbsp;|=&nbsp;0x80;&nbsp;&nbsp;&nbsp;&nbsp;//PWMOutPuts&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//-----------------------\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PD_DDR_bit.DDR3&nbsp;=&nbsp;1;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PD_CR1_bit.C13=&nbsp;1;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PD_CR2_bit.C23=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//TIM2\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_PSCR&nbsp;=&nbsp;1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//定时器2预分频系数为1\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_CR1&nbsp;=&nbsp;0x01;&nbsp;&nbsp;&nbsp;//内部计数器使能\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_ARRH&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//8M/99，实测79.24K\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_ARRL&nbsp;=&nbsp;254;&nbsp;&nbsp;&nbsp;&nbsp;//自动装载寄存器低位\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*PWM通道1设置,&nbsp;CH1-&gt;PD4&nbsp;,&nbsp;R颜色&nbsp;*/\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_CCER1&nbsp;|=&nbsp;0x01;&nbsp;&nbsp;&nbsp;//开启OC1信号输出脚\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_CCMR1&nbsp;=&nbsp;0x60;&nbsp;&nbsp;&nbsp;&nbsp;//PWM1模式&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_CCR1H&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//占空比高位\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_CCR1L&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//占空比低位\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_CCMR1&nbsp;|=&nbsp;0x08;&nbsp;&nbsp;&nbsp;//输出比较1预装载使能\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*PWM通道2设置,&nbsp;CH2-&gt;PD3&nbsp;,&nbsp;G颜色&nbsp;*/\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_CCER1&nbsp;|=&nbsp;0x10;&nbsp;&nbsp;//开启OC2信号输出脚\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_CCMR2&nbsp;=&nbsp;0x60;&nbsp;&nbsp;&nbsp;//PWM1模式&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_CCR2H&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//占空比高位\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_CCR2L&nbsp;=&nbsp;10;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//占空比低位\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_CCMR2&nbsp;|=&nbsp;0x08;&nbsp;&nbsp;//输出比较2预装载使能\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*PWM通道3设置&nbsp;CH3-PA3*/\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_CCER2&nbsp;=&nbsp;0x01;&nbsp;&nbsp;&nbsp;//开启OC3信号输出脚\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_CCMR3&nbsp;=&nbsp;0x60;&nbsp;&nbsp;&nbsp;//PWM1模式&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_CCR3H&nbsp;=&nbsp;0x01;&nbsp;&nbsp;&nbsp;&nbsp;//占空比高位\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_CCR3L&nbsp;=&nbsp;0x3d;&nbsp;&nbsp;&nbsp;//占空比低位\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_CCMR3&nbsp;|=&nbsp;0x08;&nbsp;//输出比较3预装载使能&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n}\r\n\r\nvoid&nbsp;setLedPWM(unsigned&nbsp;char&nbsp;r,unsigned&nbsp;char&nbsp;g,unsigned&nbsp;char&nbsp;b,unsigned&nbsp;char&nbsp;w)\r\n{\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//反转参数\r\n&nbsp;&nbsp;&nbsp;&nbsp;r=255-r;\r\n&nbsp;&nbsp;&nbsp;&nbsp;g=255-g;\r\n&nbsp;&nbsp;&nbsp;&nbsp;b=255-b;\r\n&nbsp;&nbsp;&nbsp;&nbsp;w=255-w;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//PD4\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM2_CCR1H&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//占空比高位\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM2_CCR1L&nbsp;=&nbsp;r;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//占空比低位\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;//PD3\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM2_CCR2H&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//占空比高位\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM2_CCR2L&nbsp;=&nbsp;g;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//占空比低位\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;//PC4\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM1_CCR4H&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM1_CCR4L&nbsp;=&nbsp;b;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;//PC3\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM1_CCR3H&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM1_CCR3L&nbsp;=&nbsp;w;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n}</pre><p>&nbsp;</p>','2016-02-23 10:15:18','2017-06-26 19:14:35'),(726,'192.168.5.55',26,'红外PD4,NEC解码双通道','<pre class=\"brush:cpp;toolbar:false\">//.h文件\r\n/*****************\r\n//主程序\r\n//红外数据\r\nvoid&nbsp;pfIrRecv_cb(uchar&nbsp;data1,uchar&nbsp;data2,uchar&nbsp;data3,uchar&nbsp;data4)\r\n{\r\n&nbsp;&nbsp;\r\n}\r\n\r\nvoid&nbsp;main(&nbsp;void&nbsp;)\r\n{\r\n&nbsp;&nbsp;Ir_Init(pfIrRecv_cb);\r\n&nbsp;&nbsp;while(1)\r\n&nbsp;&nbsp;{}\r\n}\r\n******************/\r\n#define&nbsp;uchar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;char\r\n#define&nbsp;uint&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;int\r\n\r\ntypedef&nbsp;void&nbsp;(PF_IrRecv_cb)(uchar&nbsp;data1,uchar&nbsp;data2,uchar&nbsp;data3,uchar&nbsp;data4);\r\n//红外接收端口初始化\r\nvoid&nbsp;Ir_Init(PF_IrRecv_cb*&nbsp;pf);</pre><p>&nbsp;</p><p>-----------------------------------------------------------------------------------</p><p>-----------------------------------------------------------------------------------</p><p>-----------------------------------------------------------------------------------</p><p>-----------------------------------------------------------------------------------</p><p><br/></p><pre class=\"brush:cpp;toolbar:false\">//.c文件\r\n\r\n#include&lt;iostm8s103f3.h&gt;\r\n#include&nbsp;&quot;ir.h&quot;\r\n//\r\nuchar&nbsp;IrRecBuff[4];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//接收缓冲区\r\nPF_IrRecv_cb*&nbsp;g_IrRecvPF_cb;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//红外接收回调\r\n/////////////////////////////////////////////////////////////\r\nuchar&nbsp;IrRecStep&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//接收步骤\r\nuchar&nbsp;IrIndex&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//接收位数\r\nuint&nbsp;IrHight&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//红外周期\r\nuint&nbsp;IrLow&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//占空比\r\nconst&nbsp;uchar&nbsp;IrCode[8]={0x01,0x02,0x04,0x08,0x10,0x20,0x40,0x80};\r\n//--------引导码低电平范围------------------\r\n#define&nbsp;IrHeadLow_Max&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2300&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//2300*4&nbsp;=&nbsp;9200us\r\n#define&nbsp;IrHeadLow_Min&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2100&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//2100*4&nbsp;=&nbsp;8400us\r\n//--------引导码高电平范围------------------\r\n#define&nbsp;IrHeadHigh_Max&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1250&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//1250*4&nbsp;=&nbsp;5000us\r\n#define&nbsp;IrHeadHigh_Min&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1050&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//1050*4&nbsp;=&nbsp;4200us\r\n//--------数据低周期范围-------------------\r\n#define&nbsp;IrIsData_Max&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;160&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//160*4&nbsp;=&nbsp;640us\r\n#define&nbsp;IrIsData_Min&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;120&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//120*4&nbsp;=&nbsp;480us\r\n//--------数据0的占空比(高电平)范围---------\r\n#define&nbsp;IrData0_Max&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;160&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//160*4&nbsp;=&nbsp;640us\r\n#define&nbsp;IrData0_Min&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;120&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//120*4&nbsp;=&nbsp;480us\r\n//--------数据1的占空比(高电平)范围---------\r\n#define&nbsp;IrData1_Max&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;460&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//440*4&nbsp;=&nbsp;1760us\r\n#define&nbsp;IrData1_Min&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;400&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//400*4&nbsp;=&nbsp;1600us\r\n//----------------------------------------------------------\r\n#define&nbsp;REMOTE_CLK_DIV&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//2^5=32----8Mh/32=4us\r\n#define&nbsp;REMOTE_ICF_FILTER&nbsp;&nbsp;&nbsp;0x30\r\n//红外接收端口初始化\r\nvoid&nbsp;Ir_Init(PF_IrRecv_cb*&nbsp;pf)\r\n{\r\n&nbsp;&nbsp;PD_DDR_DDR4&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//PD4为输入\r\n&nbsp;&nbsp;PD_CR1_C14&nbsp;=&nbsp;1;\r\n&nbsp;&nbsp;PD_CR2_C24&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;//在主模块初始化\r\n&nbsp;&nbsp;TIM2_PSCR&nbsp;=REMOTE_CLK_DIV;\r\n&nbsp;&nbsp;TIM2_CCER1&nbsp;&amp;=&nbsp;0xee;//禁止输入捕获1，2\r\n&nbsp;&nbsp;TIM2_CCMR1&nbsp;|=&nbsp;(REMOTE_ICF_FILTER&nbsp;+&nbsp;0x01);//&nbsp;ch1到ti1fp1\r\n&nbsp;&nbsp;TIM2_CCER1&nbsp;&amp;=&nbsp;0xec;//ch1&nbsp;上升沿触发\r\n&nbsp;&nbsp;TIM2_CCMR2&nbsp;|=&nbsp;(REMOTE_ICF_FILTER&nbsp;+&nbsp;0x02);//&nbsp;ch2选择&nbsp;ti1fp2上\r\n&nbsp;&nbsp;TIM2_CCER1&nbsp;|=&nbsp;0x20;//ch1&nbsp;下降沿触发&nbsp;ic2\r\n&nbsp;&nbsp;//TIM2_SMCR&nbsp;|=&nbsp;0x54;//选源触发源和触发方式&nbsp;复位,TM2没有这个寄存器,要每次计算时将TIM2_SR1&amp;=~(1&lt;&lt;1);复位才行\r\n&nbsp;&nbsp;TIM2_CCER1&nbsp;|=&nbsp;0x11;//使能输入捕获1，2\r\n&nbsp;&nbsp;TIM2_CR1&nbsp;|=&nbsp;0x05;\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;TIM2_IER|=1&lt;&lt;0;&nbsp;//使能更新中断\r\n&nbsp;&nbsp;TIM2_IER|=1&lt;&lt;1;&nbsp;//通道1捕获中断使能\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;g_IrRecvPF_cb=pf;\r\n}\r\n#pragma&nbsp;vector=15\r\n__interrupt&nbsp;void&nbsp;TIM2_UPD_OVF_IRQHandler(void)\r\n{\r\n&nbsp;&nbsp;/*\r\n&nbsp;&nbsp;unsigned&nbsp;char&nbsp;tsr;\r\n&nbsp;&nbsp;tsr=TIM2_SR1;\r\n&nbsp;&nbsp;if(tsr&amp;0x01)&nbsp;&nbsp;//溢出\r\n&nbsp;&nbsp;{\r\n&nbsp;&nbsp;}\r\n&nbsp;&nbsp;*/\r\n&nbsp;&nbsp;TIM2_SR1&amp;=~(1&lt;&lt;0);//清除溢出中断标志位\r\n}\r\n#pragma&nbsp;vector=16\r\n__interrupt&nbsp;void&nbsp;TIM2_CapTure_IRQHandler(void)\r\n{\r\n&nbsp;&nbsp;&nbsp;unsigned&nbsp;char&nbsp;tsr;\r\n&nbsp;&nbsp;&nbsp;tsr=TIM2_SR1;\r\n&nbsp;&nbsp;&nbsp;if(tsr&amp;0x02)//捕获1发生捕获事件\r\n&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;switch(IrRecStep)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;0:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrIndex&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((TIM2_SR1_CC1IF&nbsp;==&nbsp;1)&amp;&amp;(TIM2_SR1_CC2IF&nbsp;==&nbsp;1))\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;n;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrLow&nbsp;=&nbsp;(uint)(TIM2_CCR2H);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrLow&nbsp;=&nbsp;(IrLow&nbsp;&lt;&lt;&nbsp;8)&nbsp;+&nbsp;TIM2_CCR2L;&nbsp;&nbsp;//IrLow占空比\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrHight&nbsp;=&nbsp;(uint)(TIM2_CCR1H);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrHight&nbsp;=&nbsp;(IrHight&nbsp;&lt;&lt;&nbsp;8)&nbsp;+&nbsp;TIM2_CCR1L;&nbsp;&nbsp;//IrHight周期\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n=IrHight-IrLow;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//是否在引导码低电平范围内\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((n&nbsp;&lt;&nbsp;IrHeadLow_Max)&amp;&amp;(n&nbsp;&gt;&nbsp;IrHeadLow_Min))\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrRecStep&nbsp;=&nbsp;1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrRecBuff[0]&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrRecBuff[1]&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrRecBuff[2]&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrRecBuff[3]&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_SR1&amp;=~(1&lt;&lt;0);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_SR1&amp;=~(1&lt;&lt;1);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_SR1_UIF&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;1:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((TIM2_SR2_CC1OF==1)&nbsp;||&nbsp;(TIM2_SR2_CC2OF==1)&nbsp;||&nbsp;(TIM2_SR1_UIF==1))\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrRecStep&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(TIM2_SR1_CC2IF&nbsp;==&nbsp;1)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;n;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrLow&nbsp;=&nbsp;(uint)(TIM2_CCR2H);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrLow&nbsp;=&nbsp;(IrLow&nbsp;&lt;&lt;&nbsp;8)&nbsp;+&nbsp;TIM2_CCR2L;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n=IrLow-IrHight;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//不更新旧周期\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrHight&nbsp;=&nbsp;(uint)(TIM2_CCR1H);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrHight&nbsp;=&nbsp;(IrHight&nbsp;&lt;&lt;&nbsp;8)&nbsp;+&nbsp;TIM2_CCR1L;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//是否在引导码高电平范围内\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((n&nbsp;&lt;&nbsp;IrHeadHigh_Max)&amp;&amp;(n&nbsp;&gt;&nbsp;IrHeadHigh_Min))\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrRecStep&nbsp;=&nbsp;2;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrRecStep&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;2:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(TIM2_SR1_CC2IF&nbsp;==&nbsp;1)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;n;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrLow&nbsp;=&nbsp;(uint)(TIM2_CCR2H);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrLow&nbsp;=&nbsp;(IrLow&nbsp;&lt;&lt;&nbsp;8)&nbsp;+&nbsp;TIM2_CCR2L;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n=IrLow-IrHight;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrHight&nbsp;=&nbsp;(uint)(TIM2_CCR1H);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrHight&nbsp;=&nbsp;(IrHight&nbsp;&lt;&lt;&nbsp;8)&nbsp;+&nbsp;TIM2_CCR1L;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((n&nbsp;&gt;&nbsp;IrData0_Min)&amp;&amp;(n&nbsp;&lt;&nbsp;IrData0_Max))//高电平是否在数据0范围内\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrIndex++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;((n&nbsp;&gt;&nbsp;IrData1_Min)&amp;&amp;(n&nbsp;&lt;&nbsp;IrData1_Max))//高电平是否在数据1范围内\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrRecBuff[IrIndex&nbsp;&gt;&gt;&nbsp;3]&nbsp;|=&nbsp;IrCode[IrIndex&nbsp;&amp;&nbsp;0x07];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrIndex++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrIndex=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrRecStep&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//获取整体数据\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IrIndex&nbsp;&gt;=&nbsp;32)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrRecStep&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g_IrRecvPF_cb(IrRecBuff[0],IrRecBuff[1],IrRecBuff[2],IrRecBuff[3]);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrRecStep&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM2_SR1&amp;=~(1&lt;&lt;1);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//清除捕获中断标志位&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n}</pre><p>&nbsp;</p>','2016-02-24 09:06:28','2017-07-10 22:20:13'),(728,'192.168.1.13',3,'UIImage圆角处理','<p>例子</p><pre class=\"brush:cpp;toolbar:false\">UIImage&nbsp;*rectImage&nbsp;=&nbsp;[UIImage&nbsp;imageNamed:@&quot;test.jpg&quot;];\r\n&nbsp;&nbsp;&nbsp;&nbsp;UIImage&nbsp;*roundImage&nbsp;=&nbsp;[rectImage&nbsp;roundedRectWith:100\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cornerMask:UIImageRoundedCornerBottomLeft|UIImageRoundedCornerBottomRight|UIImageRoundedCornerTopLeft|UIImageRoundedCornerTopRight];\r\n&nbsp;&nbsp;&nbsp;&nbsp;self.imageView.image&nbsp;=&nbsp;roundImage;</pre><p><span style=\"font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px;  padding: 0px; margin: 0px; line-height: 1.5; background-color: rgb(255, 255, 255);\"></span><br/></p><p>////////////////////////////////////////////////////</p><pre class=\"brush:cpp;toolbar:false\">//UIImageExt.h&nbsp;,ARC处理&nbsp;-fno-objc-arc\r\n#import&nbsp;&lt;Foundation/Foundation.h&gt;\r\n#import&nbsp;&lt;UIKit/UIKit.h&gt;\r\n\r\ntypedef&nbsp;enum&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;UIImageRoundedCornerTopLeft&nbsp;=&nbsp;1,\r\n&nbsp;&nbsp;&nbsp;&nbsp;UIImageRoundedCornerTopRight&nbsp;=&nbsp;1&nbsp;&lt;&lt;&nbsp;1,\r\n&nbsp;&nbsp;&nbsp;&nbsp;UIImageRoundedCornerBottomRight&nbsp;=&nbsp;1&nbsp;&lt;&lt;&nbsp;2,\r\n&nbsp;&nbsp;&nbsp;&nbsp;UIImageRoundedCornerBottomLeft&nbsp;=&nbsp;1&nbsp;&lt;&lt;&nbsp;3\r\n}&nbsp;UIImageRoundedCorner;\r\n\r\n@interface&nbsp;UIImage&nbsp;(Utility)\r\n\r\n//+&nbsp;(void)addRoundedRectToPath(CGContextRef&nbsp;context,&nbsp;CGRect&nbsp;rect,&nbsp;float&nbsp;radius,&nbsp;UIImageRoundedCorner&nbsp;cornerMask);\r\n\r\n-&nbsp;(UIImage&nbsp;*)roundedRectWith:(float)radius&nbsp;cornerMask:(UIImageRoundedCorner)cornerMask;\r\n\r\n@end</pre><p><br/></p><p><br/></p><p>////////////////////////////////////////////////////</p><pre class=\"brush:cpp;toolbar:false\">//UIImageExt.m&nbsp;,ARC处理&nbsp;-fno-objc-arc\r\n#import&nbsp;&quot;UIImageExt.h&quot;\r\n\r\n//UIKit坐标系统原点在左上角，y方向向下的（坐标系A），但在Quartz中坐标系原点在左下角，y方向向上的(坐标系B)。图片绘制也是颠倒的。\r\nstatic&nbsp;void&nbsp;addRoundedRectToPath(CGContextRef&nbsp;context,&nbsp;CGRect&nbsp;rect,&nbsp;float&nbsp;radius,&nbsp;UIImageRoundedCorner&nbsp;cornerMask)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;//原点在左下方，y方向向上。移动到线条2的起点。\r\n&nbsp;&nbsp;&nbsp;&nbsp;CGContextMoveToPoint(context,&nbsp;rect.origin.x,&nbsp;rect.origin.y&nbsp;+&nbsp;radius);\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//画出线条2,&nbsp;目前画线的起始点已经移动到线条2的结束地方了。\r\n&nbsp;&nbsp;&nbsp;&nbsp;CGContextAddLineToPoint(context,&nbsp;rect.origin.x,&nbsp;rect.origin.y&nbsp;+&nbsp;rect.size.height&nbsp;-&nbsp;radius);\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//如果左上角需要画圆角，画出一个弧线出来。\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(cornerMask&nbsp;&amp;&nbsp;UIImageRoundedCornerTopLeft)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//已左上的正方形的右下脚为圆心，半径为radius，&nbsp;180度到90度画一个弧线，\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGContextAddArc(context,&nbsp;rect.origin.x&nbsp;+&nbsp;radius,&nbsp;rect.origin.y&nbsp;+&nbsp;rect.size.height&nbsp;-&nbsp;radius,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;radius,&nbsp;M_PI,&nbsp;M_PI&nbsp;/&nbsp;2,&nbsp;1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//如果不需要画左上角的弧度。从线2终点，画到线3的终点，\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGContextAddLineToPoint(context,&nbsp;rect.origin.x,&nbsp;rect.origin.y&nbsp;+&nbsp;rect.size.height);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//线3终点，画到线4的起点\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGContextAddLineToPoint(context,&nbsp;rect.origin.x&nbsp;+&nbsp;radius,&nbsp;rect.origin.y&nbsp;+&nbsp;rect.size.height);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//画线4的起始，到线4的终点\r\n&nbsp;&nbsp;&nbsp;&nbsp;CGContextAddLineToPoint(context,&nbsp;rect.origin.x&nbsp;+&nbsp;rect.size.width&nbsp;-&nbsp;radius,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rect.origin.y&nbsp;+&nbsp;rect.size.height);\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//画右上角\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(cornerMask&nbsp;&amp;&nbsp;UIImageRoundedCornerTopRight)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGContextAddArc(context,&nbsp;rect.origin.x&nbsp;+&nbsp;rect.size.width&nbsp;-&nbsp;radius,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rect.origin.y&nbsp;+&nbsp;rect.size.height&nbsp;-&nbsp;radius,&nbsp;radius,&nbsp;M_PI&nbsp;/&nbsp;2,&nbsp;0.0f,&nbsp;1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGContextAddLineToPoint(context,&nbsp;rect.origin.x&nbsp;+&nbsp;rect.size.width,&nbsp;rect.origin.y&nbsp;+&nbsp;rect.size.height);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGContextAddLineToPoint(context,&nbsp;rect.origin.x&nbsp;+&nbsp;rect.size.width,&nbsp;rect.origin.y&nbsp;+&nbsp;rect.size.height&nbsp;-&nbsp;radius);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CGContextAddLineToPoint(context,&nbsp;rect.origin.x&nbsp;+&nbsp;rect.size.width,&nbsp;rect.origin.y&nbsp;+&nbsp;radius);\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//画右下角弧线\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(cornerMask&nbsp;&amp;&nbsp;UIImageRoundedCornerBottomRight)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGContextAddArc(context,&nbsp;rect.origin.x&nbsp;+&nbsp;rect.size.width&nbsp;-&nbsp;radius,&nbsp;rect.origin.y&nbsp;+&nbsp;radius,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;radius,&nbsp;0.0f,&nbsp;-M_PI&nbsp;/&nbsp;2,&nbsp;1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGContextAddLineToPoint(context,&nbsp;rect.origin.x&nbsp;+&nbsp;rect.size.width,&nbsp;rect.origin.y);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGContextAddLineToPoint(context,&nbsp;rect.origin.x&nbsp;+&nbsp;rect.size.width&nbsp;-&nbsp;radius,&nbsp;rect.origin.y);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CGContextAddLineToPoint(context,&nbsp;rect.origin.x&nbsp;+&nbsp;radius,&nbsp;rect.origin.y);\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//画左下角弧线\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(cornerMask&nbsp;&amp;&nbsp;UIImageRoundedCornerBottomLeft)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGContextAddArc(context,&nbsp;rect.origin.x&nbsp;+&nbsp;radius,&nbsp;rect.origin.y&nbsp;+&nbsp;radius,&nbsp;radius,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-M_PI&nbsp;/&nbsp;2,&nbsp;M_PI,&nbsp;1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGContextAddLineToPoint(context,&nbsp;rect.origin.x,&nbsp;rect.origin.y);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CGContextAddLineToPoint(context,&nbsp;rect.origin.x,&nbsp;rect.origin.y&nbsp;+&nbsp;radius);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CGContextClosePath(context);\r\n}\r\n\r\n\r\n@implementation&nbsp;UIImage&nbsp;(Utility)\r\n-&nbsp;(UIImage&nbsp;*)roundedRectWith:(float)radius&nbsp;cornerMask:(UIImageRoundedCorner)cornerMask\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;UIImageView&nbsp;*bkImageViewTmp&nbsp;=&nbsp;[[[UIImageView&nbsp;alloc]&nbsp;initWithImage:self]&nbsp;autorelease];\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;w&nbsp;=&nbsp;self.size.width;\r\n&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;h&nbsp;=&nbsp;self.size.height;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CGColorSpaceRef&nbsp;colorSpace&nbsp;=&nbsp;CGColorSpaceCreateDeviceRGB();\r\n&nbsp;&nbsp;&nbsp;&nbsp;CGContextRef&nbsp;context&nbsp;=&nbsp;CGBitmapContextCreate(NULL,&nbsp;w,&nbsp;h,&nbsp;8,&nbsp;4&nbsp;*&nbsp;w,&nbsp;colorSpace,&nbsp;kCGImageAlphaPremultipliedFirst);\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CGContextBeginPath(context);\r\n&nbsp;&nbsp;&nbsp;&nbsp;addRoundedRectToPath(context,bkImageViewTmp.frame,&nbsp;radius,&nbsp;cornerMask);\r\n&nbsp;&nbsp;&nbsp;&nbsp;CGContextClosePath(context);\r\n&nbsp;&nbsp;&nbsp;&nbsp;CGContextClip(context);\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CGContextDrawImage(context,&nbsp;CGRectMake(0,&nbsp;0,&nbsp;w,&nbsp;h),&nbsp;self.CGImage);\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CGImageRef&nbsp;imageMasked&nbsp;=&nbsp;CGBitmapContextCreateImage(context);\r\n&nbsp;&nbsp;&nbsp;&nbsp;CGContextRelease(context);\r\n&nbsp;&nbsp;&nbsp;&nbsp;CGColorSpaceRelease(colorSpace);\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;UIImage&nbsp;&nbsp;&nbsp;&nbsp;*newImage&nbsp;=&nbsp;[UIImage&nbsp;imageWithCGImage:imageMasked];\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CGImageRelease(imageMasked);\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;newImage;\r\n}\r\n@end</pre><p><span style=\"font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px;  padding: 0px; margin: 0px; line-height: 1.5; background-color: rgb(255, 255, 255);\"><br/></span></p><p><span style=\"font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px;  padding: 0px; margin: 0px; line-height: 1.5; background-color: rgb(255, 255, 255);\"><br/></span></p>','2016-03-20 16:41:58','2016-03-21 00:42:48'),(729,'122.13.219.115',26,'看门狗,软重启','<pre class=\"brush:cpp;toolbar:false\">/*\r\n\r\n不能使用定时器来定时喂狗，MCU挂掉后可能定时器电路仍在工作，这样看门狗就失去了意义。\r\n独立看门狗不受MCU停机模式或其他模式影响，它的时钟是独立的，所以进入停机模式会导致系统复位。\r\n\r\n\r\n总结：\r\n\r\n1、中断的使用需要注意优先级的设置，以及对应的IO口使能触发条件。\r\n\r\n2、AWU的使用相对简单，只需要注意将时钟打开。\r\n\r\n3、窗口看门狗要注意喂狗，以及延时设置，具体延时时间可以使用&nbsp;step&nbsp;=&nbsp;12288&nbsp;/&nbsp;fclk_wwdg_ck计算出来。\r\n\r\n*/\r\n\r\nchar&nbsp;isRestartSystem=0;\r\nvoid&nbsp;Init_WWDG(void)&nbsp;//初始化窗口看门狗&nbsp;&nbsp;\r\n{&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//窗口看门狗在计数值降到0x3F时产生复位，而且不能在大于窗口值时喂狗，否则复位&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;WWDG_WR&nbsp;=&nbsp;0x60;&nbsp;//看门狗窗口值，窗口值必须在0x3F以上，但必须小于计数值，否则无法喂狗&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;WWDG_CR&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;0x7F;&nbsp;//看门狗计数值&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;WWDG_CR&nbsp;|=&nbsp;0x80;&nbsp;//使能窗口看门狗&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//4Mhz&nbsp;主频，计数值0x7F&nbsp;最大延长时间为&nbsp;(64&nbsp;*&nbsp;(12288&nbsp;/&nbsp;4000000))&nbsp;=&nbsp;196ms&nbsp;&nbsp;\r\n}&nbsp;&nbsp;\r\n\r\nvoid&nbsp;Free_WWDG(void)&nbsp;&nbsp;\r\n{&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;n=WWDG_WR;\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((WWDG_CR&nbsp;&amp;&nbsp;0x7F)&nbsp;&lt;&nbsp;n)&nbsp;//小于窗口值才能喂狗&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WWDG_CR&nbsp;|=&nbsp;0x7F;&nbsp;//重新喂狗&nbsp;&nbsp;\r\n}&nbsp;&nbsp;\r\n\r\nvoid&nbsp;main()\r\n{\r\n&nbsp;&nbsp;&nbsp;Init_WWDG();\r\n&nbsp;&nbsp;&nbsp;for(;;)\r\n&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(0==isRestartSystem)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{Free_WWDG();}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}</pre><p><br/></p>','2016-03-22 19:17:08','2016-04-02 17:06:48'),(730,'192.168.2.200',69,'局域网获取IP地址 MAC地址','<pre class=\"brush:cpp;toolbar:false\">//\r\nstruct&nbsp;ip_info&nbsp;ipcfg;\r\nchar&nbsp;localip[20]={0};\r\nuint8&nbsp;mac[6];\r\nchar&nbsp;macaddr[30];\r\n\r\n//获取本地IP\r\nwifi_get_ip_info(STATION_IF,&nbsp;&amp;ipcfg);\r\nos_sprintf(localip,&quot;%d.%d.%d.%d&quot;,ipcfg.ip.addr&amp;0xff,\r\n	(ipcfg.ip.addr&gt;&gt;8)&amp;0xff,\r\n	(ipcfg.ip.addr&gt;&gt;16)&amp;0xff,\r\n	(ipcfg.ip.addr&gt;&gt;24)&amp;0xff);\r\n\r\nwifi_get_macaddr(STATION_IF,mac);\r\nos_sprintf(macaddr,&quot;%02X:%02X:%02X:%02X:%02X:%02X&quot;,mac[0],mac[1],mac[2],mac[3],mac[4],mac[5]);</pre><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/></p>','2016-03-27 12:39:09','2016-03-27 20:40:54'),(731,'192.168.2.200',28,'高耐压、大电流复合晶体管','<p>&nbsp;ULN2003</p><p><img title=\"d50735fae6cd7b89533218e20f2442a7d9330e70.jpg\" src=\"/my/notes/js/ue/php/upload_img/20160411/14603081671974.jpg\"/></p><p><img title=\"catch.jpg\" src=\"/my/notes/js/ue/php/upload_img/20160411/14603094311041.jpg\"/></p>','2016-04-10 16:17:56','2016-04-11 01:31:17'),(732,'192.168.2.200',72,'布线POE技术','<p style=\"margin-top: 1.12em; margin-bottom: 1.12em; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; font-size: 14px; line-height: 21px; white-space: normal; background-color: rgb(255, 255, 255);\">合成器</p><p style=\"margin-top: 1.12em; margin-bottom: 1.12em; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; font-size: 14px; line-height: 21px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"line-height: 1.5;\">https://item.taobao.com/item.htm?spm=2013.1.20141003.6.ChxsKk&amp;scm=1007.10011.21135.100200300000001&amp;id=522952270520&amp;pvid=ef7f5306-9e0a-45d3-bb30-c8ff700a88d3</span></p><p style=\"margin-top: 1.12em; margin-bottom: 1.12em; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; font-size: 14px; line-height: 21px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"line-height: 1.5;\">简易合成器和分离器</span></p><p style=\"margin-top: 1.12em; margin-bottom: 1.12em; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; font-size: 14px; line-height: 21px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"line-height: 1.5;\">https://item.taobao.com/item.htm?spm=2013.1.w4023-3335100896.16.VbfvBV&amp;id=522616485272</span></p><p style=\"margin-top: 1.12em; margin-bottom: 1.12em; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; font-size: 14px; line-height: 21px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"line-height: 1.5;\"><br/></span></p><p style=\"margin-top: 1.12em; margin-bottom: 1.12em; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; font-size: 14px; line-height: 21px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"line-height: 1.5;\"><br/></span></p><p style=\"margin-top: 1.12em; margin-bottom: 1.12em; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; font-size: 14px; line-height: 21px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"line-height: 1.5;\">&nbsp;</span><span style=\"color: rgb(255, 0, 0);\"><span style=\"line-height: 1.5;\"><strong style=\"font-size: 18px;\">简易低成本POE连接线供电方案</strong></span></span><span style=\"line-height: 1.5; color: rgb(255, 0, 0);\"><span style=\"font-size: 18px;\"><strong>：</strong><span style=\"color:#000000;font-size:3px\">如</span></span></span><span style=\"color:#000000;line-height: 1.5;\">终端设备，不支持POE供电/支持POE供电，且网线供电距离20/30米内（实际使用距离与网线质量、电源电压和受电设备电压适应能力有关），可使用设备原附带的电源适配器 搭配以下产品（POE合成线+POE分离线 ）：</span></p><h1 style=\"margin: 0px; padding: 0px; font-size: 32px; font-weight: 400; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">美规：&nbsp;POE端口=供电（45脚正极 78脚负极）+数据（1236脚）</span></h1><h1 style=\"margin: 0px; padding: 0px; font-size: 32px; font-weight: 400; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;LAN端口=数据（1236脚）</span></h1><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt; color: rgb(255, 102, 0);\">POE端口:连接网桥 AP CPE设备WAN接口</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt; color: rgb(255, 102, 0);\">LAN端口:连接路由器 交换机或者直接连接电脑主机网络接口</span></p><p style=\"text-align:left;margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">&nbsp;</span></p><p style=\"text-align:left;margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">&nbsp; &nbsp; &nbsp; 使用距离：与网线质量、供电电压及受电设备的电压适应能力有关。一般来讲，纯铜网线及12V供电的情况下，距离为10-30米。电压越高，网线质量越好，有效供电距离越远。</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">&nbsp; &nbsp; &nbsp; &nbsp;①因为一般网络是只用到1236传输DATA(网络数据），4578为空闲，所以很多生产网线的商家在生产网线时大多有4条是铁线非纯铜线，如这样的线用在POE供电上就会导致供电压降超大.</span><br/><span style=\"font-size: 12pt;\">&nbsp; &nbsp; &nbsp; &nbsp;②因为网线很细，质量残差不齐，还有个别是铁线铜包铝线，网线的电阻非常大，损耗很严重。实际测试结果：一般的网线在12V的时候10米约降低一V。所以12V左右的电压並且距离20米內</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">&nbsp; &nbsp;如何分辨网线的质量：<br/>&nbsp; &nbsp; &nbsp; &nbsp; 1.从外皮看材料：用手撵一下网线的外皮，软绵绵的好像有点空心的那种就是质量比较差的，好一点的摸上去都比较饱满。<br/>&nbsp; &nbsp; &nbsp; &nbsp; 2.判断网线张力：如果外皮弹性非常大的，反倒不是很好的，用力拉线的情况下容易造成内芯的扯断。<br/>&nbsp; &nbsp; &nbsp; &nbsp; 3.深入铜芯看成分：用剪刀或网线钳剪下一小段网线看一下，如果网线的芯外表是铜的，但是内芯却是银白色的钢芯，那就是比较差的，1块钱一米。如果里边外边都是黄色的铜，那就是比较好的，2-3元一米。</span><br/><span style=\"font-size: 12pt;\">除此之外，还要看铜芯的粗细，有的用料少，铜芯比较细，有的就比较粗了。</span><br/><span style=\"font-size: 12pt;\">超五类网线就看以上几处就行了。6类、7类还有带屏蔽功能的，还要看网线中的屏蔽层如何了。有的是将8根网线统一包裹在外皮中，有的则是每一对网线都用屏蔽层包裹起来的，这就是差异。</span></p><p style=\"text-align:left;margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\">&nbsp;</p><p style=\"text-align:left;margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><strong><span style=\"color: rgb(0, 0, 0);\"><span style=\"font-size: 12pt;\">网线接设备做线标准:</span></span></strong></p><p style=\"text-align:left;margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><strong><span style=\"color: rgb(0, 0, 0);\"><span style=\"font-size: 12pt;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;直通568B；(正线，即直通线 ，标准568B：两端线序一样，从左至右线序是：<span style=\"color: rgb(255, 0, 0);\">白橙.橙.白绿.蓝.白蓝.绿.白棕.棕</span>)</span></span></strong></p><p style=\"text-align:left;margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><img src=\"/my/notes/js/ue/php/upload_img/20160418/14609775264337.jpg\" title=\"TB22183gXXXXXXQXpXXXXXXXXXX_!!793936364.jpg\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">POE供电模块电源 网桥电源</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"color: rgb(255, 0, 0);\"><span style=\"font-size: 18px;\"><strong>强制供电 (非先侦测受电端再供电)</strong></span></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">产品参数以24V1A为例：</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">1.输入特性（INPUT CHARACTERISTICS）：</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">&nbsp;&nbsp;&nbsp;强供电型=插上即可供电 非先侦测受电端再供电</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1.1输入电压(Input Voltage):</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;额定电压(Nominal Voltage):100-240Vac</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;调整范围（Variation Range）:90-264Vac</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">1.2输入频率（Input Frequency）:</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;额定频率（Nominal Frequency）:50-60Hz</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;调整频率（Variation Frequency）:47-63Hz</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">2.输出特性（OUTPUT CHARACTERISTICS）：</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">2.1输出功率(Power Output);</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;电压 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 小负载 &nbsp; &nbsp; &nbsp; 大负载 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;峰值电流 &nbsp; &nbsp; &nbsp;输出功率</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Voltage&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Min. Load&nbsp;&nbsp;&nbsp;&nbsp; Max. Load&nbsp;&nbsp;&nbsp; Peak&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Output Power</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+24Vdc &nbsp; &nbsp; &nbsp; &nbsp;0A &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1.0A &nbsp; &nbsp; &nbsp; &nbsp;1.0-1.2A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 24W</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">2.2负载特性/调整率(Combined Load/Line Regulation):</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;电压 &nbsp; &nbsp; &nbsp; &nbsp; 小空载电压 &nbsp; &nbsp; &nbsp; &nbsp; 大空载电压&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;线性调整&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;负载调整</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Voltage&nbsp;&nbsp; Min. Voltage&nbsp;&nbsp; Max. Voltage&nbsp;&nbsp; Line Regulation&nbsp;&nbsp; Load Regulation</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+24Vdc &nbsp; &nbsp; 24.0V &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 24.75V&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;±3% &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;±5%</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">&nbsp;</span></p><p style=\"text-align:left;margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">POE供电的好处</span></p><p style=\"text-align:left;margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">&nbsp;&nbsp;1、它节约成本。因为它只需要安装一条而不是两条电缆。许多情况下，都需要安装在难以部署AC电源的地方。随着与以太网相连的设备的增加，如果无需为设备提供本地电源，将大大降低部署成本，并简化其可管理性。</span></p><p style=\"text-align:left;margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">&nbsp;&nbsp; 2、它易于安装和管理。客户能够自动、安全地在网络上混用原有设备和PoE设备，能够与现有以太网电缆共存。</span></p><p style=\"text-align:left;margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">&nbsp; &nbsp;3、它安全。因为PoE供电端设备只会为需要供电的设备供电。只有连接了需要供电的设备，以太网电缆才会有电压存在，因而消除了线路上漏电的风险。</span></p><p style=\"text-align:left;margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">&nbsp; &nbsp;4、它易于网络设备的管理。</span></p><p style=\"text-align:left;margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">&nbsp;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">功能特点<br/>单口网络远程供电器，具有如下优良性能：<br/>1.电源具有输入过欠压、输出过压、输出过流短路保护等功能。<br/>2.网口速率：10M/100Mbps</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">3.传导干扰（CE）.符合IEEE802.3网线供电标准。<br/>4.防雷特性：交流输入端，均能承受5KB、8/20uS冲击电流波形，正负各5次，每次间1分钟；电源防雷电路有失效告警功能和保险管等安全保护元件。</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">电源指示</span></p><p style=\"text-align:left;margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">指示灯亮：表示电源工作正常，可正常供电。</span></p><p style=\"text-align:left;margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">指示灯灭：表示电源无法正常工作（或灯脚脱落；可用）。</span></p><p style=\"text-align:left;margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: tahoma, arial, 宋体, sans-serif; white-space: normal; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-size: 12px; background-color: rgb(255, 255, 255);\"><span style=\"font-size: 12pt;\">电源正常工作时，插入输出网线，指示灯熄灭表示过载保护或者短路保护，可能用电设备功率过高，网线短路或者是用电设备损坏。</span></p><p><br/></p>','2016-04-18 11:05:30','2016-04-18 19:11:23'),(733,'192.168.2.200',2,'__try ,try用法','<pre class=\"brush:cpp;toolbar:false\">ry和__try的区别\r\n以前都是用try{}&nbsp;catch(…){}来捕获C++中一些意想不到的异常，&nbsp;今天看了Winhack的帖子才知道，这种方法在VC中其实是靠不住的。例如下面的代码：\r\ntry&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//如果try在VC中报错.要加入命名空间&nbsp;using&nbsp;namespace&nbsp;std;\r\n{&nbsp;\r\nBYTE*&nbsp;pch&nbsp;;&nbsp;\r\npch&nbsp;=&nbsp;(&nbsp;BYTE*&nbsp;)00001234&nbsp;;&nbsp;&nbsp;&nbsp;//给予一个非法地址&nbsp;\r\n*pch&nbsp;=&nbsp;6&nbsp;;&nbsp;//对非法地址赋值，会造成Access&nbsp;Violation&nbsp;异常&nbsp;\r\n}&nbsp;\r\ncatch(...)&nbsp;\r\n{&nbsp;\r\nAfxMessageBox(&nbsp;&quot;catched&quot;&nbsp;)&nbsp;;&nbsp;\r\n}\r\n这段代码在debug下没有问题，异常会被捕获，会弹出”catched”的消息框(我使用VS2010，&nbsp;MFC，验证下来catch是不会被捕获的，debug下也有问题。控制台程序是可以的)。\r\n\r\n但在Release方式下如果选择了编译器代码优化选项，则VC编译器会去搜索try块中的代码，&nbsp;如果没有找到throw代码，&nbsp;他就会认为try&nbsp;catch结构是多余的，&nbsp;给优化掉。&nbsp;这样造成在Release模式下，上述代码中的异常不能被捕获，从而迫使程序弹出错误提示框退出。\r\n那么能否在release代码优化状态下捕获这个异常呢，&nbsp;答案是有的。&nbsp;就是__try,&nbsp;__except结构，&nbsp;上述代码如果改成如下代码异常即可捕获。\r\n__try&nbsp;\r\n{&nbsp;\r\nBYTE*&nbsp;pch&nbsp;;&nbsp;\r\npch&nbsp;=&nbsp;(&nbsp;BYTE*&nbsp;)00001234&nbsp;;&nbsp;&nbsp;&nbsp;//给予一个非法地址&nbsp;\r\n*pch&nbsp;=&nbsp;6&nbsp;;&nbsp;//对非法地址赋值，会造成Access&nbsp;Violation&nbsp;异常&nbsp;\r\n}&nbsp;\r\n__except(&nbsp;EXCEPTION_EXECUTE_HANDLER&nbsp;)&nbsp;\r\n{&nbsp;\r\nAfxMessageBox(&nbsp;&quot;catched&quot;&nbsp;)&nbsp;;&nbsp;\r\n}\r\n\r\n但是用__try,&nbsp;__except块还有问题，&nbsp;就是这个不是C++标准，&nbsp;而是Windows平台特有的扩展。&nbsp;而且如果在使用过程中涉及局部对象析构函数的调用，则会出现C2712&nbsp;的编译错误。&nbsp;那么还有没有别的办法呢？\r\n当然有，&nbsp;就是仍然使用C++标准的try{}catch(..){}，&nbsp;但在编译命令行中加入&nbsp;/EHa&nbsp;的参数。这样VC编译器不会把try&nbsp;catch模块给优化掉了。\r\n注意/EHa的大小写</pre><p><br/></p>','2016-04-19 11:26:45','2016-04-19 19:26:45'),(734,'192.168.2.200',28,'Touch电容触摸感应开关IC','<p>ASC0101B,SOT23-6 ,1通道</p><p><br/></p><p>ASC0104-2,SOP8 ,双通道</p><p><br/></p><p><br/></p><p><a href=\"https://detail.1688.com/offer/42952084348.html?_server_name=www.aupsun.com&amp;visitorIp=27.44.86.192&amp;_server_port=80&amp;from_site=officialsite&amp;spm=0.0.0.0.o5lvfB\" _src=\"https://detail.1688.com/offer/42952084348.html?_server_name=www.aupsun.com&amp;visitorIp=27.44.86.192&amp;_server_port=80&amp;from_site=officialsite&amp;spm=0.0.0.0.o5lvfB\">https://detail.1688.com/offer/42952084348.html?_server_name=www.aupsun.com&amp;visitorIp=27.44.86.192&amp;_server_port=80&amp;from_site=officialsite&amp;spm=0.0.0.0.o5lvfB</a></p><p><br/></p><p><br/></p><p><br/></p><p><br/></p><p><br/></p><p><img src=\"/my/notes/js/ue/php/upload_img/20160430/14619812005779.jpg\" title=\"2340908035_568302717.jpg\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-family: &#39;Hiragino Sans GB&#39;, Tahoma, Arial, 宋体, sans-serif; font-size: 12px; white-space: normal;\"><span style=\"font-weight: 700;\">SSOP16 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SOP16 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SOP8 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SOP8&nbsp;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 1.5; clear: both; color: rgb(51, 51, 51); font-family: &#39;Hiragino Sans GB&#39;, Tahoma, Arial, 宋体, sans-serif; font-size: 12px; white-space: normal;\"><span style=\"font-weight: 700;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ASC0104-4S (4</span><span style=\"font-weight: 700;\">键) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ASC0104-4 (4键) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ASC0104-2 (2键) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ASC0104-3 (3键)</span></p><p><br/></p><p><br/></p><p><img src=\"/my/notes/js/ue/php/upload_img/20160430/14619862665728.jpg\" style=\"float:none;\" title=\"2339173557_568302717.jpg\"/></p><p><br/></p><p><br/></p><p><img src=\"/my/notes/js/ue/php/upload_img/20160430/14619862679443.jpg\" style=\"float:none;\" title=\"2429507543_568302717.jpg\"/></p><p><br/></p><p><img src=\"/my/notes/js/ue/php/upload_img/20160430/14619862673586.jpg\" style=\"float:none;\" title=\"2457509889_568302717.jpg\"/></p><p><br/></p>','2016-04-20 20:54:10','2016-04-30 11:18:05'),(735,'192.168.2.200',41,'BPM标准时间标准频率发播台','<p><br/></p><p>BPM是中国科学院陕西天文台的短波授时台，位置大约在北纬34.9度，东经109.6度，海拔高度在300米左右。全天24小时发送。该台于1970年7月18日建成，1980年通过国际技术鉴定，正式使用。1986年正式使用了BPL长波授时台100kHz。时间精度为30万—100万年误差小于1秒。精度排名位居世界第八位。参见《守护时间的人》。</p><p><br/></p><p>中文名</p><p>标准时间标准频率发播台</p><p>位 &nbsp; &nbsp;置</p><p>大约在北纬34.9度，东经109.6度</p><p>海拔高度</p><p>在300米左右</p><p>建成时间</p><p>于1970年7月18日</p><p>精度排名</p><p>位居世界第八位</p><p>时间精度</p><p>30万—100万年误差小于1秒</p><p><br/></p><p>该台信号特征：</p><p>59分00秒——59分40秒，拍发电码呼号，BPM（持续时间40秒）</p><p>59分40秒——60分00秒，发送语言呼号，标准时间标准频率发播台（持续时间20秒）</p><p>00分00秒——05分00秒，发送协调时（UTC）的秒信号</p><p>05分00秒——10分00秒，发送世界时（UTI）的秒信号</p><p>10分00秒——15分00秒，发送无调制的载波，无声</p><p>15分00秒——25分00秒，发送协调时秒信号</p><p>25分00秒——29分00秒，发送世界时秒信号</p><p>29分00秒——29分40秒，拍发电码呼号，BPM（持续时间40秒）</p><p>29分40秒——30分00秒，发送语言呼号，标准时间标准频率发播台（持续时间20秒）</p><p>通讯地址：710600 陕西临潼18号信箱 中科院国家授时中心</p><p><br/></p>','2016-04-27 21:07:00','2016-04-28 05:33:13'),(736,'192.168.2.200',24,'CRC8查表法','<p style=\"word-wrap: break-word; padding: 0px; color: rgb(153, 153, 153); font-family: Simsun; line-height: 19px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size:2px;word-wrap: break-word;\">/*****************************************************<br style=\"word-wrap: break-word;\"/>&nbsp;&nbsp;&nbsp; 描&nbsp;&nbsp;&nbsp; 述：&nbsp; CRC8校验子程序 x^8+x^5+x^4+x^0<br style=\"word-wrap: break-word;\"/>&nbsp;&nbsp;&nbsp; 入口参数：&nbsp; 指向数组指针，校验字节个数<br style=\"word-wrap: break-word;\"/>&nbsp;&nbsp;&nbsp; 出口参数：&nbsp; 8位CRC校验码<br style=\"word-wrap: break-word;\"/>******************************************************/</span></p><p style=\"word-wrap: break-word; padding: 0px; color: rgb(153, 153, 153); font-family: Simsun; line-height: 19px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size:2px;word-wrap: break-word;\">const char CRC8Table[]={<br style=\"word-wrap: break-word;\"/>&nbsp; 0, 94, 188, 226, 97, 63, 221, 131, 194, 156, 126, 32, 163, 253, 31, 65,<br style=\"word-wrap: break-word;\"/>&nbsp; 157, 195, 33, 127, 252, 162, 64, 30, 95, 1, 227, 189, 62, 96, 130, 220,<br style=\"word-wrap: break-word;\"/>&nbsp; 35, 125, 159, 193, 66, 28, 254, 160, 225, 191, 93, 3, 128, 222, 60, 98,<br style=\"word-wrap: break-word;\"/>&nbsp; 190, 224, 2, 92, 223, 129, 99, 61, 124, 34, 192, 158, 29, 67, 161, 255,<br style=\"word-wrap: break-word;\"/>&nbsp; 70, 24, 250, 164, 39, 121, 155, 197, 132, 218, 56, 102, 229, 187, 89, 7,<br style=\"word-wrap: break-word;\"/>&nbsp; 219, 133, 103, 57, 186, 228, 6, 88, 25, 71, 165, 251, 120, 38, 196, 154,<br style=\"word-wrap: break-word;\"/>&nbsp; 101, 59, 217, 135, 4, 90, 184, 230, 167, 249, 27, 69, 198, 152, 122, 36,<br style=\"word-wrap: break-word;\"/>&nbsp; 248, 166, 68, 26, 153, 199, 37, 123, 58, 100, 134, 216, 91, 5, 231, 185,<br style=\"word-wrap: break-word;\"/>&nbsp; 140, 210, 48, 110, 237, 179, 81, 15, 78, 16, 242, 172, 47, 113, 147, 205,<br style=\"word-wrap: break-word;\"/>&nbsp; 17, 79, 173, 243, 112, 46, 204, 146, 211, 141, 111, 49, 178, 236, 14, 80,<br style=\"word-wrap: break-word;\"/>&nbsp; 175, 241, 19, 77, 206, 144, 114, 44, 109, 51, 209, 143, 12, 82, 176, 238,<br style=\"word-wrap: break-word;\"/>&nbsp; 50, 108, 142, 208, 83, 13, 239, 177, 240, 174, 76, 18, 145, 207, 45, 115,<br style=\"word-wrap: break-word;\"/>&nbsp; 202, 148, 118, 40, 171, 245, 23, 73, 8, 86, 180, 234, 105, 55, 213, 139,<br style=\"word-wrap: break-word;\"/>&nbsp; 87, 9, 235, 181, 54, 104, 138, 212, 149, 203, 41, 119, 244, 170, 72, 22,<br style=\"word-wrap: break-word;\"/>&nbsp; 233, 183, 85, 11, 136, 214, 52, 106, 43, 117, 151, 201, 74, 20, 246, 168,<br style=\"word-wrap: break-word;\"/>&nbsp; 116, 42, 200, 150, 21, 75, 169, 247, 182, 232, 10, 84, 215, 137, 107, 53<br style=\"word-wrap: break-word;\"/>};</span></p><p style=\"word-wrap: break-word; padding: 0px; color: rgb(153, 153, 153); font-family: Simsun; line-height: 19px; white-space: normal; background-color: rgb(255, 255, 255);\"><br style=\"word-wrap: break-word;\"/><span style=\"font-size:2px;word-wrap: break-word;\">unsigned char CRC8_Table(unsigned char *p, char counter)<br style=\"word-wrap: break-word;\"/>{<br style=\"word-wrap: break-word;\"/>&nbsp;&nbsp;&nbsp; unsigned char crc8 = 0;</span></p><p style=\"word-wrap: break-word; padding: 0px; color: rgb(153, 153, 153); font-family: Simsun; line-height: 19px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size:2px;word-wrap: break-word;\">&nbsp;&nbsp;&nbsp; for( ; counter &gt; 0; counter--){<br style=\"word-wrap: break-word;\"/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; crc8 = CRC8Table[crc8^*p];<br style=\"word-wrap: break-word;\"/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p++;<br style=\"word-wrap: break-word;\"/>&nbsp;&nbsp;&nbsp; }<br style=\"word-wrap: break-word;\"/>&nbsp;&nbsp;&nbsp; return(crc8);</span></p><p style=\"word-wrap: break-word; padding: 0px; color: rgb(153, 153, 153); font-family: Simsun; line-height: 19px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size:2px;word-wrap: break-word;\">}</span></p><p style=\"word-wrap: break-word; padding: 0px; color: rgb(153, 153, 153); font-family: Simsun; line-height: 19px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size:2px;word-wrap: break-word;\">/*****************************************************<br style=\"word-wrap: break-word;\"/>&nbsp;&nbsp;&nbsp; 描&nbsp;&nbsp;&nbsp; 述：&nbsp; text<br style=\"word-wrap: break-word;\"/>******************************************************/<br style=\"word-wrap: break-word;\"/>void main()<br style=\"word-wrap: break-word;\"/>{<br style=\"word-wrap: break-word;\"/>&nbsp;&nbsp;&nbsp; unsigned&nbsp; char&nbsp; a[] = {0x02, 0x03};</span></p><p style=\"word-wrap: break-word; padding: 0px; color: rgb(153, 153, 153); font-family: Simsun; line-height: 19px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size:2px;word-wrap: break-word;\">&nbsp;&nbsp;&nbsp; printf(&quot;%d&quot;, CRC8_Table(&amp;a, 2));</span></p><p style=\"word-wrap: break-word; padding: 0px; color: rgb(153, 153, 153); font-family: Simsun; line-height: 19px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"font-size:2px;word-wrap: break-word;\">&nbsp;&nbsp;&nbsp; getch();<br style=\"word-wrap: break-word;\"/>}</span></p><p><br/></p>','2016-04-30 21:02:43','2016-05-01 05:02:43'),(737,'192.168.5.21',2,'委托处理','<pre class=\"brush:cpp;toolbar:false\">template&lt;typename&nbsp;T&gt;\r\nclass&nbsp;DelegateHandler&nbsp;\r\n{&nbsp;\r\nprivate:\r\n&nbsp;&nbsp;&nbsp;&nbsp;T*&nbsp;m_pT;\r\n&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;(T::*m_pFunc)(int);&nbsp;//参数要一样\r\npublic:\r\n&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;set(T*&nbsp;pT,&nbsp;void&nbsp;(T::*pFunc)(int))\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_pT=pT;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_pFunc=pFunc;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;callback(int&nbsp;value)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(m_pT-&gt;*m_pFunc)(value);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;\r\n};</pre><p><br/></p><p><br/></p><p>例如</p><p style=\"background: rgb(244, 244, 244) !important; margin: 0px !important; padding: 0px 1em !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; right: auto !important; bottom: auto !important; color: rgb(69, 69, 69); line-height: 1.8em !important; overflow: visible !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; vertical-align: baseline !important; float: none !important; white-space: normal; position: static !important; min-height: auto !important; box-sizing: content-box !important;\"><code class=\"cpp plain\" style=\"background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; right: auto !important; bottom: auto !important; color: rgb(0, 0, 0) !important; line-height: 1.8em !important; overflow: visible !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; vertical-align: baseline !important; float: none !important; white-space: pre-wrap; position: static !important; min-height: auto !important; box-sizing: content-box !important;\">class A{\r\n &nbsp;public:\r\n &nbsp;void Func(int a){};\r\n};</code></p><p style=\"background: rgb(244, 244, 244) !important; margin: 0px !important; padding: 0px 1em !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; right: auto !important; bottom: auto !important; color: rgb(69, 69, 69); line-height: 1.8em !important; overflow: visible !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; vertical-align: baseline !important; float: none !important; white-space: normal; position: static !important; min-height: auto !important; box-sizing: content-box !important;\"><code class=\"cpp plain\" style=\"background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; right: auto !important; bottom: auto !important; color: rgb(0, 0, 0) !important; line-height: 1.8em !important; overflow: visible !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; vertical-align: baseline !important; float: none !important; white-space: pre-wrap; position: static !important; min-height: auto !important; box-sizing: content-box !important;\"><br/></code></p><p style=\"background: rgb(244, 244, 244) !important; margin: 0px !important; padding: 0px 1em !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; right: auto !important; bottom: auto !important; color: rgb(69, 69, 69); line-height: 1.8em !important; overflow: visible !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; vertical-align: baseline !important; float: none !important; white-space: normal; position: static !important; min-height: auto !important; box-sizing: content-box !important;\"><code class=\"cpp plain\" style=\"background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; right: auto !important; bottom: auto !important; color: rgb(0, 0, 0) !important; line-height: 1.8em !important; overflow: visible !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; vertical-align: baseline !important; float: none !important; white-space: pre-wrap; position: static !important; min-height: auto !important; box-sizing: content-box !important;\">A a;</code></p><p style=\"background: rgb(255, 255, 255) !important; margin: 0px !important; padding: 0px 1em !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; right: auto !important; bottom: auto !important; color: rgb(69, 69, 69); line-height: 1.8em !important; overflow: visible !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; vertical-align: baseline !important; float: none !important; white-space: normal; position: static !important; min-height: auto !important; box-sizing: content-box !important;\"><code class=\"cpp plain\" style=\"background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; right: auto !important; bottom: auto !important; color: rgb(0, 0, 0) !important; line-height: 1.8em !important; overflow: visible !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; vertical-align: baseline !important; float: none !important; white-space: pre-wrap; position: static !important; min-height: auto !important; box-sizing: content-box !important;\">DelegateHandler&lt;A&gt; ah;</code></p><p style=\"background: rgb(255, 255, 255) !important; margin: 0px !important; padding: 0px 1em !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; right: auto !important; bottom: auto !important; color: rgb(69, 69, 69); line-height: 1.8em !important; overflow: visible !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; vertical-align: baseline !important; float: none !important; white-space: normal; position: static !important; min-height: auto !important; box-sizing: content-box !important;\"><code class=\"cpp plain\" style=\"background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; right: auto !important; bottom: auto !important; color: rgb(0, 0, 0) !important; line-height: 1.8em !important; overflow: visible !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; vertical-align: baseline !important; float: none !important; white-space: pre-wrap; position: static !important; min-height: auto !important; box-sizing: content-box !important;\">ah.set(&amp;a, &amp;A::Func);</code></p><div class=\"line number3 index2 alt2\" style=\"background: rgb(244, 244, 244) !important; margin: 0px !important; padding: 0px 1em !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; right: auto !important; bottom: auto !important; color: rgb(69, 69, 69); line-height: 1.8em !important; overflow: visible !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 12px; vertical-align: baseline !important; float: none !important; white-space: normal; position: static !important; min-height: auto !important; box-sizing: content-box !important;\"><code class=\"cpp plain\" style=\"background: none !important; margin: 0px !important; padding: 0px !important; outline: 0px !important; border-radius: 0px !important; border: 0px currentColor !important; border-image: none !important; left: auto !important; top: auto !important; width: auto !important; height: auto !important; right: auto !important; bottom: auto !important; color: rgb(0, 0, 0) !important; line-height: 1.8em !important; overflow: visible !important; font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace !important; vertical-align: baseline !important; float: none !important; white-space: pre-wrap; position: static !important; min-height: auto !important; box-sizing: content-box !important;\">ah.callback(3);</code></div><p><br/></p>','2016-05-10 08:40:45','2016-09-13 11:01:45'),(738,'192.168.2.200',1,'CListCtrl::InsertColumn、InsertItem、SetItemText;','<p><strong>方法1:</strong></p><pre class=\"brush:cpp;toolbar:false\">控制&nbsp;View属性要改成Report\r\n\r\nvoid&nbsp;AssemblyDlg::showTargetList()\r\n{\r\n	_lcTarget.DeleteAllItems();\r\n	\r\n	_lcTarget.InsertColumn(0,_T(&quot;主项&quot;),LVCFMT_LEFT,&nbsp;80);\r\n	_lcTarget.InsertColumn(1,_T(&quot;子项&quot;),&nbsp;LVCFMT_LEFT,&nbsp;50);\r\n	_lcTarget.InsertItem(0,_T(&quot;主数据&quot;));\r\n	_lcTarget.SetItemText(0,1,_T(&quot;子数据&quot;));\r\n}</pre><p><br/></p><p><strong>方法2:</strong></p><p>//----------------------------------------</p><p>//插入图片缩略图</p><pre class=\"brush:cpp;toolbar:false\">//GDI+全局变量&nbsp;\r\nCImageList&nbsp;&nbsp;m_ImageList;\r\nULONG_PTR&nbsp;gdiplusToken;\r\nGdiplus::GdiplusStartupInput&nbsp;gdiplusStartupInput;\r\n\r\n--这函数放在程序初始化处\r\nGdiplus::GdiplusStartup(&amp;gdiplusToken,&nbsp;&amp;gdiplusStartupInput,&nbsp;NULL);\r\n\r\n--在程序出口调用\r\nGdiplus::GdiplusShutdown(gdiplusToken);\r\n\r\n\r\n//显示列表\r\nvoid&nbsp;AssemblyDlg::showTargetList()\r\n{\r\n	int&nbsp;imageID;\r\n	_lcTarget.DeleteAllItems();\r\n	\r\n	//wide&nbsp;of&nbsp;picture&nbsp;is&nbsp;120,height&nbsp;is&nbsp;90\r\n	m_ImageList.Create(120,90,ILC_COLORDDB|ILC_COLOR32,1,1);\r\n	_lcTarget.SetImageList(&amp;m_ImageList,LVSIL_NORMAL);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//CImageList&nbsp;associates&nbsp;CListCtrl\r\n	\r\n	//GDI+\r\n	Gdiplus::Bitmap&nbsp;bmp(_T(&quot;a.png&quot;));	//传入图片路径\r\n	int&nbsp;sourceWidth&nbsp;=&nbsp;120;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//获得图片宽度,这个120和创建的120保持相同。\r\n	int&nbsp;sourceHeight&nbsp;=&nbsp;bmp.GetHeight();	//获得图片宽度\r\n	if(sourceHeight&gt;120)		&nbsp;&nbsp;//和m_ImageList.Create(120…)有很大关系，如果小于设定的宽度，图片将无法显示。\r\n	{&nbsp;&nbsp;&nbsp;sourceHeight=120;}\r\n	else\r\n	{&nbsp;&nbsp;&nbsp;sourceHeight=bmp.GetHeight();}&nbsp;\r\n\r\n	Gdiplus::Bitmap*&nbsp;pThumbnail&nbsp;=&nbsp;(Gdiplus::Bitmap*)bmp.GetThumbnailImage(sourceWidth&nbsp;,&nbsp;sourceHeight&nbsp;,&nbsp;NULL,&nbsp;NULL);&nbsp;//设定缩略图的大小\r\n	HBITMAP&nbsp;hBmp;\r\n	pThumbnail-&gt;GetHBITMAP(Gdiplus::Color(255,255,255),&amp;hBmp);\r\n	CBitmap&nbsp;*pImage&nbsp;=&nbsp;CBitmap::FromHandle(hBmp);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//转换成CBitmap格式位图\r\n\r\n	imageID=m_ImageList.Add(pImage,RGB(255,255,&nbsp;255));\r\n	_lcTarget.InsertItem(0,_T(&quot;图片1&quot;),imageID);\r\n\r\n	imageID=m_ImageList.Add(pImage,RGB(255,255,&nbsp;255));\r\n	_lcTarget.InsertItem(1,_T(&quot;图片2&quot;),imageID);\r\n\r\n}</pre><p><br/></p>','2016-05-10 16:42:16','2016-05-11 01:21:29'),(739,'192.168.2.111',23,'favicon图标设置','<pre class=\"brush:html;toolbar:false\">生成favicon.ico图标文件\r\n放在根目录下然后添加这两句\r\n\r\n&lt;head&gt;\r\n&lt;link&nbsp;rel=&quot;icon&quot;&nbsp;href=&quot;favicon.ico&quot;&nbsp;type=&quot;image/x-icon&quot;&nbsp;/&gt;\r\n&lt;link&nbsp;rel=&quot;shortcut&nbsp;icon&quot;&nbsp;href=&quot;favicon.ico&quot;&nbsp;type=&quot;image/x-icon&quot;&nbsp;/&gt;\r\n&lt;/head&gt;</pre><p><br/></p>','2016-05-21 03:40:22','2016-05-21 11:40:22'),(740,'192.168.1.200',29,'复位开关','<p>16MM开关</p><p><br/></p><p><a href=\"https://item.taobao.com/item.htm?spm=a230r.1.14.123.UXx6Tg&amp;id=522114500000&amp;ns=1&amp;abbucket=5#detail\" _src=\"https://item.taobao.com/item.htm?spm=a230r.1.14.123.UXx6Tg&amp;id=522114500000&amp;ns=1&amp;abbucket=5#detail\">https://item.taobao.com/item.htm?spm=a230r.1.14.123.UXx6Tg&amp;id=522114500000&amp;ns=1&amp;abbucket=5#detail</a></p><p>&nbsp;</p><p><a href=\"https://detail.tmall.com/item.htm?spm=a230r.1.14.117.UXx6Tg&amp;id=42385628857&amp;ns=1&amp;abbucket=5\" _src=\"https://detail.tmall.com/item.htm?spm=a230r.1.14.117.UXx6Tg&amp;id=42385628857&amp;ns=1&amp;abbucket=5\">https://detail.tmall.com/item.htm?spm=a230r.1.14.117.UXx6Tg&amp;id=42385628857&amp;ns=1&amp;abbucket=5</a></p><p><br/></p><p><a href=\"https://item.taobao.com/item.htm?spm=a230r.1.14.108.B8qSkX&amp;id=521527835507&amp;ns=1&amp;abbucket=5#detail\">https://item.taobao.com/item.htm?spm=a230r.1.14.108.B8qSkX&amp;id=521527835507&amp;ns=1&amp;abbucket=5#detail</a>&nbsp;</p><p><br/></p><p><br/></p><h3 class=\"tb-main-title\" style=\"font: 700 16px/21px tahoma, arial, &quot;Hiragino Sans GB&quot;, 宋体, sans-serif; margin: 0px; padding: 0px; color: rgb(60, 60, 60); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; min-height: 21px; widows: 1; font-size-adjust: none; font-stretch: normal; background-color: rgb(255, 255, 255); -webkit-text-stroke-width: 0px;\" data-title=\"12MM金属开关 按钮开关 带符号灯复位 REAST开关 电脑启动开关\">12MM金属开关 按钮开关 带符号灯复位 REAST开关 电脑启动开关</h3><p><a href=\"https://item.taobao.com/item.htm?spm=2013.1.20141001.2.werBIc&amp;id=39823044185&amp;scm=1007.10115.22549.100200300000000&amp;pvid=6dc68438-1b65-457f-9bfb-87f39fc5bfac\" _src=\"https://item.taobao.com/item.htm?spm=2013.1.20141001.2.werBIc&amp;id=39823044185&amp;scm=1007.10115.22549.100200300000000&amp;pvid=6dc68438-1b65-457f-9bfb-87f39fc5bfac\">https://item.taobao.com/item.htm?spm=2013.1.20141001.2.werBIc&amp;id=39823044185&amp;scm=1007.10115.22549.100200300000000&amp;pvid=6dc68438-1b65-457f-9bfb-87f39fc5bfac</a></p><p><br/></p><p>圆型无符号&nbsp;</p><p><a href=\"https://item.taobao.com/item.htm?spm=2013.1.1998246701.1.p3BAKS&amp;scm=1007.10152.27619.1p0&amp;id=18633059042&amp;pvid=dc730752-3887-4b4b-9afa-ec2866f119a9\" _src=\"https://item.taobao.com/item.htm?spm=2013.1.1998246701.1.p3BAKS&amp;scm=1007.10152.27619.1p0&amp;id=18633059042&amp;pvid=dc730752-3887-4b4b-9afa-ec2866f119a9\">https://item.taobao.com/item.htm?spm=2013.1.1998246701.1.p3BAKS&amp;scm=1007.10152.27619.1p0&amp;id=18633059042&amp;pvid=dc730752-3887-4b4b-9afa-ec2866f119a9</a></p><p>&nbsp;</p><p><br/></p><p>8MM开关</p><p><br/></p><p><a href=\"https://detail.tmall.com/item.htm?spm=a230r.1.14.13.TryYsR&amp;id=526964264558&amp;cm_id=140105335569ed55e27b&amp;abbucket=5\" _src=\"https://detail.tmall.com/item.htm?spm=a230r.1.14.13.TryYsR&amp;id=526964264558&amp;cm_id=140105335569ed55e27b&amp;abbucket=5\">https://detail.tmall.com/item.htm?spm=a230r.1.14.13.TryYsR&amp;id=526964264558&amp;cm_id=140105335569ed55e27b&amp;abbucket=5</a></p><p><br/></p><p><br/></p><p><a href=\"https://item.taobao.com/item.htm?spm=a230r.1.14.111.TryYsR&amp;id=532754702235&amp;ns=1&amp;abbucket=5#detail\">https://item.taobao.com/item.htm?spm=a230r.1.14.111.TryYsR&amp;id=532754702235&amp;ns=1&amp;abbucket=5#detail</a>&nbsp;</p><p><br/></p>','2016-05-28 17:30:00','2016-05-29 01:38:35'),(741,'192.168.1.200',2,'VC取网络UTC时间','<pre class=\"brush:cpp;toolbar:false\">BOOL&nbsp;NistGetTime(LPFILETIME&nbsp;OutTime)\r\n{\r\n	BOOL&nbsp;bOk;\r\n	struct&nbsp;hostent&nbsp;*host;\r\n\r\n	bOk&nbsp;=&nbsp;FALSE;\r\n	if&nbsp;(host&nbsp;=&nbsp;gethostbyname(&quot;time.nist.gov&quot;))\r\n	{\r\n		SOCKET&nbsp;s;\r\n		in_addr&nbsp;ia;\r\n		CHAR&nbsp;IpText[32];\r\n\r\n		memcpy(&amp;ia,&nbsp;host-&gt;h_addr,&nbsp;host-&gt;h_length);\r\n		lstrcpyA(IpText,&nbsp;inet_ntoa(ia));\r\n		s&nbsp;=&nbsp;socket(AF_INET,&nbsp;SOCK_STREAM,&nbsp;IPPROTO_TCP);\r\n		if&nbsp;(s&nbsp;!=&nbsp;INVALID_SOCKET)\r\n		{\r\n			sockaddr_in&nbsp;sac;\r\n\r\n			memset(&amp;sac,&nbsp;0,&nbsp;sizeof(sac));\r\n			sac.sin_family&nbsp;=&nbsp;AF_INET;\r\n			sac.sin_port&nbsp;=&nbsp;htons(37);\r\n			sac.sin_addr.s_addr&nbsp;=&nbsp;inet_addr(IpText);\r\n			if&nbsp;(connect(s,&nbsp;(sockaddr*)&amp;sac,&nbsp;sizeof(sac))&nbsp;==&nbsp;0)\r\n			{\r\n				ULONG&nbsp;nTime;\r\n\r\n				if&nbsp;(recv(s,&nbsp;(PCHAR)&amp;nTime,&nbsp;sizeof(nTime),&nbsp;0)&nbsp;==&nbsp;sizeof(nTime))\r\n				{\r\n					LONGLONG&nbsp;llt;\r\n\r\n					nTime&nbsp;=&nbsp;ntohl(nTime);\r\n					llt&nbsp;=&nbsp;0x014F373BFDE04000;//1900.1.1\r\n					llt&nbsp;+=&nbsp;LONGLONG(nTime)&nbsp;*&nbsp;10000000;\r\n					memcpy(OutTime,&nbsp;&amp;llt,&nbsp;sizeof(FILETIME));\r\n					bOk&nbsp;=&nbsp;TRUE;\r\n				}\r\n			}\r\n			closesocket(s);\r\n		}\r\n	}\r\n	return&nbsp;bOk;\r\n}</pre><p><br/></p>','2016-05-31 14:03:02','2016-05-31 22:03:02'),(742,'192.168.1.200',18,'删除文件','<pre class=\"brush:php;toolbar:false\">$filename&nbsp;=&#39;bb.gif&#39;;\r\nif(&nbsp;is_file(&nbsp;$filename&nbsp;)&nbsp;)\r\n{\r\n&nbsp;if(&nbsp;unlink($filename)&nbsp;)\r\n&nbsp;{\r\n&nbsp;&nbsp;echo&nbsp;&#39;文件删除成功&#39;;\r\n&nbsp;}\r\n&nbsp;else\r\n&nbsp;{\r\n&nbsp;&nbsp;echo&nbsp;&#39;文件删除失败，权限不够&#39;;\r\n&nbsp;}\r\n}\r\nelse\r\n{\r\n&nbsp;echo&nbsp;&#39;不是有一个有效的文件&#39;;\r\n}</pre><p><br/></p>','2016-06-18 19:17:57','2016-06-19 03:17:57'),(743,'192.168.1.200',29,'红外接收音频接头','<p>红阳电子厂</p><p><br/></p><p><a href=\"https://item.taobao.com/item.htm?spm=a1z09.2.0.0.RV4Cwm&amp;id=21071836549&amp;_u=l265n6l85c3\" _src=\"https://item.taobao.com/item.htm?spm=a1z09.2.0.0.RV4Cwm&amp;id=21071836549&amp;_u=l265n6l85c3\">https://item.taobao.com/item.htm?spm=a1z09.2.0.0.RV4Cwm&amp;id=21071836549&amp;_u=l265n6l85c3</a></p><p><br/></p><p><img src=\"/my/notes/js/ue/php/upload_img/20160621/14664851678778.jpg\" title=\"T2XXKjXHXaXXXXXXXX-1082810129[1].jpg\"/></p><p></p>','2016-06-21 05:00:19','2016-06-21 13:00:19'),(744,'192.168.1.200',73,'STM8L  EEPROM','<p>STM8L带有片上EEPROM，常用来保存参数，事实上STM8L整个程序存储区都可以用于作为EEPROM，只是默认情况下被闭了。</p><p>&nbsp;&nbsp;&nbsp; 不同型号的STM8L器件其内部默认划分的EEPROM区域都是从0x1000地址开始，以下为STM8LXX的EEPROM读写例：</p><p><br/></p><pre class=\"brush:cpp;toolbar:false\">#define&nbsp;EEPROM_FLASH_ADDR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0x1000\r\n/*\r\n*/\r\nvoid&nbsp;Stm8_EEPROMWrite(u8_t&nbsp;nAddr,u8_t&nbsp;nData)\r\n{\r\n&nbsp;&nbsp;u8_t&nbsp;*p;\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;do\r\n&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FLASH-&gt;CR1=0x00;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FLASH-&gt;CR2=0x00;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//FLASH-&gt;NCR2=0xFF;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FLASH-&gt;DUKR=0xAE;//锁1密匙&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FLASH-&gt;DUKR=0x56;//锁2密匙&nbsp;\r\n&nbsp;&nbsp;}while((FLASH-&gt;IAPSR&amp;0x08)==0);\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;p=(u8_t&nbsp;*)(EEPROM_FLASH_ADDR+nAddr);\r\n&nbsp;&nbsp;*p=nData;\r\n&nbsp;&nbsp;while(!(FLASH-&gt;IAPSR&amp;0x04));//等待写操作成功\r\n}\r\n/*\r\n*/\r\nu16_t&nbsp;Stm8_EEPROMRead(u8_t&nbsp;nAddr)\r\n{\r\n&nbsp;&nbsp;u8_t&nbsp;*p;\r\n&nbsp;&nbsp;p=(u8_t&nbsp;*)(EEPROM_FLASH_ADDR+nAddr);\r\n&nbsp;&nbsp;return&nbsp;*p;\r\n}\r\n\r\n\r\n//////////////////////\r\nStm8_EEPROMWrite(0,0xAA);\r\nnMode=Stm8_EEPROMRead(0);</pre>','2016-06-23 15:19:38','2016-07-28 10:47:41'),(747,'192.168.2.75',26,'直接GPIO定时器调多路LED亮度','<pre class=\"brush:cpp;toolbar:false\">//////////////////////////////////////////////////////////////////////\r\n//当前场景和颜色\r\nunsigned&nbsp;char&nbsp;g_current_SenceID=0;\r\nunsigned&nbsp;char&nbsp;g_current_r=0;\r\nunsigned&nbsp;char&nbsp;g_current_g=0;\r\nunsigned&nbsp;char&nbsp;g_current_b=0;\r\nunsigned&nbsp;char&nbsp;g_current_w=0;\r\nunsigned&nbsp;char&nbsp;g_current_y=0;\r\nunsigned&nbsp;char&nbsp;g_current_c=0;\r\n\r\n\r\nvoid&nbsp;RGBWYC_Init()\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;//-------------------------------------------\r\n&nbsp;&nbsp;&nbsp;&nbsp;//TIM1\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM1_PSCRH&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM1_PSCRL&nbsp;=4;&nbsp;&nbsp;&nbsp;&nbsp;//分频&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM1_ARRH&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM1_ARRL&nbsp;=&nbsp;254;\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM1_CR1&nbsp;|=&nbsp;0x01;&nbsp;&nbsp;&nbsp;&nbsp;//使能TIM1&nbsp;,&nbsp;&nbsp;启动计数\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM1_BKR&nbsp;|=&nbsp;0x80;&nbsp;&nbsp;&nbsp;&nbsp;//PWMOutPuts\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM1_IER&nbsp;|=&nbsp;0x01;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//-------------------------------------------\r\n&nbsp;&nbsp;&nbsp;&nbsp;//LED输出引脚&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//R\r\n&nbsp;&nbsp;&nbsp;&nbsp;PC_DDR_bit.DDR6&nbsp;=&nbsp;1;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;PC_CR1_bit.C16=&nbsp;1;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;PC_CR2_bit.C26=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//G\r\n&nbsp;&nbsp;&nbsp;&nbsp;PA_DDR_bit.DDR3&nbsp;=&nbsp;1;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;PA_CR1_bit.C13=&nbsp;1;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;PA_CR2_bit.C23=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;初始化其它IO输出\r\n&nbsp;&nbsp;&nbsp;&nbsp;.......\r\n}\r\n////////////////////////////////////////////////////////\r\n//定时1中断&nbsp;用来处理灯光输出\r\n#pragma&nbsp;vector=TIM1_OVR_UIF_vector\r\n__interrupt&nbsp;void&nbsp;TIM1_CapTure_UIFHandler(void)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;无分频,频率高,定时器中断,不能执行太多代码.\r\n&nbsp;&nbsp;&nbsp;&nbsp;//LED灯的光度调度\r\n&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;int&nbsp;r=0,g=0,b=0,w=0,y=0,c=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;unsigned&nbsp;int&nbsp;maxR=0,maxG=0,maxB=0;//,maxW=0,,maxY=0,,maxC=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//光度运算----------\r\n&nbsp;&nbsp;&nbsp;&nbsp;maxR=g_current_r;\r\n&nbsp;&nbsp;&nbsp;&nbsp;maxG=g_current_g;\r\n&nbsp;&nbsp;&nbsp;&nbsp;maxB=g_current_b;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//\r\n&nbsp;&nbsp;&nbsp;&nbsp;r++;r%=255;\r\n&nbsp;&nbsp;&nbsp;&nbsp;g++;g%=255;\r\n&nbsp;&nbsp;&nbsp;&nbsp;b++;b%=255;\r\n&nbsp;&nbsp;&nbsp;//w++;w%=255;\r\n&nbsp;&nbsp;&nbsp;//y++;y%=255;\r\n&nbsp;&nbsp;&nbsp;//c++;c%=255;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;PC_ODR_ODR4=r&lt;maxR?0:1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;PC_ODR_ODR3=g&lt;maxG?0:1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;PD_ODR_ODR3=b&lt;maxB?0:1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//PC_ODR_ODR6=w&lt;g_current_w?0:1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//PC_ODR_ODR6=y&lt;g_current_y?0:1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//PC_ODR_ODR6=c&lt;g_current_c?0:1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM1_SR1=0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//清除捕获中断标志位\r\n}</pre><p><br/></p>','2016-06-30 18:24:10','2017-02-06 13:52:39'),(748,'192.168.1.200',23,'js获取select标签选中的值','<p style=\"color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">var obj = document.getElementById(&quot;makeSelect&quot;); //定位id</p><p style=\"color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">var index = obj.selectedIndex; // 选中索引</p><p style=\"color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">var text = obj.options[index].text; // 选中文本</p><p style=\"color: rgb(54, 46, 43); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">var value = obj.options[index].value; // 选中值</p><p><br/></p>','2016-07-05 08:46:28','2016-07-09 03:26:50'),(749,'192.168.1.200',26,'无线编解码发送','<pre class=\"brush:cpp;toolbar:false\">发送--------------------------------\r\n与无线编解码接收文章对应\r\n\r\n/*****************\r\n例子:\r\nvoid&nbsp;main(&nbsp;void&nbsp;)\r\n{\r\n&nbsp;&nbsp;ioEncode_Init();\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;for(;;)\r\n&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(0==IoEncode_IsSending())\r\n&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IoEncode_Send(xx,2);&nbsp;}\r\n&nbsp;&nbsp;}\r\n}\r\n******************/\r\n#define&nbsp;uchar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;char\r\n#define&nbsp;uint&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;int&nbsp;\r\n#define&nbsp;ulong&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;long\r\n//红外发送端口初始化\r\nvoid&nbsp;IoEncode_Init(ulong&nbsp;frequency);\r\n/*\r\n&nbsp;&nbsp;&nbsp;&nbsp;发送\r\n&nbsp;&nbsp;&nbsp;&nbsp;返回&nbsp;0=成功&nbsp;,&nbsp;1=发送失败,数据长度大于64字节,&nbsp;2=发送失败,有数据正在处理中\r\n*/\r\nint&nbsp;IoEncode_Send(uchar*buf,int&nbsp;len);\r\n/*\r\n&nbsp;&nbsp;&nbsp;&nbsp;当前是否发送中\r\n&nbsp;&nbsp;&nbsp;&nbsp;返回&nbsp;0=可进行发送&nbsp;,1=有数据正在发送中\r\n*/\r\nint&nbsp;IoEncode_IsSending();\r\n\r\n\r\n\r\n\r\nC文件--------------------------------------\r\n#include&lt;iostm8s103f3.h&gt;\r\n#include&nbsp;&quot;ioEncode.h&quot;\r\n/////////////////////////////////////////////////////////////\r\n#define&nbsp;IoCodeHeadTime&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.001000f&nbsp;&nbsp;&nbsp;&nbsp;//us*10倍周期=10ms\r\n#define&nbsp;IoCodeData0Time&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.000250f&nbsp;&nbsp;&nbsp;&nbsp;//us*10倍周期=2.5ms\r\n#define&nbsp;IoCodeData1Time&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.000500f&nbsp;&nbsp;&nbsp;&nbsp;//us*10倍周期=5ms\r\n#define&nbsp;IoCodeEndTime&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.001000f&nbsp;&nbsp;&nbsp;&nbsp;//us*10倍周期=10ms\r\n//编解码用到的周期\r\nuint&nbsp;IoCodeHead=0;\r\nuint&nbsp;IoCodeData0=0;\r\nuint&nbsp;IoCodeData1=0;\r\nuint&nbsp;IoCodeEnd=0;\r\n\r\n//每次发送的缓冲,和发送位置\r\nuchar&nbsp;IoEncodeSendBuf[64];\r\nint&nbsp;IoEncodeSendLen=0;\r\nint&nbsp;IoEncodeSendPos=0;\r\n//发送中\r\nint&nbsp;IoEncodeSendByteBit[8];//发送的字节转成位\r\nint&nbsp;IoEncodeSendByteBitTime=0;//发送位时执行时间\r\nint&nbsp;IoEncodeSendByteStep=0;//发送字节中的步骤\r\nuchar&nbsp;IoEncodeSendByteCheckSum=0;&nbsp;//奇偶校验位\r\nuchar&nbsp;IoEncodeIsByteSending=0;//单个字节是否发送中\r\n//是否可以继续发送,下一帧字节\r\nunsigned&nbsp;char&nbsp;IoEncodeAleadySend=0;\r\n/////////////////////////////////////////////////////////////\r\nint&nbsp;pow(int&nbsp;x,int&nbsp;y);\r\n/////////////////////////////////////////////////////////////\r\n#define&nbsp;REMOTE_CLK_DIV&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//2^5=32----8Mh/8=4us\r\n//////////////////////////////////////////////////////////////\r\nint&nbsp;pow(int&nbsp;x,int&nbsp;y)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;z=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;for(;y&gt;0;y--)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;z*=x;\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;z;\r\n}\r\n//红外发送端口初始化\r\nvoid&nbsp;IoEncode_Init(ulong&nbsp;frequency)\r\n{\r\n&nbsp;&nbsp;PD_DDR_DDR4&nbsp;=&nbsp;1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//PD4为输出\r\n&nbsp;&nbsp;PD_CR1_C14&nbsp;=&nbsp;1;\r\n&nbsp;&nbsp;PD_CR2_C24&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;TIM2_PSCR&nbsp;=REMOTE_CLK_DIV;\r\n&nbsp;&nbsp;TIM2_ARRH&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;TIM2_ARRL&nbsp;=&nbsp;9;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//9+1个周期=10倍\r\n&nbsp;&nbsp;TIM2_CR1&nbsp;|=&nbsp;0x01;\r\n&nbsp;&nbsp;TIM2_IER=1;&nbsp;//通道1捕获中断使能\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;//---------------------------------\r\n&nbsp;&nbsp;//计算时间周期\r\n&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;float&nbsp;a,b,cycleTime;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a=pow(2,REMOTE_CLK_DIV);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b=frequency/a;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cycleTime=1/b;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//标准时间周期\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoCodeHead=(int)(IoCodeHeadTime/cycleTime);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoCodeData0=(int)(IoCodeData0Time/cycleTime);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoCodeData1=(int)(IoCodeData1Time/cycleTime);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoCodeEnd=(int)(IoCodeEndTime/cycleTime);\r\n&nbsp;&nbsp;}\r\n}\r\n#pragma&nbsp;vector=TIM2_OVR_UIF_vector\r\n__interrupt&nbsp;void&nbsp;TIM2_OVR_UIF(void)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(IoEncodeIsByteSending)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;n;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;switch(IoEncodeSendByteStep)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;-1://发送兼容性拉高电平\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IoEncodeSendByteBitTime&lt;IoCodeHead*3)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;PD_ODR_ODR4=1;&nbsp;IoEncodeSendByteBitTime++;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IoEncodeSendByteBitTime=1;&nbsp;IoEncodeSendByteStep++;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;0://发送信号头\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IoEncodeSendByteBitTime&lt;IoCodeHead)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;PD_ODR_ODR4=0;&nbsp;IoEncodeSendByteBitTime++;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IoEncodeSendByteBitTime=1;&nbsp;IoEncodeSendByteStep++;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;1://发送信号字节位1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n=0==IoEncodeSendByteBit[0]?IoCodeData0:IoCodeData1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IoEncodeSendByteBitTime&lt;n)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;PD_ODR_ODR4=1;&nbsp;IoEncodeSendByteBitTime++;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IoEncodeSendByteBitTime=0;&nbsp;IoEncodeSendByteStep++;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;2://发送信号字节位2\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n=0==IoEncodeSendByteBit[1]?IoCodeData0:IoCodeData1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IoEncodeSendByteBitTime&lt;n)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;PD_ODR_ODR4=0;&nbsp;IoEncodeSendByteBitTime++;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IoEncodeSendByteBitTime=0;&nbsp;IoEncodeSendByteStep++;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;3://发送信号字节位3\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n=0==IoEncodeSendByteBit[2]?IoCodeData0:IoCodeData1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IoEncodeSendByteBitTime&lt;n)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;PD_ODR_ODR4=1;&nbsp;IoEncodeSendByteBitTime++;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IoEncodeSendByteBitTime=0;&nbsp;IoEncodeSendByteStep++;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;4://发送信号字节位4\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n=0==IoEncodeSendByteBit[3]?IoCodeData0:IoCodeData1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IoEncodeSendByteBitTime&lt;n)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;PD_ODR_ODR4=0;&nbsp;IoEncodeSendByteBitTime++;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IoEncodeSendByteBitTime=0;&nbsp;IoEncodeSendByteStep++;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;5://发送信号字节位5\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n=0==IoEncodeSendByteBit[4]?IoCodeData0:IoCodeData1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IoEncodeSendByteBitTime&lt;n)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;PD_ODR_ODR4=1;&nbsp;IoEncodeSendByteBitTime++;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IoEncodeSendByteBitTime=0;&nbsp;IoEncodeSendByteStep++;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;6://发送信号字节位6\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n=0==IoEncodeSendByteBit[5]?IoCodeData0:IoCodeData1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IoEncodeSendByteBitTime&lt;n)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;PD_ODR_ODR4=0;&nbsp;IoEncodeSendByteBitTime++;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IoEncodeSendByteBitTime=0;&nbsp;IoEncodeSendByteStep++;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;7://发送信号字节位7\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n=0==IoEncodeSendByteBit[6]?IoCodeData0:IoCodeData1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IoEncodeSendByteBitTime&lt;n)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;PD_ODR_ODR4=1;&nbsp;IoEncodeSendByteBitTime++;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IoEncodeSendByteBitTime=0;&nbsp;IoEncodeSendByteStep++;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;8://发送信号字节位8\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n=0==IoEncodeSendByteBit[7]?IoCodeData0:IoCodeData1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IoEncodeSendByteBitTime&lt;n)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;PD_ODR_ODR4=0;&nbsp;IoEncodeSendByteBitTime++;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IoEncodeSendByteBitTime=0;&nbsp;IoEncodeSendByteStep++;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;9://发送信号结尾\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IoEncodeSendLen&gt;IoEncodeSendPos)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//连接发送下一个字节\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoEncodeIsByteSending=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IoEncodeSendByteBitTime&lt;IoCodeEnd)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;PD_ODR_ODR4=1;&nbsp;IoEncodeSendByteBitTime++;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IoEncodeSendByteBitTime=0;&nbsp;IoEncodeSendByteStep++;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;10:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//结束电平兼容&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IoEncodeSendByteBitTime&lt;IoCodeEnd*2)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;PD_ODR_ODR4=0;&nbsp;IoEncodeSendByteBitTime++;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IoEncodeSendByteBitTime=0;&nbsp;IoEncodeSendByteStep++;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;11:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//结束\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PD_ODR_ODR4=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoEncodeIsByteSending=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoEncodeAleadySend=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IoEncodeSendLen!=IoEncodeSendPos)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;char&nbsp;c;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c=IoEncodeSendBuf[IoEncodeSendPos];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//计算字节\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoEncodeSendByteBit[0]&nbsp;=&nbsp;c&nbsp;&amp;&nbsp;0x01;&nbsp;//&nbsp;最低位\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoEncodeSendByteBit[1]&nbsp;=&nbsp;(&nbsp;c&nbsp;&amp;&nbsp;0x02)&nbsp;&gt;&gt;&nbsp;1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoEncodeSendByteBit[2]&nbsp;=&nbsp;(&nbsp;c&nbsp;&amp;&nbsp;0x04)&nbsp;&gt;&gt;&nbsp;2;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoEncodeSendByteBit[3]&nbsp;=&nbsp;(&nbsp;c&nbsp;&amp;&nbsp;0x08)&nbsp;&gt;&gt;&nbsp;3;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoEncodeSendByteBit[4]&nbsp;=&nbsp;(&nbsp;c&nbsp;&amp;&nbsp;0x10)&nbsp;&gt;&gt;&nbsp;4;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoEncodeSendByteBit[5]&nbsp;=&nbsp;(&nbsp;c&nbsp;&amp;&nbsp;0x20)&nbsp;&gt;&gt;&nbsp;5;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoEncodeSendByteBit[6]&nbsp;=&nbsp;(&nbsp;c&nbsp;&amp;&nbsp;0x40)&nbsp;&gt;&gt;&nbsp;6;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoEncodeSendByteBit[7]&nbsp;=&nbsp;(&nbsp;c&nbsp;&amp;&nbsp;0x80)&nbsp;&gt;&gt;&nbsp;7;&nbsp;&nbsp;//&nbsp;最高位\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置开始发送\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoEncodeIsByteSending=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoEncodeAleadySend=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//选择是否帧头或者连接发送\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoEncodeSendByteStep=0==IoEncodeSendPos?-1:(0==IoEncodeSendPos?0:1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoEncodeSendPos++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoEncodeSendByteBitTime=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_CNTRH=0;&nbsp;&nbsp;&nbsp;//计数器清空\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_CNTRL=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM2_SR1&amp;=~(1&lt;&lt;0);//清除溢出中断标志位\r\n}\r\n/*\r\n&nbsp;&nbsp;&nbsp;&nbsp;发送\r\n&nbsp;&nbsp;&nbsp;&nbsp;返回&nbsp;0=成功&nbsp;,&nbsp;1=发送失败,数据长度大于64字节,&nbsp;2=发送失败,有数据正在处理中\r\n*/\r\nint&nbsp;IoEncode_Send(uchar*buf,int&nbsp;len)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;i=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(len&gt;sizeof(IoEncodeSendBuf))\r\n&nbsp;&nbsp;&nbsp;&nbsp;{return&nbsp;1;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(IoEncodeSendLen!=IoEncodeSendPos)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{return&nbsp;2;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;IoEncodeSendLen=len;\r\n&nbsp;&nbsp;&nbsp;&nbsp;IoEncodeSendPos=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;for(;i&lt;len;i++)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoEncodeSendBuf[i]=buf[i];\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;0;\r\n}\r\n//判断是否在发送中\r\nint&nbsp;IoEncode_IsSending()\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;IoEncodeAleadySend;\r\n}</pre><p><br/></p>','2016-07-10 04:53:41','2016-07-15 13:18:50'),(750,'192.168.1.200',26,'无线编解码接收','<pre class=\"brush:cpp;toolbar:false\">接收-------------------------------------\r\n与无线编解码发送文章对应\r\n/*****************\r\n//主程序\r\n//返回解码数据\r\nvoid&nbsp;ioDecode_cb(uchar&nbsp;*data&nbsp;,int&nbsp;len)\r\n{\r\n&nbsp;&nbsp;//解码数据回调\r\n&nbsp;&nbsp;zhUART1_PutBinary(data,len);\r\n}\r\nvoid&nbsp;main(&nbsp;void&nbsp;)\r\n{\r\n&nbsp;&nbsp;IoDecode_Init(ioDecode_cb,8000000);\r\n&nbsp;&nbsp;while(1)\r\n&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;}\r\n}\r\n******************/\r\n#define&nbsp;uchar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;char\r\n#define&nbsp;uint&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;int&nbsp;\r\n#define&nbsp;ulong&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;long\r\ntypedef&nbsp;void&nbsp;(PF_IoDecode_cb)(uchar&nbsp;*data&nbsp;,int&nbsp;len);\r\n//红外接收端口初始化\r\nvoid&nbsp;IoDecode_Init(PF_IoDecode_cb*pf,ulong&nbsp;frequency);\r\n\r\n\r\n\r\n\r\nC文件----------------------------------------\r\n#include&lt;iostm8s103f3.h&gt;\r\n#include&nbsp;&quot;ioDecode.h&quot;\r\n/////////////////////////////////////////////////////////////\r\nuchar&nbsp;IoDecodeRecStep&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//接收步骤\r\nuint&nbsp;IoDecodeHight&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//周期\r\nuint&nbsp;IoDecodeLow&nbsp;=&nbsp;0;&nbsp;\r\nconst&nbsp;uchar&nbsp;IoDecodeCode[8]={0x01,0x02,0x04,0x08,0x10,0x20,0x40,0x80};\r\nPF_IoDecode_cb*&nbsp;IODecodeCallback=0;\r\n///////----------------------///////\r\n#define&nbsp;IoCodeHeadTime&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.010000f&nbsp;&nbsp;&nbsp;&nbsp;//us=10ms\r\n#define&nbsp;IoCodeData0Time&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.002500f&nbsp;&nbsp;&nbsp;&nbsp;//us=2.5ms\r\n#define&nbsp;IoCodeData1Time&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.005000f&nbsp;&nbsp;&nbsp;&nbsp;//us=5ms\r\n#define&nbsp;IoCodeEndTime&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.010000f&nbsp;&nbsp;&nbsp;&nbsp;//us=10ms\r\n//编解码用到的周期限制\r\nuint&nbsp;IoCodeHead_Max=0;\r\nuint&nbsp;IoCodeHead_Min=0;\r\nuint&nbsp;IoCodeData0_Max=0;\r\nuint&nbsp;IoCodeData0_Min=0;\r\nuint&nbsp;IoCodeData1_Max=0;\r\nuint&nbsp;IoCodeData1_Min=0;\r\nuint&nbsp;IoCodeEnd_Max=0;\r\nuint&nbsp;IoCodeEnd_Min=0;\r\n//限制128/8个字节即16个字节,太大传输慢且内存不够,\r\nunsigned&nbsp;int&nbsp;IoDecodeBitArray[128]={0};\r\nint&nbsp;IoDecodeBitArrayCur=0;//读取数量\r\n//\r\nuchar&nbsp;IoRecvBuf[32]={0};\r\nint&nbsp;IoRecvLen=0;\r\nint&nbsp;IoRecvTimVal;&nbsp;//统计偏差\r\n/////////////////////////////////////////////////////////////\r\nint&nbsp;pow(int&nbsp;x,int&nbsp;y);\r\n/////////////////////////////////////////////////////////////\r\n#define&nbsp;REMOTE_CLK_DIV&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//2^5=32----8Mh/8=4us\r\n#define&nbsp;REMOTE_ICF_FILTER&nbsp;&nbsp;&nbsp;0x30\r\n//////////////////////////////////////////////////////////////\r\nint&nbsp;pow(int&nbsp;x,int&nbsp;y)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;z=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;for(;y&gt;0;y--)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;z*=x;\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;z;\r\n}\r\n//红外接收端口初始化\r\nvoid&nbsp;IoDecode_Init(PF_IoDecode_cb*pf,ulong&nbsp;frequency)\r\n{\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;IODecodeCallback=pf;\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;PD_DDR_DDR4&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//PD4为输入\r\n&nbsp;&nbsp;PD_CR1_C14&nbsp;=&nbsp;1;\r\n&nbsp;&nbsp;PD_CR2_C24&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;\r\n//在主模块初始化\r\n&nbsp;&nbsp;TIM2_PSCR&nbsp;=REMOTE_CLK_DIV;\r\n&nbsp;&nbsp;TIM2_CCER1&nbsp;&amp;=&nbsp;0xee;//禁止输入捕获1，2\r\n&nbsp;&nbsp;TIM2_CCMR1&nbsp;|=&nbsp;(REMOTE_ICF_FILTER&nbsp;+&nbsp;0x01);//&nbsp;ch1到ti1fp1\r\n&nbsp;&nbsp;TIM2_CCER1&nbsp;&amp;=&nbsp;0xec;//ch1&nbsp;上升沿触发\r\n&nbsp;&nbsp;TIM2_CCMR2&nbsp;|=&nbsp;(REMOTE_ICF_FILTER&nbsp;+&nbsp;0x02);//&nbsp;ch2选择&nbsp;ti1fp2上\r\n&nbsp;&nbsp;TIM2_CCER1&nbsp;|=&nbsp;0x20;//ch1&nbsp;下降沿触发&nbsp;ic2\r\n&nbsp;&nbsp;//TIM2_SMCR&nbsp;|=&nbsp;0x54;//选源触发源和触发方式&nbsp;复位,TM2没有这个寄存器,要每次计算时将TIM2_SR1&amp;=~(1&lt;&lt;1);复位才行\r\n&nbsp;&nbsp;TIM2_CCER1&nbsp;|=&nbsp;0x11;//使能输入捕获1，2\r\n&nbsp;&nbsp;TIM2_CR1&nbsp;|=&nbsp;0x05;\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;TIM2_IER|=1&lt;&lt;0;&nbsp;//使能更新中断\r\n&nbsp;&nbsp;TIM2_IER|=1&lt;&lt;1;&nbsp;//通道1捕获中断使能\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;//---------------------------------\r\n&nbsp;&nbsp;//计算时间周期\r\n&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;long&nbsp;a,b;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;double&nbsp;cycleTime;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;float&nbsp;max_a,min_a;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a=pow(2,REMOTE_CLK_DIV);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b=frequency/a;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cycleTime=1.0f/b;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//1.3&nbsp;&nbsp;&nbsp;0.7&nbsp;是允许误差\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max_a=1.3f;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;min_a=0.7f;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoCodeHead_Max=(int)(IoCodeHeadTime/cycleTime&nbsp;*&nbsp;max_a);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoCodeHead_Min=(int)(IoCodeHeadTime/cycleTime&nbsp;*&nbsp;min_a);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//数值不能交叉\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoCodeData1_Max=(int)(IoCodeData1Time/cycleTime&nbsp;*&nbsp;max_a);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoCodeData1_Min=(int)(IoCodeData1Time/cycleTime&nbsp;*&nbsp;min_a);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoCodeData0_Max=(int)(IoCodeData0Time/cycleTime&nbsp;*&nbsp;max_a);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoCodeData0_Min=(int)(IoCodeData0Time/cycleTime&nbsp;*&nbsp;min_a);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoCodeEnd_Max=(int)(IoCodeEndTime/cycleTime&nbsp;*&nbsp;max_a);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoCodeEnd_Min=(int)(IoCodeEndTime/cycleTime&nbsp;*&nbsp;min_a);\r\n&nbsp;&nbsp;}\r\n&nbsp;&nbsp;\r\n}&nbsp;\r\n//\r\n#pragma&nbsp;vector=15\r\n__interrupt&nbsp;void&nbsp;TIM2_UPD_OVF_IRQHandler(void)\r\n{\r\n&nbsp;&nbsp;unsigned&nbsp;char&nbsp;tsr;\r\n&nbsp;&nbsp;tsr=TIM2_SR1;\r\n&nbsp;&nbsp;if(tsr&amp;0x01)&nbsp;&nbsp;//溢出\r\n&nbsp;&nbsp;{\r\n&nbsp;&nbsp;}\r\n&nbsp;&nbsp;TIM2_SR1&amp;=~(1&lt;&lt;0);//清除溢出中断标志位\r\n}\r\n#pragma&nbsp;vector=16\r\n__interrupt&nbsp;void&nbsp;TIM2_CapTure_IRQHandler(void)\r\n{\r\n&nbsp;&nbsp;&nbsp;unsigned&nbsp;char&nbsp;tsr;\r\n&nbsp;&nbsp;&nbsp;tsr=TIM2_SR1;\r\n&nbsp;\r\n&nbsp;&nbsp;&nbsp;if(tsr&amp;0x02)//捕获1发生捕获事件\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;switch(IoDecodeRecStep)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;0://////////////////////////////////////////////\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((TIM2_SR1_CC1IF&nbsp;==&nbsp;1)&amp;&amp;(TIM2_SR1_CC2IF&nbsp;==&nbsp;1))\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoDecodeLow&nbsp;=&nbsp;(uint)(TIM2_CCR2H);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoDecodeLow&nbsp;=&nbsp;(IoDecodeLow&nbsp;&lt;&lt;&nbsp;8)&nbsp;+&nbsp;TIM2_CCR2L;&nbsp;&nbsp;//IrLow占空比\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoDecodeHight&nbsp;=&nbsp;(uint)(TIM2_CCR1H);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoDecodeHight&nbsp;=&nbsp;(IoDecodeHight&nbsp;&lt;&lt;&nbsp;8)&nbsp;+&nbsp;TIM2_CCR1L;&nbsp;&nbsp;//IrHight周期\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoRecvTimVal=IoDecodeHight-IoDecodeLow;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoDecodeBitArray[0]=IoDecodeHight;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//是否在引导码低电平范围内\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((IoRecvTimVal&nbsp;&lt;&nbsp;IoCodeHead_Max)&amp;&amp;(IoRecvTimVal&nbsp;&gt;&nbsp;IoCodeHead_Min))\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoDecodeRecStep&nbsp;=&nbsp;1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//复位定时器\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_SR1_CC1IF&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_SR1_CC2IF&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_SR2_CC1OF&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_SR2_CC2OF&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_SR1_UIF&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoDecodeBitArrayCur=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoRecvLen=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_SR1&amp;=~(1&lt;&lt;0);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_SR1&amp;=~(1&lt;&lt;1);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_SR2&amp;=~(1&lt;&lt;0);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_SR2&amp;=~(1&lt;&lt;1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_SR1_UIF&nbsp;=&nbsp;1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;1://////////////////////////////////////////////\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((TIM2_SR2_CC1OF==1)&nbsp;||&nbsp;(TIM2_SR2_CC2OF==1)&nbsp;||&nbsp;(TIM2_SR1_UIF==1))\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoDecodeRecStep&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(TIM2_SR1_CC2IF&nbsp;==&nbsp;1)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IoDecodeBitArrayCur&lt;128)//限制128/8个字节即16个字节,太大传输慢且内存不够,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoDecodeLow&nbsp;=&nbsp;(uint)(TIM2_CCR2H);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoDecodeLow&nbsp;=&nbsp;(IoDecodeLow&nbsp;&lt;&lt;&nbsp;8)&nbsp;+&nbsp;TIM2_CCR2L;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoDecodeBitArray[IoDecodeBitArrayCur+1]=IoDecodeLow;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoDecodeHight&nbsp;=&nbsp;(uint)(TIM2_CCR1H);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoDecodeHight&nbsp;=&nbsp;(IoDecodeHight&nbsp;&lt;&lt;&nbsp;8)&nbsp;+&nbsp;TIM2_CCR1L;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoDecodeBitArray[IoDecodeBitArrayCur+2]=IoDecodeHight;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoRecvTimVal=IoDecodeBitArray[IoDecodeBitArrayCur+1]-IoDecodeBitArray[IoDecodeBitArrayCur];&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//是否在引导码高电平范围内\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((IoRecvTimVal&nbsp;&gt;&nbsp;IoCodeData0_Min)&amp;&amp;(IoRecvTimVal&nbsp;&lt;&nbsp;IoCodeData0_Max))//高电平是否在数据0范围内\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoDecodeBitArrayCur+=2;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;((IoRecvTimVal&nbsp;&gt;&nbsp;IoCodeData1_Min)&amp;&amp;(IoRecvTimVal&nbsp;&lt;&nbsp;IoCodeData1_Max))//高电平是否在数据1范围内\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoDecodeBitArrayCur+=2;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;((IoRecvTimVal&nbsp;&gt;&nbsp;IoCodeEnd_Min)&amp;&amp;(IoRecvTimVal&nbsp;&lt;&nbsp;IoCodeEnd_Max))//结尾\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoDecodeBitArrayCur+=2;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoDecodeRecStep=2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoDecodeBitArrayCur=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoDecodeRecStep&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoRecvLen=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoDecodeBitArrayCur=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoDecodeRecStep&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoRecvLen=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;2://////////////////////////////////////////////\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(TIM2_SR1_CC2IF&nbsp;==&nbsp;1)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uchar&nbsp;IoDecodeIndex=0;//编码索引\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uchar&nbsp;IoDecodeRecChar&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;i;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoDecodeIndex=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoRecvLen=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//计算出字节\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(i=1;i&lt;IoDecodeBitArrayCur;i++)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoRecvTimVal=IoDecodeBitArray[i]-IoDecodeBitArray[i-1];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((IoRecvTimVal&nbsp;&gt;&nbsp;IoCodeData0_Min)&amp;&amp;(IoRecvTimVal&nbsp;&lt;&nbsp;IoCodeData0_Max))//高电平是否在数据0范围内\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoDecodeIndex++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;((IoRecvTimVal&nbsp;&gt;&nbsp;IoCodeData1_Min)&amp;&amp;(IoRecvTimVal&nbsp;&lt;&nbsp;IoCodeData1_Max))//高电平是否在数据1范围内\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoDecodeRecChar&nbsp;|=&nbsp;IoDecodeCode[IoDecodeIndex&nbsp;&amp;&nbsp;0x07];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoDecodeIndex++;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;((IoRecvTimVal&nbsp;&gt;&nbsp;IoCodeEnd_Min)&amp;&amp;(IoRecvTimVal&nbsp;&lt;&nbsp;IoCodeEnd_Max))//结尾\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoDecodeBitArrayCur=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoDecodeRecStep&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(i%8==0&nbsp;&amp;&amp;&nbsp;IoDecodeRecStep&gt;0)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//成功获取到一个字节\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoRecvBuf[IoRecvLen]=IoDecodeRecChar;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoRecvLen++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoDecodeRecChar=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoDecodeIndex=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//返回数据\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IoDecodeRecStep&gt;0)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IODecodeCallback(IoRecvBuf,IoRecvLen);&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoDecodeRecStep&nbsp;=&nbsp;0;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoRecvLen=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IoDecodeBitArrayCur=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM2_SR1&amp;=~(1&lt;&lt;1);//清除捕获中断标志位\r\n}</pre><p><br/></p>','2016-07-10 04:54:49','2016-07-10 15:33:49');
INSERT INTO `tbnote` VALUES (751,'192.168.1.51',26,'PD4 红外NEC编码','<pre class=\"brush:cpp;toolbar:false\">头文件:\r\n/*****************\r\n例子:\r\nvoid&nbsp;main(&nbsp;void&nbsp;)\r\n{\r\n&nbsp;&nbsp;ioEncode_Init();\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;for(;;)\r\n&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(0==IrEncode_IsSending())\r\n&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IrEncode_Send(1,2,3,4);&nbsp;}\r\n&nbsp;&nbsp;}\r\n}\r\n******************/\r\n#define&nbsp;uchar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;char\r\n#define&nbsp;uint&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;int&nbsp;\r\n#define&nbsp;ulong&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;long\r\n//红外发送端口初始化\r\nvoid&nbsp;IrEncode_Init(ulong&nbsp;frequency);\r\n/*\r\n&nbsp;&nbsp;&nbsp;&nbsp;发送\r\n&nbsp;&nbsp;&nbsp;&nbsp;返回&nbsp;0=成功&nbsp;,&nbsp;1=发送失败,有数据正在处理中\r\n*/\r\nint&nbsp;IrEncode_Send(uchar&nbsp;d1,uchar&nbsp;d2,uchar&nbsp;d3,uchar&nbsp;d4);\r\n/*\r\n&nbsp;&nbsp;&nbsp;&nbsp;当前是否发送中\r\n&nbsp;&nbsp;&nbsp;&nbsp;返回&nbsp;0=可进行发送&nbsp;,1=有数据正在发送中\r\n*/\r\nint&nbsp;IrEncode_IsSending();\r\n\r\n\r\n\r\n----------------------------------------------------------------\r\nC文件\r\n#include&lt;iostm8s103f3.h&gt;\r\n#include&nbsp;&quot;irEncode.h&quot;\r\n\r\n/////////////////////////////////////////////////////////////\r\n//编码时间\r\n#define&nbsp;IrCodeHeadTime&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.009000f/3&nbsp;&nbsp;&nbsp;&nbsp;//us*10倍周期=9ms&nbsp;*扩展倍数\r\n#define&nbsp;IrCodeHeadLowTime&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.004500f/3&nbsp;&nbsp;&nbsp;&nbsp;//us*10倍周期=4.5ms&nbsp;*扩展倍数\r\n#define&nbsp;IrCodeDataPPMTime&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.000560f/3&nbsp;&nbsp;&nbsp;&nbsp;//us*10倍周期=0.56ms&nbsp;*扩展倍数\r\n#define&nbsp;IrCodeData0Time&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.000560f/3&nbsp;&nbsp;&nbsp;&nbsp;//us*10倍周期=0.565ms&nbsp;*扩展倍数\r\n#define&nbsp;IrCodeData1Time&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.001690f/3&nbsp;&nbsp;&nbsp;&nbsp;//us*10倍周期=1.690ms&nbsp;*扩展倍数\r\n#define&nbsp;IrCodeEndTime&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.001000f/3&nbsp;&nbsp;&nbsp;&nbsp;//us*10倍周期=10ms&nbsp;*扩展倍数\r\n\r\n//编解码用到的周期\r\nuint&nbsp;IrCodeHead=0;\r\nuint&nbsp;IrCodeHeadLow=0;\r\nuint&nbsp;IrCodeDataPPM=0;\r\nuint&nbsp;IrCodeData0=0;\r\nuint&nbsp;IrCodeData1=0;\r\nuint&nbsp;IrCodeEnd=0;\r\n\r\n//每次发送的缓冲,和发送位置\r\nuchar&nbsp;IrEncodeSendBuf[4];\r\nint&nbsp;IrEncodeSendLen=0;\r\nint&nbsp;IrEncodeSendPos=0;\r\n\r\n//发送中\r\nint&nbsp;IrEncodeSendByteBit[8];//发送的字节转成位\r\nint&nbsp;IrEncodeSendByteBitTime=0;//发送位时执行时间\r\nint&nbsp;IrEncodeSendByteStep=0;//发送字节中的步骤\r\nuchar&nbsp;IrEncodeSendByteCheckSum=0;&nbsp;//奇偶校验位\r\nuchar&nbsp;IrEncodeIsByteSending=0;//单个字节是否发送中\r\nuchar&nbsp;IrEncodeSendBitPos=0;//当前发送的位\r\n//是否可以继续发送,下一帧字节\r\nunsigned&nbsp;char&nbsp;IrEncodeAleadySend=0;\r\n\r\n\r\n/*&nbsp;红外中断启用和停止&nbsp;*/\r\nvoid&nbsp;IrEncode_IERStart();\r\nvoid&nbsp;IrEncode_IERStop();\r\n\r\n#define&nbsp;IR_DO_PORT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_CCR1L\r\n\r\n/////////////////////////////////////////////////////////////\r\nint&nbsp;pow(int&nbsp;x,int&nbsp;y);\r\n/////////////////////////////////////////////////////////////\r\n#define&nbsp;REMOTE_CLK_DIV&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//2^5=32----8Mh/8=4us\r\n//////////////////////////////////////////////////////////////\r\ninline&nbsp;int&nbsp;pow(int&nbsp;x,int&nbsp;y)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;z=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;for(;y&gt;0;y--)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;z*=x;\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;z;\r\n}\r\n\r\n//////////////////////////////////////////////////////////////\r\n//红外发送端口初始化\r\nvoid&nbsp;IrEncode_Init(ulong&nbsp;frequency)\r\n{\r\n&nbsp;&nbsp;PD_DDR_DDR4&nbsp;=&nbsp;1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//PD4为输出\r\n&nbsp;&nbsp;PD_CR1_C14&nbsp;=&nbsp;1;\r\n&nbsp;&nbsp;PD_CR2_C24&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;TIM2_PSCR&nbsp;=REMOTE_CLK_DIV;\r\n&nbsp;&nbsp;TIM2_ARRH&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;TIM2_ARRL&nbsp;=&nbsp;2;&nbsp;\r\n&nbsp;&nbsp;TIM2_CR1&nbsp;|=&nbsp;0x01;\r\n&nbsp;&nbsp;TIM2_IER=0;&nbsp;//通道1捕获中断使能\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;/*PWM通道1设置,&nbsp;CH1-&gt;PD4&nbsp;,&nbsp;R颜色&nbsp;*/\r\n&nbsp;&nbsp;TIM2_CCER1&nbsp;|=&nbsp;0x01;&nbsp;&nbsp;&nbsp;//开启OC1信号输出脚\r\n&nbsp;&nbsp;TIM2_CCMR1&nbsp;=&nbsp;0x60;&nbsp;&nbsp;&nbsp;&nbsp;//PWM1模式&nbsp;&nbsp;\r\n&nbsp;&nbsp;TIM2_CCR1H&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//占空比高位\r\n&nbsp;&nbsp;TIM2_CCR1L&nbsp;=&nbsp;1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//占空比低位\r\n&nbsp;&nbsp;TIM2_CCMR1&nbsp;|=&nbsp;0x08;&nbsp;&nbsp;&nbsp;//输出比较1预装载使能\r\n&nbsp;&nbsp;//\r\n&nbsp;&nbsp;TIM2_CCR1H&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;TIM2_CCR1L&nbsp;=&nbsp;1;&nbsp;\r\n&nbsp;&nbsp;//---------------------------------\r\n&nbsp;&nbsp;//计算时间周期\r\n&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;float&nbsp;a,b,cycleTime;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a=pow(2,REMOTE_CLK_DIV);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b=frequency/a;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cycleTime=1/b;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//标准时间周期\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrCodeHead=(int)(IrCodeHeadTime/cycleTime);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrCodeHeadLow=(int)(IrCodeHeadLowTime/cycleTime);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrCodeDataPPM=(int)(IrCodeDataPPMTime/cycleTime);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrCodeData0=(int)(IrCodeData0Time/cycleTime);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrCodeData1=(int)(IrCodeData1Time/cycleTime);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrCodeEnd=(int)(IrCodeEndTime/cycleTime);\r\n&nbsp;&nbsp;}\r\n}\r\n\r\n#pragma&nbsp;vector=TIM2_OVR_UIF_vector\r\n__interrupt&nbsp;void&nbsp;TIM2_OVR_UIF(void)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(IrEncodeIsByteSending)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;n;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;switch(IrEncodeSendByteStep)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;-1://发送兼容性电平\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IrEncodeSendByteBitTime&lt;100)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IR_DO_PORT=0;&nbsp;IrEncodeSendByteBitTime++;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IrEncodeSendByteBitTime=0;&nbsp;IrEncodeSendByteStep++;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//--------------------------------------------------------&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;0://发送信号头\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IrEncodeSendByteBitTime&lt;IrCodeHead)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IR_DO_PORT=1;&nbsp;IrEncodeSendByteBitTime++;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IrEncodeSendByteBitTime=1;&nbsp;IrEncodeSendByteStep++;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;1://发送信号头拉低\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IrEncodeSendByteBitTime&lt;IrCodeHeadLow)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IR_DO_PORT=0;&nbsp;IrEncodeSendByteBitTime++;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IrEncodeSendByteBitTime=0;&nbsp;IrEncodeSendByteStep++;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//--------------------------------------------------------&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;2://发送信号PPM间隔\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IrEncodeSendByteBitTime&lt;IrCodeDataPPM)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IR_DO_PORT=1;&nbsp;IrEncodeSendByteBitTime++;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IrEncodeSendByteBitTime=1;&nbsp;IrEncodeSendByteStep++;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;3://发送信号字节位\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n=0==IrEncodeSendByteBit[IrEncodeSendBitPos]?IrCodeData0:IrCodeData1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IrEncodeSendByteBitTime&lt;n)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IR_DO_PORT=0;&nbsp;IrEncodeSendByteBitTime++;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendByteBitTime=0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendBitPos++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IrEncodeSendBitPos&gt;=8)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{IrEncodeSendByteStep++;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{IrEncodeSendByteStep=2;}//继续发送位&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//--------------------------------------------------------&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;4://发送信号结尾\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IrEncodeSendLen&gt;IrEncodeSendPos)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//连接发送下一个字节\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeIsByteSending=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendBitPos=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IrEncodeSendByteBitTime&lt;IrCodeEnd)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IR_DO_PORT=1;&nbsp;IrEncodeSendByteBitTime++;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IrEncodeSendByteBitTime=0;&nbsp;IrEncodeSendByteStep++;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;5:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//兼容电平结束\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IrEncodeSendByteBitTime&lt;IrCodeEnd&nbsp;)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IR_DO_PORT=0;&nbsp;IrEncodeSendByteBitTime++;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IrEncodeSendByteBitTime=0;&nbsp;IrEncodeSendByteStep++;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;6:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//结束\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IR_DO_PORT=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeIsByteSending=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeAleadySend=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncode_IERStop();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IrEncodeSendLen!=IrEncodeSendPos)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;char&nbsp;c;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c=IrEncodeSendBuf[IrEncodeSendPos];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//计算字节\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendByteBit[0]&nbsp;=&nbsp;c&nbsp;&amp;&nbsp;0x01;&nbsp;//&nbsp;最低位\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendByteBit[1]&nbsp;=&nbsp;(&nbsp;c&nbsp;&amp;&nbsp;0x02)&nbsp;&gt;&gt;&nbsp;1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendByteBit[2]&nbsp;=&nbsp;(&nbsp;c&nbsp;&amp;&nbsp;0x04)&nbsp;&gt;&gt;&nbsp;2;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendByteBit[3]&nbsp;=&nbsp;(&nbsp;c&nbsp;&amp;&nbsp;0x08)&nbsp;&gt;&gt;&nbsp;3;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendByteBit[4]&nbsp;=&nbsp;(&nbsp;c&nbsp;&amp;&nbsp;0x10)&nbsp;&gt;&gt;&nbsp;4;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendByteBit[5]&nbsp;=&nbsp;(&nbsp;c&nbsp;&amp;&nbsp;0x20)&nbsp;&gt;&gt;&nbsp;5;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendByteBit[6]&nbsp;=&nbsp;(&nbsp;c&nbsp;&amp;&nbsp;0x40)&nbsp;&gt;&gt;&nbsp;6;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendByteBit[7]&nbsp;=&nbsp;(&nbsp;c&nbsp;&amp;&nbsp;0x80)&nbsp;&gt;&gt;&nbsp;7;&nbsp;&nbsp;//&nbsp;最高位\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置开始发送\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeIsByteSending=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeAleadySend=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendBitPos=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//选择是否帧头或者连接发送\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendByteStep=0==IrEncodeSendPos?-1:(0==IrEncodeSendPos?0:2);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendPos++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendByteBitTime=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_CNTRH=0;&nbsp;&nbsp;&nbsp;//计数器清空\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_CNTRL=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM2_SR1&amp;=~(1&lt;&lt;0);//清除溢出中断标志位\r\n}\r\n\r\n/*\r\n&nbsp;&nbsp;&nbsp;&nbsp;发送\r\n&nbsp;&nbsp;&nbsp;&nbsp;返回&nbsp;0=成功&nbsp;,&nbsp;1=发送失败,有数据正在处理中\r\n*/\r\nint&nbsp;IrEncode_Send(uchar&nbsp;d1,uchar&nbsp;d2,uchar&nbsp;d3,uchar&nbsp;d4)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(IrEncodeSendLen!=IrEncodeSendPos)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{return&nbsp;1;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(0!=IrEncodeAleadySend)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{return&nbsp;1;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendLen=4;\r\n&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendPos=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendBuf[0]=d1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendBuf[1]=d2;\r\n&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendBuf[2]=d3;\r\n&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendBuf[3]=d4;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;IrEncode_IERStart();\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;0;\r\n}\r\n\r\n//判断是否在发送中\r\nint&nbsp;IrEncode_IsSending()\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;IrEncodeAleadySend;\r\n}\r\n\r\n\r\ninline&nbsp;void&nbsp;IrEncode_IERStart()\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM2_IER=1;&nbsp;\r\n}\r\ninline&nbsp;void&nbsp;IrEncode_IERStop()\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM2_IER=0;&nbsp;\r\n}</pre><p><br/></p>','2016-07-16 02:11:30','2016-11-17 04:42:07'),(752,'192.168.1.200',18,'php字符串时间差','<pre class=\"brush:cpp;toolbar:false\">	date_default_timezone_set(&#39;PRC&#39;);&nbsp;//获取系统时间\r\n	$zero1=strtotime&nbsp;(date(&quot;y-m-d&nbsp;H:i:s&quot;));&nbsp;//当前时间&nbsp;&nbsp;,注意H&nbsp;是24小时&nbsp;h是12小时&nbsp;\r\n	$zero2=strtotime&nbsp;(&quot;2016-07-25&nbsp;00:00:00&quot;);&nbsp;&nbsp;//过年时间，不能写2014-1-21&nbsp;24:00:00&nbsp;&nbsp;这样不对\r\n	$guonian=ceil(($zero2-$zero1)/86400);&nbsp;//60s*60min*24h&nbsp;&nbsp;&nbsp;\r\n	echo&nbsp;&quot;离过年还有&lt;strong&gt;$guonian&lt;/strong&gt;天！&quot;;</pre><p><br/></p>','2016-07-24 12:56:08','2016-07-24 20:56:08'),(753,'192.168.1.200',41,'MOS管在电路中的连接方法','<p><img src=\"/my/notes/js/ue/php/upload_img/20160726/14694946521038.jpg\" title=\"catch.jpg\"/></p>','2016-07-26 00:57:36','2016-07-26 08:57:36'),(754,'192.168.5.55',26,'红外NEC解码 PC3双通道','<pre class=\"brush:cpp;toolbar:false\">/*****************\r\n//主程序\r\n\r\n//红外数据\r\nvoid&nbsp;pfIrRecv_cb(uchar&nbsp;data1,uchar&nbsp;data2,uchar&nbsp;data3,uchar&nbsp;data4)\r\n{\r\n&nbsp;&nbsp;\r\n}\r\n\r\nvoid&nbsp;main(&nbsp;void&nbsp;)\r\n{\r\n&nbsp;&nbsp;Ir_Init(pfIrRecv_cb);\r\n&nbsp;&nbsp;while(1)\r\n&nbsp;&nbsp;{}\r\n}\r\n\r\n******************/\r\n\r\n#define&nbsp;uchar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;char\r\n#define&nbsp;ushort&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;short&nbsp;\r\n#define&nbsp;uint&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;int&nbsp;\r\n\r\n\r\ntypedef&nbsp;void&nbsp;(PF_IrRecv_cb)(uchar&nbsp;data1,uchar&nbsp;data2,uchar&nbsp;data3,uchar&nbsp;data4);\r\n\r\n//红外接收端口初始化\r\nvoid&nbsp;Ir_Init(PF_IrRecv_cb*&nbsp;pf);\r\n\r\n-----------------------------------------------------------------------\r\n\r\n#include&lt;iostm8s103f3.h&gt;\r\n#include&nbsp;&quot;ir.h&quot;\r\n\r\nuchar&nbsp;IrRecBuff[4];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//接收缓冲区\r\n\r\nPF_IrRecv_cb*&nbsp;g_IrRecvPF_cb;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//红外接收回调\r\n\r\n/////////////////////////////////////////////////////////////\r\nuchar&nbsp;IrRecStep&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//接收步骤\r\nuchar&nbsp;IrIndex&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//接收位数\r\nuint&nbsp;IrHight&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//红外周期\r\nuint&nbsp;IrLow&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//占空比\r\nconst&nbsp;uchar&nbsp;IrCode[8]={0x01,0x02,0x04,0x08,0x10,0x20,0x40,0x80};&nbsp;\r\n\r\nuint&nbsp;g_IrN=0;\r\n\r\n//--------引导码低电平范围------------------\r\n#define&nbsp;IrHeadLow_Max&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2300&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//2300*4&nbsp;=&nbsp;9200us\r\n#define&nbsp;IrHeadLow_Min&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2100&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//2100*4&nbsp;=&nbsp;8400us\r\n//--------引导码高电平范围------------------\r\n#define&nbsp;IrHeadHigh_Max&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1250&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//1250*4&nbsp;=&nbsp;5000us\r\n#define&nbsp;IrHeadHigh_Min&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1050&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//1050*4&nbsp;=&nbsp;4200us\r\n//--------数据低周期范围-------------------\r\n#define&nbsp;IrIsData_Max&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;170&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//160*4&nbsp;=&nbsp;640us\r\n#define&nbsp;IrIsData_Min&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;100&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//120*4&nbsp;=&nbsp;480us\r\n//--------数据0的占空比(高电平)范围---------\r\n#define&nbsp;IrData0_Max&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;170&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//160*4&nbsp;=&nbsp;640us\r\n#define&nbsp;IrData0_Min&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;100&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//120*4&nbsp;=&nbsp;480us\r\n//--------数据1的占空比(高电平)范围---------\r\n#define&nbsp;IrData1_Max&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;500&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//440*4&nbsp;=&nbsp;1760us\r\n#define&nbsp;IrData1_Min&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;360&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//400*4&nbsp;=&nbsp;1600us\r\n//----------------------------------------------------------\r\n#define&nbsp;REMOTE_CLK_DIV&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;31&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//2^5=32----8Mh/32=4us\r\n#define&nbsp;REMOTE_ICF_FILTER&nbsp;&nbsp;&nbsp;0x30\r\n\r\n//红外接收端口初始化\r\nvoid&nbsp;Ir_Init(PF_IrRecv_cb*&nbsp;pf)\r\n{\r\n&nbsp;&nbsp;PC_DDR_DDR3&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//PC3为输入\r\n&nbsp;&nbsp;PC_CR1_C13&nbsp;=&nbsp;1;\r\n&nbsp;&nbsp;PC_CR2_C23&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;//在主模块初始化\r\n&nbsp;&nbsp;TIM1_PSCRH&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;TIM1_PSCRL&nbsp;=&nbsp;REMOTE_CLK_DIV;\r\n&nbsp;&nbsp;TIM1_CCER2&nbsp;&amp;=&nbsp;0xee;//禁止输入捕获3,4\r\n&nbsp;&nbsp;TIM1_CCMR3&nbsp;|=(REMOTE_ICF_FILTER&nbsp;+&nbsp;0x01);//&nbsp;ch1到ti1fp1\r\n&nbsp;&nbsp;TIM1_CCER2&nbsp;&amp;=&nbsp;0xec;//ch1&nbsp;上升沿触发\r\n&nbsp;&nbsp;TIM1_CCMR4&nbsp;|=(REMOTE_ICF_FILTER&nbsp;+&nbsp;0x02);//&nbsp;ch2选择&nbsp;ti1fp2上\r\n&nbsp;&nbsp;TIM1_CCER2&nbsp;|=&nbsp;0x20;//ch1&nbsp;下降沿触发&nbsp;ic2\r\n&nbsp;&nbsp;TIM1_SMCR&nbsp;|=&nbsp;0x54;\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;TIM1_IER|=0x18;&nbsp;//通道1捕获中断使能\r\n&nbsp;&nbsp;TIM1_CCER2&nbsp;|=&nbsp;0x11;//使能输入捕获3,4\r\n&nbsp;&nbsp;TIM1_CR1&nbsp;=&nbsp;0x01;\r\n\r\n&nbsp;&nbsp;g_IrRecvPF_cb=pf;\r\n}&nbsp;\r\n\r\n#pragma&nbsp;vector=14\r\n__interrupt&nbsp;void&nbsp;TIM1_CapTure_IRQHandler(void)\r\n{\r\n&nbsp;&nbsp;&nbsp;unsigned&nbsp;char&nbsp;tsr;\r\n&nbsp;&nbsp;&nbsp;tsr=TIM1_SR1;\r\n&nbsp;&nbsp;&nbsp;if(tsr&amp;0x02)//捕获1发生捕获事件\r\n&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;switch(IrRecStep)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;0:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((TIM1_SR1_CC3IF&nbsp;==&nbsp;1)&amp;&amp;(TIM1_SR1_CC4IF&nbsp;==&nbsp;0))\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrLow&nbsp;=&nbsp;(uint)(TIM1_CCR4H);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrLow&nbsp;=&nbsp;(IrLow&nbsp;&lt;&lt;&nbsp;8)&nbsp;+&nbsp;TIM1_CCR4L;&nbsp;&nbsp;//IrLow占空比\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrHight&nbsp;=&nbsp;(uint)(TIM1_CCR3H);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrHight&nbsp;=&nbsp;(IrHight&nbsp;&lt;&lt;&nbsp;8)&nbsp;+&nbsp;TIM1_CCR3L;&nbsp;&nbsp;//IrHight周期\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g_IrN=IrHight-IrLow;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//是否在引导码低电平范围内\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((g_IrN&nbsp;&lt;&nbsp;IrHeadLow_Max)&amp;&amp;(g_IrN&nbsp;&gt;&nbsp;IrHeadLow_Min))\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrRecStep&nbsp;=&nbsp;1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrIndex=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrRecBuff[0]&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrRecBuff[1]&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrRecBuff[2]&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrRecBuff[3]&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM1_SR1_CC3IF&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM1_SR1_CC4IF&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM1_SR1_UIF&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;1:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((TIM1_SR2_CC3OF==1)&nbsp;||&nbsp;(TIM1_SR2_CC4OF==1)&nbsp;||&nbsp;(TIM1_SR1_UIF==1))\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrRecStep&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(TIM1_SR1_CC4IF==&nbsp;1)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrLow&nbsp;=&nbsp;(uint)(TIM1_CCR4H);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrLow&nbsp;=&nbsp;(IrLow&nbsp;&lt;&lt;&nbsp;8)&nbsp;+&nbsp;TIM1_CCR4L;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g_IrN=IrLow-IrHight;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrHight&nbsp;=&nbsp;(uint)(TIM1_CCR3H);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrHight&nbsp;=&nbsp;(IrHight&nbsp;&lt;&lt;&nbsp;8)&nbsp;+&nbsp;TIM1_CCR3L;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//是否在引导码高电平范围内\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((g_IrN&nbsp;&lt;&nbsp;IrHeadHigh_Max)&amp;&amp;(g_IrN&nbsp;&gt;&nbsp;IrHeadHigh_Min))\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrRecStep&nbsp;=&nbsp;2;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrRecStep&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrRecStep&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;2:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((TIM1_SR1_CC3IF&nbsp;==&nbsp;1)&amp;&amp;(TIM1_SR1_CC4IF&nbsp;==&nbsp;0))\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrLow&nbsp;=&nbsp;(uint)(TIM1_CCR4H);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrLow&nbsp;=&nbsp;(IrLow&nbsp;&lt;&lt;&nbsp;8)&nbsp;+&nbsp;TIM1_CCR4L;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrHight&nbsp;=&nbsp;(uint)(TIM1_CCR3H);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrHight&nbsp;=&nbsp;(IrHight&nbsp;&lt;&lt;&nbsp;8)&nbsp;+&nbsp;TIM1_CCR3L;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//下降空格\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g_IrN=IrHight-IrLow;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;((TIM1_SR1_CC3IF&nbsp;==&nbsp;0)&amp;&amp;(TIM1_SR1_CC4IF&nbsp;==&nbsp;1))\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrLow&nbsp;=&nbsp;(uint)(TIM1_CCR4H);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrLow&nbsp;=&nbsp;(IrLow&nbsp;&lt;&lt;&nbsp;8)&nbsp;+&nbsp;TIM1_CCR4L;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrHight&nbsp;=&nbsp;(uint)(TIM1_CCR3H);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrHight&nbsp;=&nbsp;(IrHight&nbsp;&lt;&lt;&nbsp;8)&nbsp;+&nbsp;TIM1_CCR3L;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g_IrN=IrLow-IrHight;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((g_IrN&nbsp;&gt;&nbsp;IrData0_Min)&amp;&amp;(g_IrN&nbsp;&lt;&nbsp;IrData0_Max))//高电平是否在数据0范围内\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrIndex++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;((g_IrN&nbsp;&gt;&nbsp;IrData1_Min)&amp;&amp;(g_IrN&nbsp;&lt;&nbsp;IrData1_Max))//高电平是否在数据1范围内\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrRecBuff[IrIndex&nbsp;&gt;&gt;&nbsp;3]&nbsp;|=&nbsp;IrCode[IrIndex&nbsp;&amp;&nbsp;0x07];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrIndex++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrIndex=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrRecStep&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//获取整体数据\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IrIndex&nbsp;&gt;=&nbsp;32)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrRecStep&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g_IrRecvPF_cb(IrRecBuff[0],IrRecBuff[1],IrRecBuff[2],IrRecBuff[3]);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM1_SR1&amp;=~(1&lt;&lt;1);\r\n}</pre><p><br/></p>','2016-07-31 06:02:14','2017-07-18 09:34:15'),(755,'192.168.6.1',71,'获取文档路径','<pre class=\"brush:cpp;toolbar:false\">func&nbsp;documentPath(str:String)-&gt;String\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;documentPaths&nbsp;=&nbsp;NSSearchPathForDirectoriesInDomains(NSSearchPathDirectory.DocumentDirectory,NSSearchPathDomainMask.UserDomainMask,&nbsp;true)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;documnetPath&nbsp;=&nbsp;documentPaths[0]+&quot;/&quot;+str;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;documnetPath;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}</pre><p><br/></p>','2016-08-08 19:26:18','2016-08-09 03:26:18'),(756,'192.168.6.1',71,'读写普通文件','<pre class=\"brush:cpp;toolbar:false\">//新建新文件\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;fpath=documentPath(&quot;adshow.txt&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;url:&nbsp;NSURL&nbsp;=&nbsp;NSURL(fileURLWithPath:&nbsp;fpath);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;let&nbsp;readData&nbsp;=&nbsp;NSData(contentsOfFile:&nbsp;url.path!)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//读取文件\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;text=NSString(data:&nbsp;readData,&nbsp;encoding:&nbsp;NSUTF8StringEncoding);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(&quot;text=%s[#ue_pole#n]&quot;,text);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//生成文件\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;wtext=&quot;ok&quot;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;data&nbsp;=&nbsp;NSMutableData();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//向数据对象中添加文本，并制定文字code\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data.appendData(wtext.dataUsingEncoding(NSUTF8StringEncoding,&nbsp;allowLossyConversion:&nbsp;true)!);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data.writeToFile(url.path!,&nbsp;atomically:&nbsp;true);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</pre><p><br/></p>','2016-08-08 19:27:17','2016-08-09 03:27:17'),(757,'192.168.5.20',71,'prepareForSegue界面跳转','<pre class=\"brush:cpp;toolbar:false\">@IBAction&nbsp;func&nbsp;btn3_click(sender:&nbsp;AnyObject)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//控制\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.performSegueWithIdentifier(&quot;segLoadPage&quot;,&nbsp;sender:&nbsp;nil);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;override&nbsp;func&nbsp;prepareForSegue(segue:&nbsp;UIStoryboardSegue,&nbsp;sender:&nbsp;AnyObject?)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(segue.identifier==&quot;segLoadPage&quot;)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//SelectWriteUIDController*&nbsp;frm=(SelectWriteUIDController*)segue.destinationViewController;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;sweb:ShowWeb;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sweb=segue.destinationViewController&nbsp;as!&nbsp;ShowWeb;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sweb.sLoadPage=&quot;www.baidu.com&quot;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}</pre><p><br/></p>','2016-08-12 03:39:23','2016-08-12 11:42:45'),(758,'192.168.5.22',18,'获取当前URL的目录路径','<pre class=\"brush:cpp;toolbar:false\">define(&#39;local_doc&#39;,&#39;http://&#39;.dirname($_SERVER[&#39;HTTP_HOST&#39;].$_SERVER[&#39;REQUEST_URI&#39;]));</pre><p><br/></p>','2016-08-21 14:13:35','2016-08-21 22:13:35'),(759,'192.168.5.22',31,'Git冲突：commit your changes or stash them before you can merge','<pre class=\"brush:cpp;toolbar:false\">提示已经很友好了，从网友处得到的答案直接帮我解决问题。\r\n1.stash\r\n通常遇到这个问题，你可以直接commit你的修改；但我这次不想这样。\r\n看看git&nbsp;stash是如何做的。\r\n\r\ngit&nbsp;stash\r\ngit&nbsp;pull\r\ngit&nbsp;stash&nbsp;pop\r\n\r\n接下来diff一下此文件看看自动合并的情况，并作出相应修改。\r\ngit&nbsp;stash:&nbsp;备份当前的工作区的内容，从最近的一次提交中读取相关内容，让工作区保证和上次提交的内容一致。同时，将当前的工作区内容保存到Git栈中。\r\ngit&nbsp;stash&nbsp;pop:&nbsp;从Git栈中读取最近一次保存的内容，恢复工作区的相关内容。由于可能存在多个Stash的内容，所以用栈来管理，pop会从最近的一个stash中读取内容并恢复。\r\ngit&nbsp;stash&nbsp;list:&nbsp;显示Git栈内的所有备份，可以利用这个列表来决定从那个地方恢复。\r\ngit&nbsp;stash&nbsp;clear:&nbsp;清空Git栈。此时使用gitg等图形化工具会发现，原来stash的哪些节点都消失了。\r\n\r\n\r\n2.放弃本地修改，直接覆盖之\r\n--------------------------------\r\ngit&nbsp;reset&nbsp;--hard\r\ngit&nbsp;pull\r\n----------------------------------</pre><p><br/></p><p><strong><br/></strong></p>','2016-08-21 15:03:28','2016-08-21 23:03:28'),(760,'192.168.5.22',2,'sqlite3-amalgamation使用','<pre class=\"brush:cpp;toolbar:false\">#include&nbsp;&quot;../sqlite-amalgamation-3140100/sqlite3.h&quot;\r\n\r\n\r\nint&nbsp;callback(void&nbsp;*NotUsed,&nbsp;int&nbsp;argc,&nbsp;char&nbsp;**argv,&nbsp;char&nbsp;**azColName)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;i;\r\n&nbsp;&nbsp;&nbsp;&nbsp;for(i=0;&nbsp;i&lt;argc;&nbsp;i++){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(&quot;%s&nbsp;=&nbsp;%s/n&quot;,&nbsp;azColName[i],&nbsp;argv[i]&nbsp;?&nbsp;argv[i]&nbsp;:&nbsp;&quot;NULL&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;printf(&quot;/n&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;0;\r\n}\r\n\r\nvoid&nbsp;CHECK_SQLITE3_RC(int&nbsp;rc,char*&nbsp;szInfo,char*&nbsp;szErrMsg,sqlite3&nbsp;*db)\r\n{\r\n	if(rc!=SQLITE_OK)&nbsp;\r\n	{\r\n		printf(&quot;%s&nbsp;error!/n&quot;,szInfo);\r\n		printf(&quot;%s/n&quot;,szErrMsg);&nbsp;&nbsp;&nbsp;&nbsp;\r\n		sqlite3_free(szErrMsg);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n		sqlite3_close(db);\r\n	}\r\n}\r\n\r\n\r\n//------------------------------------------------------------------\r\n//主代码\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;sqlite3&nbsp;*db;\r\n&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;dbPath[512];\r\n	strcpy_s(dbPath,(char&nbsp;*)_WS2S_CSTR(keyDB.GetBuffer()));\r\n&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;*szErrMsg&nbsp;=&nbsp;0;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;读写数据库,SQLITE_OPEN_CREATE如果数据库不存在就创建\r\n&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;rc=sqlite3_open_v2(dbPath,&nbsp;&amp;db,SQLITE_OPEN_READWRITE|SQLITE_OPEN_CREATE,&nbsp;0);\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CHECK_SQLITE3_RC(rc,&quot;open&nbsp;database&quot;,szErrMsg,db);\r\n&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;*szSql=&quot;create&nbsp;table&nbsp;UserInfo(ID&nbsp;int&nbsp;primary&nbsp;key&nbsp;,&nbsp;UserName&nbsp;char,&nbsp;PassWord&nbsp;char);&quot;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;rc=sqlite3_exec(db,szSql,0,0,&amp;szErrMsg);\r\n&nbsp;&nbsp;&nbsp;&nbsp;CHECK_SQLITE3_RC(rc,&quot;create&nbsp;table&quot;,szErrMsg,db);\r\n&nbsp;&nbsp;&nbsp;&nbsp;rc=sqlite3_exec(db,&quot;insert&nbsp;into&nbsp;UserInfo(ID,UserName,PassWord)&nbsp;values(1,&#39;kfqcome&#39;,&#39;123456&#39;)&quot;,0,0,&amp;szErrMsg);\r\n&nbsp;&nbsp;&nbsp;&nbsp;CHECK_SQLITE3_RC(rc,&quot;insert&nbsp;info&quot;,szErrMsg,db);\r\n&nbsp;&nbsp;&nbsp;&nbsp;rc=sqlite3_exec(db,&quot;insert&nbsp;into&nbsp;UserInfo(ID,UserName,PassWord)&nbsp;values(2,&#39;miss&nbsp;wang&#39;,&#39;654321&#39;)&quot;,0,0,&amp;szErrMsg);\r\n&nbsp;&nbsp;&nbsp;&nbsp;CHECK_SQLITE3_RC(rc,&quot;insert&nbsp;info&quot;,szErrMsg,db);\r\n&nbsp;&nbsp;&nbsp;&nbsp;szSql=&quot;select&nbsp;*&nbsp;from&nbsp;UserInfo&quot;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;rc&nbsp;=&nbsp;sqlite3_exec(db,szSql,&nbsp;callback,&nbsp;&quot;i&nbsp;am&nbsp;yes!!&quot;,&nbsp;&amp;szErrMsg);\r\n&nbsp;&nbsp;&nbsp;&nbsp;CHECK_SQLITE3_RC(rc,&quot;query&nbsp;values&quot;,szErrMsg,db);\r\n&nbsp;&nbsp;&nbsp;&nbsp;sqlite3_close_v2(db);</pre><p><br/></p>','2016-08-29 14:18:34','2016-08-29 23:12:28'),(761,'192.168.5.22',28,'万代触摸芯片','<h3>WTC02SP&nbsp;（2键 电容感应式触摸按键芯片）</h3><p><a href=\"http://www.wincomtech.com/cn/pro-show.php?lm=5&amp;id=31\" _src=\"http://www.wincomtech.com/cn/pro-show.php?lm=5&amp;id=31\">http://www.wincomtech.com/cn/pro-show.php?lm=5&amp;id=31</a></p><p>&nbsp;</p>','2016-09-01 20:41:49','2016-09-02 04:41:49'),(762,'192.168.5.22',21,'MYSQL----PROCEDURE can´t return a result set in the given context','<p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">原因：连接数据库的方式不正确。</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">导致报错的连接方式：&nbsp;</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(!mysql_real_connect(&amp;mysql,&quot;localhost&quot;,&quot;root&quot;,&quot;123456&quot;,&quot;ipbx&quot;,0,NULL,0))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf(&quot;mysql_real_connect() failed!/n&quot;);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mysql_close(&amp;mysql);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return 0;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br/>正确的连接方式：</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(!mysql_real_connect(&amp;mysql,&quot;localhost&quot;,&quot;root&quot;,&quot;123456&quot;,&quot;ipbx&quot;,0,NULL,<span style=\"color: rgb(255, 0, 0);\">CLIENT_MULTI_STATEMENTS</span>))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf(&quot;mysql_real_connect() failed!/n&quot;);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mysql_close(&amp;mysql);<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return 0;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br/>修改一下连接数据库的方式的参数就OK了！</p><p><br/></p>','2016-09-09 10:14:51','2016-09-09 18:15:02'),(763,'192.168.1.251',23,'websocket最简例子','<pre class=\"brush:cpp;toolbar:false\">&lt;!DOCTYPE&nbsp;html&gt;&nbsp;\r\n&lt;meta&nbsp;charset=utf-8&nbsp;/&gt;\r\n&lt;script&nbsp;language=&quot;javascript&quot;&gt;\r\n\r\n///////////////////////////////////\r\nvar&nbsp;tim;\r\nvar&nbsp;conn={};\r\nvar&nbsp;ip=&quot;127.0.0.1&quot;;\r\nvar&nbsp;port=1000;\r\nfunction&nbsp;openConnection()&nbsp;\r\n{\r\n&nbsp;&nbsp;if&nbsp;(conn.readyState&nbsp;===&nbsp;undefined&nbsp;||&nbsp;conn.readyState&nbsp;&gt;&nbsp;1)&nbsp;\r\n&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setlog(&quot;连接到&quot;+ip+&quot;:&quot;+port);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conn&nbsp;=&nbsp;new&nbsp;WebSocket(&#39;ws://&#39;+ip+&#39;:&#39;+port);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conn.onopen&nbsp;=&nbsp;function&nbsp;()&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setlog(&quot;连续成功&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keepFunc();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};\r\n&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conn.onmessage&nbsp;=&nbsp;function&nbsp;(event)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;message&nbsp;=&nbsp;event.data;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//解析数据\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setlog(&quot;收到数据&quot;+message);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conn.onclose&nbsp;=&nbsp;function&nbsp;(event)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setlog(&#39;断开连接&#39;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//重新连接\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window.clearInterval(tim);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};\r\n&nbsp;&nbsp;}\r\n}\r\n//断开连接\r\nfunction&nbsp;closeConnection()\r\n{\r\n		conn.close();\r\n		conn.onclose(0);\r\n}\r\n\r\n//发送字符串内容到模块\r\nfunction&nbsp;scmd(buff)&nbsp;{\r\n	if&nbsp;(conn.readyState&nbsp;===&nbsp;1)&nbsp;{\r\n	&nbsp;&nbsp;conn.send(buff);\r\n&nbsp;&nbsp;&nbsp;&nbsp;setlog(&quot;发送数据:&quot;+buff)\r\n	}\r\n}\r\n\r\n//定时器,每25000毫秒执行一次保活包\r\nfunction&nbsp;keepFunc(){\r\n	scmd(&#39;{&quot;cmd&quot;:5}&#39;);\r\n	tim=setTimeout(keepFunc,&nbsp;25000);\r\n}\r\n\r\n//日志打印\r\nfunction&nbsp;setlog(str)\r\n{\r\n&nbsp;&nbsp;var&nbsp;log&nbsp;=&nbsp;document.getElementById(&#39;log&#39;);\r\n&nbsp;&nbsp;log.innerHTML&nbsp;=log.innerHTML+&nbsp;&#39;&lt;li&nbsp;class=&quot;them&quot;&gt;&#39;&nbsp;+&nbsp;str&nbsp;+&nbsp;&#39;&lt;/li&gt;&#39;;\r\n&nbsp;&nbsp;log.scrollTop=log.scrollHeight;\r\n}\r\n\r\n///////////////////////////////////////////\r\nif&nbsp;(window.WebSocket&nbsp;===&nbsp;undefined)&nbsp;\r\n{\r\n&nbsp;&nbsp;setlog(&quot;当前浏览器不支持实时通讯,可以使用chrome&nbsp;或者safari&nbsp;,&nbsp;IE10等&quot;);\r\n}\r\n\r\n&lt;/script&gt;\r\n\r\n&lt;body&nbsp;onload=&quot;openConnection()&quot;&gt;\r\n&lt;input&nbsp;type=&quot;button&quot;&nbsp;id=&quot;btnconnect&quot;&nbsp;value=&quot;连接&quot;&nbsp;onclick=&quot;openConnection()&quot;&nbsp;/&gt;\r\n&lt;input&nbsp;type=&quot;button&quot;&nbsp;id=&quot;btnconnect&quot;&nbsp;value=&quot;断开&quot;&nbsp;onclick=&quot;closeConnection()&quot;&nbsp;/&gt;\r\n&lt;ul&nbsp;id=&quot;log&quot;&gt;&lt;/ul&gt;&nbsp;\r\n&lt;/body&gt;</pre><p><br/></p>','2016-09-12 01:29:12','2016-10-15 04:11:04'),(764,'192.168.1.51',21,'MYSQL 判断天数差,秒数差','<p>datediff(user_service_date_iot,now()) as expire #判断是否过期,小于0就是过期</p><p><br/></p><p>select UNIX_TIMESTAMP(now())-UNIX_TIMESTAMP(&#39;2016-11-21 02:25:00&#39;); //秒数判断</p>','2016-09-12 08:17:32','2016-11-21 02:27:15'),(765,'192.168.1.251',69,'一键配置 APP DEMO','<p>https://github.com/EspressifApp</p>','2016-09-22 07:14:14','2016-10-17 12:21:36'),(766,'192.168.1.2',71,'alert','<pre class=\"brush:cpp;toolbar:false\">let&nbsp;alertView&nbsp;=&nbsp;UIAlertView()\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alertView.title&nbsp;=&nbsp;&quot;&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alertView.message&nbsp;=&nbsp;&quot;json&nbsp;error&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alertView.addButtonWithTitle(&quot;确定&quot;)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alertView.show()</pre><p><br/></p>','2016-09-25 05:38:37','2016-09-25 13:38:37'),(767,'192.168.5.21',1,'错误	5	error LNK2005: &quot;void __cdecl operator delete(void *)&quot; (??3@YAXPAX@Z) 已经在 LIBCMTD.lib(dbgdel.obj','<p>在链接器-&gt;输入-&gt;附加依赖项,按顺序加入这两个库</p><p>nafxcwd.lib;libcmtd.lib;</p>','2016-09-27 03:36:59','2016-09-27 11:36:59'),(768,'192.168.1.251',41,'单管自激振荡电路','<p><img src=\"/my/notes/js/ue/php/upload_img/20161007/14758547926662.jpg\" title=\"timg.jpg\"/></p>','2016-10-07 15:39:55','2016-10-07 23:39:55'),(769,'192.168.1.251',69,'一键配置功能','<pre class=\"brush:cpp;toolbar:false\">在makefile加入-lsmartconfig&nbsp;\r\n\r\n\r\n/******************************************************************************\r\n&nbsp;*&nbsp;Copyright&nbsp;2013-2014&nbsp;Espressif&nbsp;Systems&nbsp;(Wuxi)\r\n&nbsp;*\r\n&nbsp;*&nbsp;FileName:&nbsp;user_main.c\r\n&nbsp;*\r\n&nbsp;*&nbsp;Description:&nbsp;entry&nbsp;file&nbsp;of&nbsp;user&nbsp;application\r\n&nbsp;*\r\n&nbsp;*&nbsp;Modification&nbsp;history:\r\n&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2014/1/1,&nbsp;v1.0&nbsp;create&nbsp;this&nbsp;file.\r\n*******************************************************************************/\r\n#include&nbsp;&quot;ets_sys.h&quot;\r\n#include&nbsp;&quot;osapi.h&quot;\r\n#include&nbsp;&quot;user_interface.h&quot;\r\n#include&nbsp;&quot;smartconfig.h&quot;\r\nvoid&nbsp;ICACHE_FLASH_ATTR\r\nsmartconfig_done(sc_status&nbsp;status,&nbsp;void&nbsp;*pdata)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;switch(status)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;SC_STATUS_WAIT:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os_printf(&quot;SC_STATUS_WAIT[#ue_pole#n]&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;SC_STATUS_FIND_CHANNEL:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os_printf(&quot;SC_STATUS_FIND_CHANNEL[#ue_pole#n]&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;SC_STATUS_GETTING_SSID_PSWD:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os_printf(&quot;SC_STATUS_GETTING_SSID_PSWD[#ue_pole#n]&quot;);\r\n&nbsp;&nbsp;&nbsp;sc_type&nbsp;*type&nbsp;=&nbsp;pdata;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(*type&nbsp;==&nbsp;SC_TYPE_ESPTOUCH)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os_printf(&quot;SC_TYPE:SC_TYPE_ESPTOUCH[#ue_pole#n]&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os_printf(&quot;SC_TYPE:SC_TYPE_AIRKISS[#ue_pole#n]&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;SC_STATUS_LINK:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os_printf(&quot;SC_STATUS_LINK[#ue_pole#n]&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;struct&nbsp;station_config&nbsp;*sta_conf&nbsp;=&nbsp;pdata;\r\n&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wifi_station_set_config(sta_conf);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wifi_station_disconnect();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wifi_station_connect();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;SC_STATUS_LINK_OVER:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os_printf(&quot;SC_STATUS_LINK_OVER[#ue_pole#n]&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(pdata&nbsp;!=&nbsp;NULL)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint8&nbsp;phone_ip[4]&nbsp;=&nbsp;{0};\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os_memcpy(phone_ip,&nbsp;(uint8*)pdata,&nbsp;4);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os_printf(&quot;Phone&nbsp;ip:&nbsp;%d.%d.%d.%d[#ue_pole#n]&quot;,phone_ip[0],phone_ip[1],phone_ip[2],phone_ip[3]);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;smartconfig_stop();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;\r\n}\r\nvoid&nbsp;user_rf_pre_init(void)\r\n{\r\n}\r\nvoid&nbsp;user_init(void)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;os_printf(&quot;SDK&nbsp;version:%s[#ue_pole#n]&quot;,&nbsp;system_get_sdk_version());\r\n&nbsp;smartconfig_set_type(SC_TYPE_ESPTOUCH);&nbsp;//SC_TYPE_ESPTOUCH,SC_TYPE_AIRKISS,SC_TYPE_ESPTOUCH_AIRKISS\r\n&nbsp;&nbsp;&nbsp;&nbsp;wifi_set_opmode(STATION_MODE);\r\n&nbsp;&nbsp;&nbsp;&nbsp;smartconfig_start(smartconfig_done);\r\n}</pre><p><br/></p>','2016-10-17 04:38:12','2016-10-17 12:38:27'),(770,'119.127.208.97',27,'getContextPath和getRealPath的区别','<p>这个问题很简单，实验一下就出来了，其实主要区别就是相对路径和绝对路径：</p><p>&nbsp;</p><ul class=\" list-paddingleft-2\"><li><p>getContextPath返回的是相对路径，工程的项目的相对路径；</p></li><li><p>getRealPath返回的绝对路径，就是在文件系统的实际路径；</p></li></ul><p>下面是我自己做的实验，在SpringMvc+Spring+Hibernate的项目中做的实验</p><p><span class=\"tracking-ad\" data-mod=\"popu_167\"></span></p><ol class=\"dp-j list-paddingleft-2\"><li><p><span class=\"annotation\">@Controller</span></p></li><li><p><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> IndexController { &nbsp;</p></li><li><p></p></li><li><p>&nbsp; &nbsp;<span class=\"annotation\">@RequestMapping</span>(<span class=\"string\">&quot;/&quot;</span>) &nbsp;</p></li><li><p>&nbsp; &nbsp;<span class=\"keyword\">public</span> String index(HttpServletRequest request){ &nbsp;</p></li><li><p>&nbsp; &nbsp; &nbsp; &nbsp;System.out.println(request.getContextPath()); &nbsp;</p></li><li><p>&nbsp; &nbsp; &nbsp; &nbsp;System.out.println(request.getSession().getServletContext().getContextPath()); &nbsp;</p></li><li><p>&nbsp; &nbsp; &nbsp; &nbsp;System.out.println(request.getServletContext().getContextPath()); &nbsp;</p></li><li><p>&nbsp; &nbsp; &nbsp; &nbsp;System.out.println(request.getServletContext().getRealPath(<span class=\"string\">&quot;/&quot;</span>)); &nbsp;</p></li><li><p>&nbsp; &nbsp; &nbsp; &nbsp;System.out.println(request.getSession().getServletContext().getContextPath()); &nbsp;</p></li><li><p>&nbsp; &nbsp; &nbsp; &nbsp;System.out.println(request.getSession().getServletContext().getRealPath(<span class=\"string\">&quot;/&quot;</span>)); &nbsp;</p></li><li><p>&nbsp; &nbsp; &nbsp; &nbsp;<span class=\"keyword\">return</span> <span class=\"string\">&quot;index&quot;</span>; &nbsp;</p></li><li><p>&nbsp; &nbsp;} &nbsp;</p></li><li><p>} &nbsp;</p></li></ol><p>&nbsp;</p><pre style=\"display: none;\" class=\"java\" name=\"code\" code_snippet_id=\"523261\" snippet_file_name=\"blog_20141117_1_9101930\">@Controller\r\npublic&nbsp;class&nbsp;IndexController&nbsp;{\r\n\r\n	@RequestMapping(&quot;/&quot;)\r\n	public&nbsp;String&nbsp;index(HttpServletRequest&nbsp;request){\r\n		System.out.println(request.getContextPath());\r\n		System.out.println(request.getSession().getServletContext().getContextPath());\r\n		System.out.println(request.getServletContext().getContextPath());\r\n		System.out.println(request.getServletContext().getRealPath(&quot;/&quot;));\r\n		System.out.println(request.getSession().getServletContext().getContextPath());\r\n		System.out.println(request.getSession().getServletContext().getRealPath(&quot;/&quot;));\r\n		return&nbsp;&quot;index&quot;;\r\n	}\r\n}</pre><p><br/>上面的打印结果如下：</p><ol class=\" list-paddingleft-2\"><li><p>/cn.test &nbsp;</p></li><li><p>/cn.test &nbsp;</p></li><li><p>/cn.test &nbsp;</p></li><li><p>E:StudyResourceWorkspace.metadata.pluginsorg.eclipse.wst.server.core	mp3wtpwebappscn.test &nbsp;</p></li><li><p>/cn.test &nbsp;</p></li><li><p>E:StudyResourceWorkspace.metadata.pluginsorg.eclipse.wst.server.core	mp3wtpwebappscn.test &nbsp;</p></li></ol><p>&nbsp;</p><pre style=\"display: none;\" class=\"plain\" name=\"code\" code_snippet_id=\"523261\" snippet_file_name=\"blog_20141117_2_7151277\">/cn.test\r\n/cn.test\r\n/cn.test\r\nE:StudyResourceWorkspace.metadata.pluginsorg.eclipse.wst.server.core	mp3wtpwebappscn.test\r\n/cn.test\r\nE:StudyResourceWorkspace.metadata.pluginsorg.eclipse.wst.server.core	mp3wtpwebappscn.test</pre><p>其实request、session、ServletContext调用getContextPath返回的结果是相同的<br/></p><p></p>','2016-10-21 03:19:15','2016-10-21 11:19:15'),(771,'119.127.208.97',27,'mybatis在xml文件中处理大于号小于号的方法','<p>第一种方法：</p><p style=\"color: rgb(69, 69, 69); line-height: 21px; padding-top: 0px; padding-bottom: 0px; font-family: tahoma,helvetica,arial; font-size: 14px; margin-top: 0px; margin-bottom: 0px;\">用了转义字符把&gt;和&lt;替换掉，然后就没有问题了。</p><p style=\"color: rgb(69, 69, 69); line-height: 21px; padding-top: 0px; padding-bottom: 0px; font-family: tahoma,helvetica,arial; font-size: 14px; margin-top: 0px; margin-bottom: 0px;\"><br/></p><p style=\"line-height: 21px; padding-top: 0px; padding-bottom: 0px; font-family: tahoma,helvetica,arial; font-size: 14px; margin-top: 0px; margin-bottom: 0px;\">SELECT * FROM test WHERE 1 = 1 AND start_date &nbsp;&amp;lt;= CURRENT_DATE AND end_date &amp;gt;= CURRENT_DATE<br/></p><p style=\"color: rgb(69, 69, 69); line-height: 21px; padding-top: 0px; padding-bottom: 0px; font-family: tahoma,helvetica,arial; font-size: 14px; margin-top: 0px; margin-bottom: 0px;\"><span style=\"color: rgb(255, 0, 0);\"><br/></span></p><p style=\"color: rgb(69, 69, 69); line-height: 21px; padding-top: 0px; padding-bottom: 0px; font-family: tahoma,helvetica,arial; font-size: 14px; margin-top: 0px; margin-bottom: 0px;\">附：XML转义字符</p><p style=\"color: rgb(69, 69, 69); line-height: 21px; padding-top: 0px; padding-bottom: 0px; font-family: tahoma,helvetica,arial; font-size: 14px; margin-top: 0px; margin-bottom: 0px;\"><br/><br/><table cellspacing=\"0\" cellpadding=\"0\"><tbody><tr><td valign=\"top\"><p style=\"padding-top: 0px; padding-bottom: 0px; margin-top: 0px; margin-bottom: 0px;\">&amp;lt;</p></td><td valign=\"top\"><p style=\"padding-top: 0px; padding-bottom: 0px; margin-top: 0px; margin-bottom: 0px;\">&lt;</p></td><td valign=\"top\"><p style=\"padding-top: 0px; padding-bottom: 0px; margin-top: 0px; margin-bottom: 0px;\">小于号</p></td></tr><tr><td valign=\"top\"><p style=\"padding-top: 0px; padding-bottom: 0px; margin-top: 0px; margin-bottom: 0px;\">&amp;gt;</p></td><td valign=\"top\"><p style=\"padding-top: 0px; padding-bottom: 0px; margin-top: 0px; margin-bottom: 0px;\">&gt;</p></td><td valign=\"top\"><p style=\"padding-top: 0px; padding-bottom: 0px; margin-top: 0px; margin-bottom: 0px;\">大于号</p></td></tr><tr><td valign=\"top\"><p style=\"padding-top: 0px; padding-bottom: 0px; margin-top: 0px; margin-bottom: 0px;\">&amp;amp;</p></td><td valign=\"top\"><p style=\"padding-top: 0px; padding-bottom: 0px; margin-top: 0px; margin-bottom: 0px;\">&amp;</p></td><td valign=\"top\"><p style=\"padding-top: 0px; padding-bottom: 0px; margin-top: 0px; margin-bottom: 0px;\">和</p></td></tr><tr><td valign=\"top\"><p style=\"padding-top: 0px; padding-bottom: 0px; margin-top: 0px; margin-bottom: 0px;\">&amp;apos;</p></td><td valign=\"top\"><p style=\"padding-top: 0px; padding-bottom: 0px; margin-top: 0px; margin-bottom: 0px;\">’</p></td><td valign=\"top\"><p style=\"padding-top: 0px; padding-bottom: 0px; margin-top: 0px; margin-bottom: 0px;\">单引号</p></td></tr><tr><td valign=\"top\"><p style=\"padding-top: 0px; padding-bottom: 0px; margin-top: 0px; margin-bottom: 0px;\">&amp;quot;</p></td><td valign=\"top\"><p style=\"padding-top: 0px; padding-bottom: 0px; margin-top: 0px; margin-bottom: 0px;\">&quot;</p></td><td valign=\"top\"><p style=\"padding-top: 0px; padding-bottom: 0px; margin-top: 0px; margin-bottom: 0px;\">双引号</p><p><br/></p></td></tr></tbody></table><p><br/></p><p>&nbsp;</p><p style=\"color: rgb(69, 69, 69); line-height: 21px; padding-top: 0px; padding-bottom: 0px; font-family: tahoma,helvetica,arial; font-size: 14px; margin-top: 0px; margin-bottom: 0px;\">第二种方法：</p><p style=\"color: rgb(69, 69, 69); line-height: 21px; padding-top: 0px; padding-bottom: 0px; font-family: tahoma,helvetica,arial; font-size: 14px; margin-top: 0px; margin-bottom: 0px;\"><br/></p><p style=\"color: rgb(69, 69, 69); line-height: 21px; padding-top: 0px; padding-bottom: 0px; font-family: tahoma,helvetica,arial; margin-top: 0px; margin-bottom: 0px;\"><table style=\"width: 668px;\" width=\"954\"><tbody><tr><td style=\"margin: 0px; padding: 0px; line-height: 18px; font-family: Verdana,宋体,sans-serif; visibility: visible !important; word-break: break-all; zoom: 1 !important; word-wrap: break-word;\"><p style=\"list-style: none; border: 0px currentColor; line-height: normal; padding-top: 0px; padding-bottom: 0px; margin-top: 0px; margin-bottom: 5px; word-break: normal; word-wrap: normal;\"><span style=\"background-color: rgb(255, 255, 255);\"><span style=\"font-size: 14px;\">因为这个是xml格式的，所以不允许出现类似“&gt;”这样的字符，但是都可以使用&lt;![CDATA[ ]]&gt;符号进行说明，将此类符号不进行解析<wbr/><br/>你的可以写成这个：<wbr/><br/></span></span></p><p><span style=\"background-color: rgb(255, 255, 255);\"><span style=\"font-size: 14px;\">mapper文件示例代码</span></span></p><p><strong>[html]</strong> <a class=\"ViewSource\" title=\"view plain\" href=\"http://blog.csdn.net/zheng0518/article/details/10449549#\">view plain</a><span data-mod=\"popu_168\"> <a class=\"CopyToClipboard\" title=\"copy\" href=\"http://blog.csdn.net/zheng0518/article/details/10449549#\">copy</a></span><span data-mod=\"popu_169\"> <a class=\"PrintSource\" title=\"print\" href=\"http://blog.csdn.net/zheng0518/article/details/10449549#\">print</a></span><a class=\"About\" title=\"?\" href=\"http://blog.csdn.net/zheng0518/article/details/10449549#\">?</a></p><ol class=\"dp-xml list-paddingleft-2\"><li><p><span class=\"cdata\">&lt;![CDATA[ when min(starttime)&lt;=&#39;12:00&#39; and max(endtime)&lt;=&#39;12:00&#39; ]]&gt;</span></p></li></ol></td></tr></tbody></table><p></p><p></p><p></p><p></p><p></p></p></p>','2016-10-25 07:13:04','2016-10-25 15:13:04'),(773,'27.44.85.73',5,'HTTP访问','<p>WebProc类</p><pre class=\"brush:java;toolbar:false\">package&nbsp;ext.magr;\r\n\r\nimport&nbsp;android.os.Handler;\r\nimport&nbsp;android.os.Looper;\r\nimport&nbsp;android.os.Message;\r\n\r\nimport&nbsp;java.io.InputStream;\r\nimport&nbsp;java.net.CookieHandler;\r\nimport&nbsp;java.net.CookieManager;\r\nimport&nbsp;java.net.CookieStore;\r\nimport&nbsp;java.net.HttpCookie;\r\nimport&nbsp;java.net.HttpURLConnection;\r\nimport&nbsp;java.net.URL;\r\nimport&nbsp;java.util.Iterator;\r\nimport&nbsp;java.util.List;\r\nimport&nbsp;java.util.Vector;\r\n\r\n/**\r\n&nbsp;*&nbsp;Created&nbsp;by&nbsp;han.zh&nbsp;on&nbsp;2016/11/8.\r\n&nbsp;*/\r\n\r\npublic&nbsp;class&nbsp;WebProc&nbsp;{\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;String&nbsp;sUrl=null;\r\n&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;Vector&nbsp;eventListener&nbsp;=&nbsp;new&nbsp;Vector();\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;addListener(Object&nbsp;listener)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eventListener.add(listener);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;getHtml(final&nbsp;String&nbsp;str_url,&nbsp;final&nbsp;String&nbsp;parameter)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sUrl=str_url;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//访问网络，把html源文件下载下来\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;Thread()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;run()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;url_path&nbsp;=&nbsp;str_url&nbsp;+&nbsp;&quot;?&quot;&nbsp;+&nbsp;parameter;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CookieManager&nbsp;manager&nbsp;=&nbsp;new&nbsp;java.net.CookieManager();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CookieHandler.setDefault(manager);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;URL&nbsp;url&nbsp;=&nbsp;new&nbsp;URL(url_path);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HttpURLConnection&nbsp;conn&nbsp;=&nbsp;(HttpURLConnection)&nbsp;url.openConnection();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conn.setRequestMethod(&quot;GET&quot;);//声明请求方式&nbsp;默认get\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conn.setConnectTimeout(5000);//设置请求超时时间\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Object&nbsp;obj&nbsp;=&nbsp;conn.getContent();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CookieStore&nbsp;cookieJar&nbsp;=&nbsp;manager.getCookieStore();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List&lt;HttpCookie&gt;&nbsp;cookies&nbsp;=&nbsp;cookieJar.getCookies();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(HttpCookie&nbsp;cookie&nbsp;:&nbsp;cookies)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cookies_notify(cookie.toString());\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/////////////////////////////////////////////\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;code&nbsp;=&nbsp;conn.getResponseCode();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(code&nbsp;==&nbsp;200)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;InputStream&nbsp;is&nbsp;=&nbsp;conn.getInputStream();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;result&nbsp;=&nbsp;StreamTools.readStream(is);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/////////////////////////////////////////////\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;succ_html(result);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;catch&nbsp;(Exception&nbsp;e)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fail(e.getMessage());\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}.start();\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;void&nbsp;cookies_notify(final&nbsp;String&nbsp;strCookies)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Handler&nbsp;mainHandler&nbsp;=&nbsp;new&nbsp;Handler(Looper.getMainLooper());\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mainHandler.post(new&nbsp;Runnable()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;run()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Iterator&nbsp;iterator&nbsp;=&nbsp;eventListener.iterator();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(iterator.hasNext())&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WebProcListener&nbsp;sl&nbsp;=&nbsp;(WebProcListener)&nbsp;iterator.next();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sl.cookies(sUrl,strCookies);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;void&nbsp;succ_html(final&nbsp;String&nbsp;strHtml)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Handler&nbsp;mainHandler&nbsp;=&nbsp;new&nbsp;Handler(Looper.getMainLooper());\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mainHandler.post(new&nbsp;Runnable()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;run()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Iterator&nbsp;iterator&nbsp;=&nbsp;eventListener.iterator();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(iterator.hasNext())&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WebProcListener&nbsp;sl&nbsp;=&nbsp;(WebProcListener)&nbsp;iterator.next();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sl.success_html(sUrl,strHtml);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;void&nbsp;fail(final&nbsp;String&nbsp;msg)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Handler&nbsp;mainHandler&nbsp;=&nbsp;new&nbsp;Handler(Looper.getMainLooper());\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mainHandler.post(new&nbsp;Runnable()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;run()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Iterator&nbsp;iterator&nbsp;=&nbsp;eventListener.iterator();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(iterator.hasNext())&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WebProcListener&nbsp;sl&nbsp;=&nbsp;(WebProcListener)&nbsp;iterator.next();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sl.fail(sUrl,msg);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}</pre><p><br/></p><p>监听类</p><pre class=\"brush:java;toolbar:false\">package&nbsp;ext.magr;\r\n\r\nimport&nbsp;java.util.EventListener;\r\n\r\n/**\r\n&nbsp;*&nbsp;Created&nbsp;by&nbsp;hzh&nbsp;on&nbsp;2017/8/28.\r\n&nbsp;*\r\n&nbsp;*/\r\npublic&nbsp;interface&nbsp;WebProcListener&nbsp;extends&nbsp;EventListener&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;cookies(String&nbsp;url,String&nbsp;cookie);\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;success_html(String&nbsp;url,String&nbsp;html);\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;fail(String&nbsp;url,String&nbsp;errMsg);\r\n}</pre><p><br/></p><p><br/></p><p><br/></p><p>新建一个类</p><pre class=\"brush:java;toolbar:false\">class&nbsp;StreamTools&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;/**\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;工具方法\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;is&nbsp;输入流\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;文本字符串\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@throws&nbsp;Exception\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;&nbsp;String&nbsp;readStream(InputStream&nbsp;is)&nbsp;throws&nbsp;Exception{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ByteArrayOutputStream&nbsp;baos&nbsp;=&nbsp;new&nbsp;ByteArrayOutputStream();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;byte[]&nbsp;buffer&nbsp;=&nbsp;new&nbsp;byte[1024];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;len&nbsp;=&nbsp;-1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while((len&nbsp;=&nbsp;is.read(buffer))!=-1){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;baos.write(buffer,&nbsp;0,&nbsp;len);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is.close();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;temp&nbsp;=&nbsp;&nbsp;baos.toString();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;temp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}</pre><p><br/></p>','2016-10-29 04:00:06','2017-08-29 19:28:20'),(774,'27.44.24.101',5,'读写配置文件','<pre class=\"brush:java;toolbar:false\">package&nbsp;ext.magr;\r\n\r\nimport&nbsp;android.os.Environment;\r\n\r\nimport&nbsp;java.io.File;\r\nimport&nbsp;java.io.FileInputStream;\r\nimport&nbsp;java.io.FileOutputStream;\r\nimport&nbsp;java.util.Properties;\r\n\r\n/**\r\n&nbsp;*&nbsp;Created&nbsp;by&nbsp;han.zh&nbsp;on&nbsp;2016/10/29.\r\n&nbsp;*\r\n&nbsp;&lt;!--&nbsp;SDCard中创建与删除文件权限&nbsp;--&gt;\r\n&nbsp;&lt;!--&nbsp;向SDCard写入数据权限&nbsp;--&gt;\r\n&nbsp;&lt;uses-permission&nbsp;android:name=&quot;android.permission.MOUNT_UNMOUNT_FILESYSTEMS&quot;/&gt;\r\n&nbsp;&lt;uses-permission&nbsp;android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n\r\n&nbsp;如果是模拟器.即要手动打开APP的访问SDCard权限\r\n&nbsp;static&nbsp;public&nbsp;void&nbsp;readVerifyKey()\r\n&nbsp;{\r\n&nbsp;//读\r\n&nbsp;Properties&nbsp;prop=&nbsp;ConfigMagr.loadConfig(&quot;hxkong&quot;,&quot;verify-key&quot;);\r\n&nbsp;if(prop!=null)&nbsp;{\r\n&nbsp;verifyKey=(String)&nbsp;prop.get(&quot;key&quot;);\r\n&nbsp;}\r\n&nbsp;}\r\n\r\n&nbsp;static&nbsp;public&nbsp;void&nbsp;writeVerifyKey(String&nbsp;key)\r\n&nbsp;{\r\n&nbsp;//写\r\n&nbsp;Properties&nbsp;prop=new&nbsp;Properties();\r\n&nbsp;prop.put(&quot;key&quot;,key);\r\n&nbsp;ConfigMagr.saveConfig(&quot;hxkong&quot;,&quot;verify-key&quot;,prop);\r\n&nbsp;}\r\n\r\n&nbsp;*/\r\npublic&nbsp;class&nbsp;ConfigMagr&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;Properties&nbsp;loadConfig(String&nbsp;folder,String&nbsp;file)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;fn=Environment.getExternalStorageDirectory()+&quot;/&quot;+folder+&quot;/&quot;+file;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Properties&nbsp;properties&nbsp;=&nbsp;new&nbsp;Properties();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileInputStream&nbsp;s&nbsp;=&nbsp;new&nbsp;FileInputStream(fn);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;properties.load(s);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;catch&nbsp;(Exception&nbsp;e)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.printStackTrace();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;null;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;properties;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;//保存配置文件\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;boolean&nbsp;saveConfig(String&nbsp;folder,String&nbsp;file,&nbsp;Properties&nbsp;properties)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;mkdir&nbsp;=&nbsp;Environment.getExternalStorageDirectory()+&quot;/&quot;+folder;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;makeRootDirectory(mkdir);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;fn=mkdir&nbsp;+&quot;/&quot;+&nbsp;file;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;File&nbsp;fil&nbsp;=&nbsp;new&nbsp;File(fn);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(!fil.exists())\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fil.createNewFile();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileOutputStream&nbsp;s&nbsp;=&nbsp;new&nbsp;FileOutputStream(fil);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;properties.store(s,&nbsp;&quot;&quot;);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;catch&nbsp;(Exception&nbsp;e)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.printStackTrace();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;false;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;true;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;void&nbsp;makeRootDirectory(String&nbsp;filePath)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;File&nbsp;file&nbsp;=&nbsp;null;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file&nbsp;=&nbsp;new&nbsp;File(filePath);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!file.exists())&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.mkdir();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;catch&nbsp;(Exception&nbsp;e)&nbsp;{\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n}</pre><p><br/></p>','2016-10-29 05:07:57','2017-08-27 02:38:38'),(775,'192.168.6.1',5,'android开发执行Shell命令','<pre class=\"brush:java;toolbar:false;\">public&nbsp;void&nbsp;execCommand(String&nbsp;command)&nbsp;throws&nbsp;IOException&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;start&nbsp;the&nbsp;ls&nbsp;command&nbsp;running\r\n&nbsp;&nbsp;&nbsp;&nbsp;//String[]&nbsp;args&nbsp;=&nbsp;&nbsp;new&nbsp;String[]{&quot;sh&quot;,&nbsp;&quot;-c&quot;,&nbsp;command};\r\n&nbsp;&nbsp;&nbsp;&nbsp;Runtime&nbsp;runtime&nbsp;=&nbsp;Runtime.getRuntime();\r\n&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;proc&nbsp;=&nbsp;runtime.exec(command);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//这句话就是shell与高级语言间的调用\r\n&nbsp;&nbsp;&nbsp;&nbsp;//如果有参数的话可以用另外一个被重载的exec方法\r\n&nbsp;&nbsp;&nbsp;&nbsp;//实际上这样执行时启动了一个子进程,它没有父进程的控制台\r\n&nbsp;&nbsp;&nbsp;&nbsp;//也就看不到输出,所以我们需要用输出流来得到shell执行后的输出\r\n&nbsp;&nbsp;&nbsp;&nbsp;InputStream&nbsp;inputstream&nbsp;=&nbsp;proc.getInputStream();\r\n&nbsp;&nbsp;&nbsp;&nbsp;InputStreamReader&nbsp;inputstreamreader&nbsp;=&nbsp;new&nbsp;InputStreamReader(inputstream);\r\n&nbsp;&nbsp;&nbsp;&nbsp;BufferedReader&nbsp;bufferedreader&nbsp;=&nbsp;new&nbsp;BufferedReader(inputstreamreader);\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;read&nbsp;the&nbsp;ls&nbsp;output\r\n&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;line&nbsp;=&nbsp;&quot;&quot;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;StringBuilder&nbsp;sb&nbsp;=&nbsp;new&nbsp;StringBuilder(line);\r\n&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;((line&nbsp;=&nbsp;bufferedreader.readLine())&nbsp;!=&nbsp;null)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//System.out.println(line);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.append(line);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.append(&#39;[#ue_pole#n]&#39;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;//tv.setText(sb.toString());\r\n&nbsp;&nbsp;&nbsp;&nbsp;//使用exec执行不会等执行成功以后才返回,它会立即返回\r\n&nbsp;&nbsp;&nbsp;&nbsp;//所以在某些情况下是很要命的(比如复制文件的时候)\r\n&nbsp;&nbsp;&nbsp;&nbsp;//使用wairFor()可以等待命令执行完成以后才返回\r\n&nbsp;&nbsp;&nbsp;&nbsp;try&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(proc.waitFor()&nbsp;!=&nbsp;0)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.err.println(&quot;exit&nbsp;value&nbsp;=&nbsp;&quot;&nbsp;+&nbsp;proc.exitValue());\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;catch&nbsp;(InterruptedException&nbsp;e)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.err.println(e);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}\r\npublic&nbsp;void&nbsp;btn1(View&nbsp;v)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;try&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;execCommand(&quot;su&nbsp;sudo&nbsp;/data/inject&nbsp;-p&nbsp;cn.wps.moffice_eng&nbsp;-h&nbsp;/data/libxxx.so&nbsp;-s&nbsp;ok&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Toast.makeText(MainActivity.this,&quot;干掉WPS&quot;,&nbsp;Toast.LENGTH_SHORT).show();\r\n&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;catch&nbsp;(IOException&nbsp;e)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.printStackTrace();\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}</pre><p><br/></p>','2016-10-31 16:34:00','2016-11-01 00:34:00'),(776,'119.127.247.102',2,'linux获取所有进程的状态','<pre class=\"brush:cpp;toolbar:false\">//////////////////////////////////////////////////////////\r\ntypedef&nbsp;struct&nbsp;_TzhProcStruct{\r\n&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;USER[32];\r\n&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;PID;\r\n&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;PPID[32];\r\n&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;VSIZE[32];\r\n&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;RSS[32];\r\n&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;WCHAN[32];\r\n&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;PC[32];\r\n&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;RS[8];\r\n&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;PACKET_NAME[32];\r\n}TzhProcStruct;\r\n\r\n#define&nbsp;PID_MAX_COUNT&nbsp;&nbsp;&nbsp;300\r\nTzhProcStruct&nbsp;g_procList[PID_MAX_COUNT];\r\nint&nbsp;g_procCount=0;\r\n\r\nvoid&nbsp;initPid(TzhProcStruct*p)\r\n\r\n{\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(0==strcmp(p-&gt;PACKET_NAME,&quot;ps&quot;)){return;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(p-&gt;PID==getpid()){return;}\r\n\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEBUG_PRINT(&quot;hzhS_S__&nbsp;initPid=%d&nbsp;,pack=%s[#ue_pole#n]&quot;,p-&gt;PID,p-&gt;PACKET_NAME);\r\n\r\n}\r\n&nbsp;\r\nvoid&nbsp;newPid(TzhProcStruct*p)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(0==strcmp(p-&gt;PACKET_NAME,&quot;ps&quot;)){return;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(p-&gt;PID==getpid()){return;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEBUG_PRINT(&quot;hzhS_S__&nbsp;newPid=%d&nbsp;,pack=%s[#ue_pole#n]&quot;,p-&gt;PID,p-&gt;PACKET_NAME);\r\n}\r\nvoid&nbsp;outPid(TzhProcStruct*p)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(0==strcmp(p-&gt;PACKET_NAME,&quot;ps&quot;)){return;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEBUG_PRINT(&quot;hzhS_S__&nbsp;outPid=%d&nbsp;,pack=%s&quot;,p-&gt;PID,p-&gt;PACKET_NAME);\r\n}\r\n\r\nvoid&nbsp;listernPIDInit()\r\n{\r\n&nbsp;&nbsp;FILE&nbsp;*ptr;\r\n&nbsp;&nbsp;char&nbsp;buf[1024];\r\n&nbsp;&nbsp;if&nbsp;((ptr&nbsp;=&nbsp;popen(&quot;ps&quot;,&nbsp;&quot;r&quot;))&nbsp;!=&nbsp;NULL)\r\n&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g_procCount=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(fgets(buf,&nbsp;sizeof(buf),&nbsp;ptr)&nbsp;!=&nbsp;NULL)&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;*ptr;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;*p;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;pos;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TzhProcStruct*&nbsp;pst;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pos=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pst=&amp;g_procList[g_procCount];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;memset(pst,0,sizeof(TzhProcStruct));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ptr&nbsp;=&nbsp;strtok_r(buf,&nbsp;&quot;&nbsp;&quot;,&nbsp;&amp;p);&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while(ptr&nbsp;!=&nbsp;NULL){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;switch(pos)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;0:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strcpy(pst-&gt;USER,ptr);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;1:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pst-&gt;PID=atoi(ptr);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;2:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strcpy(pst-&gt;PPID,ptr);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;3:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strcpy(pst-&gt;VSIZE,ptr);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;4:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strcpy(pst-&gt;RSS,ptr);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;5:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strcpy(pst-&gt;WCHAN,ptr);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;6:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strcpy(pst-&gt;PC,ptr);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;7:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strcpy(pst-&gt;RS,ptr);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;8:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;i=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while(1)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(ptr[i]==0x0a&nbsp;||&nbsp;ptr[i]==0x00)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pst-&gt;PACKET_NAME[i]=0;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//进程启动注入\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initPid(pst);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;pst-&gt;PACKET_NAME[i]=ptr[i];&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ptr&nbsp;=&nbsp;strtok_r(NULL,&nbsp;&quot;&nbsp;&quot;,&nbsp;&amp;p);&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pos++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g_procCount++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pclose(ptr);\r\n&nbsp;&nbsp;&nbsp;}\r\n}\r\n\r\nvoid&nbsp;listernPIDRefresh()\r\n{\r\n&nbsp;&nbsp;TzhProcStruct&nbsp;tmpList[PID_MAX_COUNT]={0};\r\n&nbsp;&nbsp;int&nbsp;tmpN=0;\r\n&nbsp;&nbsp;FILE&nbsp;*ptr;\r\n&nbsp;&nbsp;char&nbsp;buf[1024];\r\n&nbsp;&nbsp;if&nbsp;((ptr&nbsp;=&nbsp;popen(&quot;ps&quot;,&nbsp;&quot;r&quot;))&nbsp;!=&nbsp;NULL)\r\n&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(fgets(buf,&nbsp;sizeof(buf),&nbsp;ptr)&nbsp;!=&nbsp;NULL)&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;*ptr;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;*p;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;pos;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TzhProcStruct*&nbsp;pst;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pos=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pst=&amp;tmpList[tmpN];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;memset(pst,0,sizeof(TzhProcStruct));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ptr&nbsp;=&nbsp;strtok_r(buf,&nbsp;&quot;&nbsp;&quot;,&nbsp;&amp;p);&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while(ptr&nbsp;!=&nbsp;NULL){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;switch(pos)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;0:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strcpy(pst-&gt;USER,ptr);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;1:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pst-&gt;PID=atoi(ptr);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;2:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strcpy(pst-&gt;PPID,ptr);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;3:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strcpy(pst-&gt;VSIZE,ptr);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;4:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strcpy(pst-&gt;RSS,ptr);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;5:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strcpy(pst-&gt;WCHAN,ptr);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;6:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strcpy(pst-&gt;PC,ptr);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;7:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strcpy(pst-&gt;RS,ptr);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;8:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;i=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while(1)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(ptr[i]==0x0a&nbsp;||&nbsp;ptr[i]==0x00)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pst-&gt;PACKET_NAME[i]=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;pst-&gt;PACKET_NAME[i]=ptr[i];&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ptr&nbsp;=&nbsp;strtok_r(NULL,&nbsp;&quot;&nbsp;&quot;,&nbsp;&amp;p);&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pos++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmpN++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pclose(ptr);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DEBUG_PRINT(&quot;hzhS_S__&nbsp;refresh&nbsp;AllPIDCount=%d[#ue_pole#n]&quot;,tmpN);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//对比激活线程\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;i,j;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(i=0;i&lt;tmpN;i++)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;b=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(j=0;j&lt;g_procCount;j++)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(tmpList[i].PID==g_procList[j].PID)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(0==b)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;newPid(&amp;tmpList[i]);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//对比退出的线程\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(i=0;i&lt;g_procCount;i++)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;b=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(j=0;j&lt;tmpN;j++)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(g_procList[i].PID==tmpList[j].PID)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(0==b)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outPid(&amp;g_procList[i]);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//刷新线程\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g_procCount=tmpN;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(i=0;i&lt;g_procCount;i++)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g_procList[i]=tmpList[i];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;}\r\n}</pre><p>&nbsp;</p>','2016-11-02 07:13:42','2016-11-07 16:18:02'),(777,'192.168.2.75',5,'Android控件之ListView用法实例详解','<pre class=\"brush:java;toolbar:false\">//////////////////////////////////////////////////////////\r\nmain.xml布局文件：\r\n\r\n&lt;?xml&nbsp;version=&quot;1.0&quot;&nbsp;encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout&nbsp;xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;xmlns:tools=&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:id=&quot;@+id/activity_dev_list&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:layout_width=&quot;match_parent&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:layout_height=&quot;match_parent&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;tools:context=&quot;.DevListActivity&quot;&gt;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;ListView\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_width=&quot;match_parent&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_height=&quot;match_parent&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_centerHorizontal=&quot;true&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_alignParentBottom=&quot;true&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:id=&quot;@+id/lstDev&quot;&nbsp;/&gt;\r\n&lt;/RelativeLayout&gt;\r\n\r\n\r\n//////////////////////////////////////////////////////////\r\ndevitem.xml布局文件：\r\n\r\n&lt;?xml&nbsp;version=&quot;1.0&quot;&nbsp;encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout&nbsp;android:layout_width=&quot;fill_parent&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:orientation=&quot;vertical&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:layout_height=&quot;90dp&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:paddingBottom=&quot;3dip&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:paddingLeft=&quot;0dip&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:weightSum=&quot;1&quot;&gt;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;LinearLayout\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_width=&quot;wrap_content&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_height=&quot;wrap_content&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_marginLeft=&quot;10dp&quot;&nbsp;&gt;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;TextView&nbsp;android:layout_width=&quot;140dp&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:id=&quot;@+id/itemTitle&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_height=&quot;wrap_content&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:textSize=&quot;20dip&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/TextView&gt;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;TextView\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_width=&quot;150dp&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:id=&quot;@+id/itemText&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_height=&quot;wrap_content&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:textSize=&quot;20dip&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/TextView&gt;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/LinearLayout&gt;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;LinearLayout\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_width=&quot;wrap_content&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_height=&quot;wrap_content&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_marginRight=&quot;20dp&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_alignParentRight=&quot;true&quot;&gt;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Button\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:text=&quot;&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_width=&quot;38dp&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_height=&quot;38dp&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:id=&quot;@+id/setdevBtn&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:elevation=&quot;0dp&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:background=&quot;@mipmap/n1&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&gt;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/LinearLayout&gt;\r\n&lt;/RelativeLayout&gt;\r\n\r\n//////////////////////////////////////////////////////////\r\nActivity类：\r\n\r\npublic&nbsp;class&nbsp;DevListActivity&nbsp;extends&nbsp;AppCompatActivity\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;SimpleAdapter&nbsp;adapter;\r\n&nbsp;&nbsp;&nbsp;&nbsp;ListView&nbsp;lv;\r\n&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;void&nbsp;onCreate(Bundle&nbsp;savedInstanceState)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super.onCreate(savedInstanceState);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setContentView(R.layout.activity_dev_list);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv=(ListView)findViewById(R.id.lstDev);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//组织数据源\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List&lt;HashMap&lt;String,&nbsp;String&gt;&gt;&nbsp;mylist&nbsp;=&nbsp;new&nbsp;ArrayList&lt;HashMap&lt;String,&nbsp;String&gt;&gt;();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(int&nbsp;i=0;i&lt;10;i++)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//一定要新建MAP保存\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HashMap&lt;String,&nbsp;String&gt;&nbsp;map&nbsp;=&nbsp;new&nbsp;HashMap&lt;String,&nbsp;String&gt;();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;map.put(&quot;itemTitle&quot;,&nbsp;&quot;This&nbsp;is&nbsp;Title&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;map.put(&quot;itemText&quot;,&nbsp;&quot;This&nbsp;is&nbsp;text&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mylist.add(map);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//配置适配器\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;adapter&nbsp;=&nbsp;new&nbsp;SimpleAdapter(\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this,//数据源\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mylist,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R.id.devitem,//显示布局\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;String[]&nbsp;{&quot;itemTitle&quot;,&nbsp;&quot;itemText&quot;},&nbsp;//数据源的属性字段\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;int[]&nbsp;{R.id.itemTitle,R.id.itemText}){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//在这个重写的函数里设置&nbsp;每个&nbsp;item&nbsp;中按钮的响应事件\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;View&nbsp;getView(int&nbsp;position,&nbsp;View&nbsp;convertView,ViewGroup&nbsp;parent)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;pos=position;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;View&nbsp;view=super.getView(position,&nbsp;convertView,&nbsp;parent);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//按钮点击\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Button&nbsp;button=(Button)view.findViewById(R.id.setdevBtn);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;button.setFocusable(false);//有控制一定要设为false,不然不能回调onItemClick\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;button.setOnClickListener(new&nbsp;View.OnClickListener()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;onClick(View&nbsp;v)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;makeText(DevListActivity.this,&quot;设置硬件信息&quot;+pos,&nbsp;LENGTH_SHORT).show();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;view;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置焦点响应问题&nbsp;&nbsp;&nbsp;&nbsp;同时要将&nbsp;item&nbsp;中的焦点&nbsp;focusable&nbsp;设置为&nbsp;false\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv.setDescendantFocusability(ViewGroup.FOCUS_BLOCK_DESCENDANTS);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv.setAdapter(adapter);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lv.setOnItemClickListener(new&nbsp;AdapterView.OnItemClickListener()\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;onItemClick(AdapterView&lt;?&gt;&nbsp;parent,&nbsp;View&nbsp;view,&nbsp;int&nbsp;position,long&nbsp;id)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//Map&lt;String,&nbsp;Object&gt;&nbsp;mMap&nbsp;=&nbsp;(Map&lt;String,&nbsp;Object&gt;)&nbsp;adapter.getItem(position);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;makeText(getApplicationContext(),&quot;进入硬件&quot;,&nbsp;LENGTH_SHORT).show();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}\r\n\r\n\r\n//////////////////////////////////////////////////////////\r\n刷新数据源,mylist\r\nadapter.notifyDataSetChanged();</pre><p><br/></p>','2016-11-03 13:48:52','2016-12-20 16:52:46'),(778,'27.44.86.170',78,'libsubstrate hook','<p><a href=\"http://blog.csdn.net/earbao/article/details/51581708\" _src=\"http://blog.csdn.net/earbao/article/details/51581708\">http://blog.csdn.net/earbao/article/details/51581708</a> </p><p><br/></p>','2016-11-08 14:39:54','2017-09-09 15:25:07'),(779,'192.168.1.51',5,'显示Acivity时刷新事件','<pre class=\"brush:cpp;toolbar:false\">@Override\r\nprotected&nbsp;void&nbsp;onResume()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;super.onResume();\r\n}</pre><p><br/></p>','2016-11-10 15:25:41','2016-11-10 23:30:16'),(780,'192.168.2.75',5,'MQTT使用','<pre class=\"brush:java;toolbar:false\">public&nbsp;class&nbsp;SubDevActivity&nbsp;extends&nbsp;Activity&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;//--------------------------------------------------\r\n&nbsp;&nbsp;&nbsp;&nbsp;//MQTT\r\n&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;String&nbsp;host&nbsp;=&nbsp;&quot;tcp://127.0.0.1:1883&quot;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;String&nbsp;devTopic&nbsp;=&nbsp;null;\r\n&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;String&nbsp;subscrTopic&nbsp;=&nbsp;null;\r\n&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;MqttClient&nbsp;client;\r\n&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;MqttConnectOptions&nbsp;options;\r\n&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;ScheduledExecutorService&nbsp;scheduler;\r\n&nbsp;&nbsp;&nbsp;&nbsp;Handler&nbsp;mtqqHandler;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;void&nbsp;onCreate(Bundle&nbsp;savedInstanceState)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super.onCreate(savedInstanceState);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setContentView(R.layout.activity_sub_dev);\r\n\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subscrTopic=MQTTData.currentWorkID&nbsp;+&quot;/device&quot;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;devTopic=MQTTData.currentWorkID&nbsp;+&quot;/service&quot;;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mtqqHandler&nbsp;=&nbsp;new&nbsp;Handler()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;handleMessage(Message&nbsp;msg)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super.handleMessage(msg);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(msg.what&nbsp;==&nbsp;1)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Toast.makeText(getApplicationContext(),&nbsp;(String)&nbsp;msg.obj,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Toast.LENGTH_SHORT).show();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(&quot;-----------------------------&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;if(msg.what&nbsp;==&nbsp;2)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Toast.makeText(getApplicationContext(),&nbsp;&quot;连接成功&quot;,&nbsp;Toast.LENGTH_SHORT).show();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//订阅消息\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;client.subscribe(subscrTopic,&nbsp;1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//发送消息\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MqttMessage&nbsp;pushMessage&nbsp;=&nbsp;new&nbsp;MqttMessage();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;pstr=&quot;{&quot;CMD&quot;:&nbsp;&quot;ReqHostSlaveNameAdd&quot;}&quot;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pushMessage.setPayload(pstr.getBytes(StandardCharsets.UTF_8));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;client.publish(devTopic,pushMessage&nbsp;);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;catch&nbsp;(Exception&nbsp;e)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.printStackTrace();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;if(msg.what&nbsp;==&nbsp;3)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Toast.makeText(getApplicationContext(),&nbsp;&quot;连接失败，系统正在重连&quot;,&nbsp;Toast.LENGTH_SHORT).show();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;//连接到MQTT\r\n&nbsp;&nbsp;&nbsp;&nbsp;init();\r\n&nbsp;&nbsp;&nbsp;&nbsp;startReconnect();\r\n&nbsp;}\r\n&nbsp;///////////////////////////////////////////////////////////////////////\r\n&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;void&nbsp;startReconnect()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scheduler&nbsp;=&nbsp;Executors.newSingleThreadScheduledExecutor();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scheduler.scheduleAtFixedRate(new&nbsp;Runnable()&nbsp;{\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;run()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(!client.isConnected())&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connect();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;0&nbsp;*&nbsp;1000,&nbsp;10&nbsp;*&nbsp;1000,&nbsp;TimeUnit.MILLISECONDS);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;void&nbsp;init()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//host为主机名，test为clientid即连接MQTT的客户端ID，一般以客户端唯一标识符表示，MemoryPersistence设置clientid的保存形式，默认为以内存保存\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;host=&quot;tcp://&quot;+MQTTData.mqttHost+&quot;:&quot;+MQTTData.mqttPort;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;client&nbsp;=&nbsp;new&nbsp;MqttClient(host,&nbsp;&quot;android&quot;+Math.random(),new&nbsp;MemoryPersistence());\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//MQTT的连接设置\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;options&nbsp;=&nbsp;new&nbsp;MqttConnectOptions();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置是否清空session,这里如果设置为false表示服务器会保留客户端的连接记录，这里设置为true表示每次连接到服务器都以新的身份连接\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;options.setCleanSession(true);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置连接的用户名\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//options.setUserName(userName);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置连接的密码\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//options.setPassword(passWord.toCharArray());\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;设置超时时间&nbsp;单位为秒\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;options.setConnectionTimeout(10);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;设置会话心跳时间&nbsp;单位为秒&nbsp;服务器会每隔1.5*20秒的时间向客户端发送个消息判断客户端是否在线，但这个方法并没有重连的机制\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;options.setKeepAliveInterval(20);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置回调\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;client.setCallback(new&nbsp;MqttCallback()&nbsp;{\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;connectionLost(Throwable&nbsp;cause)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//连接丢失后，一般在这里面进行重连\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(&quot;connectionLost----------&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;deliveryComplete(IMqttDeliveryToken&nbsp;token)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//publish后会执行到这里\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(&quot;deliveryComplete---------&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;token.isComplete());\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;messageArrived(String&nbsp;topicName,&nbsp;MqttMessage&nbsp;message)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throws&nbsp;Exception&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//subscribe后得到的消息会执行到这里面\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(&quot;messageArrived----------&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Message&nbsp;msg&nbsp;=&nbsp;new&nbsp;Message();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;msg.what&nbsp;=&nbsp;1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;msg.obj&nbsp;=&nbsp;topicName+&quot;---&quot;+message.toString();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mtqqHandler.sendMessage(msg);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});\r\n//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connect();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;catch&nbsp;(Exception&nbsp;e)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.printStackTrace();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;void&nbsp;connect()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;Thread(new&nbsp;Runnable()&nbsp;{\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;run()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;client.connect(options);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Message&nbsp;msg&nbsp;=&nbsp;new&nbsp;Message();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;msg.what&nbsp;=&nbsp;2;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mtqqHandler.sendMessage(msg);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;catch&nbsp;(Exception&nbsp;e)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.printStackTrace();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Message&nbsp;msg&nbsp;=&nbsp;new&nbsp;Message();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;msg.what&nbsp;=&nbsp;3;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mtqqHandler.sendMessage(msg);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}).start();\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;void&nbsp;onDestroy()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super.onDestroy();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scheduler.shutdown();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;client.disconnect();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;catch&nbsp;(MqttException&nbsp;e)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.printStackTrace();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}</pre><p><br/></p>','2016-11-10 16:19:16','2016-12-09 17:16:54'),(781,'192.168.1.51',26,'PC3红外编码','<pre class=\"brush:cpp;toolbar:false\">///////////////////////////////////////////////////////////////\r\n//h文件\r\n\r\n/*****************\r\n例子:\r\nvoid&nbsp;main(&nbsp;void&nbsp;)\r\n{\r\n&nbsp;&nbsp;ioEncode_Init();\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;for(;;)\r\n&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(0==IrEncode_IsSending())\r\n&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IrEncode_Send(1,2,3,4);&nbsp;}\r\n&nbsp;&nbsp;}\r\n}\r\n\r\n******************/\r\n\r\n#define&nbsp;uchar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;char\r\n#define&nbsp;uint&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;int&nbsp;\r\n#define&nbsp;ulong&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;long&nbsp;\r\n\r\n//红外发送端口初始化\r\nvoid&nbsp;IrEncode_Init(ulong&nbsp;frequency);\r\n\r\n/*\r\n&nbsp;&nbsp;&nbsp;&nbsp;发送\r\n&nbsp;&nbsp;&nbsp;&nbsp;返回&nbsp;0=成功&nbsp;,&nbsp;1=发送失败,有数据正在处理中\r\n*/\r\nint&nbsp;IrEncode_Send(uchar&nbsp;d1,uchar&nbsp;d2,uchar&nbsp;d3,uchar&nbsp;d4);\r\n\r\n/*\r\n&nbsp;&nbsp;&nbsp;&nbsp;当前是否发送中\r\n&nbsp;&nbsp;&nbsp;&nbsp;返回&nbsp;0=可进行发送&nbsp;,1=有数据正在发送中\r\n*/\r\nint&nbsp;IrEncode_IsSending();</pre><p><br/></p><p><br/></p><pre class=\"brush:cpp;toolbar:false\">///////////////////////////////////////////////////////////////\r\n//c文件\r\n#include&lt;iostm8s103f3.h&gt;\r\n#include&nbsp;&quot;irEncode.h&quot;\r\n\r\n/////////////////////////////////////////////////////////////\r\n//编码时间\r\n#define&nbsp;IrCodeHeadTime&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.008750f&nbsp;&nbsp;&nbsp;&nbsp;//us*10倍周期=9ms&nbsp;*扩展倍数\r\n#define&nbsp;IrCodeHeadLowTime&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.004750f&nbsp;&nbsp;&nbsp;&nbsp;//us*10倍周期=4.5ms&nbsp;*扩展倍数\r\n#define&nbsp;IrCodeDataPPMTime&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.000560f&nbsp;&nbsp;&nbsp;&nbsp;//us*10倍周期=0.56ms&nbsp;*扩展倍数\r\n#define&nbsp;IrCodeData0Time&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.000560f&nbsp;&nbsp;&nbsp;&nbsp;//us*10倍周期=0.565ms&nbsp;*扩展倍数\r\n#define&nbsp;IrCodeData1Time&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.001300f&nbsp;&nbsp;&nbsp;&nbsp;//us*10倍周期=1.690ms&nbsp;*扩展倍数\r\n#define&nbsp;IrCodeEndTime&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.000000f&nbsp;&nbsp;&nbsp;&nbsp;//us*10倍周期=10ms&nbsp;*扩展倍数\r\n\r\n//编解码用到的周期\r\nuint&nbsp;IrCodeHead=0;\r\nuint&nbsp;IrCodeHeadLow=0;\r\nuint&nbsp;IrCodeDataPPM=0;\r\nuint&nbsp;IrCodeData0=0;\r\nuint&nbsp;IrCodeData1=0;\r\nuint&nbsp;IrCodeEnd=0;\r\n\r\n//每次发送的缓冲,和发送位置\r\nuchar&nbsp;IrEncodeSendBuf[4];\r\nint&nbsp;IrEncodeSendLen=0;\r\nint&nbsp;IrEncodeSendPos=0;\r\n\r\n//发送中\r\nint&nbsp;IrEncodeSendByteBit[8];//发送的字节转成位\r\nint&nbsp;IrEncodeSendByteBitTime=0;//发送位时执行时间\r\nint&nbsp;IrEncodeSendByteStep=0;//发送字节中的步骤\r\nuchar&nbsp;IrEncodeSendByteCheckSum=0;&nbsp;//奇偶校验位\r\nuchar&nbsp;IrEncodeIsByteSending=0;//单个字节是否发送中\r\nuchar&nbsp;IrEncodeSendBitPos=0;//当前发送的位\r\n//是否可以继续发送,下一帧字节\r\nunsigned&nbsp;char&nbsp;IrEncodeAleadySend=0;\r\n/////////////////////////////////////////////////////////////\r\n\r\n/*&nbsp;红外中断启用和停止&nbsp;*/\r\nvoid&nbsp;IrEncode_IERStart();\r\nvoid&nbsp;IrEncode_IERStop();\r\n\r\n/////////////////////////////////////////////////////////////\r\n#define&nbsp;REMOTE_CLK_DIV&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;104\r\n\r\n#define&nbsp;IR_DO_PORT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM1_CCR3L\r\n\r\n//////////////////////////////////////////////////////////////\r\n//红外发送端口初始化\r\nvoid&nbsp;IrEncode_Init(ulong&nbsp;frequency)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;PC_DDR_DDR3&nbsp;=&nbsp;1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//PC3为推挽输出\r\n&nbsp;&nbsp;&nbsp;&nbsp;PC_CR1_C13&nbsp;=&nbsp;1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;PC_CR2_C23&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//-----------------------------------------------------------------\r\n&nbsp;&nbsp;&nbsp;&nbsp;//TIM1\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM1_PSCRH&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM1_PSCRL&nbsp;=REMOTE_CLK_DIV;&nbsp;&nbsp;&nbsp;&nbsp;//不分频&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;//初始化自动装载寄存器，决定PWM方波的频率，Fpwm=8M/255&nbsp;HZ&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM1_ARRH&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM1_ARRL&nbsp;=&nbsp;1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//PC3\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM1_CCR3H&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM1_CCR3L&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM1_CCMR3&nbsp;=&nbsp;0x60;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM1_CCER2&nbsp;|=&nbsp;0x01;&nbsp;//使能OC3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//PC3\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM1_CCR3H&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM1_CCR3L&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//-----------------------\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM1_CR1&nbsp;|=&nbsp;0x01;&nbsp;&nbsp;&nbsp;&nbsp;//使能TIM1&nbsp;,&nbsp;&nbsp;启动计数\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM1_BKR&nbsp;=&nbsp;0x80;&nbsp;&nbsp;&nbsp;&nbsp;//PWMOutPuts\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM1_IER=0x00;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//---------------------------------\r\n&nbsp;&nbsp;&nbsp;&nbsp;//计算时间周期\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;float&nbsp;a,b,cycleTime;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a=REMOTE_CLK_DIV;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b=frequency/a;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cycleTime=1/b;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//标准时间周期\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrCodeHead=(int)(IrCodeHeadTime/cycleTime);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrCodeHeadLow=(int)(IrCodeHeadLowTime/cycleTime);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrCodeDataPPM=(int)(IrCodeDataPPMTime/cycleTime);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrCodeData0=(int)(IrCodeData0Time/cycleTime);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrCodeData1=(int)(IrCodeData1Time/cycleTime);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrCodeEnd=(int)(IrCodeEndTime/cycleTime);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n}\r\n\r\n#pragma&nbsp;vector=14\r\n__interrupt&nbsp;void&nbsp;TIM1_CapTure_IRQHandler(void)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(IrEncodeIsByteSending)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;n;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;switch(IrEncodeSendByteStep)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;-1://发送兼容性电平\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IrEncodeSendByteBitTime&lt;100)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IR_DO_PORT=0;&nbsp;IrEncodeSendByteBitTime++;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IrEncodeSendByteBitTime=0;&nbsp;IrEncodeSendByteStep++;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//--------------------------------------------------------&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;0://发送信号头\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IrEncodeSendByteBitTime&lt;IrCodeHead)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IR_DO_PORT=1;&nbsp;IrEncodeSendByteBitTime++;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IrEncodeSendByteBitTime=1;&nbsp;IrEncodeSendByteStep++;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;1://发送信号头拉低\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IrEncodeSendByteBitTime&lt;IrCodeHeadLow)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IR_DO_PORT=0;&nbsp;IrEncodeSendByteBitTime++;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IrEncodeSendByteBitTime=0;&nbsp;IrEncodeSendByteStep++;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//--------------------------------------------------------&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;2://发送信号PPM间隔\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IrEncodeSendByteBitTime&lt;IrCodeDataPPM)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IR_DO_PORT=1;&nbsp;IrEncodeSendByteBitTime++;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IrEncodeSendByteBitTime=1;&nbsp;IrEncodeSendByteStep++;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;3://发送信号字节位\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n=0==IrEncodeSendByteBit[IrEncodeSendBitPos]?IrCodeData0:IrCodeData1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IrEncodeSendByteBitTime&lt;n)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IR_DO_PORT=0;&nbsp;IrEncodeSendByteBitTime++;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendByteBitTime=0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendBitPos++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IrEncodeSendBitPos&gt;=8)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{IrEncodeSendByteStep++;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{IrEncodeSendByteStep=2;}//继续发送位&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//--------------------------------------------------------&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;4://发送信号结尾\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IrEncodeSendLen&gt;IrEncodeSendPos)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//连接发送下一个字节\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeIsByteSending=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendBitPos=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IrEncodeSendByteBitTime&lt;IrCodeEnd)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IR_DO_PORT=1;&nbsp;IrEncodeSendByteBitTime++;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IrEncodeSendByteBitTime=0;&nbsp;IrEncodeSendByteStep++;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;5:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//兼容电平结束\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IrEncodeSendByteBitTime&lt;IrCodeEnd&nbsp;)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IR_DO_PORT=0;&nbsp;IrEncodeSendByteBitTime++;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;IrEncodeSendByteBitTime=0;&nbsp;IrEncodeSendByteStep++;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;6:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//结束\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IR_DO_PORT=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeIsByteSending=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeAleadySend=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncode_IERStop();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IrEncodeSendLen!=IrEncodeSendPos)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;char&nbsp;c;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c=IrEncodeSendBuf[IrEncodeSendPos];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//计算字节\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendByteBit[0]&nbsp;=&nbsp;c&nbsp;&amp;&nbsp;0x01;&nbsp;//&nbsp;最低位\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendByteBit[1]&nbsp;=&nbsp;(&nbsp;c&nbsp;&amp;&nbsp;0x02)&nbsp;&gt;&gt;&nbsp;1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendByteBit[2]&nbsp;=&nbsp;(&nbsp;c&nbsp;&amp;&nbsp;0x04)&nbsp;&gt;&gt;&nbsp;2;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendByteBit[3]&nbsp;=&nbsp;(&nbsp;c&nbsp;&amp;&nbsp;0x08)&nbsp;&gt;&gt;&nbsp;3;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendByteBit[4]&nbsp;=&nbsp;(&nbsp;c&nbsp;&amp;&nbsp;0x10)&nbsp;&gt;&gt;&nbsp;4;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendByteBit[5]&nbsp;=&nbsp;(&nbsp;c&nbsp;&amp;&nbsp;0x20)&nbsp;&gt;&gt;&nbsp;5;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendByteBit[6]&nbsp;=&nbsp;(&nbsp;c&nbsp;&amp;&nbsp;0x40)&nbsp;&gt;&gt;&nbsp;6;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendByteBit[7]&nbsp;=&nbsp;(&nbsp;c&nbsp;&amp;&nbsp;0x80)&nbsp;&gt;&gt;&nbsp;7;&nbsp;&nbsp;//&nbsp;最高位\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//设置开始发送\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeIsByteSending=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeAleadySend=1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendBitPos=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//选择是否帧头或者连接发送,连接发送从2开始\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendByteStep=0==IrEncodeSendPos?-1:(0==IrEncodeSendPos?0:2);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendPos++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendByteBitTime=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_CNTRH=0;&nbsp;&nbsp;&nbsp;//计数器清空\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_CNTRL=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM2_SR1&amp;=~(1&lt;&lt;0);//清除溢出中断标志位\r\n}\r\n\r\n/*\r\n&nbsp;&nbsp;&nbsp;&nbsp;发送\r\n&nbsp;&nbsp;&nbsp;&nbsp;返回&nbsp;0=成功&nbsp;,&nbsp;1=发送失败,有数据正在处理中\r\n*/\r\nint&nbsp;IrEncode_Send(uchar&nbsp;d1,uchar&nbsp;d2,uchar&nbsp;d3,uchar&nbsp;d4)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(IrEncodeSendLen!=IrEncodeSendPos)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{return&nbsp;1;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(0!=IrEncodeAleadySend)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{return&nbsp;1;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendLen=4;\r\n&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendPos=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendBuf[0]=d1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendBuf[1]=d2;\r\n&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendBuf[2]=d3;\r\n&nbsp;&nbsp;&nbsp;&nbsp;IrEncodeSendBuf[3]=d4;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;IrEncode_IERStart();\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;0;\r\n}\r\n\r\n//判断是否在发送中\r\nint&nbsp;IrEncode_IsSending()\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;IrEncodeAleadySend;\r\n}\r\n\r\ninline&nbsp;void&nbsp;IrEncode_IERStart()\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM1_IER|=0x88;&nbsp;\r\n}\r\ninline&nbsp;void&nbsp;IrEncode_IERStop()\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM1_IER=0x00;&nbsp;\r\n}</pre><p><br/></p>','2016-11-16 17:40:29','2016-11-17 03:23:47'),(782,'192.168.0.119',3,'原生控件back改成汉字','<pre class=\"brush:cpp;toolbar:false\">\r\n两种方法：\r\n1、不改变系统的样式\r\nA视图--&gt;B视图\r\n现在想改变&nbsp;B视图返回A视图的返回按钮的title，&nbsp;只需在A视图加入如下代码：\r\nself.navigationItem.backBarButtonItem&nbsp;=&nbsp;[[UIBarButtonItem&nbsp;alloc]\r\ninitWithTitle:@&quot;返回&quot;\r\nstyle:UIBarButtonItemStylePlain\r\ntarget:self\r\naction:nil]\r\nB视图不用做任何操作\r\n\r\n\r\n2、自定义返回按钮，代码加入B视图\r\nUIButton&nbsp;*backButton&nbsp;=&nbsp;[[UIButton&nbsp;alloc]initWithFrame:CGRectMake(10,&nbsp;10,&nbsp;25,&nbsp;25)];\r\n[backButton&nbsp;setImage:[UIImage&nbsp;imageNamed:@&quot;返回&quot;]&nbsp;forState:UIControlStateNormal];\r\n[backButton&nbsp;addTarget:self&nbsp;action:@selector(backAction)&nbsp;forControlEvents:UIControlEventTouchUpInside];\r\n\r\nself.navigationItem.leftBarButtonItem&nbsp;=&nbsp;[[UIBarButtonItem&nbsp;alloc]initWithCustomView:backButton];\r\n//返回按钮action\r\n-(void)backAction{\r\n[self.navigationController&nbsp;popViewControllerAnimated:YES];\r\n}\r\n自定义按钮的话最好用图片，因为自定义没有系统的那个箭头</pre><p><br/></p>','2016-11-21 09:51:48','2016-11-21 17:51:48'),(783,'113.102.237.76',27,'MyBatis mapper文件中的变量引用方式#{}与${}的差别','<h1 style=\"text-align: center;\">MyBatis mapper文件中的变量引用方式#{}与${}的差别</h1><p><span style=\"font-size: 18px;\">默认情况下,使用#{}语法,MyBatis会产生PreparedStatement语句中，并且安全的设置PreparedStatement参数，这个过程中MyBatis会进行必要的安全检查和转义。<br/>示例1：<br/>执行SQL：Select * from emp where name = #{employeeName}<br/>参数：employeeName=&gt;Smith<br/>解析后执行的SQL：Select * from emp where name = ？<br/>执行SQL：Select * from emp where name = ${employeeName}<br/>参数：employeeName传入值为：Smith<br/>解析后执行的SQL：Select * from emp where name =Smith</span></p><p style=\"color: rgb(20, 20, 18); line-height: 24px; font-family: &quot;Source Sans Pro&quot;,Helvetica,sans-serif; font-size: 16px; margin-top: 0px; margin-bottom: 24px;\"><span style=\"line-height: 26px; font-family: Arial; font-size: 24px;\"><span style=\"color: rgb(20, 20, 18); line-height: 26px; font-family: Arial; font-size: 24px;\"><span style=\"color: rgb(20, 20, 18); line-height: 26px; font-family: Arial; font-size: 24px;\"></span></span></span></p><p style=\"color: rgb(20, 20, 18); line-height: 24px; font-family: &quot;Source Sans Pro&quot;,Helvetica,sans-serif; font-size: 16px; margin-top: 0px; margin-bottom: 24px;\">综上所述、${}方式会引发SQL注入的问题、同时也会影响SQL语句的预编译，所以从安全性和性能的角度出发，能使用#{}的情况下就不要使用${}</p><p style=\"color: rgb(20, 20, 18); line-height: 24px; font-family: &quot;Source Sans Pro&quot;,Helvetica,sans-serif; font-size: 16px; margin-top: 0px; margin-bottom: 24px;\">但是${}在什么情况下使用呢？</p><p style=\"color: rgb(20, 20, 18); line-height: 24px; font-family: &quot;Source Sans Pro&quot;,Helvetica,sans-serif; font-size: 16px; margin-top: 0px; margin-bottom: 24px;\">有时候可能需要直接插入一个不做任何修改的字符串到SQL语句中。这时候应该使用${}语法。</p><p style=\"color: rgb(20, 20, 18); line-height: 24px; font-family: &quot;Source Sans Pro&quot;,Helvetica,sans-serif; font-size: 16px; margin-top: 0px; margin-bottom: 24px;\">比如，动态SQL中的字段名，如：ORDER BY ${columnName}</p><p style=\"color: rgb(20, 20, 18); line-height: 24px; font-family: &quot;Source Sans Pro&quot;,Helvetica,sans-serif; font-size: 16px; margin-top: 0px; margin-bottom: 24px;\">注意：当使用${}参数作为字段名或表名时、需指定<span style=\"color: rgb(20, 20, 18); line-height: 24px; font-family: &quot;Source Sans Pro&quot;,Helvetica,sans-serif; font-size: 24px; white-space: pre; background-color: rgb(240, 240, 240);\">statementType为“<span style=\"color: rgb(20, 20, 18); line-height: 24px; font-family: &quot;Source Sans Pro&quot;,Helvetica,sans-serif; font-size: 24px; white-space: pre; background-color: rgb(240, 240, 240);\">STATEMENT</span>”，如：</span></p><p style=\"color: rgb(20, 20, 18); line-height: 24px; font-family: &quot;Source Sans Pro&quot;,Helvetica,sans-serif; font-size: 16px; margin-top: 0px; margin-bottom: 24px;\">&nbsp;</p><p><strong>[html]</strong> <a class=\"ViewSource\" title=\"view plain\" href=\"http://blog.csdn.net/szwangdf/article/details/26714603#\">view plain</a><span data-mod=\"popu_168\"> <a class=\"CopyToClipboard\" title=\"copy\" href=\"http://blog.csdn.net/szwangdf/article/details/26714603#\">copy</a></span><span data-mod=\"popu_169\"> <a class=\"PrintSource\" title=\"print\" href=\"http://blog.csdn.net/szwangdf/article/details/26714603#\">print</a></span><a class=\"About\" title=\"?\" href=\"http://blog.csdn.net/szwangdf/article/details/26714603#\">?</a><span class=\"tracking-ad\" data-mod=\"popu_167\"><a style=\"text-indent: 0px;\" title=\"在CODE上查看代码片\" href=\"https://code.csdn.net/snippets/363522\" target=\"_blank\"><img style=\"left: 2px; top: 1px; position: relative;\" alt=\"在CODE上查看代码片\" src=\"/my/notes/js/ue/php/upload/26031479804753.png\" width=\"12\" height=\"12\"/></a></span><span class=\"tracking-ad\" data-mod=\"popu_170\"><a style=\"text-indent: 0px;\" title=\"派生到我的代码片\" href=\"https://code.csdn.net/snippets/363522/fork\" target=\"_blank\"><img style=\"left: 2px; top: 2px; position: relative;\" alt=\"派生到我的代码片\" src=\"https://code.csdn.net/assets/ico_fork.svg\" width=\"12\" height=\"12\"/></a></span></p><ol class=\"dp-xml list-paddingleft-2\"><li><p><span class=\"tag\">&lt;</span><span class=\"tag-name\">select</span> <span class=\"attribute\">id</span>=<span class=\"attribute-value\">&quot;queryMetaList&quot;</span> <span class=\"attribute\">resultType</span>=<span class=\"attribute-value\">&quot;Map&quot;</span> <span class=\"attribute\">statementType</span>=<span class=\"attribute-value\">&quot;STATEMENT&quot;</span><span class=\"tag\">&gt;</span>Select * from emp where <span class=\"attribute\">name</span> = ${employeeName} ORDER BY ${columnName}<span class=\"tag\">&lt;/</span><span class=\"tag-name\">select</span><span class=\"tag\">&gt;</span></p></li></ol><p></p>','2016-11-22 08:52:38','2016-11-22 16:52:38'),(784,'183.22.28.25',21,'删除mysql服务','<p>Windows&nbsp;命令&nbsp;开始——运行——cmd.exe,<br/>sc&nbsp;stop&nbsp;MySQL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;停止服务<br/>sc&nbsp;delete&nbsp;MySQL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;删除服务</p><p></p>','2016-11-25 03:05:02','2016-11-25 11:05:02'),(786,'183.22.29.23',27,'SVN分支使用介绍','<p>http://www.doc88.com/p-902850271298.html</p>','2016-12-02 02:32:11','2016-12-02 10:32:11'),(787,'192.168.1.51',5,'TabActivity多页显示','<p><strong>创建主类 tab.java</strong></p><p><strong style=\"white-space: normal;\">创建三个类FirstActivity.java，SecondActivity.java，ThirdActivity.java，都是继承Activity</strong></p><p><strong style=\"white-space: normal;\"><br/></strong></p><pre class=\"brush:cpp;toolbar:false\">import&nbsp;android.app.TabActivity;\r\nimport&nbsp;android.content.Intent;\r\nimport&nbsp;android.content.res.Resources;\r\nimport&nbsp;android.os.Bundle;\r\nimport&nbsp;android.widget.TabHost;\r\n\r\npublic&nbsp;class&nbsp;tab&nbsp;extends&nbsp;TabActivity&nbsp;&nbsp;{\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;void&nbsp;onCreate(Bundle&nbsp;savedInstanceState)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super.onCreate(savedInstanceState);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setContentView(R.layout.activity_tab);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Resources&nbsp;res&nbsp;=&nbsp;getResources();&nbsp;//&nbsp;Resource&nbsp;object&nbsp;to&nbsp;get&nbsp;Drawables\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TabHost&nbsp;tabHost&nbsp;=&nbsp;getTabHost();&nbsp;&nbsp;//&nbsp;The&nbsp;activity&nbsp;TabHost\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TabHost.TabSpec&nbsp;spec;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Intent&nbsp;intent;&nbsp;&nbsp;//&nbsp;Reusable&nbsp;Intent&nbsp;for&nbsp;each&nbsp;tab\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//第一个Tab\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intent&nbsp;=&nbsp;new&nbsp;Intent(this,FirstActivity.class);//新建一个Intent用作Tab1显示的内容\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;spec&nbsp;=&nbsp;tabHost.newTabSpec(&quot;tab1&quot;)//新建一个&nbsp;Tab\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.setIndicator(&quot;Tab1&quot;,&nbsp;res.getDrawable(android.R.drawable.ic_media_play))//设置名称以及图标\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.setContent(intent);//设置显示的intent，这里的参数也可以是R.id.xxx\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tabHost.addTab(spec);//添加进tabHost\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//第二个Tab\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intent&nbsp;=&nbsp;new&nbsp;Intent(this,SecondActivity.class);//第二个Intent用作Tab1显示的内容\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;spec&nbsp;=&nbsp;tabHost.newTabSpec(&quot;tab2&quot;)//新建一个&nbsp;Tab\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.setIndicator(&quot;Tab2&quot;,&nbsp;res.getDrawable(android.R.drawable.ic_menu_edit))//设置名称以及图标\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.setContent(intent);//设置显示的intent，这里的参数也可以是R.id.xxx\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tabHost.addTab(spec);//添加进tabHost\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//第三个Tab\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intent&nbsp;=&nbsp;new&nbsp;Intent(this,ThirdActivity.class);//第二个Intent用作Tab1显示的内容\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;spec&nbsp;=&nbsp;tabHost.newTabSpec(&quot;tab2&quot;)//新建一个&nbsp;Tab\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.setIndicator(&quot;Tab3&quot;,&nbsp;res.getDrawable(android.R.drawable.ic_menu_help))//设置名称以及图标\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.setContent(intent);//设置显示的intent，这里的参数也可以是R.id.xxx\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tabHost.addTab(spec);//添加进tabHost\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tabHost.setCurrentTab(0);//设置当前的选项卡,这里为Tab1\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}</pre><p><br/></p><p>主类tab的xml</p><pre class=\"brush:cpp;toolbar:false\">&lt;?xml&nbsp;version=&quot;1.0&quot;&nbsp;encoding=&quot;utf-8&quot;?&gt;\r\n&lt;TabHost&nbsp;android:id=&quot;@android:id/tabhost&quot;&nbsp;android:layout_width=&quot;fill_parent&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:layout_height=&quot;fill_parent&quot;&nbsp;xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;LinearLayout\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:orientation=&quot;vertical&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_width=&quot;fill_parent&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_height=&quot;fill_parent&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;TabWidget\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:id=&quot;@android:id/tabs&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_width=&quot;fill_parent&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_height=&quot;wrap_content&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;FrameLayout\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:id=&quot;@android:id/tabcontent&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_width=&quot;fill_parent&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_height=&quot;fill_parent&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:padding=&quot;5dp&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;/LinearLayout&gt;\r\n&lt;/TabHost&gt;</pre><p><br/></p>','2016-12-02 05:35:10','2016-12-02 13:35:10'),(788,'192.168.0.100',5,'去掉标题栏','<pre class=\"brush:cpp;toolbar:false\">///////////////////////////////////////////////////////////////////\r\n//使用AppCompatActivity\r\nAndroidManifest.xml文件\r\n\r\n解决方法：\r\n在AndroidManifest.xml中将主题更改为Theme.AppCompat.Light.NoActionBar、Theme.AppCompat.NoActionBar或Theme.AppCompat.DayNight.NoActionBar中的一个，即可隐藏标题栏\r\n&lt;application&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;android:icon=&quot;@mipmap/ic_launcher&quot;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;android:label=&quot;@string/app_name&quot;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;//成功隐藏标题栏\r\n&gt;</pre><pre class=\"brush:cpp;toolbar:false\">///////////////////////////////////////////////////////////////////\r\n//继承Activity代码实现\r\nAndroidManifest.xml文件\r\n&lt;application\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:allowBackup=&quot;true&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:icon=&quot;@mipmap/ic_launcher&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:label=&quot;@string/app_name&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:supportsRtl=&quot;true&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:theme=&quot;@style/Theme.AppCompat.NoActionBar&quot;&gt;这句</pre><p><br/></p><pre class=\"brush:cpp;toolbar:false\">public&nbsp;class&nbsp;FirstActivity&nbsp;extends&nbsp;Activity&nbsp;不能使用AppCompatActivity&nbsp;{\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;void&nbsp;onCreate(Bundle&nbsp;savedInstanceState)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super.onCreate(savedInstanceState);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;requestWindowFeature(Window.FEATURE_NO_TITLE);&nbsp;//这里要放在setContentView前面\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setContentView(R.layout.activity_first);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}</pre><p><br/></p>','2016-12-02 07:27:12','2017-07-29 13:32:06'),(789,'192.168.2.186',41,'315,433天线长度参数，及计算方法','<p>Antenna : Length=22.6cm for 315MHz; <br/> &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;Length=17.2cm for 434MHz.</p><p><br/></p><p><br/></p><p>电磁波的速度,30W公里每秒,即3X10^8m/s!至于你所说的300是怎么来的,原因很简单,频率的单位有MHZ,（兆赫兹）,KHZ（千赫兹）HZ（赫兹）,相互之间关系是1MHZ=1000KHZ=1000000HZ,即1x10^6HZ,根据波长=速度/频率的公式,可以换算成波长=300/频率.比如求3MHZ的波长：波长=300/3=100米.再根据一般天线是波长的四分之一,可以得出,如果要做一个适合3MHZ频率的天线,长度应该为25米!<br/></p><p><br/></p><p>以上面的公式来计 算 : (300 / 433.30mhz) * 0.25 * 0.96 = 0.166 (公尺)<br/></p><p><br/></p>','2016-12-03 01:48:37','2017-01-04 00:40:11'),(790,'192.168.6.1',5,'xml配置,超链接','<pre class=\"brush:xml;toolbar:false\">&lt;RelativeLayout\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:id=&quot;@+id/config_footerview&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:layout_width=&quot;match_parent&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:layout_height=&quot;wrap_content&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:layout_alignParentBottom=&quot;true&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:background=&quot;@drawable/top_header_bg&quot;&nbsp;&gt;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;TextView\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:id=&quot;@+id/TextView01&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_width=&quot;match_parent&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_height=&quot;wrap_content&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_centerHorizontal=&quot;true&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_centerVertical=&quot;true&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_weight=&quot;1&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:autoLink=&quot;web&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:gravity=&quot;center&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:text=&quot;www.hanzhihong.cn&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:textColor=&quot;@color/black&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:textColorLink=&quot;@color/grey_text_color&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:textSize=&quot;@dimen/rowitem_text_size&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:textStyle=&quot;bold&quot;&nbsp;/&gt;\r\n\r\n&lt;/RelativeLayout&gt;</pre><p><br/></p>','2016-12-03 17:35:50','2016-12-04 01:35:50'),(792,'192.168.2.194',3,'ios10私有权限','<pre class=\"brush:html;toolbar:false;\">在info.plist文件里面添加\r\n\r\n&lt;key&gt;NSPhotoLibraryUsageDescription&lt;/key&gt;\r\n	&lt;string&gt;是否允许App访问您的相册&lt;/string&gt;\r\n	&lt;key&gt;NSCameraUsageDescription&lt;/key&gt;\r\n	&lt;string&gt;是否允许App访问您的相机&lt;/string&gt;\r\n	&lt;key&gt;NSLocationUsageDescription&lt;/key&gt;\r\n	&lt;string&gt;是否允许App访问您的位置&lt;/string&gt;\r\n	&lt;key&gt;NSLocationAlwaysUsageDescription&lt;/key&gt;\r\n	&lt;string&gt;是否允许App通过您的地理位置信息获取您周边的相关数据&lt;/string&gt;\r\n	&lt;key&gt;NSLocationWhenInUseUsageDescription&lt;/key&gt;\r\n	&lt;string&gt;是否允许App通过您的地理位置信息获取您周边的相关数据&lt;/string&gt;\r\n	&lt;key&gt;NSBluetoothPeripheralUsageDescription&lt;/key&gt;\r\n	&lt;string&gt;是否允许App访问您的蓝牙&lt;/string&gt;\r\n	&lt;key&gt;NSCalendarsUsageDescription&lt;/key&gt;\r\n	&lt;string&gt;是否允许App访问您的日历&lt;/string&gt;\r\n	&lt;key&gt;NSRemindersUsageDescription&lt;/key&gt;\r\n	&lt;string&gt;是否允许App访问您的提醒事项&lt;/string&gt;\r\n	&lt;key&gt;NSMicrophoneUsageDescription&lt;/key&gt;\r\n	&lt;string&gt;是否允许App访问您的麦克风&lt;/string&gt;\r\n	&lt;key&gt;NSAppleMusicUsageDescription&lt;/key&gt;\r\n	&lt;string&gt;是否允许App访问您的媒体资料库&lt;/string&gt;\r\n	&lt;key&gt;NSMotionUsageDescription&lt;/key&gt;\r\n	&lt;string&gt;是否允许App访问您的运动与健身&lt;/string&gt;\r\n	&lt;key&gt;NSHealthUpdateUsageDescription&lt;/key&gt;\r\n	&lt;string&gt;是否允许App访问您的健康更新&nbsp;&lt;/string&gt;\r\n	&lt;key&gt;NSHealthShareUsageDescription&lt;/key&gt;\r\n	&lt;string&gt;是否允许App访问您的健康分享&lt;/string&gt;\r\n	\r\n	\r\n无加密\r\n&lt;key&gt;ITSAppUsesNonExemptEncryption&lt;/key&gt;&lt;false/&gt;</pre><p><br/></p>','2016-12-16 13:30:59','2017-02-26 08:56:14'),(793,'192.168.2.75',26,'stm8硬件i2c','<p>stm8&nbsp;<span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">调试硬件</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">I2C</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">心得</span></p><p>&nbsp;&nbsp;这次调试<span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">stm8</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">的硬件真是艰辛，没有想到这样恼火！整整搞啦 我</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">5</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">天的时间，参考网上很多例子和风驰的</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">stm8</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">讲解！和自己的实践，终于搞通啦！特将自己在调试过程中一些心得希望的大家分享。由于本人水平有限也希望大家指出不足和错误的地方！</span></p><p>&nbsp;&nbsp;Stm8<span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">不需要专门配置</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">GPIO</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">口，执行初始化就可以啦！有些</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">stm8</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">需要打开</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">EEPROM</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">设置</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">I2C(</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">看官方文档</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">)</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">。</span></p><p>&nbsp;&nbsp;Stm8<span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">主要靠</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">SR1</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">和</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">SR3</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">状态寄存器判断</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">I2C</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">的情况</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">(while(!XXXXX)</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">就是出自这里</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">)</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">，多半大家调不通！就是卡在这里（需要注意的是 寄存器有些位，只要读寄存器就可以清除，在仿真的时候，最好不要打开寄存器页面）。这里分软故障和硬故障：</span></p><p>&nbsp;&nbsp;首先是硬故障<span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">:&nbsp;</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">一般是</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">stm8</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">芯片</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">IO</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">口坏啦，有些时候</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">stm8</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">能够写程序而且</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">IO</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">别的功能都是好的，单单是</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">I2C</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">用不起！还有就是</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">IO</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">上拉电压不够！我就遇到这样的问题，我</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">IO&nbsp;</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">加上逻辑分析仪后就可以调通，不加就通不了。这个也搞啦我很久。</span></p><p>&nbsp;&nbsp;软故障<span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">:&nbsp;</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">一般主要是设置</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">CR1</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">和</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">CR2</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">问题，只要按照我的参考程序设置就可以！</span></p><p>&nbsp;&nbsp;我详细的讲讲，寄存器<span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">I2c_CR2&nbsp;</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">应答使能位（位</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">2</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">）</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">ack</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">。首先是理解：官方文档上面说的是</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">ack</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">应答使能，</span>对是使能！很多人包括我自己 开始都认为是发送<span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">ack,</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">导致每次</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">stm8</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">收到数据后，我们都手动在每次收到字节后加</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">I2C_AcknowledgeConfig(I2C_ACK_CURR)</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">无任何意义，因为在接收模式下，收到完整字节后</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">,</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">自动发送</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">ack(</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">提前是</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">CR2 ack</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">位使能，不需要专门</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">CR2 ack</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">位置</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">1)</span>&nbsp; &nbsp;，都是软件虚拟<span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">I2C</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">用多啦！想当然啦！</span></p><p>还有就是使用这个<span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">ack</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">！设置</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">ACK</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">都必须在接收字节前，也就是说为个在收到最后一个字节后产生一个</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">NACK&nbsp;</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">脉冲，在读倒数第二个数据字节之后</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">,</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">必须清除</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">ack</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">位</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">(ack=0)</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">！设置</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">ack</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">同理！ 还有需要 主要的地方 如果设置&nbsp;</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">ack=0;&nbsp;</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">下次需要重新产生</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">ack</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">的时候！需要手动置位</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">ack!</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">记住在开始接收之前！如果你只有一个字节正确，后面全部是</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">0xFF...</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">可能就是这个问题（切记！切记！很多例子都没有加上这句，包括风驰 的例子！！ 不过 他没有加循环</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">!&nbsp;</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">如果他再循环一次就会出现问题。）</span></p><p>&nbsp;&nbsp;随便说说仿真调试！在调试过程中，最好不要打开<span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">I2C</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">寄存器看！因为对寄存器的读，也会造成寄存器有些位重置！直接按</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">Go,</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">然后暂停。进去程序看卡在那里啦。</span></p><p>&nbsp;&nbsp;操作库和寄存器编写程序，其实没有分别！不过为啦更好的理解，我在这里是操作寄存器！网上有人说加入中断会对<span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">I2C</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">产生影响，我这里没有加中断。希望有后来人补全！反正我这几天运行没有发现问题！</span></p><p>附录<span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">1&nbsp;</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">主要</span><span style=\"font-family:Times New Roman;word-wrap: break-word; word-break: break-all;\">I2C</span><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all;\">程序<br style=\"word-wrap: break-word; word-break: break-all;\"/><br style=\"word-wrap: break-word; word-break: break-all;\"/></span></p><pre class=\"brush:cpp;toolbar:false\">/*******************************************************************************\r\n*&nbsp;名称:&nbsp;Read_8816\r\n*&nbsp;功能:&nbsp;读取温度数据\r\n*&nbsp;形参:&nbsp;*pBuffer&nbsp;返回读取数据指针\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;index&nbsp;温度寄存器地址\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NumByteToRead&nbsp;需要读取字节数\r\n\r\n*&nbsp;返回:&nbsp;无\r\n*&nbsp;说明:&nbsp;该函数直接操作stm8寄存器！\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;寄存器I2c_CR2&nbsp;应答使能位（位2）ack=1，当stm8接受到数据后，自动发送ACK.不需要手动ack\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;为个在收到最后一个字节后产生一个NACK&nbsp;脉冲，在读倒数第二个数据字节之后,必须清除ack位(ack=0)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;当接收到最后一个字节，需要重新使能ack=1.（如果不设置ack=1,循环开始后，收到第一个字节stm8不会发送ack,造成除每次循环第一个字节正常外，后面收到\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;的数据都是0xFF....stm8一直不给ack）&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;需要注意的是&nbsp;寄存器有些位，只要读寄存器就可以清除（不需要专门写入寄存器，在仿真的时候，最好不要打开寄存器页面），\r\n******************************************************************************/\r\n\r\nvoid&nbsp;Read_8816(u8&nbsp;*pBuffer,&nbsp;u8&nbsp;index,&nbsp;u8&nbsp;NumByteToRead)&nbsp;\r\n{&nbsp;&nbsp;\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;while(I2C-&gt;SR3&nbsp;&amp;&nbsp;0x02);&nbsp;&nbsp;//等待总线空闲&nbsp;&nbsp;&nbsp;检测i2c-SR3&nbsp;busy位&nbsp;&nbsp;\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;//以下见stm8s中文数据手册P251（图96主设备发送模式发送序列图）\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;//S&nbsp;起始条件\r\n&nbsp;&nbsp;I2C-&gt;CR2&nbsp;|=&nbsp;0x01;&nbsp;&nbsp;//产生起始位&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CR2&nbsp;start位&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;//EV5：SB=1，读SR1&nbsp;然后将地址写入DR寄存器将清除该标志。\r\n&nbsp;&nbsp;while(!(I2C-&gt;SR1&nbsp;&amp;&nbsp;0x01));&nbsp;&nbsp;//等待START发送完&nbsp;E5\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;//ADDRESS&nbsp;(发送模式)\r\n&nbsp;&nbsp;I2C-&gt;DR&nbsp;=&nbsp;0x00;&nbsp;&nbsp;//发送MLX90615器件地址(最后一位是0,表示发送)\r\n&nbsp;&nbsp;\r\n\r\n&nbsp;&nbsp;while(!(I2C-&gt;SR1&nbsp;&amp;&nbsp;0x02));&nbsp;&nbsp;//等特7位器件地址发送完并且收到ack,ADDR置1\r\n&nbsp;&nbsp;\r\n//EV6:ADDR&nbsp;在软件读取SR1后，对SR3寄存器读操作&nbsp;将清除改位\r\nI2C-&gt;SR1;&nbsp;//见P251&nbsp;读SR1&nbsp;(实验证明可以不要)\r\nI2C-&gt;SR3;&nbsp;//然后读SR3&nbsp;清&nbsp;&nbsp;ADDR（等于库函数I2C_ClearFlag(I2C_FLAG_ADDRESSSENTMATCHED)）\r\n\r\n\r\n&nbsp;&nbsp;//DATA&nbsp;发送寄存器地址\r\n&nbsp;&nbsp;I2C-&gt;DR&nbsp;=&nbsp;(u8)(index);&nbsp;\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;//EV8_2&nbsp;TxE=1&nbsp;，BTF=1，产生停止条件时由硬件清除。\r\n&nbsp;&nbsp;while(!(I2C-&gt;SR1&nbsp;&amp;&nbsp;0x84));&nbsp;&nbsp;//检测SR1&nbsp;TXE1&nbsp;BTF位置（只有当stm8收到ack,TxE才会置1，其实这句相当于判断收到ack没有？）\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;//在发送地址和清除ADDR&nbsp;之后，I2C接口进入主设备接收模式。以下见stm8s中文数据手册P252（图97主设备接收模式接收序列图）\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;//S&nbsp;重复起始条件\r\n&nbsp;&nbsp;I2C-&gt;CR2&nbsp;|=&nbsp;0x01;&nbsp;&nbsp;//产生重复起始位\r\n&nbsp;&nbsp;//EV5：SB=1，读SR1&nbsp;然后将地址写入DR寄存器将清除该标志。\r\n&nbsp;&nbsp;while(!(I2C-&gt;SR1&nbsp;&amp;&nbsp;0x01));&nbsp;&nbsp;//等待START发送完\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;//ADDRESS&nbsp;(接收)\r\n&nbsp;&nbsp;I2C-&gt;DR&nbsp;=&nbsp;0x01;&nbsp;&nbsp;//发送MLX90615器件地址(最后一位是1,表示接收)，发送完后自动发送ack(提前是CR2&nbsp;ack位使能)\r\n\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;//EV6:ADDR&nbsp;在软件读取SR1后，对SR3寄存器读操作&nbsp;将清除改位\r\n&nbsp;&nbsp;while(!(I2C-&gt;SR1&nbsp;&amp;&nbsp;0x02));&nbsp;&nbsp;//等特7位器件地址发送完并且收到ack,ADDR置1\r\nI2C-&gt;SR1;&nbsp;//见P251&nbsp;读SR1&nbsp;(实验证明可以不要)\r\nI2C-&gt;SR3;&nbsp;//然后读SR3&nbsp;清&nbsp;&nbsp;ADDR（等于库函数I2C_ClearFlag(I2C_FLAG_ADDRESSSENTMATCHED)）&nbsp;\r\n\r\n//循环读取数据\r\n&nbsp;&nbsp;while(NumByteToRead)&nbsp;&nbsp;\r\n&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//EV7_1&nbsp;：RxNE=1&nbsp;，读DR寄存器清除该标志。设置ACK=0和STOP&nbsp;请求。(在接收最后一个字节前)&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(NumByteToRead&nbsp;==&nbsp;1)&nbsp;//实验证明在最后一个字节前后都一样\r\n&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I2C-&gt;CR2&nbsp;&amp;=&nbsp;~0x04;&nbsp;//ack使能\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I2C-&gt;CR2&nbsp;|=&nbsp;0x02;&nbsp;&nbsp;//停止位产生stop\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;///测试EV7&nbsp;RxNE=1（收到一个字节后RxNE置1）&nbsp;，判断DR寄存器有数据\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(I2C-&gt;SR1&nbsp;&amp;&nbsp;0x40)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*pBuffer=I2C-&gt;DR;//在接收模式下，收到完整字节后,自动发送ack(提前是CR2&nbsp;ack位使能，不需要专门CR2&nbsp;ack位置1)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//在风驰里面例子，在每次收到字节后加I2C_AcknowledgeConfig(I2C_ACK_CURR)无任何意义，\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pBuffer++;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NumByteToRead--;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;}\r\n&nbsp;&nbsp;I2C-&gt;CR2&nbsp;|=&nbsp;0x04;//为一下循环开始&nbsp;设置&nbsp;ack使能，上面&nbsp;EV7_1设置ack=0发送stop后;需要手动设置ack=1使能，必要在接收数据之前\r\n\r\n//切记！切记！很多例子都没有加上这句，包括风驰&nbsp;的例子！！&nbsp;不过&nbsp;他没有加循环!&nbsp;如果他在循环一次就会出现问题。CR2&nbsp;ack位其实就是使能的意思！！很多人都理解成需要手动设置！\r\n//&nbsp;都是软件模拟I2C&nbsp;搞太多！！&nbsp;想当然啦！没有仔细看官方的文档！\r\n}</pre><p><span style=\"font-family:宋体;word-wrap: break-word; word-break: break-all; color: rgb(68, 68, 68); font-size: 14px; white-space: normal; background-color: rgb(239, 245, 249);\"><br style=\"word-wrap: break-word; word-break: break-all;\"/><br/></span></p>','2016-12-20 17:51:36','2016-12-21 01:51:36'),(794,'192.168.1.17',41,'pnp锗管收音机','<p><img src=\"/my/notes/js/ue/php/upload_img/20161225/14826690891730.jpg\" title=\"catch.jpg\"/></p><p><br/></p><p>本电路用的二极管,和三极管,均为锗管</p><p>由于现在采用了三极管,而且三极管的发射结(相当于一个PN结)和二极管的PN结是串联,这就要求两个PN结的电流流向应当一致,否则电台的信号 就无法通过这两个PNxfk进行检波和放大了<br/></p>','2016-12-25 12:31:32','2016-12-25 21:07:07'),(795,'192.168.6.1',42,'夜光粉制作','<pre id=\"best-content-2385134578\" accuse=\"aContent\" class=\"best-text mb-10\" style=\"margin-top: 10px; margin-bottom: 10px; padding: 0px; font-family: &quot;Microsoft YaHei&quot;, arial, &quot;courier new&quot;, courier, 宋体, monospace; white-space: pre-wrap; word-wrap: break-word; line-height: 29px; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255); min-height: 55px;\">　　制作方法如下：\r\n　　1，根据所需夜光粉的颜色配置原料。原料配比如下：\r\n　　&nbsp;&nbsp;&nbsp;&nbsp;A）红色夜光粉：55克、40克、磷酸锂2克、3克。\r\n　　&nbsp;&nbsp;&nbsp;&nbsp;B）蓝色夜光粉：63克、5克、硫酸钾5克、硫酸锶10克、6克、1克、硫化镁10克。\r\n　　&nbsp;&nbsp;&nbsp;&nbsp;C）紫色夜光粉：63克、硫化镁26克、10克、1&nbsp;克。\r\n\r\n　　&nbsp;&nbsp;&nbsp;&nbsp;D）绿色夜光粉：55克、1&nbsp;克、10克、硝酸钡12克、硝酸铟13克。\r\n　　&nbsp;&nbsp;&nbsp;&nbsp;E）黄色夜光粉：硫化钡55克、硫化镁40克、硫化铝2克、硝酸钾3克。\r\n　　2，配好原料后，将原料放在耐高温坩锅内，在电炉上加热。\r\n　　3，也可不用锅，直接把原料搅拌混匀后，放在电炉上烧，温度为133&nbsp;度。\r\n　　4，烧50分钟后，挑出不全色的杂质。\r\n　　5，然后把烧好的原料放在球磨机内磨成细粉。\r\n　　6，再用水浸泡沉淀，去掉清水后，把沉淀下的粉状物放在干燥箱中干燥可。</pre><p><br/></p>','2016-12-28 17:29:33','2016-12-29 01:29:33'),(796,'192.168.6.1',41,'无线电距离计算','<p>公式说明在自由空间下电波传播的损耗 &nbsp; &nbsp; &nbsp;</p><p>&nbsp;&nbsp;Los = 32.44 + 20lg d(Km) + 20lg f(MHz)&nbsp;<br/></p><p><br/></p><p>&nbsp; 下面举例说明一个工作频率为433.92MHz，发射功率为＋10dBm(10mW)，接收灵敏度为-105dBm的系统在自由空间的传播距离：</p><p><br/></p><p>1. 由发射功率+10dBm，接收灵敏度为-105dBm &nbsp; &nbsp; &nbsp; &nbsp;</p><p>Los = 115dB（10dBm-Los=-105dBm =&gt;Los=115dB）&nbsp;</p><p>&nbsp; &nbsp; &nbsp; &nbsp;</p><p>2. 由Los、f &nbsp; &nbsp; &nbsp; &nbsp;计算得出d =30公里&nbsp;</p><p>（Solve[ 115==32.44+20Log10[x]+20Log10[433.92],x] {{x30.945}}）&nbsp;</p><p>&nbsp; &nbsp; &nbsp; &nbsp;</p><p>&nbsp; &nbsp;这是理想状况下的传输距离，实际的应用中是会低于该值，这是因为无线通信要受到各种外界因素的影响，如大气、阻挡物、多径等造成的损耗，将上述损耗的参考值计入上式中，即可计算出近似通信距离。</p><p><br/></p>','2016-12-28 17:55:36','2016-12-29 01:55:48'),(797,'192.168.6.1',41,'NPN管简易收音机','<p><img src=\"/my/notes/js/ue/php/upload_img/20161229/14829488029697.jpg\" title=\"342ac65c10385343ba1b92a49213b07ecb80885a.jpg\"/></p>','2016-12-28 18:13:24','2016-12-29 02:13:44'),(798,'192.168.2.184',3,'获取tableView显示的所有cell','<pre class=\"brush:cpp;toolbar:false\">-(NSArray&nbsp;*)cellsForTableView:(UITableView&nbsp;*)tableView\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;NSInteger&nbsp;sections&nbsp;=&nbsp;tableView.numberOfSections;\r\n&nbsp;&nbsp;&nbsp;&nbsp;NSMutableArray&nbsp;*cells&nbsp;=&nbsp;[[NSMutableArray&nbsp;alloc]&nbsp;&nbsp;init];\r\n&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;section&nbsp;=&nbsp;0;&nbsp;section&nbsp;&lt;&nbsp;sections;&nbsp;section++)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSInteger&nbsp;rows&nbsp;=&nbsp;&nbsp;[tableView&nbsp;numberOfRowsInSection:section];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;row&nbsp;=&nbsp;0;&nbsp;row&nbsp;&lt;&nbsp;rows;&nbsp;row++)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NSIndexPath&nbsp;*indexPath&nbsp;=&nbsp;[NSIndexPath&nbsp;indexPathForRow:row&nbsp;inSection:section];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UITableViewCell*stdCell=[tableView&nbsp;cellForRowAtIndexPath:indexPath];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(stdCell)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[cells&nbsp;addObject:stdCell];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;cells;\r\n}</pre><p><br/></p>','2017-01-12 04:51:55','2017-01-12 12:51:55'),(799,'192.168.2.75',74,'种花小泥巴','<p>&nbsp;现在，很多人在楼顶种水果，在楼顶种水果解决了容器问题后，重要两点就是种果树泥土和肥料，在这里，我说说这几年在楼顶种水果的泥土和肥料的问题。<br/><br/>&nbsp; &nbsp;&nbsp;&nbsp;种果树首先要泥，现在就谈谈泥，常人都认为，种果树要很多泥，其实，这情况在高科技手段不断推出优良果树品种的今天，近代有不少改变，泥一般情况下和结果多少成正比，但，泥少和不出果没关系，就是说；现在种的果树，不是以前的果树，就泥很少也结果，看个人的地方和条件与水果的品种，这样，就给阳台一族和楼顶一族创造了一个种水果的机会。<br/><br/>&nbsp; &nbsp;要什么泥呢？我谈谈我这三年的心得；种盆景和果树不要塘泥，肥泥，田泥等黑泥，要黄泥（黄金色的泥，越黄越好），最好是建房屋挖基础时挖出来的黄泥，这种泥最好，它好处是；没种过东西，植物所需的微量元素丰富，这种泥最干净，没有毒害植物的细菌和病毒。把泥运回家后，以5份泥1份沙1份木糠再加一些骨粉（后面有说明自制方法）和草木灰混合拌均匀（有条件的情况下，木糠加多点没关系）。放好备用。<br/><br/>&nbsp; &nbsp;下一步，就是准备肥料了，自己种东西，最好少用化肥或者不用化肥，种植果树和盆景用农家肥是最好的，但它太臭，在家楼顶种果树是不能用的，那用什么呢？用有机肥，有机肥很贵的，对几千，几万，几十万的一盆的盆景来说可以用，但用在果树是花不来的，那么，我们就只好自制有机肥，这样，就可以兼顾各方面了。我自制有机肥基本有两种；一种固体，一种液体，我两种都在用，也制了。<br/><br/>&nbsp; &nbsp;先说液体，先准备小半桶浓洗米水（洗米的水，经过半天净清了，倒去上面的清水，洗一次米，就倒上面的清水一次，经过十多天的洗米水，就叫浓洗米水了）。有鱼肠水用鱼肠水也行，或者两者混合更好。下一步，去榨油厂买几公斤的豆饼（我们叫豆夫）回来，再找一个有盖的大桶或瓦刚，把浓洗米水和鱼肠水倒到桶里，豆饼搞碎也倒进去，家有过期的牛奶，饼干，米饭等也可以倒进去，有鸡鸭粪，也可以倒些进去，还有，一些容易腐烂的青菜叶，水果皮，水果<br/> 等等，也可以倒进去（树叶和草最好不要放），最后，放上少量的盐（一锑桶放一二两就行了），盖上盖子（盖子上打几个小孔通气）进行发酵腐熟，三个月至六个月就OK了，这此期间，一个星期要打开盖子拌搅均匀一次，第一个月，是很臭的，第二个月，就好多了，第三个月到第六个月，异味就没有很大的了。其间要注意的是；发酵腐熟期间的洗米水还可以不停的倒进去，但发酵腐熟材料不能装得太满，桶的70%就行了。发酵腐熟，时间天气热要的时间短，冬天冷要的时间长。经这几个月发酵腐熟的有机肥就可以使用了，但使用时一定要用冲水淡译稀才使用，一份有机肥冲上10至20份水，这样就可以使用了。<br/><br/>&nbsp; &nbsp; 做固体的有机肥有两个方法（第一方法省事，第二方法防臭）；<br/>&nbsp; &nbsp; 第一个方法； 去榨油菜厂买几公斤的豆饼回来，打碎后，以一比一的比例与木糠搅伴均匀，再加少许上面所说的黄泥（有条件的话加些牛和鸡的粪便更好）再次搅拌均匀，随后找一个大的花盆（或者塑料桶），先在底部放上一层3厘米厚左右的泥，然后放豆饼和木糠的混合物，到最后上面也放上一层2厘米黄泥。浇上水或洗米水（底部出水为止），最后盖上一块板，放到太阳下，一个星期浇一次水，5个星期后，翻出来晒干打碎，就可以备用了。<br/>&nbsp; &nbsp; 第二个方法；去榨油菜厂买几公斤的豆饼回来，打碎后，以一比一的比例与木糠搅伴均匀，再加少上面所说的黄泥（有条件的话加些牛和鸡的粪便更好）再搅拌均匀，找来三张厚一点的没破洞的塑料膜，在有阳光的地方放上一张，在上面倒入搅拌好的发酵材料，浇上一些洗米水，再搅拌均匀，让发酵材料湿透，然后，把它堆成一小堆，下一步，把第二张膜盖在上面，在边缘四周把第一张膜反压第二张膜，压上砖头（圆圈四周一个个连着紧紧压住砖头，尽量不要让它透气），然后，盖上最后一张膜，在4个角上再压上砖头。在阳光下照晒15天后，揭开塑料膜，把发酵材料上下搅拌一下，太干的话，加点先米水，再按前面方法，把发酵材料盖好，再过15天后，厉经一个月的发酵材料已腐熟，翻出来晒干打碎，就可以备用了。<br/>&nbsp; &nbsp;&nbsp;&nbsp;两种有机肥的作用；液体有机肥用来浇灌，固体有机肥用来放在花盆下部做基肥用。<br/><br/>&nbsp; &nbsp; 自制有机肥注意事顶；不管液体或固体，自制过程全部在室外或楼顶进行。<br/><br/>&nbsp; &nbsp; 自制骨粉；把平时吃剩下的鸡骨头，猪骨头，鸭骨等等收集起来晒干，然后，用火烧成碳，捣碎后备用。（作用；催花固果）<br/>&nbsp; &nbsp; 注；自制骨粉不能在家里烧。<br/>&nbsp; &nbsp; 等晒干的骨头有一定数量后，带上个风炉（广东话，下面有一层是透风的一种炉子）和骨头，一些柴枝（我做盆景和种水果剪下的枝条），到郊区外面烧，用风炉烧，很快的，半脸盆骨头，只要十多分钟。<br/><br/>&nbsp; &nbsp; 常听果友说的；“树叶杂草腐殖土”，这种土是天然，但，也可以人为的制作出来，我种几年盆景和水果，盆里基本都变成这种土，泥土从黄色变黑红色。<br/>&nbsp; &nbsp;；“树叶杂草腐殖土”，的人工制作；把百香果等叶多的树的修枝，剪叶等操作中把叶子留下，把吃了花生肉的花生皮留下，茶叶渣留下，把板粟壳留下，把这些材料菜叶子，树叶子剪碎把花生皮打碎都放到在盆子泥土上，久而久之，叶子等等材料就腐碎腐烂到泥土中去，这是个漫长的过程，一天天。一个月一个月，一年年，是后，泥土得到改良，而得到人工制作改造的；“树叶杂草腐殖土”。</p>','2017-01-14 07:39:39','2017-01-14 15:40:06'),(800,'192.168.2.75',28,'stm8s元件列表','<p><br/></p><table width=\"1163\" border=\"1\" align=\"center\" cellpadding=\"0\" cellspacing=\"0\" bordercolor=\"#CCCCCC\" style=\"font-family: Simsun; font-size: medium;\"><colgroup><col width=\"94\"/><col width=\"72\" span=\"11\"/></colgroup><tbody><tr height=\"25\"><td width=\"886\" height=\"25\" colspan=\"12\" align=\"center\" valign=\"middle\" bgcolor=\"#ECECDA\"><span class=\"STYLE1\" style=\"font-size: 12px; font-family: Arial, Helvetica, sans-serif;\">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbs','2017-02-07 07:47:57','2017-02-07 15:57:26'),(801,'192.168.2.75',75,'缓冲区溢出攻击例子','<pre class=\"brush:cpp;toolbar:false\">#include&nbsp;&lt;iostream&gt;\r\n\r\nusing&nbsp;namespace&nbsp;std;\r\n\r\nvoid&nbsp;why_here(void)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//强制处理代码段\r\n	cout&lt;&lt;&quot;yeah&nbsp;ok&quot;&lt;&lt;endl;&nbsp;\r\n	system(&quot;pause&quot;);&nbsp;\r\n	_exit(0);\r\n}\r\n\r\nvoid&nbsp;bb(char&nbsp;*&nbsp;str)\r\n{\r\n	char&nbsp;sp[3];		\r\n	for(int&nbsp;i=0;str[i]!=0;i++)\r\n	{sp[i]=str[i];}\r\n}\r\n\r\nint&nbsp;_tmain(int&nbsp;argc,&nbsp;_TCHAR*&nbsp;argv[])\r\n{\r\n	//注:缓冲区溢出重点,要攻击函数第一个定义的变量\r\n\r\n	//方法1:\r\n	int&nbsp;c;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char*cc=(char*)&amp;c;\r\n	int&nbsp;d=(int)why_here;\r\n	memcpy(&amp;cc[8+sizeof(c)],&amp;d,4);\r\n\r\n	//方法2	\r\n	/*int&nbsp;buff[1];\r\n	buff[3]&nbsp;=(int)why_here;\r\n	*/\r\n\r\n	/*//方法3\r\n	char&nbsp;f[32];\r\n	int&nbsp;x=(int)why_here;\r\n	//sp只有3个字节,要字节对齐4个字节,即要余4为0\r\n	memcpy(&amp;f[4+8],&amp;x,4);\r\n	bb(f);*/\r\n\r\n	system(&quot;pause&quot;);\r\n	return&nbsp;0;\r\n}</pre><p><br/></p>','2017-02-17 18:45:14','2017-02-18 02:45:14'),(802,'192.168.2.194',2,'Lua使用','<pre class=\"brush:cpp;toolbar:false\">--region&nbsp;*.lua\r\n--Date\r\n\r\nprint(&quot;lua&nbsp;script&nbsp;func.lua&nbsp;have&nbsp;been&nbsp;load&nbsp;&quot;)\r\n\r\nfunction&nbsp;showinfo()\r\nprint(&quot;welcome&nbsp;to&nbsp;&nbsp;lua&nbsp;world&nbsp;&quot;)\r\nend\r\n\r\nfunction&nbsp;showstr(str)\r\nprint(&quot;The&nbsp;string&nbsp;you&nbsp;input&nbsp;is&nbsp;&quot;&nbsp;..&nbsp;str)\r\nend\r\n\r\nfunction&nbsp;add(x,y)\r\nreturn&nbsp;x+y;\r\nend\r\n--endregion\r\n\r\n\r\n\r\n///////////////////////////////////////////////////////////\r\n#include&nbsp;&lt;stdio.h&gt;\r\n\r\n\r\n//lua头文件\r\n#ifdef&nbsp;__cplusplus\r\n	extern&nbsp;&quot;C&quot;&nbsp;{\r\n#include&nbsp;&quot;lua.h&quot;&nbsp;&nbsp;\r\n#include&nbsp;&lt;lauxlib.h&gt;&nbsp;&nbsp;&nbsp;\r\n#include&nbsp;&lt;lualib.h&gt;&nbsp;&nbsp;&nbsp;\r\n}&nbsp;&nbsp;\r\n#else\r\n#include&nbsp;&lt;lua.h&gt;\r\n#include&nbsp;&lt;lualib.h&gt;\r\n#include&nbsp;&lt;lauxlib.h&gt;\r\n#endif\r\n\r\n\r\nint&nbsp;main(int&nbsp;argc,char&nbsp;**&nbsp;argv)\r\n{\r\n\r\n	lua_State&nbsp;*&nbsp;L=NULL;\r\n\r\n	/*&nbsp;初始化&nbsp;Lua&nbsp;*/&nbsp;&nbsp;\r\n	L&nbsp;=&nbsp;lua_open();&nbsp;&nbsp;\r\n\r\n	/*&nbsp;载入Lua基本库&nbsp;*/&nbsp;&nbsp;\r\n	luaL_openlibs(L);&nbsp;&nbsp;&nbsp;\r\n\r\n	/*&nbsp;运行脚本&nbsp;*/&nbsp;&nbsp;\r\n	luaL_dofile(L,&nbsp;&quot;./script/func.lua&quot;);&nbsp;&nbsp;&nbsp;\r\n\r\n	//获取lua中的showinfo函数\r\n	lua_getglobal(L,&quot;showinfo&quot;);\r\n	//cpp&nbsp;调用无参数的lua函数，无返回值\r\n	lua_pcall(L,0,0,0);\r\n	//主动清理堆栈，也可以不调用\r\n		\r\n	const&nbsp;char&nbsp;*&nbsp;pstr=&quot;世界如此美好&quot;;\r\n	lua_getglobal(L,&quot;showstr&quot;);\r\n	lua_pushstring(L,pstr);\r\n	//cpp&nbsp;调用一个参数的的lua函数，无返回值\r\n	lua_pcall(L,1,0,0);\r\n	\r\n&nbsp;&nbsp;lua_getglobal(L,&quot;add&quot;);\r\n	//参数从左到右压栈\r\n	lua_pushinteger(L,2);\r\n	lua_pushinteger(L,3);\r\n	lua_pcall(L,2,1,0);\r\n	printf(&quot;lua&nbsp;add&nbsp;function&nbsp;return&nbsp;val&nbsp;is&nbsp;%d&nbsp;[#ue_pole#n]&quot;,lua_tointeger(L,-1));\r\n\r\n	/*&nbsp;清除Lua&nbsp;*/&nbsp;&nbsp;\r\n	lua_close(L);&nbsp;\r\n\r\n	return&nbsp;1;\r\n}</pre><p><br/></p>','2017-02-21 18:11:44','2017-02-22 02:11:44'),(803,'192.168.0.117',69,'上电检测引脚状态','<pre class=\"brush:cpp;toolbar:false\">//检测引脚状态,结合GPIO13使用\r\n#define&nbsp;CFG1_UART_TYPE_IO_MUX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PERIPHS_IO_MUX_MTCK_U\r\n#define&nbsp;CFG1_UART_TYPE_IO_NUM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;13\r\n#define&nbsp;CFG1_UART_TYPE_IO_FUNC&nbsp;&nbsp;&nbsp;&nbsp;FUNC_GPIO13\r\n//检测引脚状态,结合GPIO14使用\r\n#define&nbsp;CFG2_UART_TYPE_IO_MUX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PERIPHS_IO_MUX_MTMS_U\r\n#define&nbsp;CFG2_UART_TYPE_IO_NUM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;14\r\n#define&nbsp;CFG2_UART_TYPE_IO_FUNC&nbsp;&nbsp;&nbsp;&nbsp;FUNC_GPIO14\r\n\r\n//////////////////////////////////////////////////////////////////////////////\r\n/*\r\n检测上电电平\r\nreturn	0&nbsp;=&nbsp;&nbsp;9600\r\n		1&nbsp;=&nbsp;&nbsp;38400\r\n		2&nbsp;=&nbsp;&nbsp;57600\r\n		3&nbsp;=&nbsp;&nbsp;115200\r\n*/\r\nbool&nbsp;isPinHight1=false;\r\nbool&nbsp;isPinHight2=false;\r\nLOCAL&nbsp;char&nbsp;ICACHE_FLASH_ATTR&nbsp;UartBitCheck()\r\n{\r\n	//disable&nbsp;interrupt\r\n&nbsp;&nbsp;&nbsp;&nbsp;gpio_pin_intr_state_set(GPIO_ID_PIN(CFG1_UART_TYPE_IO_NUM),&nbsp;GPIO_PIN_INTR_DISABLE);\r\n	gpio_pin_intr_state_set(GPIO_ID_PIN(CFG2_UART_TYPE_IO_NUM),&nbsp;GPIO_PIN_INTR_DISABLE);\r\n\r\n	//--------------------------------------------------------------\r\n	PIN_FUNC_SELECT(CFG1_UART_TYPE_IO_MUX,&nbsp;CFG1_UART_TYPE_IO_FUNC);\r\n	//--------------------------------------------------------------\r\n	PIN_FUNC_SELECT(CFG2_UART_TYPE_IO_MUX,&nbsp;CFG2_UART_TYPE_IO_FUNC);\r\n	//-----------------------------\r\n	gpio_output_set(0,&nbsp;0,&nbsp;0,&nbsp;GPIO_ID_PIN(CFG1_UART_TYPE_IO_NUM));\r\n	gpio_register_set(GPIO_PIN_ADDR(CFG1_UART_TYPE_IO_NUM),&nbsp;GPIO_PIN_INT_TYPE_SET(GPIO_PIN_INTR_DISABLE)\r\n						|&nbsp;GPIO_PIN_PAD_DRIVER_SET(GPIO_PAD_DRIVER_DISABLE)\r\n						|&nbsp;GPIO_PIN_SOURCE_SET(GPIO_AS_PIN_SOURCE));\r\n	//-----------------------------\r\n	gpio_output_set(0,&nbsp;0,&nbsp;0,&nbsp;GPIO_ID_PIN(CFG2_UART_TYPE_IO_NUM));\r\n	gpio_register_set(GPIO_PIN_ADDR(CFG2_UART_TYPE_IO_NUM),&nbsp;GPIO_PIN_INT_TYPE_SET(GPIO_PIN_INTR_DISABLE)\r\n						|&nbsp;GPIO_PIN_PAD_DRIVER_SET(GPIO_PAD_DRIVER_DISABLE)\r\n						|&nbsp;GPIO_PIN_SOURCE_SET(GPIO_AS_PIN_SOURCE));\r\n	//clear&nbsp;gpio13,gpio14&nbsp;status\r\n	GPIO_REG_WRITE(GPIO_STATUS_W1TC_ADDRESS,&nbsp;BIT(CFG1_UART_TYPE_IO_NUM));\r\n	GPIO_REG_WRITE(GPIO_STATUS_W1TC_ADDRESS,&nbsp;BIT(CFG2_UART_TYPE_IO_NUM));\r\n	//enable&nbsp;interrupt\r\n&nbsp;&nbsp;&nbsp;&nbsp;gpio_pin_intr_state_set(GPIO_ID_PIN(CFG1_UART_TYPE_IO_NUM),&nbsp;GPIO_PIN_INTR_NEGEDGE);\r\n	gpio_pin_intr_state_set(GPIO_ID_PIN(CFG2_UART_TYPE_IO_NUM),&nbsp;GPIO_PIN_INTR_NEGEDGE);\r\n	//\r\n	ETS_GPIO_INTR_ENABLE();\r\n	//状态\r\n	isPinHight1=&nbsp;(0!=GPIO_INPUT_GET(GPIO_ID_PIN(CFG1_UART_TYPE_IO_NUM)));\r\n	isPinHight2=&nbsp;(0!=GPIO_INPUT_GET(GPIO_ID_PIN(CFG2_UART_TYPE_IO_NUM)));\r\n	//\r\n	char&nbsp;ret=0;\r\n	ret=isPinHight1;\r\n	ret|=isPinHight2&lt;&lt;1;	\r\n	return&nbsp;ret;\r\n}</pre><p><br/></p>','2017-02-27 05:11:15','2017-02-27 13:13:36'),(804,'111.148.4.169',27,'windows下架设SVN服务器并设置开机启动','<p>1、安装SVN服务器，到<a href=\"http://subversion.apache.org/packages.html\" target=\"_blank\">http://subversion.apache.org/packages.html</a>上下载windows版的SVN，并安装，在命令行下运行svn命令，如下所以，则svn服务器安装成功。</p><p>配置服务器，在根目录创建一文件夹ejsvn，进入文件夹，在文件夹空白位置单机右键，选择TortoiseSVN后点击&quot;在此创建版本库&quot;</p><p><a class=\"exp-image-wraper\" href=\"http://jingyan.baidu.com/album/93f9803fea9ff4e0e46f55f0.html?picindex=8\" target=\"_self\" log=\"type:20150831,pos:enter_step,expGroup:G0\"><img class=\"exp-image-default\" alt=\"svn安装与其服务器搭建\" src=\"/my/notes/js/ue/php/upload/72581488436100.jpg\"/><span class=\"exp-album-enter-mask\"></span><span class=\"enter-step-btn\">步骤阅读</span></a></p><p><a class=\"exp-image-wraper\" href=\"http://jingyan.baidu.com/album/93f9803fea9ff4e0e46f55f0.html?picindex=9\" target=\"_self\" log=\"type:20150831,pos:enter_step,expGroup:G0\"><img class=\"exp-image-default\" alt=\"svn安装与其服务器搭建\" src=\"/my/notes/js/ue/php/upload/2921488436100.jpg\"/><span class=\"exp-album-enter-mask\"></span><span class=\"enter-step-btn\">步骤阅读</span></a></p><ol class=\"dp-default list-paddingleft-2\" start=\"1\"><li><p>C:Documents and SettingsAdministrator&gt;svn &nbsp;</p></li><li><p>使用“svn help”得到用法。 &nbsp;</p></li></ol><p>　　　　　　　　　 <br/><br/>2、创建仓库Repository：运行命令</p><ol class=\"dp-default list-paddingleft-2\" start=\"1\"><li><p>C:Documents and SettingsAdministrator&gt;svnadmin create G:svn &nbsp;</p></li></ol><p>&nbsp;</p><p>　　该命令会在G盘下自动创建一个名字为svn的文件夹，该文件中的内容如非必要，不要手动修改，其内容是由svn自动维护的，各自得用途： <br/><br/>　　conf里文件夹中都是这个仓库的配置文件。 <br/><br/>　　db是真正用来存储数据版本的地方。 <br/><br/>　　hooks文件夹中的内容用以定义某些动作触发的hook脚本。 <br/><br/>　　locks中的文件用于在某些分支或者文件上加锁。 　　 <br/><br/>3、创建用户：进入conf目录(本例中是G:svnconf)，打开svnserve.conf文件，找到如下内容：</p><ol class=\"dp-default list-paddingleft-2\" start=\"1\"><li><p>[general] &nbsp;</p></li><li><p>### These options control access to the repository for unauthenticated &nbsp;</p></li><li><p>### and authenticated users. &nbsp;Valid values are <span class=\"string\">&quot;write&quot;</span>, <span class=\"string\">&quot;read&quot;</span>, &nbsp;</p></li><li><p>### and <span class=\"string\">&quot;none&quot;</span>. &nbsp;The sample settings below are the defaults. &nbsp;</p></li><li><p># anon-access = read &nbsp;</p></li><li><p># auth-access = write &nbsp;</p></li><li><p>### The password-db option controls the location of the password &nbsp;</p></li><li><p>### database file. &nbsp;Unless you specify a path starting with a /, &nbsp;</p></li><li><p>### the file&#39;s location is relative to the directory containing &nbsp;</p></li><li><p>### this configuration file. &nbsp;</p></li><li><p>### If SASL is enabled (see below), this file will NOT be used. &nbsp;</p></li><li><p>### Uncomment the line below to use the default password file. &nbsp;</p></li><li><p># password-db = passwd &nbsp;</p></li></ol><p>将</p><ol class=\"dp-default list-paddingleft-2\" start=\"1\"><li><p># anon-access = read &nbsp;</p></li><li><p># auth-access = write &nbsp;</p></li></ol><ol class=\"dp-default list-paddingleft-2\" start=\"1\"><li><p># password-db = passwd &nbsp;</p></li></ol><p>中的注释去掉修改为</p><p>&nbsp;</p><ol class=\"dp-default list-paddingleft-2\" start=\"1\"><li><p>anon-access = read &nbsp;</p></li><li><p>auth-access = write &nbsp;</p></li></ol><ol class=\"dp-default list-paddingleft-2\" start=\"1\"><li><p>password-db = passwd &nbsp;</p></li></ol><p>&nbsp;</p><p>这样就可以使用passwd文件中的用户了。</p><p>　　打开passwd(和svnserve.conf在同目录下)，可以看到，创建好的两个用户都被注释掉了，可以修改者两个用户，也可以新建自己的用户，这里我新创建了一个自己的用户，passwd文件被修改为：</p><ol class=\"dp-default list-paddingleft-2\" start=\"1\"><li><p>[users] &nbsp;</p></li><li><p># harry = harryssecret &nbsp;</p></li><li><p># sally = sallyssecret &nbsp;</p></li><li><p>admin=admin &nbsp;</p></li></ol><p>4、启动SVN服务器，运行命令svnserve -d -r G:svn，就可以启动服务</p><ol class=\"dp-default list-paddingleft-2\" start=\"1\"><li><p>C:Documents and SettingsAdministrator&gt;svnserve -d -r G:svn &nbsp;</p></li></ol><p>　　-d表示后台运行，-r表示以超级管理员的方式运行，G:svn是指SVN所管理的仓库。</p><p>5、配置SVN服务器开机启动</p><p>　 打开一个DOS窗口，在任意目录下执行下面的命令：</p><p>　</p><ol class=\"dp-default list-paddingleft-2\" start=\"1\"><li><p>//在命令中的每一个等号后面都要有一个空格否则命令执行失败 &nbsp;</p></li><li><p>sc create svnserve binPath= <span class=\"string\">&quot;&quot;C:Program FilesSubversioninsvnserve.exe&quot; --service --root d:svnstore&quot;</span> displayname= <span class=\"string\">&quot;SVN Serve&quot;</span> depend= Tcpip start= auto &nbsp;</p></li></ol><p>　</p><p>　　其中，sc是windows自带的服务配置程序，参数binPath表示svnserve可执行文件的安装路径，由于路径中的&quot;Program Files&quot;带有空格，因此整个路径需要用双引号引起来。而双引号本身是个特殊字符，需要进行转移，因此在路径前后的两个双引号都需要写成<strong>&quot;</strong></p><p>　　--service参数表示以windows服务的形式运行，--root指明svn repository的位置，service参数与root参数都作为binPath的一部分，因此与svnserve.exe的路径一起被包含在一对双引号当中，而这对双引号不需要进行转义。</p><p>displayname表示在windows服务列表中显示的名字， depend =Tcpip 表示svnserve服务的运行需要tcpip服务，start=auto表示开机后自动运行。</p><p>　　安装服务后，svnserve要等下次开机时才会自动运行。</p><p>　　若要卸载svn服务，则执行 <strong>sc delete svnserve</strong> 即可</p><p>这样SVN的配置就完成了，到<a href=\"http://tortoisesvn.net/downloads.html\">http://tortoisesvn.net/downloads.html</a>下载一个SVN客户端，就可以使用了。</p><p></p>','2017-03-02 06:28:31','2017-03-02 14:28:31'),(805,'111.148.5.16',27,'Java Socket实现基于TCP和UDP多线程通信','<p><span style=\"font-size: 18px;\">一.通过Socket实现TCP编程</span></p><p><span style=\"font-size: 16px;\">1.1 TCP编程</span></p><p>　　TCP协议是面向连接，可靠的，有序的，以字节流的方式发送数据。基于TCP协议实现网络通信的类有客户端的Socket类和服务器端的ServerSocket类。</p><p><span style=\"font-size: 16px;\">1.2 服务器端套路</span></p><p>　　1.创建ServerSocket对象，绑定监听端口。</p><p>　　2.通过accept（）方法监听客户端请求。</p><p>　　3.连接建立后，通过输入流读取客户端发送的请求信息。</p><p>　　4.通过输出流向客户端发送响应信息。</p><p>　　5.关闭响应的资源。</p><p><span style=\"font-size: 16px;\">1.3 客户端套路</span></p><p>　　1.创建Socket对象，指明需要连接的服务器的地址和端口号。</p><p>　　2.连接建立后，通过输出流向服务器发送请求信息。</p><p>　　3.通过输入流获取服务器响应的信息。</p><p>　　4.关闭相应资源。</p><p><span style=\"font-size: 16px;\">1.4 多线程实现服务器与多客户端之间通信步骤</span></p><p>　　1.服务器端创建ServerSocket，循环调用accept（）等待客户端连接。</p><p>　　2. 客户端创建一个socket并请求和服务器端连接。</p><p>　　3.服务器端接受客户端请求，创建socket与该客户建立专线连接。</p><p>　　4.建立连接的两个socket在一个单独的线程上对话。</p><p>　　5.服务器端继续等待新的连接。</p><p><span style=\"font-size: 16px;\">1.5 创建处理线程类ServerThread</span></p><p>　　这里选择实现runnable接口而不是继承Thread是因为一个类只能继承一个父类，当我需要继承其他类的时，父类就就不好处理了。</p><p>　　</p><p><span class=\"cnblogs_code_copy\"><a title=\"复制代码\" href=\"javascript:void(0);\"><img alt=\"复制代码\" src=\"/my/notes/js/ue/php/upload/95821489561164.gif\"/></a></span></p><pre>&nbsp;&nbsp;ServerThread&nbsp;=&nbsp;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;.socket&nbsp;=&nbsp;=&nbsp;=&nbsp;=&nbsp;=&nbsp;=&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;==&nbsp;&nbsp;InputStreamReader(is,&quot;GBK&quot;=&nbsp;=&nbsp;((data=br.readLine())&nbsp;!=&nbsp;){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(&quot;我是服务器，客户端提交信息为：&quot;+\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os&nbsp;==&nbsp;&quot;服务器端响应成功！&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(pw!=(os!=(br!=(isr!=(is!=(socket!=</pre><p><span class=\"cnblogs_code_copy\"><a title=\"复制代码\" href=\"javascript:void(0);\"><img alt=\"复制代码\" src=\"/my/notes/js/ue/php/upload/95821489561164.gif\"/></a></span></p><p>&nbsp;</p><p><span style=\"font-size: 16px;\">1.6 创建服务器端类</span></p><p>　　使用while以达到可以循环侦听不同客户端的连接请求。因为这是一个死循环，所以不用关闭也没有机会去关闭serverSocket。设置count值，用于记录服务器端被连接过的次数并显示客户端所在ip值。如果线程处理类是继承Thread类，那么创建新线程代码可以改为ServerThread serverThread = new ServerThread(socket);serverThread.start();</p><p><span class=\"cnblogs_code_copy\"><a title=\"复制代码\" href=\"javascript:void(0);\"><img alt=\"复制代码\" src=\"/my/notes/js/ue/php/upload/95821489561164.gif\"/></a></span></p><pre>&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ServerSocket&nbsp;serverSocket&nbsp;=&nbsp;&nbsp;ServerSocket(8888=&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count&nbsp;=&nbsp;0&quot;***服务器即将启动，等待客户端的连接***&quot;(){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;socket&nbsp;=\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Thread&nbsp;thread&nbsp;=&nbsp;&nbsp;Thread(++&quot;服务器端被连接过的次数：&quot;+=&quot;当前客户端的IP为：&quot;+\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</pre><p><span class=\"cnblogs_code_copy\"><a title=\"复制代码\" href=\"javascript:void(0);\"><img alt=\"复制代码\" src=\"/my/notes/js/ue/php/upload/95821489561164.gif\"/></a></span></p><p><span style=\"font-size: 16px;\">1.7 创建客户端类</span></p><p>　　在后面的关闭资源中，我把输入输出相关的流关闭注释了，是因为对于同一个Socket，关闭socket的时候也会把输入输出流关闭，直接关闭socket就行，当然保留也是可以的。</p><p><span class=\"cnblogs_code_copy\"><a title=\"复制代码\" href=\"javascript:void(0);\"><img alt=\"复制代码\" src=\"/my/notes/js/ue/php/upload/95821489561164.gif\"/></a></span></p><pre>&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Socket&nbsp;socket&nbsp;=&nbsp;&nbsp;Socket(&quot;localhost&quot;,&nbsp;8888\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OutputStream&nbsp;os&nbsp;=\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PrintWriter&nbsp;pw&nbsp;=&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pw.write(&quot;用户名：zzh;密码：123&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pw.flush();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;socket.shutdownOutput();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;InputStream&nbsp;is&nbsp;==&nbsp;&nbsp;BufferedReader(&nbsp;InputStreamReader(is,&nbsp;&quot;GBK&quot;=&nbsp;((data=br.readLine())!=&nbsp;&quot;我是客户端，服务器端提交信息为：&quot;+</pre><p><span class=\"cnblogs_code_copy\"><a title=\"复制代码\" href=\"javascript:void(0);\"><img alt=\"复制代码\" src=\"/my/notes/js/ue/php/upload/95821489561164.gif\"/></a></span></p><p>&nbsp;</p><p><span style=\"font-size: 16px;\">1.8 先运行服务器端，在运行客户端</span></p><p><img alt=\"\" src=\"/my/notes/js/ue/php/upload/95341489561166.png\"/></p><p><img alt=\"\" src=\"/my/notes/js/ue/php/upload/55631489561166.png\"/></p><p>此时在看服务器控制台：服务器端一直在循环侦听客户端的连接</p><p><img alt=\"\" src=\"/my/notes/js/ue/php/upload/69821489561167.png\"/></p><p><span style=\"font-size: 16px;\">1.9 进行第二个客户端的连接</span></p><p>　　修改相应信息将用户名zzh改为admin。运行客户端，打开服务端控制台</p><p>　　<img alt=\"\" src=\"/my/notes/js/ue/php/upload/14711489561167.png\"/></p><p>输出客户端的ip都为127.0.0.1，是因为服务器和客户端都是本机，在真实的环境中会显示客户端的ip地址信息。</p><p>&nbsp;</p><p><span style=\"font-size: 18px;\">二. 通过Socket实现UDP编程</span></p><p><span style=\"font-size: 16px;\">2.1 UDP编程</span></p><p>　　UDP协议又叫用户数据报协议，是无连接，不可靠的，无序的。特点是传输速度相对要快，UDP协议以数据报作为数据传输的载体。当进行数据传输时，首先需要将要传输的数据定义成数据报（Datagram），在数据报中指明数据所要达到的Socket（主机地址和端口号），然后再将数据报发送出去。相关操作类有：DatagramPacket数据报包，DatagramSocket进行端到端通信的类。</p><p><span style=\"font-size: 16px;\">2.2 服务器端实现套路</span></p><p>　　1.创建DatagramSocket，指定端口号。2.创建DatagramPacket。3.接收客户端发送的数据信息。4.读取数据。</p><p><span style=\"font-size: 16px;\">2.3 客户端实现套路</span></p><p>　　1.定义发送信息，比如发送地址，端口号和内容。2. 创建DatagramPacket，包含将要发送的信息。3.创建DatagramSocket。4.发送数据。</p><p><span style=\"font-size: 16px;\">2.4 多线程实现服务器与多客户端之间通信步骤</span></p><p>　　1.服务器端创建DatagramSocket的实例socket，<span style=\"color: rgb(255, 0, 0);\">循环调用receive（）方法，此方法在接收到数据报之前会一直阻塞</span>。</p><p>　　2.客户端创建DatagramSocket，将含有地址，端口号和内容的数据报包发送出去。</p><p>　　3. 服务器端收到数据报包packet，通过DatagramSocket和packet与客户端建立一个线程</p><p>　　4. 服务器端继续等待新的数据报包。</p><p>　　5. 发送方的DatagramPacket构造方法传递四个参数包含数据内容，数据大小，地址和端口号。接收方的DatagramPacket构造方法有两个参数接收数据和数据大小。</p><p><span style=\"font-size: 16px;\">2.5 创建服务器线程处理类UDPThread</span></p><p>　　注意，DatagramSocket的实例socket不能关闭，会出现SocketException。读取数据用到的new String(packet.getData(), 0, packet.getLength())，参数表示数据报中的字节数组，位置和长度。</p><p><span class=\"cnblogs_code_copy\"><a title=\"复制代码\" href=\"javascript:void(0);\"><img alt=\"复制代码\" src=\"/my/notes/js/ue/php/upload/95821489561164.gif\"/></a></span></p><pre>&nbsp;&nbsp;UDPThread&nbsp;=&nbsp;=&nbsp;.socket&nbsp;=.packet&nbsp;=&nbsp;=&nbsp;=&nbsp;&nbsp;port&nbsp;=&nbsp;8800[]&nbsp;data2&nbsp;=&nbsp;=&nbsp;=&nbsp;&nbsp;String(packet.getData(),&nbsp;0&quot;我是服务器，客户端说：&quot;+===&nbsp;&quot;我在响应你！&quot;=</pre><p><span class=\"cnblogs_code_copy\"><a title=\"复制代码\" href=\"javascript:void(0);\"><img alt=\"复制代码\" src=\"/my/notes/js/ue/php/upload/95821489561164.gif\"/></a></span></p><p>&nbsp;</p><p><span style=\"font-size: 16px;\">2.6 创建服务器端类</span></p><p>　　</p><p><span class=\"cnblogs_code_copy\"><a title=\"复制代码\" href=\"javascript:void(0);\"><img alt=\"复制代码\" src=\"/my/notes/js/ue/php/upload/95821489561164.gif\"/></a></span></p><pre>&nbsp;&nbsp;&nbsp;&nbsp;main(String[]&nbsp;args)&nbsp;=&nbsp;&nbsp;DatagramSocket(8800=&nbsp;[]&nbsp;data&nbsp;=&nbsp;&nbsp;count&nbsp;=&nbsp;0&quot;***服务器端启动，等待发送数据***&quot;(=&nbsp;&nbsp;[1024];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;packet&nbsp;=&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Thread&nbsp;thread&nbsp;=&nbsp;&nbsp;Thread(++&quot;服务器端被连接过的次数：&quot;+=&quot;当前客户端的IP为：&quot;+</pre><p><span class=\"cnblogs_code_copy\"><a title=\"复制代码\" href=\"javascript:void(0);\"><img alt=\"复制代码\" src=\"/my/notes/js/ue/php/upload/95821489561164.gif\"/></a></span></p><p>&nbsp;</p><p>之前我将new DatagramSocket放入了while循环中，报了java.net.BindException: Address already in use: Cannot bind，才知道<span style=\"color: rgb(255, 0, 0);\">不能在while中连续创建新的DatagramSocket对象</span>。</p><p><span style=\"font-size: 16px;\">2.7 创建客户端类</span></p><p><span class=\"cnblogs_code_copy\"><a title=\"复制代码\" href=\"javascript:void(0);\"><img alt=\"复制代码\" src=\"/my/notes/js/ue/php/upload/95821489561164.gif\"/></a></span></p><pre>&nbsp;&nbsp;&nbsp;&nbsp;main(String[]&nbsp;args)&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;InetAddress&nbsp;address&nbsp;=&nbsp;InetAddress.getByName(&quot;localhost&quot;&nbsp;port&nbsp;=&nbsp;8800[]&nbsp;data&nbsp;=&nbsp;&quot;用户名：admin;密码：123&quot;.getBytes();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DatagramPacket&nbsp;packet&nbsp;=&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DatagramSocket&nbsp;socket&nbsp;=&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[]&nbsp;data2&nbsp;=&nbsp;&nbsp;[1024=&nbsp;=&nbsp;&nbsp;String(data2,&nbsp;0&quot;我是客户端，服务器说：&quot;+</pre><p><span class=\"cnblogs_code_copy\"><a title=\"复制代码\" href=\"javascript:void(0);\"><img alt=\"复制代码\" src=\"/my/notes/js/ue/php/upload/95821489561164.gif\"/></a></span></p><p>&nbsp;</p><p><span style=\"font-size: 16px;\">2.8 先运行服务器端，在运行客户端</span></p><p><img alt=\"\" src=\"/my/notes/js/ue/php/upload/68041489561168.png\"/></p><p><img alt=\"\" src=\"/my/notes/js/ue/php/upload/32951489561168.png\"/></p><p><img alt=\"\" src=\"/my/notes/js/ue/php/upload/87591489561169.png\"/></p><p><span style=\"font-size: 16px;\">2.9 修改客户端信息，再次运行客户端</span></p><p><img alt=\"\" src=\"/my/notes/js/ue/php/upload/29471489561169.png\"/></p><p>&nbsp;</p><p>服务器控制台：服务器端一直在循环等待接收客户端的数据。</p><p>&nbsp;</p><p><span style=\"font-size: 18px;\">三. 总结</span></p><p>　　这两个例子只是简单的实现了基于TCP和UDP的socket编程，其中像多线程的优先级等都暂且没做考虑，不过依然要强调一下，服务器与多个客户端进行通信，因为是死循环，不设置多线程优先级，可能会导致运行时速度非常慢，优先级的范围1-10，默认为5，我们可以适当降低线程的优先级，比如thread.setPriority(4);</p><p>　　对于同一个socket，如果关闭了输出流比如（pw.close()），则与该输出流关联的socket也会关闭，所以一般不需要关闭输出流，当关闭socket的时候，输出流也会关闭，直接关闭socket就行。</p><p>　　在使用TCP通信传输信息时，更多是使用对象的形式来传输，可以使用ObjectOutputStream对象序列化流来传递对象，比如ObjectOutputStream os = new ObjectOutputStream（socket.getOutputStream()）;User user = new User(&quot;admin&quot;,&quot;123&quot;); os.writeObject(user);</p><p>　　希望这篇文章能让你有所获，麻烦点赞或关注我，谢谢观看！</p><p><a href=\"http://www.cnblogs.com/zhaozihan/p/6057118.html\">http://www.cnblogs.com/zhaozihan/p/6057118.html</a></p>','2017-03-15 06:59:36','2017-03-15 14:59:36'),(806,'192.168.6.1',74,'水培营养液配方','<pre id=\"best-content-1535592441\" accuse=\"aContent\" class=\"best-text mb-10\" style=\"margin-top: 10px; margin-bottom: 10px; padding: 0px; font-family: &quot;PingFang SC&quot;, &quot;Lantinghei SC&quot;, &quot;Microsoft YaHei&quot;, arial, 宋体, sans-serif, tahoma; white-space: pre-wrap; word-wrap: break-word; line-height: 29px; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255); min-height: 55px;\">//----------------------------------------------------------------------------\r\n//莫得拉\r\nA液：硝酸钙125克、硫酸亚铁12克。以上加入到1公斤（1升）水中。\r\nB液：硫酸镁37克；磷酸二氢铵28克；硝酸钾41克；硫酸锰0.4克；硫酸锌0.004克&nbsp;;&nbsp;[硫酸铜0.004克&nbsp;(2克量大也致人中毒)]；[硼酸0.6克(3克起能中至人中毒或死亡,慎用)];\r\n以上加入到1公斤（1升）水中。\r\n\r\n使用营养液时，先取A罐母液10毫升溶于1公斤水中，再在此1公斤水中加入B罐母液，即可使用\r\n//----------------------------------------------------------------------------\r\nHoagland’s（霍格兰氏）\r\n营养液配方：&nbsp;\r\n硝酸钙&nbsp;945mg/L&nbsp;&nbsp;&nbsp;&nbsp;\r\n硝酸钾&nbsp;607mg/L\r\n磷酸铵&nbsp;115mg/L\r\n硫酸镁&nbsp;493mg/L\r\n铁盐溶液&nbsp;2.5ml/L\r\n微量元素&nbsp;5ml/L&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pH=6.0&nbsp;\r\n//----------------------------------------------------------------------------\r\n改良霍格兰配方:\r\n四水硝酸钙&nbsp;945mg/L\r\n硝酸钾&nbsp;506mg/L&nbsp;&nbsp;硝酸铵&nbsp;80mg/L\r\n磷酸二氢钾&nbsp;136mg/L&nbsp;&nbsp;硫酸镁&nbsp;493mg/L\r\n铁盐溶液&nbsp;2.5ml&nbsp;&nbsp;微量元素液&nbsp;5ml&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pH=6.0\r\n//----------------------------------------------------------------------------\r\n格里克基本营养液配方&nbsp;\r\n配方\r\n单位：克/升&nbsp;&nbsp;硝酸钾&nbsp;0.542\r\n硝酸钙&nbsp;0.096&nbsp;&nbsp;过磷酸钙&nbsp;0.135\r\n硫酸镁&nbsp;0.135&nbsp;&nbsp;硫酸&nbsp;0.073\r\n硫酸铁&nbsp;0.014&nbsp;&nbsp;硫酸锰&nbsp;0.002\r\n硼砂&nbsp;0.00l7&nbsp;&nbsp;硫酸锌&nbsp;0.0008\r\n硫酸铜&nbsp;0.0006&nbsp;&nbsp;\r\n//----------------------------------------------------------------------------\r\n配方1\r\n单位：克/升\r\n硝酸钙(Ca(N03)2·4H2O)&nbsp;1.18\r\n硫酸镁(M克SO4·7H20)&nbsp;0.49&nbsp;\r\n硝酸钾(KNO3)&nbsp;0.51\r\n氯化铁FeC4H4O6&nbsp;0.005\r\n磷酸二氢钾(KH2PO4)&nbsp;0.14\r\n//----------------------------------------------------------------------------\r\n配方2&nbsp;单位：克/升\r\n硝酸钙&nbsp;0.95\r\n硝酸钾&nbsp;0.6l\r\n硫酸镁&nbsp;0.49\r\n氯化铁FeC4H4O6&nbsp;O.005\r\n磷酸二氢氨(NH4H2PO4)基酸&nbsp;0.12\r\n\r\n//-----------------------------------------------------------------------------</pre><table><tbody><tr><td style=\"word-break: break-all;\"><br/></td><td><br/></td><td><br/></td><td><br/></td><td><br/></td></tr><tr><td colspan=\"5\" width=\"641\" style=\"margin: 0px; padding: 0cm; width: 480.45pt; border-width: initial; border-style: none; border-color: initial;\"><p style=\"text-align:center;margin-top: 1.12em; margin-bottom: 6pt;\">水培及营养液原料</p></td></tr><tr><td width=\"130\" style=\"margin: 0px; padding: 0cm; width: 97.75pt;\"><p style=\"text-align:center;margin-top: 1.12em; margin-bottom: 1.12em;  line-height: 15.75pt;\">&nbsp;<a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=2013.1.0.0.iwqQX6&amp;id=40897026191\" style=\"outline: 0px;\">磷 酸二氢钾</a></p></td><td width=\"113\" style=\"margin: 0px; padding: 0cm; width: 3cm;\"><p style=\"text-align:center;margin-top: 1.12em; margin-bottom: 1.12em;  line-height: 15.75pt;\"><a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=2013.1.0.0.iwqQX6&amp;id=40620414014\" style=\"outline: 0px; white-space: nowrap;\"><span style=\"color:#000000\">磷酸氢二钾&nbsp;</span></a></p></td><td width=\"132\" style=\"margin: 0px; padding: 0cm; width: 99.2pt;\"><p style=\"text-align:center;margin-top: 1.12em; margin-bottom: 1.12em;  line-height: 15.75pt;\">&nbsp;<a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=2013.1.0.0.iwqQX6&amp;id=40620164337\" style=\"outline: 0px;\">磷酸二氢铵</a></p></td><td width=\"123\" style=\"margin: 0px; padding: 0cm; width: 92.15pt;\"><p style=\"text-align:center;margin-top: 1.12em; margin-bottom: 1.12em;  line-height: 15.75pt;\">&nbsp;<a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=2013.1.0.0.iwqQX6&amp;id=40641141378\" style=\"outline: 0px;\">磷酸氢二铵</a></p></td><td width=\"142\" style=\"margin: 0px; padding: 0cm; width: 106.3pt;\"><p style=\"text-align:center;margin-top: 1.12em; margin-bottom: 1.12em;  line-height: 15.75pt;\"><a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=a1z10.3.w4002-1379503216.9.RGLoBi&amp;id=40655276481\" style=\"outline: 0px; white-space: nowrap;\"><span style=\"color:#000000\">无水硫酸镁</span></a></p></td></tr><tr><td width=\"130\" style=\"margin: 0px; padding: 0cm; width: 97.75pt;\"><p style=\"text-align:center;margin-top: 1.12em; margin-bottom: 1.12em;  line-height: 15.75pt;\">&nbsp;<a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=2013.1.0.0.iwqQX6&amp;id=40932416738\" style=\"outline: 0px;\">硫酸亚铁</a></p></td><td width=\"113\" style=\"margin: 0px; padding: 0cm; width: 3cm;\"><p style=\"text-align:center;margin-top: 1.12em; margin-bottom: 1.12em;  line-height: 15.75pt;\"><a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=2013.1.0.0.iwqQX6&amp;id=40619758293\" style=\"outline: 0px; white-space: nowrap;\"><span style=\"color:#000000\">硫酸锰&nbsp;</span></a></p></td><td width=\"132\" style=\"margin: 0px; padding: 0cm; width: 99.2pt;\"><p style=\"text-align:center;margin-top: 1.12em; margin-bottom: 1.12em;  line-height: 15.75pt;\"><a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=2013.1.0.0.iwqQX6&amp;id=40603921364\" style=\"outline: 0px; white-space: nowrap;\"><span style=\"color:#000000\">硫酸锌&nbsp;</span></a></p></td><td width=\"123\" style=\"margin: 0px; padding: 0cm; width: 92.15pt;\"><p style=\"text-align:center;margin-top: 1.12em; margin-bottom: 1.12em;  line-height: 15.75pt;\"><a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=2013.1.0.0.iwqQX6&amp;id=40585638107\" style=\"outline: 0px; white-space: nowrap;\"><span style=\"color:#000000\">四硼酸钠&nbsp;</span></a></p></td><td width=\"142\" style=\"margin: 0px; padding: 0cm; width: 106.3pt;\"><p style=\"text-align:center;margin-top: 1.12em; margin-bottom: 1.12em;  line-height: 15.75pt;\">&nbsp;<a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=2013.1.0.0.iwqQX6&amp;id=40581678206\" style=\"outline: 0px;\">七水硫酸镁</a></p></td></tr><tr><td width=\"130\" style=\"margin: 0px; padding: 0cm; width: 97.75pt;\"><p style=\"text-align:center;margin-top: 1.12em; margin-bottom: 1.12em;  line-height: 15.75pt;\">&nbsp;<a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=2013.1.0.0.iwqQX6&amp;id=40620314099\" style=\"outline: 0px;\">硫酸钾</a></p></td><td width=\"113\" style=\"margin: 0px; padding: 0cm; width: 3cm;\"><p style=\"text-align:center;margin-top: 1.12em; margin-bottom: 1.12em;  line-height: 15.75pt;\"><a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=2013.1.0.0.iwqQX6&amp;id=40599466688\" style=\"outline: 0px; white-space: nowrap;\"><span style=\"color:#000000\">硫酸铵</span></a></p></td><td width=\"132\" style=\"margin: 0px; padding: 0cm; width: 99.2pt;\"><p style=\"text-align:center;margin-top: 1.12em; margin-bottom: 1.12em;  line-height: 15.75pt;\"><a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=2013.1.0.0.iwqQX6&amp;id=40655304319\" style=\"outline: 0px; white-space: nowrap;\"><span style=\"color:#000000\">硫酸钙</span></a></p></td><td width=\"123\" style=\"margin: 0px; padding: 0cm; width: 92.15pt;\"><p style=\"text-align:center;margin-top: 1.12em; margin-bottom: 1.12em;  line-height: 15.75pt;\"><span style=\"color:#000000\"><a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=2013.1.0.0.iwqQX6&amp;id=40604959828\" style=\"outline: 0px;\">钼酸铵</a>&nbsp;</span></p></td><td width=\"142\" style=\"margin: 0px; padding: 0cm; width: 106.3pt;\"><p style=\"text-align:center;margin-top: 1.12em; margin-bottom: 1.12em;  line-height: 15.75pt;\"><a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=2013.1.0.0.iwqQX6&amp;id=40653740727\" style=\"outline: 0px; white-space: nowrap;\"><span style=\"color:#000000\">钼酸钠&nbsp;</span></a></p></td></tr><tr><td width=\"130\" style=\"margin: 0px; padding: 0cm; width: 97.75pt;\"><p style=\"text-align:center;margin-top: 1.12em; margin-bottom: 1.12em;  line-height: 15.75pt;\"><a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=2013.1.0.0.iwqQX6&amp;id=40601537400\" style=\"outline: 0px; white-space: nowrap;\"><span style=\"color:#000000\">EDTA二钠</span></a></p></td><td width=\"113\" style=\"margin: 0px; padding: 0cm; width: 3cm;\"><p style=\"text-align:center;margin-top: 1.12em; margin-bottom: 1.12em;  line-height: 15.75pt;\">&nbsp;<a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=2013.1.0.0.iwqQX6&amp;id=40567239601\" style=\"outline: 0px;\">碘化钾</a></p></td><td width=\"132\" style=\"margin: 0px; padding: 0cm; width: 99.2pt;\"><p style=\"text-align:center;margin-top: 1.12em; margin-bottom: 1.12em;  line-height: 15.75pt;\"><span style=\"color:#000000\"><a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=2013.1.0.0.iwqQX6&amp;id=40599550258\" style=\"outline: 0px;\">无水氯化钙</a>&nbsp;</span></p></td><td width=\"123\" style=\"margin: 0px; padding: 0cm; width: 92.15pt;\"><p style=\"text-align:center;margin-top: 1.12em; margin-bottom: 1.12em;  line-height: 15.75pt;\"><span style=\"color:#000000\"><a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=2013.1.0.0.MdBLqV&amp;id=40623930983\" data-spm-anchor-id=\"2013.1.0.0\" style=\"outline: 0px;\">二水氯化钙</a>&nbsp;</span></p></td><td width=\"142\" style=\"margin: 0px; padding: 0cm; width: 106.3pt;\"><p style=\"text-align:center;margin-top: 1.12em; margin-bottom: 1.12em;  line-height: 15.75pt;\"><span style=\"color:#000000\"><a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=2013.1.0.0.iwqQX6&amp;id=40566159965\" style=\"outline: 0px;\">尿素</a>&nbsp;</span></p></td></tr><tr><td width=\"130\" style=\"margin: 0px; padding: 0cm; width: 97.75pt;\"><p style=\"text-align:center;margin-top: 1.12em; margin-bottom: 1.12em;  line-height: 15.75pt;\"><a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=2013.1.0.0.iwqQX6&amp;id=40654024663\" style=\"outline: 0px; white-space: nowrap;\"><span style=\"color:#000000\">EDTA铁钠（螯合铁）&nbsp;</span></a></p></td><td width=\"113\" style=\"margin: 0px; padding: 0cm; width: 3cm;\"><p style=\"text-align:center;margin-top: 1.12em; margin-bottom: 1.12em;  line-height: 15.75pt;\"><span style=\"color:#000000\"><a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=2013.1.0.0.iwqQX6&amp;id=40623990992\" style=\"outline: 0px;\">过磷酸钙</a>&nbsp;</span></p></td><td width=\"132\" style=\"margin: 0px; padding: 0cm; width: 99.2pt;\"><p style=\"text-align:center;margin-top: 1.12em; margin-bottom: 1.12em;  line-height: 15.75pt;\">&nbsp;</p></td><td width=\"123\" style=\"margin: 0px; padding: 0cm; width: 92.15pt;\"><br/></td><td width=\"142\" style=\"margin: 0px; padding: 0cm; width: 106.3pt;\"><p style=\"text-align:center;margin-top: 1.12em; margin-bottom: 1.12em;  line-height: 15.75pt;\">&nbsp;</p></td></tr><tr><td width=\"130\" style=\"margin: 0px; padding: 0cm; width: 97.75pt;\"><br/></td><td width=\"113\" style=\"margin: 0px; padding: 0cm; width: 3cm;\"><br/></td><td width=\"132\" style=\"margin: 0px; padding: 0cm; width: 99.2pt;\"><br/></td><td width=\"123\" style=\"margin: 0px; padding: 0cm; width: 92.15pt;\"><p style=\"text-align:center;margin-top: 1.12em; margin-bottom: 1.12em;  line-height: 15.75pt;\">&nbsp;</p></td><td width=\"142\" style=\"margin: 0px; padding: 0cm; width: 106.3pt;\"><p style=\"text-align:center;margin-top: 1.12em; margin-bottom: 1.12em;  line-height: 15.75pt;\">&nbsp;</p></td></tr><tr><td width=\"130\" style=\"margin: 0px; padding: 0cm; width: 97.75pt;\"><p style=\"text-align:center;margin-top: 1.12em; margin-bottom: 1.12em;  line-height: 15.75pt;\">&nbsp;</p></td><td width=\"113\" style=\"margin: 0px; padding: 0cm; width: 3cm;\"><p style=\"text-align:center;margin-top: 1.12em; margin-bottom: 1.12em;  line-height: 15.75pt;\"><a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=2013.1.0.0.iwqQX6&amp;id=40619398826\" style=\"outline: 0px; white-space: nowrap;\"><span style=\"color:#000000\">50克钼酸钠&nbsp;</span></a></p></td><td width=\"132\" style=\"margin: 0px; padding: 0cm; width: 99.2pt;\"><p style=\"text-align:center;margin-top: 1.12em; margin-bottom: 1.12em;  line-height: 15.75pt;\"><span style=\"color:#000000\"><a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=2013.1.0.0.iwqQX6&amp;id=40654260967\" style=\"outline: 0px;\">50克钼酸铵</a>&nbsp;</span></p></td><td width=\"123\" style=\"margin: 0px; padding: 0cm; width: 92.15pt;\"><p style=\"text-align:center;margin-top: 1.12em; margin-bottom: 1.12em;  line-height: 15.75pt;\"><a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=2013.1.0.0.iwqQX6&amp;id=40654000576\" style=\"outline: 0px; white-space: nowrap;\"><span style=\"color:#000000\">50克碘化钾&nbsp;</span></a></p></td><td width=\"142\" style=\"margin: 0px; padding: 0cm; width: 106.3pt;\"><p style=\"text-align:center;margin-top: 1.12em; margin-bottom: 1.12em;  line-height: 15.75pt;\"><a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=2013.1.0.0.iwqQX6&amp;id=40617376053\" style=\"outline: 0px; white-space: nowrap;\"><span style=\"color:#000000\">精密电子称&nbsp;</span></a></p></td></tr><tr><td colspan=\"5\" width=\"641\" style=\"margin: 0px; padding: 0cm; width: 480.45pt; border-width: initial; border-style: none; border-color: initial;\"><p style=\"text-align:center;margin-top: 1.12em; margin-bottom: 6pt;\">培养基原料</p></td></tr><tr><td width=\"130\" style=\"margin: 0px; padding: 0cm; width: 97.75pt;\"><p style=\"text-align:left;margin-top: 1.12em; margin-bottom: 1.12em; line-height: 15.75pt;\">&nbsp;<a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=a1z10.3.w4002-1379503216.11.4AwOPp&amp;id=40897026191\" style=\"outline: 0px;\">磷酸二氢钾</a></p></td><td width=\"113\" style=\"margin: 0px; padding: 0cm; width: 3cm;\"><p style=\"text-align:left;margin-top: 1.12em; margin-bottom: 1.12em; line-height: 15.75pt;\"><a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=a1z10.3.w4002-1379503216.9.1PF4R8&amp;id=40610095479\" style=\"outline: 0px; white-space: nowrap;\"><span style=\"color:#000000\">酵母浸膏粉&nbsp;</span></a></p></td><td width=\"132\" style=\"margin: 0px; padding: 0cm; width: 99.2pt;\"><p style=\"text-align:left;margin-top: 1.12em; margin-bottom: 1.12em; line-height: 15.75pt;\">&nbsp;<a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=a1z10.3.w4002-1379503216.15.UBUld9&amp;id=40603145857\" style=\"outline: 0px;\">活性炭粉</a></p></td><td width=\"123\" style=\"margin: 0px; padding: 0cm; width: 92.15pt;\"><p style=\"text-align:left;margin-top: 1.12em; margin-bottom: 1.12em; line-height: 15.75pt;\">&nbsp;<a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=a1z10.3.w4002-1379503216.12.UBUld9&amp;id=40684657722\" style=\"outline: 0px;\">活性炭粒</a></p></td><td width=\"142\" style=\"margin: 0px; padding: 0cm; width: 106.3pt;\"><p style=\"text-align:left;margin-top: 1.12em; margin-bottom: 1.12em; line-height: 15.75pt;\">&nbsp;<a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=a1z10.3.w4002-1379503216.9.oio7m4&amp;id=40623990992\" style=\"outline: 0px;\">过磷酸钙</a></p></td></tr><tr><td width=\"130\" style=\"margin: 0px; padding: 0cm; width: 97.75pt;\"><p style=\"text-align:left;margin-top: 1.12em; margin-bottom: 1.12em; line-height: 15.75pt;\">&nbsp;<a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=a1z10.3.w4002-1379503216.9.5F4nyx&amp;id=40583334611\" style=\"outline: 0px;\">蛋白胨</a></p></td><td width=\"113\" style=\"margin: 0px; padding: 0cm; width: 3cm;\"><p style=\"text-align:left;margin-top: 1.12em; margin-bottom: 1.12em; line-height: 15.75pt;\">&nbsp;<a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=a1z10.3.w4002-1379503216.9.CoG6gr&amp;id=40646029347\" style=\"outline: 0px;\">琼脂粉</a></p></td><td width=\"132\" style=\"margin: 0px; padding: 0cm; width: 99.2pt;\"><p style=\"text-align:left;margin-top: 1.12em; margin-bottom: 1.12em; line-height: 15.75pt;\">&nbsp;<a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=a1z10.3.w4002-1379503216.9.ldQVNU&amp;id=40583106975\" style=\"outline: 0px;\">葡萄糖</a></p></td><td width=\"123\" style=\"margin: 0px; padding: 0cm; width: 92.15pt;\"><p style=\"text-align:left;margin-top: 1.12em; margin-bottom: 1.12em; line-height: 15.75pt;\">&nbsp;<a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=a1z10.3.w4002-1379503216.12.IAPJs7&amp;id=40565951398\" style=\"outline: 0px;\">氧化钙</a></p></td><td width=\"142\" style=\"margin: 0px; padding: 0cm; width: 106.3pt;\"><p style=\"text-align:left;margin-top: 1.12em; margin-bottom: 1.12em; line-height: 15.75pt;\">&nbsp;<a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=a1z10.3.w4002-1379503216.9.R4Grn0&amp;id=40655304319\" style=\"outline: 0px;\">硫酸钙</a></p></td></tr><tr><td width=\"130\" style=\"margin: 0px; padding: 0cm; width: 97.75pt;\"><p style=\"text-align:left;margin-top: 1.12em; margin-bottom: 1.12em; line-height: 15.75pt;\">&nbsp;<a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=a1z10.3.w4002-1379503216.9.uPoGu7&amp;id=40599466688\" style=\"outline: 0px;\">硫酸铵</a></p></td><td width=\"113\" style=\"margin: 0px; padding: 0cm; width: 3cm;\"><p style=\"text-align:left;margin-top: 1.12em; margin-bottom: 1.12em; line-height: 15.75pt;\">&nbsp;<a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=a1z10.3.w4002-1379503216.12.qrUwE9&amp;id=40581678206\" style=\"outline: 0px;\">硫酸镁</a></p></td><td width=\"132\" style=\"margin: 0px; padding: 0cm; width: 99.2pt;\"><p style=\"text-align:left;margin-top: 1.12em; margin-bottom: 1.12em; line-height: 15.75pt;\">&nbsp;<a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=a1z10.3.w4002-1379503216.9.HGzWfd&amp;id=40617184535\" style=\"outline: 0px;\">氯化钠</a></p></td><td width=\"123\" style=\"margin: 0px; padding: 0cm; width: 92.15pt;\"><p style=\"text-align:left;margin-top: 1.12em; margin-bottom: 1.12em; line-height: 15.75pt;\">&nbsp;<a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=a1z10.3.w4002-1379503216.9.3bq9qn&amp;id=40625222073\" style=\"outline: 0px;\">蔗糖</a></p></td><td width=\"142\" style=\"margin: 0px; padding: 0cm; width: 106.3pt;\"><p style=\"text-align:left;margin-top: 1.12em; margin-bottom: 1.12em; line-height: 15.75pt;\">&nbsp;<a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=a1z10.3.w4002-1379503216.9.xSJq34&amp;id=40609671532\" style=\"outline: 0px;\">肌醇</a></p></td></tr><tr><td width=\"130\" style=\"margin: 0px; padding: 0cm; width: 97.75pt;\"><p style=\"text-align:left;margin-top: 1.12em; margin-bottom: 1.12em; line-height: 15.75pt;\">&nbsp;<a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=a1z10.3.w4002-1379503216.23.mcRBYh&amp;id=40659144073\" style=\"outline: 0px;\">维生素B1</a></p></td><td width=\"113\" style=\"margin: 0px; padding: 0cm; width: 3cm;\"><p style=\"text-align:left;margin-top: 1.12em; margin-bottom: 1.12em; line-height: 15.75pt;\">&nbsp;<a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=a1z10.3.w4002-1379503216.14.mcRBYh&amp;id=41125119718\" style=\"outline: 0px;\">维生素B2</a></p></td><td width=\"132\" style=\"margin: 0px; padding: 0cm; width: 99.2pt;\"><p style=\"text-align:left;margin-top: 1.12em; margin-bottom: 1.12em; line-height: 15.75pt;\">&nbsp;<a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=a1z10.3.w4002-1379503216.17.mcRBYh&amp;id=40609487763\" style=\"outline: 0px;\">维生素B3</a></p></td><td width=\"123\" style=\"margin: 0px; padding: 0cm; width: 92.15pt;\"><p style=\"text-align:left;margin-top: 1.12em; margin-bottom: 1.12em; line-height: 15.75pt;\"><a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=a1z10.3.w4002-1379503216.20.mcRBYh&amp;id=40658792961\" style=\"outline: 0px; white-space: nowrap;\"><span style=\"color:#000000\">&nbsp;维生素B6</span></a></p></td><td width=\"142\" style=\"margin: 0px; padding: 0cm; width: 106.3pt;\"><p style=\"text-align:left;margin-top: 1.12em; margin-bottom: 1.12em; line-height: 15.75pt;\"><a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=a1z10.3.w4002-1379503216.9.FaSki1&amp;id=40609591527\" style=\"outline: 0px; white-space: nowrap;\"><span style=\"color:#000000\">&nbsp;抗坏血酸VC</span></a></p></td></tr><tr><td width=\"130\" style=\"margin: 0px; padding: 0cm; width: 97.75pt;\"><p style=\"text-align:left;margin-top: 1.12em; margin-bottom: 1.12em; line-height: 15.75pt;\">&nbsp;<a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=a1z10.3.w4002-1379503216.20.ahuI6V&amp;id=40478470093\" style=\"outline: 0px;\">柠檬酸铵</a></p></td><td width=\"113\" style=\"margin: 0px; padding: 0cm; width: 3cm;\"><p style=\"text-align:left;margin-top: 1.12em; margin-bottom: 1.12em; line-height: 15.75pt;\">&nbsp;<a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=a1z10.3.w4002-1379503216.9.xGyN4m&amp;id=40645777424\" style=\"outline: 0px;\">甘氨酸</a></p></td><td width=\"132\" style=\"margin: 0px; padding: 0cm; width: 99.2pt;\"><p style=\"text-align:left;margin-top: 1.12em; margin-bottom: 1.12em; line-height: 15.75pt;\">&nbsp;<a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=a1z10.3.w4002-1379503216.39.lI9347&amp;id=40581694260\" style=\"outline: 0px;\">PH广泛试纸</a></p></td><td width=\"123\" style=\"margin: 0px; padding: 0cm; width: 92.15pt;\"><p style=\"text-align:left;margin-top: 1.12em; margin-bottom: 1.12em; line-height: 15.75pt;\">&nbsp;<a target=\"_blank\" href=\"http://13785807587.taobao.com/category-661910331.htm?spm=a1z10.3.w4010-1379503214.62.lI9347&amp;search=y&amp;parentCatId=518131281&amp;parentCatName=%CA%D4%D6%BD%C2%CB%D6%BD&amp;catName=PH%BE%AB%C3%DC#bd\" style=\"outline: 0px;\">PH精密试纸</a></p></td><td width=\"142\" style=\"margin: 0px; padding: 0cm; width: 106.3pt;\"><p style=\"text-align:left;margin-top: 1.12em; margin-bottom: 1.12em; line-height: 15.75pt;\">&nbsp;<a target=\"_blank\" href=\"http://item.taobao.com/item.htm?spm=a1z10.5.w4002-1379489302.13.7oBxvF&amp;id=40617376053\" style=\"outline: 0px;\">精密电子称</a></p></td></tr></tbody></table>','2017-03-16 08:16:08','2017-03-16 19:18:12'),(807,'192.168.6.1',74,'莫拉德营养液配方处理','<p><p>莫拉德营养液配方：</p><p>A液：硝酸钙125克、硫酸亚铁12克。以上加入到1公斤水中。&nbsp;</p><p>B液：硫酸镁37克；磷酸二氢铵28克；硝酸钾41克；硼酸0.6克；硫酸锰0.4克；硫酸铜0.004克；硫酸锌0.004克。以上加入到1公斤水中。&nbsp;</p><p><br/></p><p><br/></p><p><br/></p><p>1） 养液的配制过程 ① 分别称取各种（种植）肥料，置于干净容器或塑料薄膜袋，以及平摊地面的塑料薄膜袋上待用。 ② 混合和溶解肥料时，要严格注重顺序，要把Ca2 和SO42-，PO43-分开，即硝酸钙不能与硝酸钾以外的几种（种植）肥料如硫酸镁等硫酸盐类、磷酸二氢铵等混合，以免产生钙的沉淀。 ③ A罐肥料溶解顺序，先用温水溶解硫酸亚铁，然后溶解硝酸钙，边加水边搅拌直至溶解均匀；B罐先溶硫酸镁然后依次加入磷酸二氢铵和硝酸钾，加水搅拌至完全溶解，硼酸以温水溶解后加入，然后分别加入其余的微量元素肥料。A、B两种（种植）液体罐均分别搅匀后备用。 ④ 使用营养液时，先取A罐母液10毫升溶于1公斤水中，再在此1公斤水中加入B罐母液，即可使用。</p><p>（2） 样调整营养液的酸碱度 营养液的酸碱度直接影响营养液中营养成分存在的状态、转化和有效性。如磷酸盐在碱性时易发生沉淀，影响利用；锰、铁等在碱性溶液中由于溶解度降低也会发生缺乏症。所以营养液中酸碱度（即PH值）的调整是不可忽略的。 PH值的测定可采用混合指示剂比色法，根据指示剂在不同Ph值的营养液中显示不同颜色的特性，以确定营养液的PH值。营养液通常用井水或自来水配制。假如水源的PH值为中性或微碱性，则配制成的营养液PH值与水源相近，假如不符要进行调整。在调整PH值时，应先把强酸、强碱加水稀释，营养液偏碱时多用磷酸或硫酸来中和，偏酸时用氢氧化钠来中和，然后逐滴加入到营养液中，同时不断用PH试纸测定，至中性为止。 3、 水培过程中应注重的问题 （1）、配制营养液时，忌用金属容器，更不能用它来存放营养液，十分好使用玻璃、搪瓷、陶瓷器皿。 （2）、在配制营养液时假如使用自来水，则要对自来水进行处理，因为自来水中大多含有氯化物和硫化物，它们对植物均有害，还有一点重碳酸盐也会妨碍根系对铁的吸收。因此，在使用自来水配制营养液时，应加入少量的乙二胺四乙酸钠或腐殖酸盐化合物来处理（中国鲜花网）水中氯化物和硫化物。假如水培花卉技术的基质采用泥炭，就可以消除上述缺点。假如地下水的水质不良，可以采用无污染的河水或湖水配制。&nbsp;</p><p>（3）、通常情况下，盆中的栽培水过一两个月时间要更换一次，用自来水即可，但注重要将自来水放置一段时间再用，以保持根系温度平稳</p></p>','2017-03-16 18:55:58','2017-03-17 02:55:58'),(808,'192.168.6.1',74,'微量元素作用','<p class=\"des-text\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; word-wrap: break-word; word-break: normal;\">1、缺硼：作物缺硼，其茎尖生长点生长受抑制，重时萎缩死亡，节间短促，侧芽多，成多头大簇。叶片肥厚、粗糙、发皱卷曲，呈失水状凋萎。叶柄和茎变粗、变厚、开裂，茎基部膨大。开花结实不正常，花粉畸形，蕾、花、子房易脱落。豆科植物根系结瘤少或不能固氮。甘蓝型油菜的花而不实，萝卜的褐心病和水心病，甜菜的心腐病，芹菜的裂茎病，烟草的顶腐病，苹果的内木栓病和干斑病等都是因为缺硼。</p><p class=\"des-text\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; word-wrap: break-word; word-break: normal;\">2、缺锰：表现在幼嫩叶片脉间失绿或呈淡绿色，叶脉呈深绿色条纹肋骨状，受害叶片失绿部分变为灰色，局部坏死。典型的缺锰症有燕麦的灰斑病、豆类的沼泽斑点病、甜菜的黄斑病、菠菜的黄病等。</p><p class=\"des-text\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; word-wrap: break-word; word-break: normal;\">3、缺锌：表现生长受抑制，节间生长受阻，植株矮小，叶脉间出现淡绿色、黄色或白色锈斑，如水稻僵苗、果树小叶病等。</p><p class=\"des-text\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; word-wrap: break-word; word-break: normal;\">4、缺铜：表现新叶失绿发黄，叶尖发白卷曲，叶脉间出现坏死斑点，植株矮小，分蘖及侧芽增多，呈丛生状。禾本科植物常形成空穗，果树的开花结果常受到严重影响。</p><p class=\"des-text\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; word-wrap: break-word; word-break: normal;\">5、缺钼：作物缺钼，叶片容易出现斑点，叶边缘焦枯向内卷曲，呈失水状萎蔫。有时生长点死亡，花的发育受抑制，籽实不饱满。十字花科植物会出现鞭尾现象，豆科植物根瘤发育受阻，根瘤少而小。典型的缺钼症状有花椰菜的鞭尾病和柑橘的黄斑病。</p><p><br/></p>','2017-03-22 15:37:52','2017-03-22 23:37:52'),(809,'27.44.11.225',27,'合并或复制两个byte数组','<p><span id=\"_baidu_bookmark_start_1\" style=\"display: none; line-height: 0px;\">‍</span></p><p><a href=\"http://www.yeahzan.com/fa/faps.html\"><span id=\"_baidu_bookmark_start_0\" style=\"display: none; line-height: 0px;\">‍</span></a></p><pre style=\"background-color: rgb(255, 255, 255); font-family: Menlo; font-size: 9pt;\">dstbuf=&nbsp;new&nbsp;byte[100];\r\n\r\nSystem.arraycopy(buf,0,dstbuf,0,buf.length);</pre><pre class=\"brush:cpp;toolbar:false\">public&nbsp;static&nbsp;void&nbsp;arraycopy(\r\n&nbsp;&nbsp;&nbsp;&nbsp;Object&nbsp;src,\r\n&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;srcPos,\r\n&nbsp;&nbsp;&nbsp;&nbsp;Object&nbsp;dest,\r\n&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;destPos,\r\n&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;length)</pre><p><span id=\"_baidu_bookmark_end_2\" style=\"display: none; line-height: 0px;\">‍</span></p>','2017-04-06 01:49:48','2017-08-24 16:45:36'),(810,'192.168.6.1',24,'角度弧度计算','<p><span style=\"color: rgb(51, 51, 51); font-family: zuoyeFont_mathFont, &quot;Microsoft Yahei&quot;, 宋体, sans-serif; font-size: 14px;  background-color: rgb(255, 255, 238);\">角度转弧度 π/180×角度</span><br style=\"color: rgb(51, 51, 51); font-family: zuoyeFont_mathFont, &quot;Microsoft Yahei&quot;, 宋体, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 238);\"/><span style=\"color: rgb(51, 51, 51); font-family: zuoyeFont_mathFont, &quot;Microsoft Yahei&quot;, 宋体, sans-serif; font-size: 14px;  background-color: rgb(255, 255, 238);\">弧度变角度 180/π×弧度</span></p>','2017-04-10 10:25:59','2017-04-10 18:25:59'),(811,'192.168.6.1',2,'Windows UDP socket recvfrom返回10054错误的解决办法','<p>/*</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>Windows UDP socket recvfrom返回10054错误的解决办法</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>现象：</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>在Windows 7系统上，A使用UDP socket，调用sendto函数向一个目标地址B发送数据，但是目标地址B没有接收数据，如果A此时立即调用recvfrom试图接收目标地址B发回的数据的话，recvfrom会立即返回-1，WSAGetLastError()返回10045。</p><p><br/></p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>原因：</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>上述现象是Windows socket的一个bug，当UDP Socket在某次发送后收到一个不可到达的ICMP包时，这个错误将在下一个接收中返回，所以上面的套接字在下一次的接收中返回了SOCKET_ERROR,错误是10045。</p><p><br/></p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>解决办法：*/</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>#define SIO_UDP_CONNRESET _WSAIOW(IOC_VENDOR, 12)</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>BOOL bNewBehavior = FALSE;</p><p><span class=\"Apple-tab-span\" style=\"white-space:pre\">	</span>DWORD dwBytesReturned = 0;</p><p><span class=\"Apple-tab-span\" style=\"white-space: pre;\">	</span>WSAIoctl(udpSocketIPv4, SIO_UDP_CONNRESET, &amp;bNewBehavior, sizeof bNewBehavior, NULL, 0, &amp;dwBytesReturned, NULL, NULL);</p><p><br/></p>','2017-04-10 22:44:16','2017-04-11 06:44:16'),(812,'192.168.2.123',3,'UITabBarController','<p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; min-height: 13px;\"><span style=\"font-variant-ligatures: no-common-ligatures\"></span><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">- (</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">void</span><span style=\"font-variant-ligatures: no-common-ligatures\">)viewDidLoad {</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(62, 30, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">super</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">viewDidLoad</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures\">// Do any additional setup after loading the view.</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; min-height: 13px;\"><span style=\"font-variant-ligatures: no-common-ligatures\"></span><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(112, 61, 170);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures\">UIStoryboard</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> *frm=</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">NULL</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UINavigationController</span><span style=\"font-variant-ligatures: no-common-ligatures\"> *nv1=</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">NULL</span><span style=\"font-variant-ligatures: no-common-ligatures\">,*nv2=</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">NULL</span><span style=\"font-variant-ligatures: no-common-ligatures\">,*nv3=</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">NULL</span><span style=\"font-variant-ligatures: no-common-ligatures\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; min-height: 13px;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp;&nbsp; &nbsp;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(62, 30, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; frm = [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIStoryboard</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">storyboardWithName</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;Store&quot;</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">bundle</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">nil</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(62, 30, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; nv1=(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UINavigationController</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">*)frm.</span><span style=\"font-variant-ligatures: no-common-ligatures\">instantiateInitialViewController</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; min-height: 13px;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(62, 30, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; frm = [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIStoryboard</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">storyboardWithName</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;Found&quot;</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">bundle</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">nil</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(62, 30, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; nv2=(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UINavigationController</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">*)frm.</span><span style=\"font-variant-ligatures: no-common-ligatures\">instantiateInitialViewController</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; min-height: 13px;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(62, 30, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; frm = [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIStoryboard</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">storyboardWithName</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;MyProfile&quot;</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">bundle</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">nil</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(62, 30, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; nv3=(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UINavigationController</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">*)frm.</span><span style=\"font-variant-ligatures: no-common-ligatures\">instantiateInitialViewController</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; min-height: 13px;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp;&nbsp; &nbsp;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(62, 30, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSMutableArray</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> *tabc = [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSMutableArray</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">arrayWithArray</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">: [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">self</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">viewControllers</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">]];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; [tabc </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">addObject</span><span style=\"font-variant-ligatures: no-common-ligatures\">:nv1];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; [tabc </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">addObject</span><span style=\"font-variant-ligatures: no-common-ligatures\">:nv2];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; [tabc </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">addObject</span><span style=\"font-variant-ligatures: no-common-ligatures\">:nv3];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(62, 30, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">self</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">setViewControllers</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:tabc </span><span style=\"font-variant-ligatures: no-common-ligatures\">animated</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">YES</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; min-height: 13px;\"><span style=\"font-variant-ligatures: no-common-ligatures\"></span><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; [(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UITabBarItem</span><span style=\"font-variant-ligatures: no-common-ligatures\"> *)[</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">self</span><span style=\"font-variant-ligatures: no-common-ligatures\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">tabBar</span><span style=\"font-variant-ligatures: no-common-ligatures\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">items</span><span style=\"font-variant-ligatures: no-common-ligatures\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">objectAtIndex</span><span style=\"font-variant-ligatures: no-common-ligatures\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">0</span><span style=\"font-variant-ligatures: no-common-ligatures\">] </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">setTitle</span><span style=\"font-variant-ligatures: no-common-ligatures\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #78492a\">NSLocalizedString</span><span style=\"font-variant-ligatures: no-common-ligatures\">(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;MainItem0&quot;</span><span style=\"font-variant-ligatures: no-common-ligatures\">, </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">nil</span><span style=\"font-variant-ligatures: no-common-ligatures\">)];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(62, 30, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; [(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UITabBarItem</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> *)[</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">self</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">tabBar</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">items</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">objectAtIndex</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">0</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">] </span><span style=\"font-variant-ligatures: no-common-ligatures\">setImage</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:[</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIImage</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">imageNamed</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;mainItmIcon0&quot;</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">]];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; [(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UITabBarItem</span><span style=\"font-variant-ligatures: no-common-ligatures\"> *)[</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">self</span><span style=\"font-variant-ligatures: no-common-ligatures\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">tabBar</span><span style=\"font-variant-ligatures: no-common-ligatures\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">items</span><span style=\"font-variant-ligatures: no-common-ligatures\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">objectAtIndex</span><span style=\"font-variant-ligatures: no-common-ligatures\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">1</span><span style=\"font-variant-ligatures: no-common-ligatures\">] </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">setTitle</span><span style=\"font-variant-ligatures: no-common-ligatures\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #78492a\">NSLocalizedString</span><span style=\"font-variant-ligatures: no-common-ligatures\">(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;MainItem1&quot;</span><span style=\"font-variant-ligatures: no-common-ligatures\">, </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">nil</span><span style=\"font-variant-ligatures: no-common-ligatures\">)];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(62, 30, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; [(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UITabBarItem</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> *)[</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">self</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">tabBar</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">items</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">objectAtIndex</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">1</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">] </span><span style=\"font-variant-ligatures: no-common-ligatures\">setImage</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:[</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIImage</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">imageNamed</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;mainItmIcon1&quot;</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">]];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; [(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UITabBarItem</span><span style=\"font-variant-ligatures: no-common-ligatures\"> *)[</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">self</span><span style=\"font-variant-ligatures: no-common-ligatures\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">tabBar</span><span style=\"font-variant-ligatures: no-common-ligatures\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">items</span><span style=\"font-variant-ligatures: no-common-ligatures\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">objectAtIndex</span><span style=\"font-variant-ligatures: no-common-ligatures\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">2</span><span style=\"font-variant-ligatures: no-common-ligatures\">] </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">setTitle</span><span style=\"font-variant-ligatures: no-common-ligatures\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #78492a\">NSLocalizedString</span><span style=\"font-variant-ligatures: no-common-ligatures\">(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;MainItem2&quot;</span><span style=\"font-variant-ligatures: no-common-ligatures\">, </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">nil</span><span style=\"font-variant-ligatures: no-common-ligatures\">)];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(62, 30, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; [(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UITabBarItem</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> *)[</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">self</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">tabBar</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">items</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">objectAtIndex</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">2</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">] </span><span style=\"font-variant-ligatures: no-common-ligatures\">setImage</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:[</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIImage</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">imageNamed</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;mainItmIcon2&quot;</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">]];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; [(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UITabBarItem</span><span style=\"font-variant-ligatures: no-common-ligatures\"> *)[</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">self</span><span style=\"font-variant-ligatures: no-common-ligatures\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">tabBar</span><span style=\"font-variant-ligatures: no-common-ligatures\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">items</span><span style=\"font-variant-ligatures: no-common-ligatures\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">objectAtIndex</span><span style=\"font-variant-ligatures: no-common-ligatures\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">3</span><span style=\"font-variant-ligatures: no-common-ligatures\">] </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">setTitle</span><span style=\"font-variant-ligatures: no-common-ligatures\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #78492a\">NSLocalizedString</span><span style=\"font-variant-ligatures: no-common-ligatures\">(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;MainItem3&quot;</span><span style=\"font-variant-ligatures: no-common-ligatures\">, </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">nil</span><span style=\"font-variant-ligatures: no-common-ligatures\">)];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(62, 30, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; [(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UITabBarItem</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> *)[</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">self</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">tabBar</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">items</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">objectAtIndex</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">3</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">] </span><span style=\"font-variant-ligatures: no-common-ligatures\">setImage</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:[</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIImage</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">imageNamed</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;mainItmIcon3&quot;</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">]];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; min-height: 13px;\"><span style=\"font-variant-ligatures: no-common-ligatures\"></span><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">for</span><span style=\"font-variant-ligatures: no-common-ligatures\">(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">int</span><span style=\"font-variant-ligatures: no-common-ligatures\"> i=</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">0</span><span style=\"font-variant-ligatures: no-common-ligatures\">;i&lt;[</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">self</span><span style=\"font-variant-ligatures: no-common-ligatures\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">tabBar</span><span style=\"font-variant-ligatures: no-common-ligatures\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">items</span><span style=\"font-variant-ligatures: no-common-ligatures\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">count</span><span style=\"font-variant-ligatures: no-common-ligatures\">];i++)</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; {</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; &nbsp; &nbsp; [(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UITabBarItem</span><span style=\"font-variant-ligatures: no-common-ligatures\"> *)[</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">self</span><span style=\"font-variant-ligatures: no-common-ligatures\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">tabBar</span><span style=\"font-variant-ligatures: no-common-ligatures\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">items</span><span style=\"font-variant-ligatures: no-common-ligatures\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">objectAtIndex</span><span style=\"font-variant-ligatures: no-common-ligatures\">:i] </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">setTag</span><span style=\"font-variant-ligatures: no-common-ligatures\">:i];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; }</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">}</span></p><p><br/></p>','2017-04-18 14:12:00','2017-04-18 22:12:00'),(813,'192.168.5.55',24,'数值转16进制字符--适合单片机用','<pre class=\"brush:cpp;toolbar:false\">void&nbsp;toHex(int&nbsp;n,char*a,char*b)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;tmpBuf[4]={0};&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;itoa(n,tmpBuf,16);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(0==tmpBuf[1])\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//个位数\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*a=0x30;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*b=tmpBuf[0];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//两位数\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*a=tmpBuf[0];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*b=tmpBuf[1];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}</pre><p><br/></p>','2017-06-14 16:41:28','2017-06-20 12:56:21'),(814,'192.168.5.55',2,'拆分字符串','<pre class=\"brush:cpp;toolbar:false\">int&nbsp;SplitString(const&nbsp;CString&nbsp;str,&nbsp;char&nbsp;split,&nbsp;CStringArray&nbsp;&amp;strArray)&nbsp;&nbsp;\r\n{&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;strArray.RemoveAll();&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CString&nbsp;strTemp&nbsp;=&nbsp;str;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;iIndex&nbsp;=&nbsp;0;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(1)&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iIndex&nbsp;=&nbsp;strTemp.Find(split);&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(iIndex&nbsp;&gt;=&nbsp;0)&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strArray.Add(strTemp.Left(iIndex));&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strTemp&nbsp;=&nbsp;strTemp.Right(strTemp.GetLength()-iIndex-1);&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;strArray.Add(strTemp);&nbsp;&nbsp;\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;strArray.GetSize();&nbsp;&nbsp;\r\n}</pre>','2017-06-23 06:57:47','2017-06-23 14:57:47'),(815,'192.168.6.1',3,'Nav返回检测','<p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures\">//--------------------------------------------------------</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: &#39;PingFang SC&#39;; color: rgb(0, 132, 0);\"><span style=\"line-height: normal; font-family: Menlo; font-variant-ligatures: no-common-ligatures;\">//</span><span style=\"font-variant-ligatures: no-common-ligatures\">检测是否返回</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">- (</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">void</span><span style=\"font-variant-ligatures: no-common-ligatures\">)willMoveToParentViewController:(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIViewController</span><span style=\"font-variant-ligatures: no-common-ligatures\">*)parent{</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(62, 30, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">super</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">willMoveToParentViewController</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:parent];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">NSLog</span><span style=\"font-variant-ligatures: no-common-ligatures\">(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;%s,%@&quot;</span><span style=\"font-variant-ligatures: no-common-ligatures\">,</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">__FUNCTION__</span><span style=\"font-variant-ligatures: no-common-ligatures\">,parent);</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">}</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">- (</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">void</span><span style=\"font-variant-ligatures: no-common-ligatures\">)didMoveToParentViewController:(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIViewController</span><span style=\"font-variant-ligatures: no-common-ligatures\">*)parent{</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(62, 30, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">super</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">didMoveToParentViewController</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:parent];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">NSLog</span><span style=\"font-variant-ligatures: no-common-ligatures\">(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;%s,%@&quot;</span><span style=\"font-variant-ligatures: no-common-ligatures\">,</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">__FUNCTION__</span><span style=\"font-variant-ligatures: no-common-ligatures\">,parent);</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">if</span><span style=\"font-variant-ligatures: no-common-ligatures\">(!parent){</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">NSLog</span><span style=\"font-variant-ligatures: no-common-ligatures\">(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;</span><span style=\"line-height: normal; font-family: &#39;PingFang SC&#39;; font-variant-ligatures: no-common-ligatures; color: rgb(209, 47, 27);\">页面</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">pop</span><span style=\"line-height: normal; font-family: &#39;PingFang SC&#39;; font-variant-ligatures: no-common-ligatures; color: rgb(209, 47, 27);\">成功了</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">&quot;</span><span style=\"font-variant-ligatures: no-common-ligatures\">);</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">/*</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">if</span><span style=\"font-variant-ligatures: no-common-ligatures\">(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">timer</span><span style=\"font-variant-ligatures: no-common-ligatures\">)</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">timer</span><span style=\"font-variant-ligatures: no-common-ligatures\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">invalidate</span><span style=\"font-variant-ligatures: no-common-ligatures\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #4f8187\">timer</span><span style=\"font-variant-ligatures: no-common-ligatures\"> = </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">nil</span><span style=\"font-variant-ligatures: no-common-ligatures\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">*/</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; }</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">}</span></p><p><br/></p>','2017-07-04 07:57:35','2017-07-04 15:57:35'),(816,'192.168.2.123',3,'修改BUTTON的显示样式','<p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"color:#78492a\">在image那里显示<span style=\"color: rgb(120, 73, 42); font-family: Menlo; font-size: 11px;\">图片,文字在title</span></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"color:#78492a\">按钮大小标准为60x60</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"color:#78492a\">显示方式为上面图片 文字在图片正中间</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(209, 47, 27);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #78492a\"><br/></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(209, 47, 27);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #78492a\"><br/></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(209, 47, 27);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #78492a\">#import </span><span style=\"font-variant-ligatures: no-common-ligatures\">&lt;UIKit/UIKit.h&gt;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; min-height: 13px;\"><span style=\"font-variant-ligatures: no-common-ligatures\"></span><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">@interface</span><span style=\"font-variant-ligatures: no-common-ligatures\"> ExtButtonStyle : </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIButton</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; min-height: 13px;\"><span style=\"font-variant-ligatures: no-common-ligatures\"></span><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(186, 45, 162);\"><span style=\"font-variant-ligatures: no-common-ligatures\">@end</span></p><p><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(209, 47, 27);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #78492a\">#import </span><span style=\"font-variant-ligatures: no-common-ligatures\">&quot;ExtButtonStyle.h&quot;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; min-height: 13px;\"><span style=\"font-variant-ligatures: no-common-ligatures\"></span><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">@implementation</span><span style=\"font-variant-ligatures: no-common-ligatures\"> ExtButtonStyle</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; min-height: 13px;\"><span style=\"font-variant-ligatures: no-common-ligatures\"></span><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">- (</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">CGRect</span><span style=\"font-variant-ligatures: no-common-ligatures\">)imageRectForContentRect:(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">CGRect</span><span style=\"font-variant-ligatures: no-common-ligatures\">)contentRect</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">{</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">CGFloat</span><span style=\"font-variant-ligatures: no-common-ligatures\"> imageX=contentRect.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">size</span><span style=\"font-variant-ligatures: no-common-ligatures\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">width</span><span style=\"font-variant-ligatures: no-common-ligatures\">-</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">28</span><span style=\"font-variant-ligatures: no-common-ligatures\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">CGFloat</span><span style=\"font-variant-ligatures: no-common-ligatures\"> imageY=</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">0</span><span style=\"font-variant-ligatures: no-common-ligatures\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">CGFloat</span><span style=\"font-variant-ligatures: no-common-ligatures\"> width=</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">28</span><span style=\"font-variant-ligatures: no-common-ligatures\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">CGFloat</span><span style=\"font-variant-ligatures: no-common-ligatures\"> height=</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">27</span><span style=\"font-variant-ligatures: no-common-ligatures\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">return</span><span style=\"font-variant-ligatures: no-common-ligatures\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">CGRectMake</span><span style=\"font-variant-ligatures: no-common-ligatures\">(imageX/</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">2</span><span style=\"font-variant-ligatures: no-common-ligatures\">, imageY, width, height);</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">}</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; min-height: 13px;\"><span style=\"font-variant-ligatures: no-common-ligatures\"></span><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">- (</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">CGRect</span><span style=\"font-variant-ligatures: no-common-ligatures\">)titleRectForContentRect:(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">CGRect</span><span style=\"font-variant-ligatures: no-common-ligatures\">)contentRect</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">{</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">CGFloat</span><span style=\"font-variant-ligatures: no-common-ligatures\"> imageX=</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">0</span><span style=\"font-variant-ligatures: no-common-ligatures\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">CGFloat</span><span style=\"font-variant-ligatures: no-common-ligatures\"> imageY=</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">37</span><span style=\"font-variant-ligatures: no-common-ligatures\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">CGFloat</span><span style=\"font-variant-ligatures: no-common-ligatures\"> width=contentRect.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">size</span><span style=\"font-variant-ligatures: no-common-ligatures\">.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">width</span><span style=\"font-variant-ligatures: no-common-ligatures\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">CGFloat</span><span style=\"font-variant-ligatures: no-common-ligatures\"> height=</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">20</span><span style=\"font-variant-ligatures: no-common-ligatures\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">return</span><span style=\"font-variant-ligatures: no-common-ligatures\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">CGRectMake</span><span style=\"font-variant-ligatures: no-common-ligatures\">(imageX, imageY, width, height);</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; min-height: 13px;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp;&nbsp; &nbsp;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">}</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; min-height: 13px;\"><span style=\"font-variant-ligatures: no-common-ligatures\"></span><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(186, 45, 162);\"><span style=\"font-variant-ligatures: no-common-ligatures\">@end</span></p><p><br/></p>','2017-07-05 12:27:26','2017-07-05 20:50:00'),(817,'192.168.0.102',3,'UICollectionView','<p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; min-height: 13px;\"><span style=\"font-variant-ligatures: no-common-ligatures\"></span><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures\">/////////////////////////////////////////////////////////////////////////////////////////</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(120, 73, 42);\"><span style=\"font-variant-ligatures: no-common-ligatures\">#pragma mark -- UICollectionViewDataSource</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures\">//</span><span style=\"line-height: normal; font-family: &#39;PingFang SC&#39;; font-variant-ligatures: no-common-ligatures;\">定义展示的</span><span style=\"font-variant-ligatures: no-common-ligatures\">UICollectionViewCell</span><span style=\"line-height: normal; font-family: &#39;PingFang SC&#39;; font-variant-ligatures: no-common-ligatures;\">的个数</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">-(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSInteger</span><span style=\"font-variant-ligatures: no-common-ligatures\">)collectionView:(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UICollectionView</span><span style=\"font-variant-ligatures: no-common-ligatures\"> *)collectionView numberOfItemsInSection:(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSInteger</span><span style=\"font-variant-ligatures: no-common-ligatures\">)section</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">{</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">return</span><span style=\"font-variant-ligatures: no-common-ligatures\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">30</span><span style=\"font-variant-ligatures: no-common-ligatures\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">}</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures\">//</span><span style=\"line-height: normal; font-family: &#39;PingFang SC&#39;; font-variant-ligatures: no-common-ligatures;\">定义展示的</span><span style=\"font-variant-ligatures: no-common-ligatures\">Section</span><span style=\"line-height: normal; font-family: &#39;PingFang SC&#39;; font-variant-ligatures: no-common-ligatures;\">的个数</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">-(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSInteger</span><span style=\"font-variant-ligatures: no-common-ligatures\">)numberOfSectionsInCollectionView:(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UICollectionView</span><span style=\"font-variant-ligatures: no-common-ligatures\"> *)collectionView</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">{</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">return</span><span style=\"font-variant-ligatures: no-common-ligatures\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">1</span><span style=\"font-variant-ligatures: no-common-ligatures\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">}</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures\">//</span><span style=\"line-height: normal; font-family: &#39;PingFang SC&#39;; font-variant-ligatures: no-common-ligatures;\">每个</span><span style=\"font-variant-ligatures: no-common-ligatures\">UICollectionView</span><span style=\"line-height: normal; font-family: &#39;PingFang SC&#39;; font-variant-ligatures: no-common-ligatures;\">展示的内容</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">-(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UICollectionViewCell</span><span style=\"font-variant-ligatures: no-common-ligatures\"> *)collectionView:(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UICollectionView</span><span style=\"font-variant-ligatures: no-common-ligatures\"> *)collectionView cellForItemAtIndexPath:(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSIndexPath</span><span style=\"font-variant-ligatures: no-common-ligatures\"> *)indexPath</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">{</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">static</span><span style=\"font-variant-ligatures: no-common-ligatures\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span><span style=\"font-variant-ligatures: no-common-ligatures\"> * CellIdentifier = </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #d12f1b\">@&quot;GradientCell&quot;</span><span style=\"font-variant-ligatures: no-common-ligatures\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UICollectionViewCell</span><span style=\"font-variant-ligatures: no-common-ligatures\"> * cell = [collectionView </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">dequeueReusableCellWithReuseIdentifier</span><span style=\"font-variant-ligatures: no-common-ligatures\">:CellIdentifier </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">forIndexPath</span><span style=\"font-variant-ligatures: no-common-ligatures\">:indexPath];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; min-height: 13px;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp;&nbsp; &nbsp;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; cell.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">backgroundColor</span><span style=\"font-variant-ligatures: no-common-ligatures\"> = [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIColor</span><span style=\"font-variant-ligatures: no-common-ligatures\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">colorWithRed</span><span style=\"font-variant-ligatures: no-common-ligatures\">:((</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">10</span><span style=\"font-variant-ligatures: no-common-ligatures\"> * indexPath.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">row</span><span style=\"font-variant-ligatures: no-common-ligatures\">) / </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">255.0</span><span style=\"font-variant-ligatures: no-common-ligatures\">) </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">green</span><span style=\"font-variant-ligatures: no-common-ligatures\">:((</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">20</span><span style=\"font-variant-ligatures: no-common-ligatures\"> * indexPath.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">row</span><span style=\"font-variant-ligatures: no-common-ligatures\">)/</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">255.0</span><span style=\"font-variant-ligatures: no-common-ligatures\">) </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">blue</span><span style=\"font-variant-ligatures: no-common-ligatures\">:((</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">30</span><span style=\"font-variant-ligatures: no-common-ligatures\"> * indexPath.</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">row</span><span style=\"font-variant-ligatures: no-common-ligatures\">)/</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">255.0</span><span style=\"font-variant-ligatures: no-common-ligatures\">) </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">alpha</span><span style=\"font-variant-ligatures: no-common-ligatures\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">1.0f</span><span style=\"font-variant-ligatures: no-common-ligatures\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">return</span><span style=\"font-variant-ligatures: no-common-ligatures\"> cell;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">}</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(120, 73, 42);\"><span style=\"font-variant-ligatures: no-common-ligatures\">#pragma mark --UICollectionViewDelegateFlowLayout</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures\">//</span><span style=\"line-height: normal; font-family: &#39;PingFang SC&#39;; font-variant-ligatures: no-common-ligatures;\">定义每个</span><span style=\"font-variant-ligatures: no-common-ligatures\">UICollectionView </span><span style=\"line-height: normal; font-family: &#39;PingFang SC&#39;; font-variant-ligatures: no-common-ligatures;\">的大小</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">- (</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">CGSize</span><span style=\"font-variant-ligatures: no-common-ligatures\">)collectionView:(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UICollectionView</span><span style=\"font-variant-ligatures: no-common-ligatures\"> *)collectionView layout:(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UICollectionViewLayout</span><span style=\"font-variant-ligatures: no-common-ligatures\">*)collectionViewLayout sizeForItemAtIndexPath:(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSIndexPath</span><span style=\"font-variant-ligatures: no-common-ligatures\"> *)indexPath</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">{</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">return</span><span style=\"font-variant-ligatures: no-common-ligatures\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">CGSizeMake</span><span style=\"font-variant-ligatures: no-common-ligatures\">(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">96</span><span style=\"font-variant-ligatures: no-common-ligatures\">, </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">100</span><span style=\"font-variant-ligatures: no-common-ligatures\">);</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">}</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures\">//</span><span style=\"line-height: normal; font-family: &#39;PingFang SC&#39;; font-variant-ligatures: no-common-ligatures;\">定义每个</span><span style=\"font-variant-ligatures: no-common-ligatures\">UICollectionView </span><span style=\"line-height: normal; font-family: &#39;PingFang SC&#39;; font-variant-ligatures: no-common-ligatures;\">的</span><span style=\"font-variant-ligatures: no-common-ligatures\"> margin</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">-(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UIEdgeInsets</span><span style=\"font-variant-ligatures: no-common-ligatures\">)collectionView:(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UICollectionView</span><span style=\"font-variant-ligatures: no-common-ligatures\"> *)collectionView layout:(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UICollectionViewLayout</span><span style=\"font-variant-ligatures: no-common-ligatures\"> *)collectionViewLayout insetForSectionAtIndex:(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSInteger</span><span style=\"font-variant-ligatures: no-common-ligatures\">)section</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">{</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(62, 30, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">return</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">UIEdgeInsetsMake</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">5</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">, </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">5</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">, </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">5</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">, </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #272ad8\">5</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">);</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">}</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(120, 73, 42);\"><span style=\"font-variant-ligatures: no-common-ligatures\">#pragma mark --UICollectionViewDelegate</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures\">//UICollectionView</span><span style=\"line-height: normal; font-family: &#39;PingFang SC&#39;; font-variant-ligatures: no-common-ligatures;\">被选中时调用的方法</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">-(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">void</span><span style=\"font-variant-ligatures: no-common-ligatures\">)collectionView:(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UICollectionView</span><span style=\"font-variant-ligatures: no-common-ligatures\"> *)collectionView didSelectItemAtIndexPath:(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSIndexPath</span><span style=\"font-variant-ligatures: no-common-ligatures\"> *)indexPath</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">{</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UICollectionViewCell</span><span style=\"font-variant-ligatures: no-common-ligatures\"> * cell = (</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UICollectionViewCell</span><span style=\"font-variant-ligatures: no-common-ligatures\"> *)[collectionView </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">cellForItemAtIndexPath</span><span style=\"font-variant-ligatures: no-common-ligatures\">:indexPath];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(112, 61, 170);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; cell.</span><span style=\"font-variant-ligatures: no-common-ligatures\">backgroundColor</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> = [</span><span style=\"font-variant-ligatures: no-common-ligatures\">UIColor</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">whiteColor</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">}</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures\">//</span><span style=\"line-height: normal; font-family: &#39;PingFang SC&#39;; font-variant-ligatures: no-common-ligatures;\">返回这个</span><span style=\"font-variant-ligatures: no-common-ligatures\">UICollectionView</span><span style=\"line-height: normal; font-family: &#39;PingFang SC&#39;; font-variant-ligatures: no-common-ligatures;\">是否可以被选择</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">-(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">BOOL</span><span style=\"font-variant-ligatures: no-common-ligatures\">)collectionView:(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">UICollectionView</span><span style=\"font-variant-ligatures: no-common-ligatures\"> *)collectionView shouldSelectItemAtIndexPath:(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSIndexPath</span><span style=\"font-variant-ligatures: no-common-ligatures\"> *)indexPath</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">{</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(186, 45, 162);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures\">return</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">YES</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">}</span></p><p><span style=\"font-variant-ligatures: no-common-ligatures\"><br/></span></p><p><br/></p>','2017-07-06 18:22:34','2017-07-07 02:22:34'),(818,'192.168.5.55',26,'PD4红外NEC解码单通道','<pre class=\"brush:cpp;toolbar:false\">/*****************\r\n//主程序\r\n\r\n//红外数据\r\nvoid&nbsp;pfIrRecv_cb(uchar&nbsp;data1,uchar&nbsp;data2,uchar&nbsp;data3,uchar&nbsp;data4)\r\n{\r\n&nbsp;&nbsp;\r\n}\r\n\r\n\r\nvoid&nbsp;main(&nbsp;void&nbsp;)\r\n{\r\n&nbsp;&nbsp;Ir_Init(pfIrRecv_cb);\r\n&nbsp;&nbsp;while(1)\r\n&nbsp;&nbsp;{}\r\n}\r\n\r\n******************/\r\n\r\n#define&nbsp;uchar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;char\r\n#define&nbsp;ushort&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;short&nbsp;\r\n#define&nbsp;uint&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;int&nbsp;\r\n\r\n\r\ntypedef&nbsp;void&nbsp;(PF_IrRecv_cb)(uchar&nbsp;data1,uchar&nbsp;data2,uchar&nbsp;data3,uchar&nbsp;data4);\r\n\r\n//红外接收端口初始化\r\nvoid&nbsp;Ir_Init(PF_IrRecv_cb*&nbsp;pf);\r\n\r\n\r\n\r\n-------------------------------------------------------------------------------\r\n#include&lt;iostm8s103f3.h&gt;\r\n#include&nbsp;&quot;ir.h&quot;\r\n\r\n//\r\nuchar&nbsp;IrRecBuff[4];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//接收缓冲区\r\n\r\nPF_IrRecv_cb*&nbsp;g_IrRecvPF_cb;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//红外接收回调\r\n\r\n/////////////////////////////////////////////////////////////\r\nuchar&nbsp;IrRecStep&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//接收步骤\r\nuchar&nbsp;IrIndex&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//接收位数\r\nuint&nbsp;IrCycle&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//红外周期\r\nconst&nbsp;uchar&nbsp;IrCode[8]={0x01,0x02,0x04,0x08,0x10,0x20,0x40,0x80};&nbsp;\r\n\r\n\r\n#define&nbsp;REMOTE_ICF_FILTER&nbsp;&nbsp;&nbsp;0x30&nbsp;\r\n\r\n//----------------------------------------------------------\r\n#define&nbsp;IR_WC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.2&nbsp;&nbsp;//20%误差\r\n//--------引导码低电平范围------------------\r\n#define&nbsp;IrHeadHigh&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4500&nbsp;&nbsp;&nbsp;&nbsp;//us\r\n//--------数据0的占空比(高电平)范围---------\r\n#define&nbsp;IrData0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1125&nbsp;&nbsp;&nbsp;&nbsp;//us\r\n//--------数据1的占空比(高电平)范围---------\r\n#define&nbsp;IrData1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2250&nbsp;&nbsp;&nbsp;&nbsp;//us\r\n//----------------------------------------------------------\r\n\r\n/*\r\nREMOTE_CLK_DIV&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;REMOTE_CLK_PPP\r\n0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//0.125\r\n1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//0.25us\r\n2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//0.5us\r\n3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//1us\r\n4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//2us\r\n5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//4us\r\n6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//8us\r\n7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//16us\r\n*/\r\n#define&nbsp;REMOTE_CLK_DIV&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//2^1=2----8Mh/2\r\n#define&nbsp;REMOTE_CLK_PPP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.25&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//us\r\n\r\nconst&nbsp;uint&nbsp;IR_HeadHigh_Max=IrHeadHigh/REMOTE_CLK_PPP*(1+IR_WC);\r\nconst&nbsp;uint&nbsp;IR_HeadHigh_Min=IrHeadHigh/REMOTE_CLK_PPP*(1-IR_WC);\r\nconst&nbsp;uint&nbsp;IR_Data0_Max=IrData0/REMOTE_CLK_PPP*(1+IR_WC);\r\nconst&nbsp;uint&nbsp;IR_Data0_Min=IrData0/REMOTE_CLK_PPP*(1-IR_WC);\r\nconst&nbsp;uint&nbsp;IR_Data1_Max=IrData1/REMOTE_CLK_PPP*(1+IR_WC);\r\nconst&nbsp;uint&nbsp;IR_Data1_Min=IrData1/REMOTE_CLK_PPP*(1-IR_WC);\r\n\r\n//红外接收端口初始化\r\nvoid&nbsp;Ir_Init(PF_IrRecv_cb*&nbsp;pf)\r\n{\r\n&nbsp;&nbsp;PD_DDR_DDR4&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//PD4为输入\r\n&nbsp;&nbsp;PD_CR1_C14&nbsp;=&nbsp;1;\r\n&nbsp;&nbsp;PD_CR2_C24&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;//在主模块初始化\r\n&nbsp;&nbsp;TIM2_PSCR&nbsp;=REMOTE_CLK_DIV;\r\n&nbsp;&nbsp;TIM2_CCER1&nbsp;&amp;=&nbsp;0xee;//禁止输入捕获1，2\r\n&nbsp;&nbsp;TIM2_CCMR1&nbsp;|=&nbsp;(REMOTE_ICF_FILTER&nbsp;+&nbsp;0x01);\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;TIM2_CCER1&nbsp;&amp;=&nbsp;0x20;//ch1&nbsp;下降沿触发&nbsp;ic2\r\n&nbsp;&nbsp;//TIM2_CCER1&nbsp;&amp;=&nbsp;0xec;//ch1&nbsp;上升沿触发\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;TIM2_CCER1&nbsp;|=&nbsp;0x01;//使能输入捕获1\r\n&nbsp;&nbsp;TIM2_CR1&nbsp;|=&nbsp;0x05;\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;TIM2_IER|=1&lt;&lt;0;&nbsp;//使能更新中断\r\n&nbsp;&nbsp;TIM2_IER|=1&lt;&lt;1;&nbsp;//通道1捕获中断使能\r\n&nbsp;&nbsp;\r\n&nbsp;&nbsp;g_IrRecvPF_cb=pf;\r\n}&nbsp;\r\n\r\n#pragma&nbsp;vector=15\r\n__interrupt&nbsp;void&nbsp;TIM2_UPD_OVF_IRQHandler(void)\r\n{\r\n&nbsp;&nbsp;TIM2_SR1&amp;=~(1&lt;&lt;0);//清除溢出中断标志位\r\n}\r\n\r\n#pragma&nbsp;vector=16\r\n__interrupt&nbsp;void&nbsp;TIM2_CapTure_IRQHandler(void)\r\n{\r\n&nbsp;&nbsp;&nbsp;unsigned&nbsp;char&nbsp;tsr;\r\n&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;tsr=TIM2_SR1;\r\n&nbsp;&nbsp;&nbsp;if(tsr&amp;0x02)//捕获1发生捕获事件\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;switch(IrRecStep)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;0:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrIndex&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(TIM2_SR1_CC1IF&nbsp;==&nbsp;1)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint&nbsp;n,b;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b&nbsp;=&nbsp;(uint)(TIM2_CCR1H);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b&nbsp;=&nbsp;(b&nbsp;&lt;&lt;&nbsp;8)&nbsp;+&nbsp;TIM2_CCR1L;&nbsp;&nbsp;//IrCycle周期\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n=b-IrCycle;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrCycle=b;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//是否在引导码低电平范围内\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((n&nbsp;&lt;&nbsp;IR_HeadHigh_Max)&amp;&amp;(n&nbsp;&gt;&nbsp;IR_HeadHigh_Min))\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrRecStep&nbsp;=&nbsp;1;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrRecBuff[0]&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrRecBuff[1]&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrRecBuff[2]&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrRecBuff[3]&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_SR1&amp;=~(1&lt;&lt;0);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_SR1&amp;=~(1&lt;&lt;1);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TIM2_SR1_UIF&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;1:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(TIM2_SR1_CC1IF&nbsp;==&nbsp;1)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint&nbsp;n,b;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b&nbsp;=&nbsp;(uint)(TIM2_CCR1H);&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b&nbsp;=&nbsp;(b&nbsp;&lt;&lt;&nbsp;8)&nbsp;+&nbsp;TIM2_CCR1L;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n=b-IrCycle;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrCycle=b;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((n&nbsp;&gt;&nbsp;IR_Data0_Min)&amp;&amp;(n&nbsp;&lt;&nbsp;IR_Data0_Max))//高电平是否在数据0范围内\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrIndex++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;((n&nbsp;&gt;&nbsp;IR_Data1_Min)&amp;&amp;(n&nbsp;&lt;&nbsp;IR_Data1_Max))//高电平是否在数据1范围内\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrRecBuff[IrIndex&nbsp;&gt;&gt;&nbsp;3]&nbsp;|=&nbsp;IrCode[IrIndex&nbsp;&amp;&nbsp;0x07];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrIndex++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrIndex=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrRecStep&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//获取整体数据\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(IrIndex&nbsp;&gt;=&nbsp;32)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrRecStep&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g_IrRecvPF_cb(IrRecBuff[0],IrRecBuff[1],IrRecBuff[2],IrRecBuff[3]);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IrRecStep&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;TIM2_SR1&amp;=~(1&lt;&lt;1);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//清除捕获中断标志位&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n}</pre><p><br/></p>','2017-07-10 14:18:18','2017-07-11 21:35:35'),(819,'192.168.2.123',3,'不用库生成JSON字符串','<p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; min-height: 13px;\"><span style=\"font-variant-ligatures: no-common-ligatures\"></span><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">-(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span><span style=\"font-variant-ligatures: no-common-ligatures\">*)DicToJsonString:(</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">id</span><span style=\"font-variant-ligatures: no-common-ligatures\">)object</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">{</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span><span style=\"font-variant-ligatures: no-common-ligatures\"> *jsonString = </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">nil</span><span style=\"font-variant-ligatures: no-common-ligatures\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSError</span><span style=\"font-variant-ligatures: no-common-ligatures\"> *error;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSData</span><span style=\"font-variant-ligatures: no-common-ligatures\"> *jsonData = [</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSJSONSerialization</span><span style=\"font-variant-ligatures: no-common-ligatures\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">dataWithJSONObject</span><span style=\"font-variant-ligatures: no-common-ligatures\">:object</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(0, 132, 0);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">options</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">NSJSONWritingPrettyPrinted</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">error</span><span style=\"font-variant-ligatures: no-common-ligatures\">:&amp;error];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">if</span><span style=\"font-variant-ligatures: no-common-ligatures\"> (! jsonData) {</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(209, 47, 27);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">NSLog</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">(</span><span style=\"font-variant-ligatures: no-common-ligatures\">@&quot;Got an error: %@&quot;</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">, error);</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; } </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">else</span><span style=\"font-variant-ligatures: no-common-ligatures\"> {</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(62, 30, 129);\"><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">&nbsp; &nbsp; &nbsp; &nbsp; jsonString = [[</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\"> </span><span style=\"font-variant-ligatures: no-common-ligatures\">alloc</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">] </span><span style=\"font-variant-ligatures: no-common-ligatures\">initWithData</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:jsonData </span><span style=\"font-variant-ligatures: no-common-ligatures\">encoding</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">:</span><span style=\"font-variant-ligatures: no-common-ligatures\">NSUTF8StringEncoding</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #000000\">];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; }</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span><span style=\"font-variant-ligatures: no-common-ligatures\">*rets=[</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #703daa\">NSString</span><span style=\"font-variant-ligatures: no-common-ligatures\"> </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #3e1e81\">stringWithString</span><span style=\"font-variant-ligatures: no-common-ligatures\">:jsonString];</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; jsonString=</span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">nil</span><span style=\"font-variant-ligatures: no-common-ligatures\">;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">&nbsp; &nbsp; </span><span style=\"font-variant-ligatures: no-common-ligatures; color: #ba2da2\">return</span><span style=\"font-variant-ligatures: no-common-ligatures\"> rets;</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\"><span style=\"font-variant-ligatures: no-common-ligatures\">}</span></p><p><br/></p>','2017-07-21 07:25:02','2017-07-21 15:31:23'),(820,'192.168.5.55',65,'网络常用命令','<p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\">检查8080端口是否被占用：</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p><strong>[html]</strong>&nbsp;<a href=\"http://blog.csdn.net/lgh1117/article/details/48321717#\" class=\"ViewSource\" title=\"view plain\" target=\"_blank\" style=\"color: rgb(160, 160, 160); text-decoration-line: none; background-image: url(&quot;images/default/ico_plain.gif&quot;); background-position: left top; background-size: initial; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px;\">view plain</a><span data-mod=\"popu_168\">&nbsp;<a href=\"http://blog.csdn.net/lgh1117/article/details/48321717#\" class=\"CopyToClipboard\" title=\"copy\" target=\"_blank\" style=\"color: rgb(160, 160, 160); text-decoration-line: none; background-image: url(&quot;images/default/ico_copy.gif&quot;); background-position: left top; background-size: initial; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px;\">copy</a></span><span data-mod=\"popu_169\"></span></p><ol start=\"1\" class=\"dp-xml list-paddingleft-2\" style=\"padding: 0px; border: none; list-style-position: initial; list-style-image: initial; background-color: rgb(255, 255, 255); color: rgb(92, 92, 92); margin-bottom: 1px !important; margin-left: 45px !important;\"><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\"><span style=\"margin: 0px; padding: 0px; border: none; background-color: inherit;\">[root@centosvm&nbsp;/]#&nbsp;netstat&nbsp;-anp&nbsp;|&nbsp;grep&nbsp;8080&nbsp;&nbsp;</span></span></p></li><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\">tcp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;:::8080&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:::*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LISTEN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5472/java&nbsp;&nbsp;&nbsp;</span></p></li><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\">unix&nbsp;&nbsp;3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[&nbsp;]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;STREAM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CONNECTED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;18080&nbsp;&nbsp;2104/gnome-panel&nbsp;&nbsp;</span></p></li></ol><p><br style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\">查看是那个程序占用的端口：</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p><strong>[plain]</strong>&nbsp;<a href=\"http://blog.csdn.net/lgh1117/article/details/48321717#\" class=\"ViewSource\" title=\"view plain\" target=\"_blank\" style=\"color: rgb(160, 160, 160); text-decoration-line: none; background-image: url(&quot;images/default/ico_plain.gif&quot;); background-position: left top; background-size: initial; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px;\">view plain</a><span data-mod=\"popu_168\">&nbsp;<a href=\"http://blog.csdn.net/lgh1117/article/details/48321717#\" class=\"CopyToClipboard\" title=\"copy\" target=\"_blank\" style=\"color: rgb(160, 160, 160); text-decoration-line: none; background-image: url(&quot;images/default/ico_copy.gif&quot;); background-position: left top; background-size: initial; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px;\">copy</a></span><span data-mod=\"popu_169\"></span></p><ol start=\"1\" style=\"padding: 0px; border: none; list-style-position: initial; list-style-image: initial; background-color: rgb(255, 255, 255); color: rgb(92, 92, 92); margin-bottom: 1px !important; margin-left: 45px !important;\" class=\" list-paddingleft-2\"><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\"><span style=\"margin: 0px; padding: 0px; border: none; background-color: inherit;\">[root@centosvm&nbsp;/]#&nbsp;lsof&nbsp;-i:8080&nbsp;&nbsp;</span></span></p></li><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\">COMMAND&nbsp;&nbsp;PID&nbsp;USER&nbsp;&nbsp;&nbsp;FD&nbsp;&nbsp;&nbsp;TYPE&nbsp;DEVICE&nbsp;SIZE/OFF&nbsp;NODE&nbsp;NAME&nbsp;&nbsp;</span></p></li><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\">java&nbsp;&nbsp;&nbsp;&nbsp;5472&nbsp;root&nbsp;&nbsp;&nbsp;38u&nbsp;&nbsp;IPv6&nbsp;&nbsp;39296&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0t0&nbsp;&nbsp;TCP&nbsp;*:webcache&nbsp;(LISTEN)&nbsp;&nbsp;</span></p></li></ol><p><br style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px;  background-color: rgb(255, 255, 255);\">查看该应用程序的进程信息：</span></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p><strong>[plain]</strong>&nbsp;<a href=\"http://blog.csdn.net/lgh1117/article/details/48321717#\" class=\"ViewSource\" title=\"view plain\" target=\"_blank\" style=\"color: rgb(160, 160, 160); text-decoration-line: none; background-image: url(&quot;images/default/ico_plain.gif&quot;); background-position: left top; background-size: initial; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px;\">view plain</a><span data-mod=\"popu_168\">&nbsp;<a href=\"http://blog.csdn.net/lgh1117/article/details/48321717#\" class=\"CopyToClipboard\" title=\"copy\" target=\"_blank\" style=\"color: rgb(160, 160, 160); text-decoration-line: none; background-image: url(&quot;images/default/ico_copy.gif&quot;); background-position: left top; background-size: initial; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px;\">copy</a></span><span data-mod=\"popu_169\"></span></p><ol start=\"1\" style=\"padding: 0px; border: none; list-style-position: initial; list-style-image: initial; background-color: rgb(255, 255, 255); color: rgb(92, 92, 92); margin-bottom: 1px !important; margin-left: 45px !important;\" class=\" list-paddingleft-2\"><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\"><span style=\"margin: 0px; padding: 0px; border: none; background-color: inherit;\">[root@centosvm&nbsp;/]#&nbsp;ps&nbsp;5472&nbsp;&nbsp;</span></span></p></li><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\">&nbsp;&nbsp;PID&nbsp;TTY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;STAT&nbsp;&nbsp;&nbsp;TIME&nbsp;COMMAND&nbsp;&nbsp;</span></p></li><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\">&nbsp;5472&nbsp;pts/4&nbsp;&nbsp;&nbsp;&nbsp;Sl&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0:23&nbsp;/usr/java/jdk1.7.0_79/jre/bin/java&nbsp;-Djava.util.loggin&nbsp;&nbsp;</span></p></li></ol><p><br style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\">查看该进程的状态：</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p><strong>[plain]</strong>&nbsp;<a href=\"http://blog.csdn.net/lgh1117/article/details/48321717#\" class=\"ViewSource\" title=\"view plain\" target=\"_blank\" style=\"color: rgb(160, 160, 160); text-decoration-line: none; background-image: url(&quot;images/default/ico_plain.gif&quot;); background-position: left top; background-size: initial; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px;\">view plain</a><span data-mod=\"popu_168\">&nbsp;<a href=\"http://blog.csdn.net/lgh1117/article/details/48321717#\" class=\"CopyToClipboard\" title=\"copy\" target=\"_blank\" style=\"color: rgb(160, 160, 160); text-decoration-line: none; background-image: url(&quot;images/default/ico_copy.gif&quot;); background-position: left top; background-size: initial; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px;\">copy</a></span><span data-mod=\"popu_169\"></span></p><ol start=\"1\" style=\"padding: 0px; border: none; list-style-position: initial; list-style-image: initial; background-color: rgb(255, 255, 255); color: rgb(92, 92, 92); margin-bottom: 1px !important; margin-left: 45px !important;\" class=\" list-paddingleft-2\"><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\"><span style=\"margin: 0px; padding: 0px; border: none; background-color: inherit;\">[root@centosvm&nbsp;/]#&nbsp;pidstat&nbsp;-p&nbsp;5472&nbsp;&nbsp;</span></span></p></li><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\">Linux&nbsp;2.6.32-71.el6.x86_64&nbsp;(centosvm)&nbsp;&nbsp;&nbsp;2015-09-09&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_x86_64_&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(1&nbsp;CPU)&nbsp;&nbsp;</span></p></li><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\">2015-09-09&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PID&nbsp;&nbsp;&nbsp;&nbsp;%usr&nbsp;%system&nbsp;&nbsp;%guest&nbsp;&nbsp;&nbsp;&nbsp;%CPU&nbsp;&nbsp;&nbsp;CPU&nbsp;&nbsp;Command&nbsp;&nbsp;</span></p></li><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\">2015-09-09&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5472&nbsp;&nbsp;&nbsp;&nbsp;0.15&nbsp;&nbsp;&nbsp;&nbsp;0.02&nbsp;&nbsp;&nbsp;&nbsp;0.00&nbsp;&nbsp;&nbsp;&nbsp;0.17&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;java&nbsp;&nbsp;</span></p></li></ol><p><br style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px;  background-color: rgb(255, 255, 255);\">pid：进程号</span></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\">%usr：用户应用程序占用cpu</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\">%system：系统占用cpu</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\">%guest:其它cpu</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\">%cpu：总共占用的cpu</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\">cpu：cpu核数，由于是虚拟机，所以0</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\">command：进程指令</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\">查看端口服务是否正常运行：</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p><strong>[plain]</strong>&nbsp;<a href=\"http://blog.csdn.net/lgh1117/article/details/48321717#\" class=\"ViewSource\" title=\"view plain\" target=\"_blank\" style=\"color: rgb(160, 160, 160); text-decoration-line: none; background-image: url(&quot;images/default/ico_plain.gif&quot;); background-position: left top; background-size: initial; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px;\">view plain</a><span data-mod=\"popu_168\">&nbsp;<a href=\"http://blog.csdn.net/lgh1117/article/details/48321717#\" class=\"CopyToClipboard\" title=\"copy\" target=\"_blank\" style=\"color: rgb(160, 160, 160); text-decoration-line: none; background-image: url(&quot;images/default/ico_copy.gif&quot;); background-position: left top; background-size: initial; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px;\">copy</a></span><span data-mod=\"popu_169\"></span></p><ol start=\"1\" style=\"padding: 0px; border: none; list-style-position: initial; list-style-image: initial; background-color: rgb(255, 255, 255); color: rgb(92, 92, 92); margin-bottom: 1px !important; margin-left: 45px !important;\" class=\" list-paddingleft-2\"><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\"><span style=\"margin: 0px; padding: 0px; border: none; background-color: inherit;\">[root@centosvm&nbsp;/]#&nbsp;service&nbsp;iptables&nbsp;status&nbsp;&nbsp;</span></span></p></li><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\">Chain&nbsp;INPUT&nbsp;(policy&nbsp;ACCEPT)&nbsp;&nbsp;</span></p></li><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\">num&nbsp;&nbsp;target&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prot&nbsp;opt&nbsp;source&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destination&nbsp;&nbsp;</span></p></li><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\">1&nbsp;&nbsp;&nbsp;&nbsp;ACCEPT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;&nbsp;--&nbsp;&nbsp;0.0.0.0/0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.0.0.0/0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;RELATED,ESTABLISHED&nbsp;&nbsp;</span></p></li><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\">2&nbsp;&nbsp;&nbsp;&nbsp;ACCEPT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;icmp&nbsp;--&nbsp;&nbsp;0.0.0.0/0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.0.0.0/0&nbsp;&nbsp;</span></p></li><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\">3&nbsp;&nbsp;&nbsp;&nbsp;ACCEPT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;&nbsp;--&nbsp;&nbsp;0.0.0.0/0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.0.0.0/0&nbsp;&nbsp;</span></p></li><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\">4&nbsp;&nbsp;&nbsp;&nbsp;ACCEPT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tcp&nbsp;&nbsp;--&nbsp;&nbsp;0.0.0.0/0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.0.0.0/0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;NEW&nbsp;tcp&nbsp;dpt:22&nbsp;&nbsp;</span></p></li><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\">&lt;span&nbsp;style=&quot;color:#FF6666;&quot;&gt;5&nbsp;&nbsp;&nbsp;&nbsp;ACCEPT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tcp&nbsp;&nbsp;--&nbsp;&nbsp;0.0.0.0/0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.0.0.0/0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state&nbsp;NEW&nbsp;tcp&nbsp;dpt:8080&lt;/span&gt;&nbsp;&nbsp;</span></p></li><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\">6&nbsp;&nbsp;&nbsp;&nbsp;REJECT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;&nbsp;--&nbsp;&nbsp;0.0.0.0/0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.0.0.0/0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reject-with&nbsp;icmp-host-prohibited&nbsp;&nbsp;</span></p></li><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\">Chain&nbsp;FORWARD&nbsp;(policy&nbsp;ACCEPT)&nbsp;&nbsp;</span></p></li><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\">num&nbsp;&nbsp;target&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prot&nbsp;opt&nbsp;source&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destination&nbsp;&nbsp;</span></p></li><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\">1&nbsp;&nbsp;&nbsp;&nbsp;REJECT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;&nbsp;--&nbsp;&nbsp;0.0.0.0/0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.0.0.0/0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reject-with&nbsp;icmp-host-prohibited&nbsp;&nbsp;</span></p></li><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\">&nbsp;&nbsp;</span></p></li><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\">Chain&nbsp;OUTPUT&nbsp;(policy&nbsp;ACCEPT)&nbsp;&nbsp;</span></p></li><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\">num&nbsp;&nbsp;target&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prot&nbsp;opt&nbsp;source&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destination&nbsp;&nbsp;</span></p></li></ol><p><br style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px;  background-color: rgb(255, 255, 255);\">在防火墙总添加端口：</span></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\">用vi打开 /etc/sysconfig/iptables</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\">打开防火前通过端口:</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\">-A INPUT -m state --state NEW -m tcp -p tcp --dport 8080 -j ACCEPT<br/><br/>此行必须放在<br/><br/>-A INPUT -j REJECT --reject-with icmp-host-prohibited<br/>-A FORWARD -j REJECT --reject-with icmp-host-prohibited<br/><br/>这两行的前面，否则一样无效。</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\">编辑好防火墙，重启防火墙服务：</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\">[root@centosvm /]# service iptables restart<br/><br/>重启服务tomcat，就可以访问tomcat了。</p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p><p><strong>[plain]</strong>&nbsp;<a href=\"http://blog.csdn.net/lgh1117/article/details/48321717#\" class=\"ViewSource\" title=\"view plain\" target=\"_blank\" style=\"color: rgb(160, 160, 160); text-decoration-line: none; background-image: url(&quot;images/default/ico_plain.gif&quot;); background-position: left top; background-size: initial; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px;\">view plain</a><span data-mod=\"popu_168\">&nbsp;<a href=\"http://blog.csdn.net/lgh1117/article/details/48321717#\" class=\"CopyToClipboard\" title=\"copy\" target=\"_blank\" style=\"color: rgb(160, 160, 160); text-decoration-line: none; background-image: url(&quot;images/default/ico_copy.gif&quot;); background-position: left top; background-size: initial; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: inherit; border: none; padding: 1px; margin: 0px 10px 0px 0px; font-size: 9px; display: inline-block; width: 16px; height: 16px; text-indent: -2000px;\">copy</a></span><span data-mod=\"popu_169\"></span></p><ol start=\"1\" style=\"padding: 0px; border: none; list-style-position: initial; list-style-image: initial; background-color: rgb(255, 255, 255); color: rgb(92, 92, 92); margin-bottom: 1px !important; margin-left: 45px !important;\" class=\" list-paddingleft-2\"><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\"><span style=\"margin: 0px; padding: 0px; border: none; background-color: inherit;\">让服务器&nbsp;启动时候自动&nbsp;运行&nbsp;tomcat&nbsp;了。&nbsp;&nbsp;&nbsp;&nbsp;</span></span></p></li><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\">我们最简单的方法就是通过startup.sh来自动启动Tomcat，编辑vi&nbsp;/etc/rc.d/rc.local&nbsp;&nbsp;&nbsp;&nbsp;</span></p></li><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\">文件最后增加内容(假设JDK目录是/usr/java，Tomcat目录是/usr/local/tomcat)&nbsp;&nbsp;&nbsp;&nbsp;</span></p></li><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\">export&nbsp;JDK_HOME=/usr/java/jdk1.7.0&nbsp;&nbsp;&nbsp;&nbsp;</span></p></li><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\">export&nbsp;JAVA_HOME=/usr/java/jdk1.7.0&nbsp;&nbsp;&nbsp;&nbsp;</span></p></li><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\">/usr/tomcat/bin/startup.sh&nbsp;&nbsp;&nbsp;&nbsp;</span></p></li><li><p><span style=\"margin: 0px; padding: 0px; border: none; color: black; background-color: inherit;\">保存退出 &nbsp; &nbsp;</span></p></li></ol><p><br/></p>','2017-07-23 11:12:36','2017-07-23 19:12:55'),(821,'192.168.0.100',5,'正确导入android-support-v4.jar的方法','<h1 class=\"postTitle\" style=\"margin: 0px; padding: 0px; position: relative; width: 690px; border: none; overflow: hidden; font-family: verdana, Arial, Helvetica; white-space: normal; background-color: rgb(255, 255, 255);\"><a id=\"cb_post_title_url\" class=\"postTitle2\" href=\"http://www.cnblogs.com/ada-zheng/p/3231944.html\" style=\"margin: 0px; padding: 0px; color: rgb(106, 99, 82); font-family: 微软雅黑, 华文细黑, 黑体, Arial; font-size: 18px; font-weight: normal; text-decoration: none; line-height: normal;\">正确导入android-support-v4.jar的方法</a></h1><p style=\"margin: 10px auto; padding: 0px;\">在导入使用了ViewPage,ActionBar,Fragment的工程后出现错误，很有可能是没有导入4.0版本的支持包。本人也是碰到这个问题，特意搜索了一下，得到解决办法如下，记录下来，以免忘记。&nbsp;<br style=\"margin: 0px; padding: 0px;\"/>正确导入方法为：&nbsp;<br style=\"margin: 0px; padding: 0px;\"/>首先在Project-&gt;properties-&gt;Java Build Path-&gt;Libraries-&gt;Add External Jars中加入sdk目录下的extras/android/support/v4/android-support-v4.jar（如果找不到，则需要 用sdk manager下载android support package）。加入这个jar包之后就可以使用ViewPager类了。</p><p><br/></p>','2017-07-29 07:03:15','2017-07-29 15:03:15'),(822,'27.44.24.101',5,'BaseFragment使用包涵ToolBar','<pre class=\"brush:java;toolbar:false\">package&nbsp;android.zh.home;\r\n\r\nimport&nbsp;android.app.Activity;\r\nimport&nbsp;android.content.Intent;\r\nimport&nbsp;android.graphics.Color;\r\nimport&nbsp;android.os.Bundle;\r\nimport&nbsp;android.support.annotation.Nullable;\r\nimport&nbsp;android.support.design.widget.Snackbar;\r\nimport&nbsp;android.support.v4.app.Fragment;\r\nimport&nbsp;android.support.v7.app.ActionBar;\r\nimport&nbsp;android.support.v7.app.AppCompatActivity;\r\nimport&nbsp;android.support.v7.widget.Toolbar;\r\nimport&nbsp;android.util.Log;\r\nimport&nbsp;android.view.LayoutInflater;\r\nimport&nbsp;android.view.Menu;\r\nimport&nbsp;android.view.MenuInflater;\r\nimport&nbsp;android.view.View;\r\nimport&nbsp;android.view.ViewGroup;\r\nimport&nbsp;android.widget.TextView;\r\nimport&nbsp;android.zh.home.R;\r\n\r\nimport&nbsp;static&nbsp;android.app.Activity.RESULT_OK;\r\n\r\n/**\r\n&nbsp;*&nbsp;Created&nbsp;by&nbsp;han.zh&nbsp;on&nbsp;2017/8/6.\r\n&nbsp;*&nbsp;BaseFragment\r\n&nbsp;*\r\n&nbsp;*\r\n&nbsp;*&nbsp;Fragment&nbsp;XML&nbsp;Content:\r\n&nbsp;*\r\n&nbsp;&lt;?xml&nbsp;version=&quot;1.0&quot;&nbsp;encoding=&quot;utf-8&quot;?&gt;\r\n&nbsp;&lt;RelativeLayout&nbsp;xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n&nbsp;android:layout_width=&quot;match_parent&quot;\r\n&nbsp;android:layout_height=&quot;match_parent&quot;\r\n&nbsp;android:id=&quot;@+id/container&quot;\r\n&nbsp;android:orientation=&quot;vertical&quot;&gt;\r\n\r\n&nbsp;&lt;!--&nbsp;navigationItemLeftButton&nbsp;--&gt;\r\n&nbsp;&lt;android.support.v7.widget.Toolbar\r\n&nbsp;android:id=&quot;@+id/toolbarId&quot;\r\n&nbsp;android:layout_width=&quot;match_parent&quot;\r\n&nbsp;android:layout_height=&quot;wrap_content&quot;\r\n&nbsp;android:layout_alignParentLeft=&quot;true&quot;\r\n&nbsp;android:layout_alignParentStart=&quot;true&quot;\r\n&nbsp;android:layout_alignParentTop=&quot;true&quot;\r\n&nbsp;android:background=&quot;@android:color/holo_blue_light&quot;\r\n&nbsp;android:minHeight=&quot;?attr/actionBarSize&quot;\r\n&nbsp;android:theme=&quot;?attr/actionBarTheme&quot;&nbsp;&gt;\r\n&nbsp;&lt;TextView\r\n&nbsp;android:id=&quot;@+id/toolbar_title&quot;\r\n&nbsp;android:layout_width=&quot;wrap_content&quot;\r\n&nbsp;android:layout_height=&quot;wrap_content&quot;\r\n&nbsp;android:layout_gravity=&quot;center&quot;\r\n&nbsp;android:textColor=&quot;#FFF&quot;\r\n&nbsp;android:textSize=&quot;20sp&quot;&nbsp;/&gt;\r\n&nbsp;&lt;/android.support.v7.widget.Toolbar&gt;\r\n\r\n&nbsp;&lt;/RelativeLayout&gt;\r\n\r\n\r\n\r\n&nbsp;*\r\n&nbsp;*\r\n&nbsp;*&nbsp;Menu&nbsp;XML&nbsp;Content:\r\n&nbsp;*\r\n&nbsp;&lt;menu&nbsp;xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n&nbsp;xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n&nbsp;xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n&nbsp;tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n&nbsp;&lt;item&nbsp;android:id=&quot;@+id/action_0&quot;\r\n&nbsp;android:title=&quot;AA&quot;\r\n&nbsp;android:orderInCategory=&quot;80&quot;\r\n&nbsp;android:icon=&quot;@mipmap/item_camera&quot;\r\n&nbsp;app:showAsAction=&quot;ifRoom&quot;&nbsp;/&gt;\r\n\r\n&nbsp;&lt;/menu&gt;\r\n\r\n&nbsp;*/\r\n\r\npublic&nbsp;class&nbsp;BaseFragment&nbsp;extends&nbsp;Fragment&nbsp;{\r\n/*\r\n加载例子\r\npackage&nbsp;mydevice.a;\r\n\r\nimport&nbsp;android.content.Context;\r\nimport&nbsp;android.net.Uri;\r\nimport&nbsp;android.os.Build;\r\nimport&nbsp;android.os.Bundle;\r\nimport&nbsp;android.support.annotation.RequiresApi;\r\nimport&nbsp;android.support.design.widget.Snackbar;\r\nimport&nbsp;android.support.v4.app.Fragment;\r\nimport&nbsp;android.support.v4.app.FragmentActivity;\r\nimport&nbsp;android.support.v7.app.ActionBar;\r\nimport&nbsp;android.support.v7.app.AppCompatActivity;\r\nimport&nbsp;android.support.v7.widget.Toolbar;\r\nimport&nbsp;android.util.DisplayMetrics;\r\nimport&nbsp;android.view.Display;\r\nimport&nbsp;android.view.LayoutInflater;\r\nimport&nbsp;android.view.Menu;\r\nimport&nbsp;android.view.MenuInflater;\r\nimport&nbsp;android.view.MenuItem;\r\nimport&nbsp;android.view.View;\r\nimport&nbsp;android.view.ViewGroup;\r\n\r\nimport&nbsp;android.widget.TextView;\r\nimport&nbsp;android.zh.home.BaseFragment;\r\nimport&nbsp;android.zh.home.R;\r\n\r\n//-----------------------------------\r\n//进入另一个Fragment界面\r\nvoid&nbsp;jumpForm()\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;FragmentTransaction&nbsp;transaction&nbsp;=&nbsp;getFragmentManager().beginTransaction();\r\n&nbsp;&nbsp;&nbsp;&nbsp;transaction.setCustomAnimations(R.anim.in_0,&nbsp;R.anim.in_1);&nbsp;//自定义动画\r\n&nbsp;&nbsp;&nbsp;&nbsp;transaction.addToBackStack(null)&nbsp;&nbsp;//将当前fragment加入到返回栈中\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replace(R.id.container3,&nbsp;new&nbsp;MyLogin()).commit();\r\n}\r\n\r\n//从栈中将当前fragment推出\r\ngetFragmentManager().popBackStack();\r\n\r\n//从Fragment界面进入另一个Activity\r\nIntent&nbsp;intent&nbsp;=&nbsp;new&nbsp;Intent(getActivity(),&nbsp;ControlSetting.class);\r\nBundle&nbsp;bundle&nbsp;=&nbsp;new&nbsp;Bundle();//该类用作携带数据\r\nintent.putExtras(bundle);//附带上额外的数据\r\nstartActivityFromFragment(intent,(byte)0,(byte)123);\r\n//跳转动画&nbsp;getActivity().overridePendingTransition(R.anim.in_anim,R.anim.out_anim);\r\n//------------------------------------\r\n\r\npublic&nbsp;class&nbsp;ControlMain&nbsp;extends&nbsp;BaseFragment&nbsp;{\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;ControlMain&nbsp;newInstance(String&nbsp;param1)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ControlMain&nbsp;fragment&nbsp;=&nbsp;new&nbsp;ControlMain();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Bundle&nbsp;args&nbsp;=&nbsp;new&nbsp;Bundle();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;args.putString(&quot;info&quot;,&nbsp;param1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fragment.setArguments(args);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;fragment;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;View&nbsp;onCreateView(LayoutInflater&nbsp;inflater,&nbsp;ViewGroup&nbsp;container,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Bundle&nbsp;savedInstanceState)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;inflater.inflate(R.layout.fgm_ctrl_main,&nbsp;container,&nbsp;false);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;onViewCreated(View&nbsp;view,&nbsp;Bundle&nbsp;savedInstanceState)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super.onViewCreated(view,&nbsp;savedInstanceState);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initToolbar(view,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R.drawable.ic_home_black_24dp,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R.id.toolbarId,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getString(R.string.title_control_setting),\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;BBBB&quot;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R.mipmap.nav_back,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;onBackClick,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R.menu.menu_ctrl_main,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;onMenuItemClick);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TextView&nbsp;tvInfo&nbsp;=&nbsp;(TextView)&nbsp;view.findViewById(R.id.toolbar_title);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tvInfo.setText(getString(R.string.title_my_device));\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;View.OnClickListener&nbsp;onBackClick&nbsp;=&nbsp;&nbsp;new&nbsp;View.OnClickListener()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;onClick(View&nbsp;v)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Snackbar.make(v,&nbsp;&quot;Don&#39;t&nbsp;click&nbsp;me.please!111111.2222222&quot;,&nbsp;Snackbar.LENGTH_SHORT).show();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;};\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;Toolbar.OnMenuItemClickListener&nbsp;onMenuItemClick&nbsp;=&nbsp;new&nbsp;Toolbar.OnMenuItemClickListener()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;boolean&nbsp;onMenuItemClick(MenuItem&nbsp;menuItem)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;switch&nbsp;(menuItem.getItemId())&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;R.id.action_0:\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;true;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;};\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;onActivityResult(int&nbsp;requestCode,&nbsp;int&nbsp;resultCode,&nbsp;Intent&nbsp;data)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super.onActivityResult(requestCode,&nbsp;resultCode,&nbsp;data);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;fragmentIndex=requestCode&gt;&gt;8;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;reqCode=requestCode&amp;0xff;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;*/\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;/////////////////////////////////////////////////////\r\n&nbsp;&nbsp;&nbsp;&nbsp;//往下加载TOOLBAR\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;initToolbar(View&nbsp;view,int&nbsp;titleImage,int&nbsp;toolbarID,String&nbsp;title,String&nbsp;subTitle,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;backButtonImage,View.OnClickListener&nbsp;backlistener,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;menuID,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Toolbar.OnMenuItemClickListener&nbsp;listener)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Toolbar&nbsp;toolbar&nbsp;=&nbsp;(Toolbar)view.findViewById(toolbarID);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;toolbar.getMenu().clear();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;App&nbsp;Logo\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(titleImage!=0)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;toolbar.setLogo(titleImage);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Title\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(null!=title&nbsp;&amp;&amp;&nbsp;&quot;&quot;!=title)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;toolbar.setTitle(title);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Sub&nbsp;Title\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(null!=subTitle)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{toolbar.setSubtitle(subTitle);}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;toolbar.setTitleTextColor(Color.WHITE);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;toolbar.setSubtitleTextColor(Color.WHITE);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(0!=menuID)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setHasOptionsMenu(true);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;toolbar.setOnMenuItemClickListener(listener);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;toolbar.inflateMenu(menuID);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setHasOptionsMenu(false);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;toolbar.setOnMenuItemClickListener(null);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(backButtonImage!=0)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;toolbar.setNavigationOnClickListener(backlistener);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;toolbar.setNavigationIcon(backButtonImage);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;startActivityFromFragment(Intent&nbsp;intent,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;byte&nbsp;fragmentIndex,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;byte&nbsp;requestCode)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;rcode=fragmentIndex&lt;&lt;8|requestCode&amp;0xff;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super.startActivityForResult(intent,&nbsp;rcode);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;用于Activity界面关闭并返回结果的事件\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;btnBack_click(View&nbsp;v)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;关闭并反回结果\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Intent&nbsp;data&nbsp;=&nbsp;new&nbsp;Intent();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data.putExtra(&quot;name&quot;,&nbsp;&quot;hah&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.setResult(222,&nbsp;data);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.finish();&nbsp;&nbsp;//finish当前activity\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.overridePendingTransition(R.anim.back_0,R.anim.back_1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}</pre><p><br/></p>','2017-08-01 09:01:49','2017-08-27 01:53:24'),(823,'27.44.9.28',5,'Activity界面之间跳转动画','<pre class=\"brush:html;toolbar:false;\">/////////////////////////////////////////////\r\n//in_0.xml\r\n&lt;?xml&nbsp;version=&quot;1.0&quot;&nbsp;encoding=&quot;utf-8&quot;?&gt;\r\n&lt;set&nbsp;xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n&lt;translate&nbsp;android:duration=&quot;200&quot;\r\nandroid:fromXDelta=&quot;100%&quot;\r\nandroid:toXDelta=&quot;0&quot;\r\nandroid:fromYDelta=&quot;0&quot;\r\nandroid:toYDelta=&quot;0&quot;/&gt;\r\n&lt;/set&gt;\r\n\r\n/////////////////////////////////////////////\r\n//in_1.xml\r\n&lt;?xml&nbsp;version=&quot;1.0&quot;&nbsp;encoding=&quot;utf-8&quot;?&gt;\r\n&lt;set&nbsp;xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n&lt;translate&nbsp;android:duration=&quot;200&quot;\r\nandroid:fromXDelta=&quot;0&quot;\r\nandroid:toXDelta=&quot;-100%&quot;\r\nandroid:fromYDelta=&quot;0&quot;\r\nandroid:toYDelta=&quot;0&quot;/&gt;\r\n&lt;/set&gt;\r\n\r\n/////////////////////////////////////////////\r\n//back_0.xml\r\n\r\n&lt;?xml&nbsp;version=&quot;1.0&quot;&nbsp;encoding=&quot;utf-8&quot;?&gt;\r\n&lt;set&nbsp;xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n&lt;translate\r\nandroid:fromXDelta=&quot;-100%p&quot;\r\nandroid:toXDelta=&quot;0&quot;\r\nandroid:duration=&quot;200&quot;&nbsp;/&gt;\r\n&lt;/set&gt;\r\n\r\n/////////////////////////////////////////////\r\n//back_1.xml\r\n&lt;?xml&nbsp;version=&quot;1.0&quot;&nbsp;encoding=&quot;utf-8&quot;?&gt;\r\n&lt;set&nbsp;xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n&lt;translate\r\nandroid:fromXDelta=&quot;0&quot;\r\nandroid:toXDelta=&quot;100%p&quot;\r\nandroid:duration=&quot;200&quot;&nbsp;/&gt;\r\n&lt;/set&gt;</pre><p><br/></p><p>Activity进入界面</p><pre class=\"brush:java;toolbar:false\">private&nbsp;View.OnClickListener&nbsp;row1_click&nbsp;=&nbsp;new&nbsp;View.OnClickListener()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;onClick(View&nbsp;v)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//跳到下一个窗体\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Intent&nbsp;intent&nbsp;=&nbsp;new&nbsp;Intent(MySetting.this,&nbsp;MyForgot2.class);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Bundle&nbsp;bundle&nbsp;=&nbsp;new&nbsp;Bundle();//该类用作携带数据\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intent.putExtras(bundle);//附带上额外的数据\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//带返回结果\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;startActivityForResult(intent,&nbsp;1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//动画\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;overridePendingTransition(R.anim.in_0,&nbsp;R.anim.in_1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n};</pre><p>返回</p><pre class=\"brush:java;toolbar:false\">private&nbsp;View.OnClickListener&nbsp;onBackClick&nbsp;=&nbsp;new&nbsp;View.OnClickListener()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;onClick(View&nbsp;v)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;关闭并反回结果\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Intent&nbsp;data&nbsp;=&nbsp;new&nbsp;Intent();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//data.putExtra(&quot;name&quot;,&nbsp;&quot;hah&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.setResult(222,&nbsp;data);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;finish();&nbsp;&nbsp;//finish当前activity\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//动画\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;overridePendingTransition(R.anim.back_0,R.anim.back_1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n};</pre><p><br/></p>','2017-08-05 15:02:39','2017-08-31 03:12:08'),(824,'27.44.9.28',5,'BaseActivity包涵Toolbar','<pre class=\"brush:java;toolbar:false\">package&nbsp;android.zh.home;\r\n\r\nimport&nbsp;android.app.Activity;\r\nimport&nbsp;android.content.Intent;\r\nimport&nbsp;android.graphics.Color;\r\nimport&nbsp;android.os.Bundle;\r\nimport&nbsp;android.support.annotation.Nullable;\r\nimport&nbsp;android.support.design.widget.Snackbar;\r\nimport&nbsp;android.support.v4.app.Fragment;\r\nimport&nbsp;android.support.v7.app.ActionBar;\r\nimport&nbsp;android.support.v7.app.AppCompatActivity;\r\nimport&nbsp;android.support.v7.widget.Toolbar;\r\nimport&nbsp;android.util.Log;\r\nimport&nbsp;android.view.LayoutInflater;\r\nimport&nbsp;android.view.Menu;\r\nimport&nbsp;android.view.MenuInflater;\r\nimport&nbsp;android.view.View;\r\nimport&nbsp;android.view.ViewGroup;\r\nimport&nbsp;android.widget.TextView;\r\nimport&nbsp;android.zh.home.R;\r\n\r\nimport&nbsp;static&nbsp;android.app.Activity.RESULT_OK;\r\n\r\n/**\r\n&nbsp;*&nbsp;Created&nbsp;by&nbsp;han.zh&nbsp;on&nbsp;2017/8/6.\r\n&nbsp;*&nbsp;BaseFragment\r\n&nbsp;*\r\n&nbsp;*\r\n&nbsp;*&nbsp;Fragment&nbsp;XML&nbsp;Content:\r\n&nbsp;*\r\n&nbsp;&lt;?xml&nbsp;version=&quot;1.0&quot;&nbsp;encoding=&quot;utf-8&quot;?&gt;\r\n&nbsp;&lt;RelativeLayout&nbsp;xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n&nbsp;android:layout_width=&quot;match_parent&quot;\r\n&nbsp;android:layout_height=&quot;match_parent&quot;\r\n&nbsp;android:id=&quot;@+id/container&quot;\r\n&nbsp;android:orientation=&quot;vertical&quot;&gt;\r\n&nbsp;&lt;android.support.v7.widget.Toolbar\r\n&nbsp;android:id=&quot;@+id/toolbarId&quot;\r\n&nbsp;android:layout_width=&quot;match_parent&quot;\r\n&nbsp;android:layout_height=&quot;wrap_content&quot;\r\n&nbsp;android:layout_alignParentLeft=&quot;true&quot;\r\n&nbsp;android:layout_alignParentStart=&quot;true&quot;\r\n&nbsp;android:layout_alignParentTop=&quot;true&quot;\r\n&nbsp;android:background=&quot;@android:color/holo_blue_light&quot;\r\n&nbsp;android:minHeight=&quot;?attr/actionBarSize&quot;\r\n&nbsp;android:theme=&quot;?attr/actionBarTheme&quot;&nbsp;&gt;\r\n&nbsp;&lt;TextView\r\n&nbsp;android:id=&quot;@+id/toolbar_title&quot;\r\n&nbsp;android:layout_width=&quot;wrap_content&quot;\r\n&nbsp;android:layout_height=&quot;wrap_content&quot;\r\n&nbsp;android:layout_gravity=&quot;center&quot;\r\n&nbsp;android:textColor=&quot;#FFF&quot;\r\n&nbsp;android:textSize=&quot;20sp&quot;&nbsp;/&gt;\r\n&nbsp;&lt;/android.support.v7.widget.Toolbar&gt;\r\n&nbsp;&lt;/RelativeLayout&gt;\r\n\r\n\r\n\r\n&nbsp;*\r\n&nbsp;*\r\n&nbsp;*&nbsp;Menu&nbsp;XML&nbsp;Content:\r\n&nbsp;*\r\n&nbsp;&lt;menu&nbsp;xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n&nbsp;xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n&nbsp;xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n&nbsp;tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n&nbsp;&lt;item&nbsp;android:id=&quot;@+id/action_0&quot;\r\n&nbsp;android:title=&quot;AA&quot;\r\n&nbsp;android:orderInCategory=&quot;80&quot;\r\n&nbsp;android:icon=&quot;@mipmap/item_camera&quot;\r\n&nbsp;app:showAsAction=&quot;ifRoom&quot;&nbsp;/&gt;\r\n&nbsp;&lt;/menu&gt;\r\n\r\n\r\n&nbsp;\r\n&nbsp;*\r\n&nbsp;*\r\n&nbsp;*&nbsp;AndroidMaifest.xml&nbsp;XML&nbsp;Content:\r\n&nbsp;*\r\n&nbsp;&lt;application\r\n&nbsp;android:allowBackup=&quot;true&quot;\r\n&nbsp;android:icon=&quot;@mipmap/ic_launcher&quot;\r\n&nbsp;android:label=&quot;@string/app_name&quot;\r\n&nbsp;android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n&nbsp;android:supportsRtl=&quot;true&quot;\r\n&nbsp;android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n&nbsp;&lt;activity&nbsp;android:name=&quot;.MainActivity&quot;&nbsp;android:windowSoftInputMode=&quot;adjustPan|stateHidden&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;intent-filter&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;action&nbsp;android:name=&quot;android.intent.action.MAIN&quot;&nbsp;/&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;category&nbsp;android:name=&quot;android.intent.category.LAUNCHER&quot;&nbsp;/&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/intent-filter&gt;\r\n&nbsp;&lt;/activity&gt;\r\n&nbsp;&lt;activity\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:name=&quot;android.zh.home.BaseActivity&quot;&gt;\r\n&nbsp;&lt;/activity&gt;\r\n&nbsp;&lt;/application&gt;\r\n\r\n\r\n&nbsp;*/\r\n\r\npublic&nbsp;class&nbsp;BaseActivity&nbsp;extends&nbsp;AppCompatActivity&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;int&nbsp;nMenuID;\r\n&nbsp;&nbsp;&nbsp;&nbsp;/*例子\r\n&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;onCreate(Bundle&nbsp;savedInstanceState)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super.onCreate(savedInstanceState);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setContentView(R.layout.acty_ctrldev_setting);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initToolbar(R.drawable.ic_home_black_24dp,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R.id.toolbarId,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getString(R.string.title_control_setting),\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;BBBB&quot;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R.mipmap.nav_back,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;onBackClick,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R.menu.menu_ctrldev_setting,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;onMenuItemClick);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TextView&nbsp;tvInfo&nbsp;=&nbsp;(TextView)&nbsp;findViewById(R.id.toolbar_title);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tvInfo.setText(getString(R.string.title_control_setting));\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;View.OnClickListener&nbsp;onBackClick&nbsp;=&nbsp;&nbsp;new&nbsp;View.OnClickListener()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;onClick(View&nbsp;v)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Snackbar.make(v,&nbsp;&quot;Don&#39;t&nbsp;click&nbsp;me.please!111111.2222222&quot;,&nbsp;Snackbar.LENGTH_SHORT).show();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;};\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;Toolbar.OnMenuItemClickListener&nbsp;onMenuItemClick&nbsp;=&nbsp;new&nbsp;Toolbar.OnMenuItemClickListener()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;boolean&nbsp;onMenuItemClick(MenuItem&nbsp;menuItem)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;switch&nbsp;(menuItem.getItemId())&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;R.id.action_0:\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;true;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;};*/\r\n&nbsp;&nbsp;&nbsp;&nbsp;/////////////////////////////////////////////////////\r\n&nbsp;&nbsp;&nbsp;&nbsp;//往下加载TOOLBAR\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;initToolbar(int&nbsp;titleImage,int&nbsp;toolbarID,String&nbsp;title,String&nbsp;subTitle,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;backButtonImage,View.OnClickListener&nbsp;backlistener,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;menuID,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Toolbar.OnMenuItemClickListener&nbsp;listener)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Toolbar&nbsp;toolbar&nbsp;=&nbsp;(Toolbar)findViewById(toolbarID);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nMenuID=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;toolbar.getMenu().clear();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;App&nbsp;Logo\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(titleImage!=0)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;toolbar.setLogo(titleImage);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Title\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(null!=title&nbsp;&amp;&amp;&nbsp;&quot;&quot;!=title)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;toolbar.setTitle(title);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;toolbar.setTitle(&quot;\0&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Sub&nbsp;Title\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(null!=subTitle)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{toolbar.setSubtitle(subTitle);}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//要放在setTitle函数后面\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setSupportActionBar(toolbar);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;toolbar.setTitleTextColor(Color.WHITE);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;toolbar.setSubtitleTextColor(Color.WHITE);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(0!=menuID)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nMenuID=menuID;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;toolbar.setOnMenuItemClickListener(listener);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;toolbar.inflateMenu(menuID);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;toolbar.setOnMenuItemClickListener(null);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(backButtonImage!=0)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;toolbar.setNavigationOnClickListener(backlistener);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;toolbar.setNavigationIcon(backButtonImage);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;/**&nbsp;创建菜单&nbsp;*/\r\n&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;boolean&nbsp;onCreateOptionsMenu(Menu&nbsp;menu)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(0!=nMenuID)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getMenuInflater().inflate(nMenuID,&nbsp;menu);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;true;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n}</pre><p><br/></p>','2017-08-06 07:56:17','2017-08-31 03:01:43'),(825,'192.168.0.101',76,'CentOS 7设置开机启动服务','<h1 id=\"centos-7设置开机启动服务\" style=\"margin: 0.8em 0px; padding: 0px; box-sizing: border-box; font-weight: 100; line-height: 1.3em; font-size: 2.6em; color: rgb(63, 63, 63); font-family: &#39;microsoft yahei&#39;; white-space: normal;\">CentOS 7设置开机启动服务</h1><ul style=\"list-style-position: initial; list-style-image: initial; box-sizing: border-box; color: rgb(63, 63, 63); font-family: &#39;microsoft yahei&#39;; font-size: 15px; white-space: normal;\" class=\" list-paddingleft-2\"><li><p><strong style=\"box-sizing: border-box;\">建立服务文件</strong></p></li><li><p><strong style=\"box-sizing: border-box;\">保存目录</strong></p></li><li><p><strong style=\"box-sizing: border-box;\">设置开机自启动</strong></p></li><li><p><strong style=\"box-sizing: border-box;\">其他命令</strong></p></li></ul><hr style=\"box-sizing: border-box; margin: 2em 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-top-style: solid; border-top-color: rgba(128, 128, 128, 0.0980392); color: rgb(63, 63, 63); font-family: &#39;microsoft yahei&#39;; font-size: 15px; white-space: normal;\"/><h2 id=\"1建立服务文件\" style=\"margin: 0.8em 0px; padding: 0px; box-sizing: border-box; font-weight: 100; line-height: 1.3em; font-size: 2.13em; color: rgb(63, 63, 63); font-family: &#39;microsoft yahei&#39;; white-space: normal;\"><a target=\"_blank\" style=\"color: rgb(79, 161, 219); box-sizing: border-box;\" name=\"t1\"></a>1.建立服务文件</h2><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 1.1em; color: rgb(63, 63, 63); font-family: &#39;microsoft yahei&#39;; font-size: 15px; white-space: normal;\">文件路径</p><pre class=\"prettyprint\" name=\"code\" style=\"white-space: nowrap; word-wrap: break-word; box-sizing: border-box; position: relative; overflow-y: hidden; overflow-x: auto; margin-top: 0px; margin-bottom: 1.1em; font-family: &#39;Source Code Pro&#39;, monospace; padding: 5px 5px 5px 60px; font-size: 14px; line-height: 1.45; word-break: break-all; color: rgb(51, 51, 51); background-color: rgba(128, 128, 128, 0.0470588); border: 0px solid rgb(136, 136, 136); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">vim&nbsp;/usr/lib/systemd/system/nginx.service&nbsp;11</pre><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 1.1em; color: rgb(63, 63, 63); font-family: &#39;microsoft yahei&#39;; font-size: 15px; white-space: normal;\">服务文件内容</p><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 1.1em; color: rgb(63, 63, 63); font-family: &#39;microsoft yahei&#39;; font-size: 15px; white-space: normal;\">例子Mysql.service<br/></p><pre class=\"prettyprint\" name=\"code\" style=\"white-space: nowrap; word-wrap: break-word; box-sizing: border-box; position: relative; overflow-y: hidden; overflow-x: auto; margin-top: 0px; margin-bottom: 1.1em; font-family: &#39;Source Code Pro&#39;, monospace; padding: 5px 5px 5px 60px; font-size: 14px; line-height: 1.45; word-break: break-all; color: rgb(51, 51, 51); background-color: rgba(128, 128, 128, 0.0470588); border: 0px solid rgb(136, 136, 136); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">[Unit]\r\nDescription=mysql\r\nAfter=network.target&nbsp;remote-fs.target&nbsp;nss-lookup.target[Service]\r\nType=forking\r\nExecStart=/usr/local/mysql/support-files/mysql.server&nbsp;start#ExecReload=/usr/local/mysql/support-files/mysql.server&nbsp;restart#ExecStop=/usr/local/mysql/support-files/mysql.server&nbsp;stop#PrivateTmp=true[Install]\r\nWantedBy=multi-user.target1234567891011121312345678910111213</pre><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 1.1em; color: rgb(63, 63, 63); font-family: &#39;microsoft yahei&#39;; font-size: 15px; white-space: normal;\">文件内容解释</p><pre class=\"prettyprint\" name=\"code\" style=\"white-space: nowrap; word-wrap: break-word; box-sizing: border-box; position: relative; overflow-y: hidden; overflow-x: auto; margin-top: 0px; margin-bottom: 1.1em; font-family: &#39;Source Code Pro&#39;, monospace; padding: 5px 5px 5px 60px; font-size: 14px; line-height: 1.45; word-break: break-all; color: rgb(51, 51, 51); background-color: rgba(128, 128, 128, 0.0470588); border: 0px solid rgb(136, 136, 136); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">[Unit]:服务的说明\r\nDescription:描述服务\r\nAfter:描述服务类别\r\n[Service]服务运行参数的设置\r\nType=forking是后台运行的形式\r\nExecStart为服务的具体运行命令\r\nExecReload为重启命令\r\nExecStop为停止命令\r\nPrivateTmp=True表示给服务分配独立的临时空间注意：启动、重启、停止命令全部要求使用绝对路径[Install]服务安装的相关设置，可设置为多用户1234567891011121312345678910111213</pre><h2 id=\"2保存目录\" style=\"margin: 0.8em 0px; padding: 0px; box-sizing: border-box; font-weight: 100; line-height: 1.3em; font-size: 2.13em; color: rgb(63, 63, 63); font-family: &#39;microsoft yahei&#39;; white-space: normal;\"><a target=\"_blank\" style=\"color: rgb(79, 161, 219); box-sizing: border-box;\" name=\"t2\"></a>2.保存目录</h2><p style=\"box-sizing: border-box; margin-top: 0px; margin-bottom: 1.1em; color: rgb(63, 63, 63); font-family: &#39;microsoft yahei&#39;; font-size: 15px; white-space: normal;\">以754的权限保存在目录：</p><pre class=\"prettyprint\" name=\"code\" style=\"white-space: nowrap; word-wrap: break-word; box-sizing: border-box; position: relative; overflow-y: hidden; overflow-x: auto; margin-top: 0px; margin-bottom: 1.1em; font-family: &#39;Source Code Pro&#39;, monospace; padding: 5px 5px 5px 60px; font-size: 14px; line-height: 1.45; word-break: break-all; color: rgb(51, 51, 51); background-color: rgba(128, 128, 128, 0.0470588); border: 0px solid rgb(136, 136, 136); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">/usr/lib/systemd/system</pre><h2 id=\"3设置开机自启动\" style=\"margin: 0.8em 0px; padding: 0px; box-sizing: border-box; font-weight: 100; line-height: 1.3em; font-size: 2.13em; color: rgb(63, 63, 63); font-family: &#39;microsoft yahei&#39;; white-space: normal;\"></h2><h2 id=\"4其他命令\" style=\"margin: 0.8em 0px; padding: 0px; box-sizing: border-box; font-weight: 100; line-height: 1.3em; font-size: 2.13em; color: rgb(63, 63, 63); font-family: &#39;microsoft yahei&#39;; white-space: normal;\"><a target=\"_blank\" style=\"color: rgb(79, 161, 219); box-sizing: border-box;\" name=\"t4\"></a>3.命令</h2><h4 id=\"启动nginx服务\" style=\"margin: 0.8em 0px; padding: 0px; box-sizing: border-box; font-weight: 100; line-height: 1.3em; color: rgb(63, 63, 63); font-family: &#39;microsoft yahei&#39;; font-size: 15px; white-space: normal;\"><a target=\"_blank\" style=\"color: rgb(79, 161, 219); box-sizing: border-box;\" name=\"t5\"></a>启动nginx服务</h4><pre class=\"prettyprint\" name=\"code\" style=\"white-space: nowrap; word-wrap: break-word; box-sizing: border-box; position: relative; overflow-y: hidden; overflow-x: auto; margin-top: 0px; margin-bottom: 1.1em; font-family: &#39;Source Code Pro&#39;, monospace; padding: 5px 5px 5px 60px; font-size: 14px; line-height: 1.45; word-break: break-all; color: rgb(51, 51, 51); background-color: rgba(128, 128, 128, 0.0470588); border: 0px solid rgb(136, 136, 136); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">systemctl&nbsp;start&nbsp;nginx.service</pre><h4 id=\"设置开机自启动\" style=\"margin: 0.8em 0px; padding: 0px; box-sizing: border-box; font-weight: 100; line-height: 1.3em; color: rgb(63, 63, 63); font-family: &#39;microsoft yahei&#39;; font-size: 15px; white-space: normal;\"><a target=\"_blank\" style=\"color: rgb(79, 161, 219); box-sizing: border-box;\" name=\"t6\"></a>设置开机自启动</h4><pre class=\"prettyprint\" name=\"code\" style=\"white-space: nowrap; word-wrap: break-word; box-sizing: border-box; position: relative; overflow-y: hidden; overflow-x: auto; margin-top: 0px; margin-bottom: 1.1em; font-family: &#39;Source Code Pro&#39;, monospace; padding: 5px 5px 5px 60px; font-size: 14px; line-height: 1.45; word-break: break-all; color: rgb(51, 51, 51); background-color: rgba(128, 128, 128, 0.0470588); border: 0px solid rgb(136, 136, 136); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">systemctl&nbsp;enable&nbsp;nginx.service</pre><h4 id=\"停止开机自启动\" style=\"margin: 0.8em 0px; padding: 0px; box-sizing: border-box; font-weight: 100; line-height: 1.3em; color: rgb(63, 63, 63); font-family: &#39;microsoft yahei&#39;; font-size: 15px; white-space: normal;\"><a target=\"_blank\" style=\"color: rgb(79, 161, 219); box-sizing: border-box;\" name=\"t7\"></a>停止开机自启动</h4><pre class=\"prettyprint\" name=\"code\" style=\"white-space: nowrap; word-wrap: break-word; box-sizing: border-box; position: relative; overflow-y: hidden; overflow-x: auto; margin-top: 0px; margin-bottom: 1.1em; font-family: &#39;Source Code Pro&#39;, monospace; padding: 5px 5px 5px 60px; font-size: 14px; line-height: 1.45; word-break: break-all; color: rgb(51, 51, 51); background-color: rgba(128, 128, 128, 0.0470588); border: 0px solid rgb(136, 136, 136); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">systemctl&nbsp;disable&nbsp;nginx.service</pre><h4 id=\"查看服务当前状态\" style=\"margin: 0.8em 0px; padding: 0px; box-sizing: border-box; font-weight: 100; line-height: 1.3em; color: rgb(63, 63, 63); font-family: &#39;microsoft yahei&#39;; font-size: 15px; white-space: normal;\"><a target=\"_blank\" style=\"color: rgb(79, 161, 219); box-sizing: border-box;\" name=\"t8\"></a>查看服务当前状态</h4><pre class=\"prettyprint\" name=\"code\" style=\"white-space: nowrap; word-wrap: break-word; box-sizing: border-box; position: relative; overflow-y: hidden; overflow-x: auto; margin-top: 0px; margin-bottom: 1.1em; font-family: &#39;Source Code Pro&#39;, monospace; padding: 5px 5px 5px 60px; font-size: 14px; line-height: 1.45; word-break: break-all; color: rgb(51, 51, 51); background-color: rgba(128, 128, 128, 0.0470588); border: 0px solid rgb(136, 136, 136); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">systemctl&nbsp;status&nbsp;nginx.service</pre><h4 id=\"重新启动服务\" style=\"margin: 0.8em 0px; padding: 0px; box-sizing: border-box; font-weight: 100; line-height: 1.3em; color: rgb(63, 63, 63); font-family: &#39;microsoft yahei&#39;; font-size: 15px; white-space: normal;\"><a target=\"_blank\" style=\"color: rgb(79, 161, 219); box-sizing: border-box;\" name=\"t9\"></a>重新启动服务</h4><pre class=\"prettyprint\" name=\"code\" style=\"white-space: nowrap; word-wrap: break-word; box-sizing: border-box; position: relative; overflow-y: hidden; overflow-x: auto; margin-top: 0px; margin-bottom: 1.1em; font-family: &#39;Source Code Pro&#39;, monospace; padding: 5px 5px 5px 60px; font-size: 14px; line-height: 1.45; word-break: break-all; color: rgb(51, 51, 51); background-color: rgba(128, 128, 128, 0.0470588); border: 0px solid rgb(136, 136, 136); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">systemctl&nbsp;restart&nbsp;nginx.service</pre><h4 id=\"查看所有已启动的服务\" style=\"margin: 0.8em 0px; padding: 0px; box-sizing: border-box; font-weight: 100; line-height: 1.3em; color: rgb(63, 63, 63); font-family: &#39;microsoft yahei&#39;; font-size: 15px; white-space: normal;\"><a target=\"_blank\" style=\"color: rgb(79, 161, 219); box-sizing: border-box;\" name=\"t10\"></a>查看所有已启动的服务</h4><pre class=\"prettyprint\" name=\"code\" style=\"white-space: nowrap; word-wrap: break-word; box-sizing: border-box; position: relative; overflow-y: hidden; overflow-x: auto; margin-top: 0px; margin-bottom: 1.1em; font-family: &#39;Source Code Pro&#39;, monospace; padding: 5px 5px 5px 60px; font-size: 14px; line-height: 1.45; word-break: break-all; color: rgb(51, 51, 51); background-color: rgba(128, 128, 128, 0.0470588); border: 0px solid rgb(136, 136, 136); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;\">systemctl&nbsp;list-units&nbsp;--type=service</pre><p><br/></p>','2017-08-06 13:56:20','2017-08-06 21:56:20'),(826,'192.168.0.101',76,'iptables 开机启动','<p><span style=\"font-family: song, Verdana; font-size: 14px; font-variant-ligatures: normal; orphans: 2;  widows: 2; background-color: rgb(255, 255, 255);\"></span></p><p style=\"font-size: 14px; white-space: normal; color: rgb(51, 51, 51); font-family: Arial; background-color: rgb(255, 255, 255);\">用vi打开 /etc/sysconfig/iptables</p><p style=\"font-size: 14px; white-space: normal; color: rgb(51, 51, 51); font-family: Arial; background-color: rgb(255, 255, 255);\">打开防火前通过端口:</p><p style=\"font-size: 14px; white-space: normal; color: rgb(51, 51, 51); font-family: Arial; background-color: rgb(255, 255, 255);\">-A INPUT -m state --state NEW -m tcp -p tcp --dport 8080 -j ACCEPT<br/><br/>此行必须放在<br/><br/>-A INPUT -j REJECT --reject-with icmp-host-prohibited<br/>-A FORWARD -j REJECT --reject-with icmp-host-prohibited<br/><br/>这两行的前面，否则一样无效。</p><p><span style=\"font-family: song, Verdana; font-size: 14px; font-variant-ligatures: normal; orphans: 2;  widows: 2; background-color: rgb(255, 255, 255);\"><br/></span><br/></p><p><span style=\"font-family: song, Verdana; font-size: 14px; font-variant-ligatures: normal; orphans: 2;  widows: 2; background-color: rgb(255, 255, 255);\"><br/></span></p><p style=\"orphans: 2; widows: 2; \"><font face=\"song, Verdana\"><span style=\"font-size: 14px; background-color: rgb(255, 255, 255);\">---开机自自动---</span></font></p><p><span style=\"font-family: song, Verdana; font-size: 14px; font-variant-ligatures: normal; orphans: 2;  widows: 2; background-color: rgb(255, 255, 255);\">systemctl disable firewalld</span><br style=\"word-wrap: break-word; outline: none; font-family: song, Verdana; font-size: 14px; font-variant-ligatures: normal; orphans: 2; white-space: normal; widows: 2; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: song, Verdana; font-size: 14px; font-variant-ligatures: normal; orphans: 2;  widows: 2; background-color: rgb(255, 255, 255);\">systemctl stop firewalld</span><br style=\"word-wrap: break-word; outline: none; font-family: song, Verdana; font-size: 14px; font-variant-ligatures: normal; orphans: 2; white-space: normal; widows: 2; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: song, Verdana; font-size: 14px; font-variant-ligatures: normal; orphans: 2;  widows: 2; background-color: rgb(255, 255, 255);\">yum -y install iptables-services</span><br style=\"word-wrap: break-word; outline: none; font-family: song, Verdana; font-size: 14px; font-variant-ligatures: normal; orphans: 2; white-space: normal; widows: 2; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: song, Verdana; font-size: 14px; font-variant-ligatures: normal; orphans: 2;  widows: 2; background-color: rgb(255, 255, 255);\">systemctl enable iptables</span><br style=\"word-wrap: break-word; outline: none; font-family: song, Verdana; font-size: 14px; font-variant-ligatures: normal; orphans: 2; white-space: normal; widows: 2; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: song, Verdana; font-size: 14px; font-variant-ligatures: normal; orphans: 2;  widows: 2; background-color: rgb(255, 255, 255);\">systemctl start iptables</span></p>','2017-08-06 14:04:27','2017-08-06 22:26:23'),(827,'192.168.0.101',76,'centos7下快速安装mysql','<h1 class=\"single-title\" style=\"margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-family: Arial; white-space: normal; border: 0px; font-size: 16px;\">centos7下快速安装mysql</h1><div id=\"g-single\" style=\"color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; white-space: normal; margin: 0px; padding: 0px; border: 0px;\"></div><p style=\"margin-top: 0px; padding-top: 0px; padding-bottom: 0px; border: 0px; text-align: justify; word-wrap: break-word; word-break: break-all; text-indent: 2em; color: rgb(85, 85, 85); font-family: &#39;Microsoft YaHei&#39;, 微软雅黑, Helvetica, Arial, &#39;Lucida Grande&#39;, Tahoma, sans-serif; line-height: 22.3999996185303px;\">CentOS 7的yum源中貌似没有正常安装<a href=\"http://lib.csdn.net/base/mysql\" class=\"replace_word\" title=\"MySQL知识库\" target=\"_blank\" style=\"color: rgb(223, 52, 52); text-decoration: none; font-weight: bold;\">MySQL</a>时的<a href=\"http://lib.csdn.net/base/mysql\" class=\"replace_word\" title=\"MySQL知识库\" target=\"_blank\" style=\"color: rgb(223, 52, 52); text-decoration: none; font-weight: bold;\">mysql</a>-sever文件，需要去官网上下载</p><table cellpadding=\"0\" cellspacing=\"0\" class=\"syntaxhighlighter bash\" width=\"716\" style=\"width: 668px;\"><tbody style=\"margin: 0px !important; padding: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; min-height: inherit !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;\"><tr style=\"margin: 0px !important; padding: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; min-height: inherit !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;\"><td class=\"gutter\"><div class=\"line number1 index0 alt2\" style=\"word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; min-height: inherit !important; white-space: pre !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;\">1</div><div class=\"line number2 index1 alt1\" style=\"word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; min-height: inherit !important; white-space: pre !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;\">2</div><div class=\"line number3 index2 alt2\" style=\"word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; min-height: inherit !important; white-space: pre !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;\">3</div></td><td class=\"code\" style=\"margin: 0px !important; padding: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; min-height: inherit !important; background-image: none !important;\" width=\"679\"><div class=\"line number1 index0 alt2\" style=\"margin: 0px !important; padding: 0px 1em !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; min-height: inherit !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;\"><code class=\"bash comments\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; margin: 0px !important; padding: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; min-height: inherit !important; color: rgb(0, 130, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;\">#&nbsp;wget&nbsp;http://dev.mysql.com/get/mysql-community-release-el7-5.noarch.rpm</code></div><div class=\"line number2 index1 alt1\" style=\"margin: 0px !important; padding: 0px 1em !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; min-height: inherit !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;\"><code class=\"bash comments\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; margin: 0px !important; padding: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; min-height: inherit !important; color: rgb(0, 130, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;\">#&nbsp;rpm&nbsp;-ivh&nbsp;mysql-community-release-el7-5.noarch.rpm</code></div><div class=\"line number3 index2 alt2\" style=\"margin: 0px !important; padding: 0px 1em !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; min-height: inherit !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;\"><code class=\"bash comments\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; margin: 0px !important; padding: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; min-height: inherit !important; color: rgb(0, 130, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;\">#&nbsp;yum&nbsp;install&nbsp;mysql-community-server</code></div></td></tr></tbody></table><p style=\"margin-top: 0px; padding-top: 0px; padding-bottom: 0px; border: 0px; text-align: justify; word-wrap: break-word; word-break: break-all; text-indent: 2em; color: rgb(85, 85, 85); font-family: &#39;Microsoft YaHei&#39;, 微软雅黑, Helvetica, Arial, &#39;Lucida Grande&#39;, Tahoma, sans-serif; line-height: 22.3999996185303px;\">成功安装之后重启mysql服务</p><table cellpadding=\"0\" cellspacing=\"0\" class=\"syntaxhighlighter bash\" width=\"716\" style=\"width: 668px;\"><tbody style=\"margin: 0px !important; padding: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; min-height: inherit !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;\"><tr style=\"margin: 0px !important; padding: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; min-height: inherit !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;\"><td class=\"gutter\"><div class=\"line number1 index0 alt2\" style=\"word-wrap: normal; margin: 0px !important; padding: 0px 0.5em 0px 1em !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; width: auto !important; min-height: inherit !important; white-space: pre !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;\">1</div></td><td class=\"code\" style=\"margin: 0px !important; padding: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; min-height: inherit !important; background-image: none !important;\" width=\"679\"><div class=\"line number1 index0 alt2\" style=\"margin: 0px !important; padding: 0px 1em !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; min-height: inherit !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;\"><code class=\"bash comments\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; margin: 0px !important; padding: 0px !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; min-height: inherit !important; color: rgb(0, 130, 0) !important; background-image: none !important; background-position: initial initial !important; background-repeat: initial initial !important;\">#&nbsp;service&nbsp;mysqld&nbsp;restart</code></div></td></tr></tbody></table><p style=\"margin-top: 0px; padding-top: 0px; padding-bottom: 0px; border: 0px; text-align: justify; word-wrap: break-word; word-break: break-all; text-indent: 2em; color: rgb(85, 85, 85); font-family: &#39;Microsoft YaHei&#39;, 微软雅黑, Helvetica, Arial, &#39;Lucida Grande&#39;, Tahoma, sans-serif; line-height: 22.3999996185303px;\">初次安装mysql是root账户是没有密码的</p><p style=\"margin-top: 0px; padding-top: 0px; padding-bottom: 0px; border: 0px; text-align: justify; word-wrap: break-word; word-break: break-all; text-indent: 2em; color: rgb(85, 85, 85); font-family: &#39;Microsoft YaHei&#39;, 微软雅黑, Helvetica, Arial, &#39;Lucida Grande&#39;, Tahoma, sans-serif; line-height: 22.3999996185303px;\">设置密码的方法</p><p style=\"margin-top: 0px; padding-top: 0px; padding-bottom: 0px; border: 0px; text-align: justify; word-wrap: break-word; word-break: break-all; text-indent: 2em; color: rgb(85, 85, 85); font-family: &#39;Microsoft YaHei&#39;, 微软雅黑, Helvetica, Arial, &#39;Lucida Grande&#39;, Tahoma, sans-serif; line-height: 22.3999996185303px;\"># mysql -uroot</p><p style=\"margin-top: 0px; padding-top: 0px; padding-bottom: 0px; border: 0px; text-align: justify; word-wrap: break-word; word-break: break-all; text-indent: 2em; color: rgb(85, 85, 85); font-family: &#39;Microsoft YaHei&#39;, 微软雅黑, Helvetica, Arial, &#39;Lucida Grande&#39;, Tahoma, sans-serif; line-height: 22.3999996185303px;\">mysql&gt; set password for ‘root’@‘localhost’ = password(&#39;mypasswd&#39;);</p><p style=\"margin-top: 0px; padding-top: 0px; padding-bottom: 0px; border: 0px; text-align: justify; word-wrap: break-word; word-break: break-all; text-indent: 2em; color: rgb(85, 85, 85); font-family: &#39;Microsoft YaHei&#39;, 微软雅黑, Helvetica, Arial, &#39;Lucida Grande&#39;, Tahoma, sans-serif; line-height: 22.3999996185303px;\">mysql&gt; exit</p><p style=\"margin-top: 0px; padding-top: 0px; padding-bottom: 0px; border: 0px; text-align: justify; word-wrap: break-word; word-break: break-all; text-indent: 2em; color: rgb(85, 85, 85); font-family: &#39;Microsoft YaHei&#39;, 微软雅黑, Helvetica, Arial, &#39;Lucida Grande&#39;, Tahoma, sans-serif; line-height: 22.3999996185303px;\">搞定！</p><p style=\"margin-top: 0px; padding-top: 0px; padding-bottom: 0px; border: 0px; text-align: justify; word-wrap: break-word; word-break: break-all; text-indent: 2em; color: rgb(85, 85, 85); font-family: &#39;Microsoft YaHei&#39;, 微软雅黑, Helvetica, Arial, &#39;Lucida Grande&#39;, Tahoma, sans-serif; line-height: 22.3999996185303px;\"><br/></p><p style=\"margin-top: 0px; padding-top: 0px; padding-bottom: 0px; border: 0px; text-align: justify; word-wrap: break-word; word-break: break-all; text-indent: 2em; color: rgb(85, 85, 85); font-family: &#39;Microsoft YaHei&#39;, 微软雅黑, Helvetica, Arial, &#39;Lucida Grande&#39;, Tahoma, sans-serif; line-height: 22.3999996185303px;\">远程授权连接mysql</p><p style=\"margin-top: 0px; padding-top: 0px; padding-bottom: 0px; border: 0px; text-align: justify; word-wrap: break-word; word-break: break-all; text-indent: 2em; color: rgb(85, 85, 85); font-family: &#39;Microsoft YaHei&#39;, 微软雅黑, Helvetica, Arial, &#39;Lucida Grande&#39;, Tahoma, sans-serif; line-height: 22.3999996185303px;\">GRANT ALL PRIVILEGES ON *.* TO &#39;root&#39;@&#39;%&#39; IDENTIFIED BY &#39;mypassword&#39; WITH GRANT OPTION;<br/></p><p style=\"margin-top: 0px; padding-top: 0px; padding-bottom: 0px; border: 0px; text-align: justify; word-wrap: break-word; word-break: break-all; text-indent: 2em; color: rgb(85, 85, 85); font-family: &#39;Microsoft YaHei&#39;, 微软雅黑, Helvetica, Arial, &#39;Lucida Grande&#39;, Tahoma, sans-serif; line-height: 22.3999996185303px;\"><span style=\"color: rgb(69, 69, 69); font-family: Verdana, Helvetica, Arial; line-height: 18px; background-color: rgb(247, 247, 247);\">FLUSH&nbsp;&nbsp; PRIVILEGES;</span></p><p><br/></p>','2017-08-06 15:00:40','2017-08-06 23:00:40'),(828,'192.168.0.101',21,'ERROR 1045 (28000): Access denied for user &acute;root&acute;@&acute;localhost&acute; (using password: NO)','<div class=\"line number1 index0 alt2\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; font-size: 13px; color: rgb(51, 51, 51); white-space: normal; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important;\"><code class=\"bash comments\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 130, 0) !important;\">#1.停止mysql数据库</code></div><div class=\"line number2 index1 alt1\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; font-size: 13px; color: rgb(51, 51, 51); white-space: normal; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important;\"><code class=\"bash plain\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important;\">/etc/init</code><code class=\"bash plain\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important;\">.d</code><code class=\"bash plain\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important;\">/mysqld</code>&nbsp;<code class=\"bash plain\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important;\">stop</code></div><div class=\"line number3 index2 alt2\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; font-size: 13px; color: rgb(51, 51, 51); white-space: normal; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important;\">&nbsp;</div><div class=\"line number4 index3 alt1\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; font-size: 13px; color: rgb(51, 51, 51); white-space: normal; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important;\"><code class=\"bash comments\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 130, 0) !important;\">#2.执行如下命令</code></div><div class=\"line number5 index4 alt2\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; font-size: 13px; color: rgb(51, 51, 51); white-space: normal; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important;\"><code class=\"bash plain\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important;\">mysqld_safe&nbsp;--user=mysql&nbsp;--skip-grant-tables&nbsp;--skip-networking&nbsp;&amp;</code></div><div class=\"line number6 index5 alt1\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; font-size: 13px; color: rgb(51, 51, 51); white-space: normal; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important;\">&nbsp;</div><div class=\"line number7 index6 alt2\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; font-size: 13px; color: rgb(51, 51, 51); white-space: normal; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important;\"><code class=\"bash comments\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 130, 0) !important;\">#3.使用root登录mysql数据库</code></div><div class=\"line number8 index7 alt1\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; font-size: 13px; color: rgb(51, 51, 51); white-space: normal; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important;\"><code class=\"bash plain\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important;\">mysql&nbsp;-u&nbsp;root&nbsp;mysql</code></div><div class=\"line number9 index8 alt2\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; font-size: 13px; color: rgb(51, 51, 51); white-space: normal; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important;\">&nbsp;</div><div class=\"line number10 index9 alt1\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; font-size: 13px; color: rgb(51, 51, 51); white-space: normal; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important;\"><code class=\"bash comments\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 130, 0) !important;\">#4.更新root密码</code></div><div class=\"line number11 index10 alt2\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; font-size: 13px; color: rgb(51, 51, 51); white-space: normal; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important;\"><code class=\"bash plain\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important;\">mysql&gt;&nbsp;UPDATE&nbsp;user&nbsp;SET&nbsp;Password=PASSWORD(</code><code class=\"bash string\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 255) !important;\">&#39;newpassword&#39;</code><code class=\"bash plain\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important;\">)&nbsp;where&nbsp;USER=</code><code class=\"bash string\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 255) !important;\">&#39;root&#39;</code><code class=\"bash plain\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important;\">;</code></div><div class=\"line number12 index11 alt1\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; font-size: 13px; color: rgb(51, 51, 51); white-space: normal; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important;\"><code class=\"bash comments\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 130, 0) !important;\">#最新版MySQL请采用如下SQL：</code></div><div class=\"line number13 index12 alt2\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; font-size: 13px; color: rgb(51, 51, 51); white-space: normal; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important;\"><code class=\"bash plain\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important;\">mysql&gt;&nbsp;UPDATE&nbsp;user&nbsp;SET&nbsp;authentication_string=PASSWORD(</code><code class=\"bash string\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 255) !important;\">&#39;newpassword&#39;</code><code class=\"bash plain\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important;\">)&nbsp;where&nbsp;USER=</code><code class=\"bash string\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 255) !important;\">&#39;root&#39;</code><code class=\"bash plain\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important;\">;</code></div><div class=\"line number14 index13 alt1\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; font-size: 13px; color: rgb(51, 51, 51); white-space: normal; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important;\">&nbsp;</div><div class=\"line number15 index14 alt2\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; font-size: 13px; color: rgb(51, 51, 51); white-space: normal; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important;\"><code class=\"bash comments\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 130, 0) !important;\">#5.刷新权限&nbsp;</code></div><div class=\"line number16 index15 alt1\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; font-size: 13px; color: rgb(51, 51, 51); white-space: normal; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important;\"><code class=\"bash plain\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important;\">mysql&gt;&nbsp;FLUSH&nbsp;PRIVILEGES;</code></div><div class=\"line number17 index16 alt2\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; font-size: 13px; color: rgb(51, 51, 51); white-space: normal; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important;\">&nbsp;</div><div class=\"line number18 index17 alt1\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; font-size: 13px; color: rgb(51, 51, 51); white-space: normal; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important;\"><code class=\"bash comments\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 130, 0) !important;\">#6.退出mysql</code></div><div class=\"line number19 index18 alt2\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; font-size: 13px; color: rgb(51, 51, 51); white-space: normal; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important;\"><code class=\"bash plain\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important;\">mysql&gt;&nbsp;quit</code></div><div class=\"line number20 index19 alt1\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; font-size: 13px; color: rgb(51, 51, 51); white-space: normal; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important;\">&nbsp;</div><div class=\"line number21 index20 alt2\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; font-size: 13px; color: rgb(51, 51, 51); white-space: normal; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important;\"><code class=\"bash comments\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 130, 0) !important;\">#7.重启mysql</code></div><div class=\"line number22 index21 alt1\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; font-size: 13px; color: rgb(51, 51, 51); white-space: normal; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important;\"><code class=\"bash plain\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important;\">/etc/init</code><code class=\"bash plain\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important;\">.d</code><code class=\"bash plain\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important;\">/mysqld</code>&nbsp;<code class=\"bash plain\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important;\">restart</code></div><div class=\"line number23 index22 alt2\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; font-size: 13px; color: rgb(51, 51, 51); white-space: normal; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important;\">&nbsp;</div><div class=\"line number24 index23 alt1\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; font-size: 13px; color: rgb(51, 51, 51); white-space: normal; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important;\"><code class=\"bash comments\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 130, 0) !important;\">#8.使用root用户重新登录mysql</code></div><div class=\"line number25 index24 alt2\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; font-size: 13px; color: rgb(51, 51, 51); white-space: normal; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important;\"><code class=\"bash plain\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important;\">mysql&nbsp;-uroot&nbsp;-p&nbsp;</code></div><div class=\"line number26 index25 alt1\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; font-size: 13px; color: rgb(51, 51, 51); white-space: normal; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px 1em !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important;\"><code class=\"bash plain\" style=\"font-family: Monaco, Menlo, Consolas, &#39;Courier New&#39;, monospace; background-image: none !important; border: 0px !important; bottom: auto !important; float: none !important; left: auto !important; line-height: 1.1em !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; margin: 0px !important; padding: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; color: rgb(0, 0, 0) !important;\">Enter&nbsp;password:&nbsp;&lt;输入新设的密码newpassword&gt;</code></div><p><br/></p>','2017-08-06 15:01:29','2017-08-06 23:01:29'),(829,'192.168.0.101',76,'CentOS 6.5系统安装配置(Apache+PHP5+MySQL)服务器环境','<p style=\"color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; text-align: justify; white-space: normal;\"><b>准备工作:-----------------------</b></p><p style=\"color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; text-align: justify; white-space: normal;\"><b><br/></b></p><p style=\"color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; text-align: justify; white-space: normal;\"><b>设置iptables开放端口</b></p><p style=\"color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; text-align: justify; white-space: normal;\"><b>设ipatbles开机启动</b></p><p style=\"color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; text-align: justify; white-space: normal;\"><br/></p><p style=\"color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; text-align: justify; white-space: normal;\"><strong><br/></strong></p><p style=\"color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; text-align: justify; white-space: normal;\"><strong>安装篇：-------------------------</strong></p><p style=\"color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; text-align: justify; white-space: normal;\">一、安装Apache<br/>yum install httpd #根据提示，输入Y安装即可成功安装<br/>/etc/init.d/httpd start#启动Apache<br/>备注：Apache启动之后会提示错误：<br/>正在启动 httpd:httpd: Could not reliably determine the server&#39;s fully qualif domain name, using ::1 for ServerName<br/><strong>解决办法：</strong><br/>vi /etc/httpd/conf/httpd.conf #编辑<br/>找到 #ServerName www.example.com:80<br/>修改为 ServerName www.jbaobao.net:80 #这里设置为你自己的域名，如果没有域名，可以设置为localhost<br/>:wq! #保存退出<br/>chkconfig httpd on #设为开机启动<br/>/etc/init.d/httpd restart #重启Apache</p><p style=\"color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; text-align: justify; white-space: normal;\">二、安装MySQL</p><p style=\"color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; text-align: justify; white-space: normal;\">1、安装MySQL<br/>yum install&nbsp;mysql&nbsp;mysql-server #询问是否要安装，输入Y即可自动安装,直到安装完成<br/>/etc/init.d/mysqld start #启动MySQL<br/>chkconfig mysqld on #设为开机启动<br/>cp /usr/share/mysql/my-medium.cnf /etc/my.cnf #拷贝配置文件（注意：如果/etc目录下面默认有一个my.cnf，直接覆盖即可）</p><p style=\"color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; text-align: justify; white-space: normal;\">2、为root账户设置密码<br/>mysql_secure_installation<br/>回车，根据提示输入Y<br/>输入2次密码，回车<br/>根据提示一路输入Y<br/>最后出现：Thanks for using MySQL!<br/>MySql密码设置完成，重新启动 MySQL：<br/>/etc/init.d/mysqld restart #重启<br/>/etc/init.d/mysqld stop #停止<br/>/etc/init.d/mysqld start #启动</p><p style=\"color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; text-align: justify; white-space: normal;\">三、安装PHP5</p><p style=\"color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; text-align: justify; white-space: normal;\">1、安装PHP5</p><p style=\"color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; text-align: justify; white-space: normal;\">系统运维 温馨提醒：qihang01原创内容版权所有,转载请注明出处及原文链接<br/>yum install php #根据提示输入Y直到安装完成</p><p style=\"color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; text-align: justify; white-space: normal;\">2、安装PHP组件，使 PHP5 支持 MySQL<br/>yum install php-mysql php-gd libjpeg* php-imap php-ldap php-odbc php-pear php-xml php-xmlrpc php-mbstring php-mcrypt php-bcmath php-mhash libmcrypt #这里选择以上安装包进行安装，根据提示输入Y回车<br/>/etc/init.d/mysqld restart #重启MySql<br/>/etc/init.d/httpd restart #重启Apche</p><p><br/></p><p><br/></p><p>后期工作:--------------------------------</p><p>设置服务器开机启动</p><p>systemctl enable httpd</p><p>systemctl enable mysqld</p><p><br/></p><p><br/></p><p>测试:-----------------------------------</p><p>curl http://127.0.0.1</p>','2017-08-06 16:24:24','2017-08-07 00:24:24'),(830,'192.168.0.101',5,'Android控件之ListView--2','<pre class=\"brush:java;toolbar:false\">XML:\r\n&lt;ListView\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:id=&quot;@+id/lv&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:layout_width=&quot;match_parent&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:layout_height=&quot;fill_parent&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:minHeight=&quot;100dp&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:layout_below=&quot;@+id/toolbarId&quot;&nbsp;/&gt;\r\n\r\n\r\n\r\n初始化:\r\nListView&nbsp;listView&nbsp;=&nbsp;(ListView)findViewById(R.id.lv);\r\nlistView.setAdapter(new&nbsp;ArrayAdapter&lt;String&gt;(this,&nbsp;android.R.layout.simple_expandable_list_item_1,getData()));\r\n\r\n\r\n数据源:\r\nprivate&nbsp;List&lt;String&gt;&nbsp;getData()\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;List&lt;String&gt;&nbsp;data&nbsp;=&nbsp;new&nbsp;ArrayList&lt;String&gt;();\r\n&nbsp;&nbsp;&nbsp;&nbsp;data.add(&quot;添加设备&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;data.add(&quot;设备管理&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;data;\r\n}</pre><p><br/></p>','2017-08-07 17:15:17','2017-08-09 16:02:46'),(831,'192.168.0.101',5,'ListView 左图片加文字','<pre class=\"brush:java;toolbar:false\">list_item_left_icon.xml:\r\n&lt;?xml&nbsp;version=&quot;1.0&quot;&nbsp;encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout&nbsp;xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:layout_width=&quot;match_parent&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:layout_height=&quot;fill_parent&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:minHeight=&quot;100dp&quot;&gt;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;ImageView\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:id=&quot;@+id/imageView&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_width=&quot;40dp&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_height=&quot;40dp&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_margin=&quot;10dp&quot;&gt;&lt;/ImageView&gt;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;TextView\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:id=&quot;@+id/textView&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_width=&quot;match_parent&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_height=&quot;match_parent&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_gravity=&quot;center&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:gravity=&quot;center_vertical&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:textSize=&quot;20sp&quot;&gt;&lt;/TextView&gt;\r\n&lt;/LinearLayout&gt;\r\n\r\n\r\n\r\n初始化:\r\n//\r\nListView&nbsp;listView&nbsp;=&nbsp;(ListView)findViewById(R.id.lv);\r\nSimpleAdapter&nbsp;adapter&nbsp;=&nbsp;new&nbsp;SimpleAdapter(this,&nbsp;getData(),&nbsp;R.layout.list_item_left_icon,&nbsp;new&nbsp;String[]{&quot;icon&quot;,&quot;test&quot;},&nbsp;new&nbsp;int[]{R.id.imageView,R.id.textView});\r\nlistView.setAdapter(adapter);\r\n\r\n\r\n数据源:\r\nprivate&nbsp;List&lt;Map&lt;String,Object&gt;&gt;&nbsp;getData()\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;Map&lt;String,Object&gt;&nbsp;map;\r\n&nbsp;&nbsp;&nbsp;&nbsp;List&lt;Map&lt;String,Object&gt;&gt;&nbsp;data&nbsp;=&nbsp;new&nbsp;ArrayList&lt;Map&lt;String,Object&gt;&gt;();\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;map&nbsp;=&nbsp;new&nbsp;HashMap&lt;String,Object&gt;();\r\n&nbsp;&nbsp;&nbsp;&nbsp;map.put(&quot;icon&quot;,&nbsp;R.drawable.ic_home_black_24dp);\r\n&nbsp;&nbsp;&nbsp;&nbsp;map.put(&quot;test&quot;,&nbsp;&quot;添加设备&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;data.add(map);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;map&nbsp;=&nbsp;new&nbsp;HashMap&lt;String,Object&gt;();\r\n&nbsp;&nbsp;&nbsp;&nbsp;map.put(&quot;icon&quot;,&nbsp;R.drawable.ic_dashboard_black_24dp);\r\n&nbsp;&nbsp;&nbsp;&nbsp;map.put(&quot;test&quot;,&nbsp;&quot;钥匙管理&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;data.add(map);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;data;\r\n}</pre><p><br/></p>','2017-08-07 17:42:27','2017-08-09 16:02:58'),(832,'192.168.0.101',5,'ImageButton按钮添加图片','<pre class=\"brush:java;toolbar:false\">&lt;ImageButton\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:id=&quot;@+id/btn1&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:layout_width=&quot;150dp&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:layout_height=&quot;50dp&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:layout_gravity=&quot;center_vertical&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:layout_marginRight=&quot;10dp&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:layout_weight=&quot;1&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:scaleType=&quot;center&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:src=&quot;@mipmap/devlst_add&quot;&nbsp;/&gt;</pre><p><br/></p>','2017-08-08 07:27:49','2017-08-08 15:27:49'),(833,'27.44.202.78',5,'ListView自定义item内容','<pre class=\"brush:xml;toolbar:false\">----------list_item_key_magr.xml:\r\n\r\n&lt;?xml&nbsp;version=&quot;1.0&quot;&nbsp;encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout&nbsp;xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:layout_width=&quot;match_parent&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:layout_height=&quot;fill_parent&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:minHeight=&quot;60dp&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;LinearLayout\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_width=&quot;match_parent&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_height=&quot;match_parent&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_weight=&quot;1&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:orientation=&quot;vertical&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:visibility=&quot;visible&quot;&gt;\r\n\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;TextView\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:id=&quot;@+id/devname&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_width=&quot;match_parent&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_height=&quot;wrap_content&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_gravity=&quot;center&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_weight=&quot;1&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:gravity=&quot;bottom&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:paddingLeft=&quot;20dp&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:text=&quot;@string/tip_devname&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:textColor=&quot;@android:color/background_dark&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:textSize=&quot;20sp&quot;&gt;&lt;/TextView&gt;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;LinearLayout\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_width=&quot;match_parent&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_height=&quot;30dp&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_below=&quot;@+id/devname&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_weight=&quot;1&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;TextView\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:id=&quot;@+id/tip&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_width=&quot;match_parent&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_height=&quot;match_parent&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_gravity=&quot;center&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_weight=&quot;1&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:gravity=&quot;center_vertical&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:paddingLeft=&quot;20dp&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:text=&quot;@string/tip_devflag&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:textColor=&quot;@android:color/darker_gray&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:textSize=&quot;16sp&quot;&gt;&lt;/TextView&gt;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;TextView\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:id=&quot;@+id/tip_passwd&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_width=&quot;match_parent&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_height=&quot;match_parent&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_gravity=&quot;center&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_weight=&quot;1&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:gravity=&quot;center_vertical&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:paddingLeft=&quot;20dp&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:text=&quot;@string/tip_devflag&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:textColor=&quot;@android:color/darker_gray&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:textSize=&quot;16sp&quot;&gt;&lt;/TextView&gt;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/LinearLayout&gt;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;/LinearLayout&gt;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;ImageButton\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:id=&quot;@+id/btn1&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_width=&quot;150dp&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_height=&quot;60dp&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_gravity=&quot;center_vertical&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_marginRight=&quot;4dp&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:layout_weight=&quot;1&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:background=&quot;@android:color/transparent&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:onClick=&quot;btnDeleteOnClick&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:scaleType=&quot;center&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android:src=&quot;@mipmap/pub_delete&quot;&nbsp;/&gt;\r\n&lt;/LinearLayout&gt;\r\n\r\n\r\n\r\n\r\n\r\n----------java类:\r\n\r\nclass&nbsp;ControlKeyMagrItem&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;String&nbsp;devname;\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;String&nbsp;devflag;\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;String&nbsp;password;\r\n\r\n};\r\n\r\nclass&nbsp;ControlKeyMagrAdapter&nbsp;extends&nbsp;BaseAdapter&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;List&lt;ControlKeyMagrItem&gt;&nbsp;items;\r\n&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;LayoutInflater&nbsp;mInflater;\r\n&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;Context&nbsp;mContext&nbsp;=&nbsp;null;\r\n&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;boolean&nbsp;IsShowDelete;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;ControlKeyMagrAdapter(Context&nbsp;context,&nbsp;List&lt;ControlKeyMagrItem&gt;&nbsp;lstData,&nbsp;boolean&nbsp;showDelete)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mContext&nbsp;=&nbsp;context;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mInflater&nbsp;=&nbsp;LayoutInflater.from(mContext);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(null&nbsp;!=&nbsp;items)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items.clear();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;lstData;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IsShowDelete&nbsp;=&nbsp;showDelete;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;reload()\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;this.notifyDataSetChanged();\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;reload(List&lt;RemoteDevItem&gt;&nbsp;lstData)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(null&nbsp;!=&nbsp;items)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(lstData!=items)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{items.clear();}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;lstData;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.notifyDataSetChanged();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;setShowDelete(boolean&nbsp;showDelete)&nbsp;{\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IsShowDelete&nbsp;=&nbsp;showDelete;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.notifyDataSetChanged();\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;clear()&nbsp;{&nbsp;&nbsp;items.clear();&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;Object&nbsp;getItem(int&nbsp;arg0)&nbsp;{&nbsp;&nbsp;return&nbsp;items.get(arg0);&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;long&nbsp;getItemId(int&nbsp;position)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;position;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;int&nbsp;getCount()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;items.size();\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;View&nbsp;getView(int&nbsp;position,&nbsp;View&nbsp;convertView,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android.view.ViewGroup&nbsp;parent)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;ImageView&nbsp;indexImage;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;TextView&nbsp;indexTitle;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;TextView&nbsp;indexText;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;TextView&nbsp;indexText2;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(convertView&nbsp;==&nbsp;null)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;和item_custom.xml脚本关联\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;convertView&nbsp;=&nbsp;mInflater.inflate(R.layout.list_item_key_magr,&nbsp;null);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;indexTitle&nbsp;=&nbsp;(TextView)&nbsp;convertView.findViewById(R.id.devname);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;indexText&nbsp;=&nbsp;(TextView)&nbsp;convertView.findViewById(R.id.tip);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;indexText2&nbsp;=&nbsp;(TextView)&nbsp;convertView.findViewById(R.id.tip_passwd);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ControlKeyMagrItem&nbsp;it&nbsp;=&nbsp;items.get(position);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;str1&nbsp;=&nbsp;mContext.getString(R.string.tip_devflag)&nbsp;+&nbsp;&quot;:&quot;&nbsp;+&nbsp;it.devflag;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;str2&nbsp;=&nbsp;mContext.getString(R.string.tip_password)&nbsp;+&nbsp;&quot;:&quot;&nbsp;+&nbsp;it.password;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;indexTitle.setText(it.devname);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;indexText.setText(str1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;indexText2.setText(str2);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//显示&nbsp;和隐藏删除按键\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(IsShowDelete)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;convertView.findViewById(R.id.btn1).setVisibility(View.VISIBLE);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;convertView.findViewById(R.id.btn1).setVisibility(View.GONE);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;convertView;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n};\r\n\r\n\r\n\r\n\r\n----------初始化:\r\nboolean&nbsp;isEditing=false;\r\n//\r\nListView&nbsp;listView&nbsp;=&nbsp;(ListView)&nbsp;findViewById(R.id.lv);\r\nadapter&nbsp;=&nbsp;new&nbsp;ControlAddDevAdapter(this,getData(),isEditing);\r\nlistView.setAdapter(adapter);\r\n//设置焦点响应问题&nbsp;&nbsp;&nbsp;&nbsp;同时要将&nbsp;item&nbsp;中的焦点&nbsp;focusable&nbsp;设置为&nbsp;false\r\nlistView.setDescendantFocusability(ViewGroup.FOCUS_BLOCK_DESCENDANTS);\r\nlistView.setOnItemClickListener(lvListern);\r\n\r\n//刷新数据操作\r\n//adapter.clear();\r\n//adapter.reload(getData());\r\n\r\n//显示删除按钮\r\n//adapter.setShowDelete(isEditing);\r\n\r\n\r\n\r\n\r\n----------数据源:\r\nprivate&nbsp;List&lt;ControlAddDevShowItem&gt;&nbsp;getData()&nbsp;{\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;List&lt;ControlAddDevShowItem&gt;&nbsp;data&nbsp;=&nbsp;new&nbsp;ArrayList&lt;ControlAddDevShowItem&gt;();\r\n&nbsp;&nbsp;&nbsp;&nbsp;ControlAddDevShowItem&nbsp;item=new&nbsp;ControlAddDevShowItem();\r\n&nbsp;&nbsp;&nbsp;&nbsp;item.devname=&quot;设备1&quot;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;item.devflag=&quot;LED&quot;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;item.addr=&quot;192.168.1.1:12345&quot;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;data.add(item);\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;data;\r\n}\r\n\r\n\r\n----------点击item事件:\r\nprivate&nbsp;AdapterView.OnItemClickListener&nbsp;lvListern&nbsp;=&nbsp;new&nbsp;AdapterView.OnItemClickListener()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;onItemClick(AdapterView&lt;?&gt;&nbsp;parent,&nbsp;View&nbsp;view,&nbsp;int&nbsp;position,&nbsp;long&nbsp;id)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ControlAddDevShowItem&nbsp;item&nbsp;=&nbsp;(ControlAddDevShowItem)&nbsp;adapter.getItem(position);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n};</pre><p><br/></p>','2017-08-08 19:28:12','2017-09-11 07:06:29'),(834,'192.168.0.101',5,'android 控件layout的显示和消失 visibility','<pre class=\"brush:html;toolbar:false\">在Java代码中定义该控件\r\n\r\n//调为可见\r\nconvertView.findViewById(R.id.btn1).setVisibility(View.VISIBLE);&nbsp;&nbsp;&nbsp;\r\n&nbsp;\r\n//控制该控件面板layout不可见，但是他依旧占用空间。比如用linerlayout进行布局，设置这个属性后，此位置按键不可见，但下一个按键不会占用它的位置。\r\n.setVisibility(View.INVISIBLE);&nbsp;\r\n&nbsp;\r\n//控制该控件面板消失。比如用linerlayout进行布局，设置这个属性后，相当于这里没有这个布局，下一个按键会向前移动，占用此控件的位置。\r\n.setVisibility(View.GONE);</pre><p><br/></p>','2017-08-09 18:01:00','2017-08-10 02:01:00'),(835,'192.168.0.102',5,'在mac上安装gradle','<p><a href=\"https://downloads.gradle.org/distributions/gradle-4.1-all.zip\" _src=\"https://downloads.gradle.org/distributions/gradle-4.1-all.zip\">https://downloads.gradle.org/distributions/gradle-4.1-all.zip</a> </p><p><br/></p><p>第一步， 就是先download最新版本的gradle，网址如下：</p><p><a target=\"_blank\" href=\"http://gradle.org/gradle-download/\" style=\"text-decoration: none; color: rgb(12, 137, 207);\">http://gradle.org/gradle-download/</a><a target=\"_blank\" rel=\"nofollow\" href=\"http://www.gradle.org/get-started\" style=\"text-decoration: none; color: rgb(119, 102, 153);\"></a><br/>然后将下载下来的zip包放解压到本地任意的路径上，</p><p>例如，我本地则安装在</p><p>/Users/lixiang/gradle-2.7</p><p>1、打开Mac上的“终端”，输入以下命令,将gradle的bin目录添加至到环境变量中:</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: 11px; line-height: normal; font-family: Menlo;\">vi ~/.bash_profile</p><p>2、打开<span style=\"line-height: 21.06px;\">.bash_profile 文件窗口依次</span>输入以下命令：<br/>i （进入vi的编辑模式，添加如下配置）</p><p>GRADLE_HOME=<span style=\"line-height: 21.06px;\">/Users/lixiang/gradle-2.7</span><br/>export GRADLE_HOME<br/>export PATH=$PATH:$GRADLE_HOME/bin</p><p>3、输入完毕，按esc键退出vi的编辑模式，</p><p>输入“:”(冒号)进入最后行模式，</p><p>输入 wq 保存并退出vi</p><p>4、通过以下命令来查看是否安装成功：<br/>gradle -version &nbsp;</p><p>如果输出以下的gradle版本信息就表示已经安装成功了：</p><p><span style=\"line-height: 1.62;\">------------------------------------------------------------</span></p><p class=\"p1\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px;\"><span class=\"s1\">Gradle 2.7</span></p><p class=\"p1\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px;\"><span class=\"s1\">------------------------------------------------------------</span></p><p class=\"p2\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px;\"><span style=\"line-height: 1.62;\">Build time: &nbsp; 2015-09-14 07:26:16 UTC</span><span class=\"s1\"></span></p><p class=\"p1\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px;\"><span class=\"s1\">Build number: none</span></p><p class=\"p1\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px;\"><span class=\"s1\">Revision: &nbsp; &nbsp; c41505168da69fb0650f4e31c9e01b50ffc97893</span></p><p class=\"p2\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px;\">Groovy: &nbsp; &nbsp; &nbsp; 2.3.10<span class=\"s1\"></span></p><p class=\"p1\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px;\"><span class=\"s1\">Ant:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Apache Ant(TM) version 1.9.3 compiled on December 23 2013</span></p><p class=\"p1\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px;\"><span class=\"s1\">JVM:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1.8.0_40 (<a href=\"http://lib.csdn.net/base/oracle\" class=\"replace_word\" title=\"Oracle知识库\" target=\"_blank\" style=\"text-decoration: none; color: rgb(223, 52, 52); font-weight: bold;\">Oracle</a> Corporation 25.40-b25)</span></p><p class=\"p1\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px;\"><span class=\"s1\">OS: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Mac OS X 10.10.4 x86_64</span></p><p class=\"p2\" style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px;\"><span class=\"s1\"></span></p><p><span style=\"color: rgb(255, 0, 0);\">注意</span><span style=\"color: rgb(17, 17, 17);\">: 如果提示没有gradle命令，则可以检查：</span></p><p><br/>1. GRADLE_HOME路径在环境变量中配置是否正确，</p><p>2.确定是否指定到bin目录；</p><p><br/></p><p><br/></p>','2017-08-11 12:45:06','2017-08-11 20:45:29'),(836,'192.168.0.102',5,'解决Andriod软键盘出现把原来的布局给顶上去的方法','<pre class=\"brush:java;toolbar:false\">&lt;application\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:allowBackup=&quot;true&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:icon=&quot;@mipmap/ic_launcher&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:label=&quot;@string/app_name&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:supportsRtl=&quot;true&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;activity&nbsp;android:name=&quot;.MainActivity&quot;&nbsp;android:windowSoftInputMode=&quot;adjustPan|stateHidden&quot;&gt;\r\n\r\n\r\n在AndroidManifest.xml的某个Activity里加入\r\nandroid:windowSoftInputMode=&quot;adjustPan|stateHidden&quot;</pre><p><br/></p>','2017-08-11 12:52:45','2017-08-11 20:52:45'),(837,'192.168.5.25',18,'apache 多站点配置','<h1 class=\"postTitle\" style=\"margin: 0px; padding: 0px 0px 0px 5px; float: left; line-height: 1.5; width: 998.21875px; clear: both; font-size: 14px; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal; background-color: rgb(254, 254, 242);\"><a id=\"cb_post_title_url\" class=\"postTitle2\" href=\"http://www.cnblogs.com/ganmk/archive/2012/07/10/2585315.html\" style=\"margin: 0px; padding: 0px; color: rgb(7, 93, 179); text-decoration: none;\">apache 多站点配置</a></h1><p>1: 安装好AppServ2.5.9软件，官网是:[url]http://www.appservnetwork.com/[/url]<br style=\"margin: 0px; padding: 0px;\"/>,2.59下载地址是:[url]http://nchc.dl.sourceforge.net/sourceforge/appserv<br style=\"margin: 0px; padding: 0px;\"/>/appserv-win32-2.5.9.exe[/url] 是英文软件，但是安装时可以选择gbk-gb2312的编码（我自己用utf-8）。&nbsp;<br style=\"margin: 0px; padding: 0px;\"/>2: 修改本机的hosts文件，如下：&nbsp;<br style=\"margin: 0px; padding: 0px;\"/>示例：<br style=\"margin: 0px; padding: 0px;\"/>127.0.0.1&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;localhost<br style=\"margin: 0px; padding: 0px;\"/>127.0.0.1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=\"http://www.dede.com/\" style=\"margin: 0px; padding: 0px; color: rgb(7, 93, 179);\">http://www.dede.com/</a><br style=\"margin: 0px; padding: 0px;\"/>127.0.0.1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=\"http://www.phpcms.com/\" style=\"margin: 0px; padding: 0px; color: rgb(7, 93, 179);\">http://www.phpcms.com/</a>&nbsp;<br style=\"margin: 0px; padding: 0px;\"/><br style=\"margin: 0px; padding: 0px;\"/>3: 打开appserv的安装目录，找到httpd.conf文件，分别去掉下面两行文字前面的#号。&nbsp;<br style=\"margin: 0px; padding: 0px;\"/>#LoadModule vhost_alias_module modules/mod_vhost_alias.so&nbsp;<br style=\"margin: 0px; padding: 0px;\"/>去掉#意思是启用apache的虚拟主机功能。&nbsp;<br style=\"margin: 0px; padding: 0px;\"/><br style=\"margin: 0px; padding: 0px;\"/>#Include conf/extra/httpd-vhosts.conf&nbsp;<br style=\"margin: 0px; padding: 0px;\"/>去掉这一行的#意思是从conf/extra/httpd-vhosts.conf这个文件导入虚拟主机配置。<br style=\"margin: 0px; padding: 0px;\"/><br style=\"margin: 0px; padding: 0px;\"/>4: 打开extra目录内的httpd-vhosts.conf文件，什么都不管，直接在文件底部加入自己要加的虚拟主机的信息。如下面所示。&nbsp;<br style=\"margin: 0px; padding: 0px;\"/>分别是给出一个管理员邮箱、指出此网站的根目录、域名、和错误日志存放位置。注意目录间隔最好用/而不是/ 。&nbsp;<br style=\"margin: 0px; padding: 0px;\"/><br style=\"margin: 0px; padding: 0px;\"/>&lt;VirtualHost *:80&gt;<br style=\"margin: 0px; padding: 0px;\"/>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;ServerAdmin&nbsp;<a href=\"mailto:jsw7001@hotmail.com\" style=\"margin: 0px; padding: 0px; color: rgb(7, 93, 179);\">jsw7001@hotmail.com</a><br style=\"margin: 0px; padding: 0px;\"/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DocumentRoot E:/AppServ259/www/dede<br style=\"margin: 0px; padding: 0px;\"/>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;ServerName&nbsp;<a href=\"http://www.dede.com/\" style=\"margin: 0px; padding: 0px; color: rgb(7, 93, 179);\">http://www.dede.com/</a><br style=\"margin: 0px; padding: 0px;\"/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ErrorLog E:/AppServ259/www/dede/error.log<br style=\"margin: 0px; padding: 0px;\"/>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;CustomLog logs/dummy-host2.appservnetwork.com-access_log common<br style=\"margin: 0px; padding: 0px;\"/>&lt;/VirtualHost&gt;<br style=\"margin: 0px; padding: 0px;\"/><br style=\"margin: 0px; padding: 0px;\"/>&lt;VirtualHost *:80&gt;<br style=\"margin: 0px; padding: 0px;\"/>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;ServerAdmin&nbsp;<a href=\"mailto:jsw7001@hotmail.com\" style=\"margin: 0px; padding: 0px; color: rgb(7, 93, 179);\">jsw7001@hotmail.com</a><br style=\"margin: 0px; padding: 0px;\"/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DocumentRoot E:/AppServ259/www/phpcms<br style=\"margin: 0px; padding: 0px;\"/>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;ServerName&nbsp;<a href=\"http://www.phpcms.com/\" style=\"margin: 0px; padding: 0px; color: rgb(7, 93, 179);\">http://www.phpcms.com/</a><br style=\"margin: 0px; padding: 0px;\"/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ErrorLog E:/AppServ259/www/dede/error.log<br style=\"margin: 0px; padding: 0px;\"/>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;CustomLog logs/dummy-host2.appservnetwork.com-access_log common<br style=\"margin: 0px; padding: 0px;\"/>&lt;/VirtualHost&gt; &nbsp; &nbsp;&nbsp;<br style=\"margin: 0px; padding: 0px;\"/><br style=\"margin: 0px; padding: 0px;\"/>*以上路径中的斜线左斜右斜都可以。&nbsp;<br style=\"margin: 0px; padding: 0px;\"/><br style=\"margin: 0px; padding: 0px;\"/>5: 将appserv的apache服务重启，就可以了，可以在各网站的根目录下放一个index.html文件，如果能看到，说明就对了。&nbsp;<br style=\"margin: 0px; padding: 0px;\"/><br style=\"margin: 0px; padding: 0px;\"/>&nbsp; &nbsp;&nbsp;&nbsp;上边是使用域名的方法。<br style=\"margin: 0px; padding: 0px;\"/><br style=\"margin: 0px; padding: 0px;\"/>&nbsp; &nbsp;&nbsp;&nbsp;下边说下如何使用本地IP+端口的方法。<br style=\"margin: 0px; padding: 0px;\"/><br style=\"margin: 0px; padding: 0px;\"/>&nbsp; &nbsp;&nbsp;&nbsp;例如本机IP为：192.168.0.10<br style=\"margin: 0px; padding: 0px;\"/>&nbsp; &nbsp;&nbsp;&nbsp;那如何控制&nbsp;&nbsp;80 、1000、1001、1002 来访问不同的文件目录，而达到多个站点同时访问的目的？<br style=\"margin: 0px; padding: 0px;\"/><br style=\"margin: 0px; padding: 0px;\"/>&nbsp; &nbsp;&nbsp;&nbsp;打开appserv的安装目录，找到httpd.conf文件，找到：<br style=\"margin: 0px; padding: 0px;\"/>&nbsp; &nbsp;&nbsp;&nbsp;Listen 80<br style=\"margin: 0px; padding: 0px;\"/>&nbsp; &nbsp;&nbsp;&nbsp;加入：<br style=\"margin: 0px; padding: 0px;\"/>Listen 80&nbsp;<br style=\"margin: 0px; padding: 0px;\"/>Listen 1000&nbsp;<br style=\"margin: 0px; padding: 0px;\"/>Listen 1001&nbsp;<br style=\"margin: 0px; padding: 0px;\"/>Listen 1002<br style=\"margin: 0px; padding: 0px;\"/><br style=\"margin: 0px; padding: 0px;\"/>然后参照虚拟主机的设置方法。不同的是：<br style=\"margin: 0px; padding: 0px;\"/>&lt;VirtualHost *:80&gt; 这个后边的端口号按自己需求更改就成了。<br style=\"margin: 0px; padding: 0px;\"/><br style=\"margin: 0px; padding: 0px;\"/><br style=\"margin: 0px; padding: 0px;\"/>如果 弄完之后 出现403错误 那 在httpd.conf里找到：<br style=\"margin: 0px; padding: 0px;\"/><br style=\"margin: 0px; padding: 0px;\"/>&lt;Directory /&gt;<br style=\"margin: 0px; padding: 0px;\"/>&nbsp; &nbsp;Options FollowSymLinks ExecCGI Indexes<br style=\"margin: 0px; padding: 0px;\"/>&nbsp; &nbsp;AllowOverride None<br style=\"margin: 0px; padding: 0px;\"/>&nbsp; &nbsp;Order deny,allow<br style=\"margin: 0px; padding: 0px;\"/>&nbsp; &nbsp;Deny from all<br style=\"margin: 0px; padding: 0px;\"/>&nbsp; &nbsp;Satisfy all<br style=\"margin: 0px; padding: 0px;\"/>&lt;/Directory&gt;<br style=\"margin: 0px; padding: 0px;\"/><br style=\"margin: 0px; padding: 0px;\"/>更改为<br style=\"margin: 0px; padding: 0px;\"/>&lt;Directory /&gt;<br style=\"margin: 0px; padding: 0px;\"/>&nbsp; &nbsp;Options FollowSymLinks ExecCGI Indexes<br style=\"margin: 0px; padding: 0px;\"/>&nbsp; &nbsp;AllowOverride None<br style=\"margin: 0px; padding: 0px;\"/>#&nbsp; &nbsp; Order deny,allow<br style=\"margin: 0px; padding: 0px;\"/>#&nbsp; &nbsp; Deny from all<br style=\"margin: 0px; padding: 0px;\"/>#&nbsp; &nbsp; Satisfy all<br style=\"margin: 0px; padding: 0px;\"/>&lt;/Directory&gt;</p><p><br/></p>','2017-08-12 19:32:58','2017-08-13 03:32:58'),(838,'192.168.5.55',76,'centos httpd建立多个网站','<p><strong>新建文件/etc/httpd/conf.modules.d/00-vhost.conf</strong></p><pre class=\"brush:html;toolbar:false\">LoadModule&nbsp;vhost_alias_module&nbsp;modules/mod_vhost_alias.so\r\nInclude&nbsp;conf/extra/httpd-vhosts.conf</pre><p><strong><br/></strong></p><p><strong>建目录和文件/etc/httpd/conf/extra/httpd-vhosts.conf</strong></p><p><strong>建目录/var/www/log&nbsp;&nbsp;---------&nbsp; chmod 777 权限</strong></p><p>注:用IP访问时依然是访问/var/www/html</p><pre class=\"brush:html;toolbar:false\">&lt;VirtualHost&nbsp;*:80&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;ServerName&nbsp;cloud.hx-kong.com\r\n&nbsp;&nbsp;&nbsp;&nbsp;DocumentRoot&nbsp;&quot;/var/www/html&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;Directory&nbsp;&quot;/var/www/html&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Options&nbsp;Indexes&nbsp;FollowSymLinks&nbsp;ExecCGI&nbsp;Includes\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AllowOverride&nbsp;All\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Order&nbsp;allow,deny\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Allow&nbsp;from&nbsp;all\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Directory&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;ErrorLog&nbsp;&quot;/var/www/log/dummy-host-error_log&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CustomLog&nbsp;&quot;/var/www/log/dummy-host-access_log&quot;&nbsp;common\r\n&lt;/VirtualHost&gt;\r\n&lt;VirtualHost&nbsp;*:80&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;ServerName&nbsp;www.hanzhihong.cn\r\n&nbsp;&nbsp;&nbsp;&nbsp;DocumentRoot&nbsp;&quot;/var/www/html2&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;Directory&nbsp;&quot;/var/www/html2&quot;&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Options&nbsp;Indexes&nbsp;FollowSymLinks&nbsp;ExecCGI&nbsp;Includes\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AllowOverride&nbsp;All\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Order&nbsp;allow,deny\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Allow&nbsp;from&nbsp;all\r\n&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Directory&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;ErrorLog&nbsp;&quot;/var/www/log/dummy-host2-error_log&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CustomLog&nbsp;&quot;/var/www/log/dummy-host2-access_log&quot;&nbsp;common\r\n&lt;/VirtualHost&gt;</pre><p><br/></p>','2017-08-15 09:32:23','2017-08-15 18:11:52'),(839,'27.44.203.36',76,'centos mysql 连接版本更新','<p>yum &nbsp;remove &nbsp;php-mysql</p><p>yum &nbsp;install &nbsp;php-mysqlnd<br/></p><p>systemctl restart httpd<br/></p><p>systemctl restart mysql<br/></p><p><br/></p>','2017-08-15 18:06:27','2017-08-16 02:06:27'),(840,'27.44.26.5',5,'android studio对library断点调试','<p><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px;  background-color: rgb(255, 255, 255);\">1、在<strong style=\"white-space: normal; font-family: tahoma, arial, 宋体; font-size: 14px;\"><span style=\"background-color: rgb(255, 255, 255);\">Module:app</span></strong>的build.gradle中</span><strong style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal;\">把minifyEnabled true改为minifyEnabled false</strong></p><pre class=\"brush:html;toolbar:false\">buildTypes&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;release&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;minifyEnabled&nbsp;false\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proguardFiles&nbsp;getDefaultProguardFile(&#39;proguard-android.txt&#39;),&nbsp;&#39;proguard-rules.pro&#39;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;debug&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;minifyEnabled&nbsp;false\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debuggable&nbsp;true;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}</pre><p><strong style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal;\"></strong><br/></p><p><strong style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal;\"><br/></strong></p><p><strong style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal;\"><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px;  background-color: rgb(255, 255, 255);\">2、在Module:app的buld.gradle最后面添加&nbsp;&nbsp;：</span><strong style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal;\">configurations { &nbsp; &nbsp;debug &nbsp; &nbsp;release}</strong></strong></p><pre class=\"brush:html;toolbar:false\">configurations&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;debug\r\n&nbsp;&nbsp;&nbsp;&nbsp;release\r\n}</pre><p><strong style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal;\"><strong style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal;\"></strong></strong><br/></p><p><span style=\"font-family: tahoma, arial, 宋体; font-size: 14px;  background-color: rgb(255, 255, 255);\">3、在app的build.gradle中添加library的依赖：</span><strong style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal;\"><span style=\"color:#ff0000;line-height: 25.200000762939453px;\">compile project(path: &#39;:libxxxx&#39;)</span></strong></p><pre class=\"brush:html;toolbar:false\">dependencies&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;compile&nbsp;fileTree(dir:&nbsp;&#39;libs&#39;,&nbsp;include:&nbsp;[&#39;*.jar&#39;])\r\n&nbsp;&nbsp;&nbsp;&nbsp;androidTestCompile(&#39;com.android.support.test.espresso:espresso-core:2.2.2&#39;,&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exclude&nbsp;group:&nbsp;&#39;com.android.support&#39;,&nbsp;module:&nbsp;&#39;support-annotations&#39;\r\n&nbsp;&nbsp;&nbsp;&nbsp;})\r\n&nbsp;&nbsp;&nbsp;&nbsp;compile&nbsp;&#39;com.android.support:appcompat-v7:26.+&#39;\r\n&nbsp;&nbsp;&nbsp;&nbsp;compile&nbsp;&#39;com.android.support.constraint:constraint-layout:1.0.2&#39;\r\n&nbsp;&nbsp;&nbsp;&nbsp;testCompile&nbsp;&#39;junit:junit:4.12&#39;\r\n&nbsp;&nbsp;&nbsp;&nbsp;compile&nbsp;project(path:&nbsp;&#39;:libmcunet&#39;)\r\n}</pre><p><strong style=\"font-family: tahoma, arial, 宋体; font-size: 14px; white-space: normal;\"><span style=\"color:#ff0000;line-height: 25.200000762939453px;\"></span></strong><br/></p>','2017-08-17 11:03:05','2017-09-21 22:47:49'),(841,'27.44.11.32',5,'socket TCP客户端','<pre class=\"brush:java;toolbar:false\">//函数获取信息\r\nString&nbsp;getIotDispath_ip;\r\nint&nbsp;getIotDispath_port&nbsp;=&nbsp;0;\r\n\r\npublic&nbsp;void&nbsp;getIotDispath()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;byte[]&nbsp;cache=new&nbsp;byte[10];\r\n&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;byte[]&nbsp;ipv4_and_port=new&nbsp;byte[4];\r\n&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;Runnable&nbsp;thread=new&nbsp;Runnable(){&nbsp;//一定要用线程\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;run(){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;len=0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;erro=0;&nbsp;//接收失败计数器\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Socket&nbsp;soc&nbsp;=&nbsp;null;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//创建一个流套接字并将其连接到指定主机上的指定端口号\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;soc&nbsp;=&nbsp;new&nbsp;Socket(PubParameter.IOT_DEV_URL,&nbsp;9004);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//读取服务器端数据\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DataInputStream&nbsp;input&nbsp;=&nbsp;new&nbsp;DataInputStream(soc.getInputStream());\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while(len&lt;6)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;ret=input.read(cache);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(ret&gt;0)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{len+=ret;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;erro++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(erro&gt;10)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{break;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(len&gt;=6)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getIotDispath_ip&nbsp;=&nbsp;String.format(&quot;%d.%d.%d.%d&quot;,&nbsp;cache[0],&nbsp;cache[1],&nbsp;cache[2],&nbsp;cache[3]);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getIotDispath_port&nbsp;=&nbsp;(int)&nbsp;(cache[4]&nbsp;|&nbsp;cache[5]&nbsp;&lt;&lt;&nbsp;8);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//向服务器端发送数据\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//DataOutputStream&nbsp;out&nbsp;=&nbsp;new&nbsp;DataOutputStream(socket.getOutputStream());\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//out.writeUTF(&quot;aaaa&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input.close();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;catch&nbsp;(Exception&nbsp;e)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(&quot;客户端异常:&quot;&nbsp;+&nbsp;e.getMessage());\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;finally&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(soc&nbsp;!=&nbsp;null)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;soc.close();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;catch&nbsp;(IOException&nbsp;e)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;soc&nbsp;=&nbsp;null;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(&quot;客户端&nbsp;finally&nbsp;异常:&quot;&nbsp;+&nbsp;e.getMessage());\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;};\r\n&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;Thread(thread).start();\r\n}</pre><p><br/></p>','2017-08-17 15:57:39','2017-08-17 23:57:39'),(842,'27.44.203.182',5,'android studio libary导出Jar和so','<p>直接编译目录后找到默认生成文件名,然后改名</p><pre class=\"brush:java;toolbar:false\">libary项目目录/app/build/intermediates/bundles/default/classes.jar</pre><p><br/></p><p><br/></p><p>生成so文件<br/></p><pre class=\"brush:bash;toolbar:false\">libary项目目录//app/build/intermediates/cmake/debug/obj\r\n\r\n生成jar文件\r\n将obj改名为lib,然后用ZIP格式压缩,改名成xxx.jar即可</pre><p><br/></p>','2017-08-17 16:48:20','2017-08-22 19:03:18'),(844,'27.44.203.235',5,'Listener创建父类委托,监听事件','<p style=\"margin: 10px auto; padding: 0px; box-sizing: border-box; color: rgb(36, 41, 46); font-family: -apple-system, BlinkMacSystemFont, &#39;Segoe UI&#39;, Roboto, Helvetica, Arial, sans-serif, &#39;Apple Color Emoji&#39;, &#39;Segoe UI Emoji&#39;, &#39;Segoe UI Symbol&#39;; font-size: 14px; white-space: normal;\">1.定义事件监听接口</p><pre style=\"margin-top: 0px; margin-bottom: 16px; padding: 16px; white-space: pre-wrap; word-wrap: normal; box-sizing: border-box; overflow: auto; font-size: 11.899999618530273px; line-height: 1.45; font-family: Consolas, &#39;Liberation Mono&#39;, Menlo, Courier, monospace; background-color: rgb(247, 247, 247); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; color: rgb(36, 41, 46);\">/**\r\n&nbsp;*&nbsp;事件监听接口\r\n&nbsp;*/\r\n&nbsp;public&nbsp;interface&nbsp;SwitchListener&nbsp;extends&nbsp;EventListener&nbsp;{&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;public&nbsp;void&nbsp;handleEvent(int&nbsp;switchEvent);\r\n\r\n}</pre><p style=\"margin: 10px auto; padding: 0px; box-sizing: border-box; color: rgb(36, 41, 46); font-family: -apple-system, BlinkMacSystemFont, &#39;Segoe UI&#39;, Roboto, Helvetica, Arial, sans-serif, &#39;Apple Color Emoji&#39;, &#39;Segoe UI Emoji&#39;, &#39;Segoe UI Symbol&#39;; font-size: 14px; white-space: normal;\">2.定义事件源对象（具体的事件源，比如说，你点击一个button，那么button就是event source，要想使button对某些事件进行响应，你就需要注册特定的listener。这里指开关）</p><pre style=\"margin-top: 0px; margin-bottom: 16px; padding: 16px; white-space: pre-wrap; word-wrap: normal; box-sizing: border-box; overflow: auto; font-size: 11.899999618530273px; line-height: 1.45; font-family: Consolas, &#39;Liberation Mono&#39;, Menlo, Courier, monospace; background-color: rgb(247, 247, 247); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; color: rgb(36, 41, 46);\">/**\r\n&nbsp;*&nbsp;电源开关\r\n&nbsp;*&nbsp;事件源对象，类似于Swing中的button\r\n&nbsp;*/\r\n&nbsp;public&nbsp;class&nbsp;Switch&nbsp;{&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;private&nbsp;Vector&nbsp;eventListener&nbsp;=&nbsp;new&nbsp;Vector();&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;public&nbsp;void&nbsp;addListener(Object&nbsp;listener)&nbsp;\r\n&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eventListener.add(listener);\r\n&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;private&nbsp;void&nbsp;notify(int&nbsp;switchEvent)&nbsp;\r\n&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Iterator&nbsp;iterator&nbsp;=&nbsp;eventListener.iterator();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(iterator.hasNext())&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SwitchListener&nbsp;sl&nbsp;=&nbsp;(SwitchListener)&nbsp;iterator.next();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sl.handleEvent(switchEvent);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;}\r\n&nbsp;&nbsp;protected&nbsp;void&nbsp;open()\r\n&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;notify(1);\r\n&nbsp;&nbsp;}\r\n&nbsp;&nbsp;protected&nbsp;void&nbsp;close()&nbsp;\r\n&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;notify(2);\r\n&nbsp;&nbsp;}&nbsp;&nbsp;\r\n}</pre><p style=\"margin: 10px auto; padding: 0px; box-sizing: border-box; color: rgb(36, 41, 46); font-family: -apple-system, BlinkMacSystemFont, &#39;Segoe UI&#39;, Roboto, Helvetica, Arial, sans-serif, &#39;Apple Color Emoji&#39;, &#39;Segoe UI Emoji&#39;, &#39;Segoe UI Symbol&#39;; font-size: 14px; white-space: normal;\">3.主程序</p><pre style=\"margin-top: 0px; margin-bottom: 16px; padding: 16px; white-space: pre-wrap; word-wrap: normal; box-sizing: border-box; overflow: auto; font-size: 11.899999618530273px; line-height: 1.45; font-family: Consolas, &#39;Liberation Mono&#39;, Menlo, Courier, monospace; background-color: rgb(247, 247, 247); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; color: rgb(36, 41, 46);\">public&nbsp;class&nbsp;SwitchMain&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;\r\npublic&nbsp;static&nbsp;void&nbsp;main(String[]&nbsp;args)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Switch&nbsp;switchTest&nbsp;=&nbsp;new&nbsp;Switch();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;switchTest.addListener(new&nbsp;SwitchListener()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;handleEvent(SwitchEvent&nbsp;switchEvent)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(switchEvent.getSwitchState());\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//触发\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;switchTest.open();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;switchTest.close();\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}</pre><p><br/></p>','2017-08-21 07:42:04','2017-08-21 16:07:46'),(845,'27.44.203.235',3,'苹果关于涉及到硬件的程序上传回答','<table cellspacing=\"0\" cellpadding=\"0\" id=\"blogContentTable\" width=\"880\" style=\"width: 668px;\"><tbody style=\"margin: 0px; padding: 0px;\"><tr style=\"margin: 0px; padding: 0px;\"><td valign=\"top\" style=\"margin: 0px; padding: 0px; word-wrap: break-word; word-break: break-all;\"><p><span id=\"paperTitle\" style=\"margin: 0px; padding: 0px; display: block; word-break: break-all;\"></span></p><p><span style=\"margin: 0px; padding: 0px;\"></span></p><p>------------------------------------------------------<br/></p><p><br/>- Does your app access any paid content or services?</p><p>A:NO</p><p>- What are the paid content or services, and what are the costs?</p><p>A:sell hardware</p><p>- Who pays for the content or services?</p><p>A:someone who buys hardware</p><p>- Where do they pay, and what&#39;s the payment method?</p><p>A:general store</p><p>- Who are the target audiences for this app</p><p>A:I don&#39;t know either</p><p>- If users create an account to use your app, are there fees involved?</p><p>A:NO</p><p>- How do users obtain an account?</p><p>A:free register</p><p>------------------------------------------------------</p><p><br/>1.Is this an existing service?<br/>&nbsp;A: Yes, this is the program provider of engineering services to existing</p><p>2.In order to use the service offered in the app, does the business user need to have a server/hardware installed on site?<br/>&nbsp;A: The need, we need to help customers to install equipment and related hardware gateway server</p><p>3.If a server is required on the premises, does the business user buy the server or lease it from you?<br/>&nbsp;A: No, if the customer signed our products, will be responsible for the following equipment and services, we will be responsible for these hardware</p><p>4.How does a business user pay to you: is it subscription-based or a lump-sum?<br/>&nbsp;A: Customers can understand with our company&#39;s customer signed the contract details and I will have someone there is a demand the company&#39;s clients to develop a series of installation requirements.<br/>&nbsp;Related to the different nature of hardware, installation requires different costs involved will be specified by the contract signed.</p><p>5.Is your service available on multiple platforms? If so, which ones...<br/>&nbsp;A: windows, wince, android, symbian</p><p>6.Does the business user need to pay for each platform separately?<br/>&nbsp;A: No.</p><p>7.Does your service work without the app?<br/>&nbsp;A: The need, our software applications need to connect the client to the server to operate services</p><p>8.Is there additional cost to access content on iOS platform?&nbsp;<br/>&nbsp;A: No</p><p>&nbsp;</p><p>上传APP时填在审核那一栏</p><p></p></td></tr></tbody></table><p><br/></p>','2017-08-22 05:39:17','2017-08-22 13:39:17'),(846,'27.44.203.182',5,'Android studio中正确引入so文件','<pre class=\"brush:cpp;toolbar:false\">在build.gradle(Moduld:app)&nbsp;里面加入使用so库,文件放在libs里面\r\nandroid{\r\n&nbsp;...\r\n&nbsp;sourceSets&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;main&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jniLibs.srcDirs&nbsp;=&nbsp;[&#39;libs&#39;]\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;}\r\n}</pre><p><br/></p><p>或者使用:</p><p><br/></p><pre class=\"brush:bash;toolbar:false\">在build.gradle里加入\r\n将所有so自动生成jar,原理是将生成的目录和下级so文件,扔到新创建lib目录里,用zip压缩后改名成jar\r\n\r\ntask&nbsp;nativeLibsToJar(type:&nbsp;Zip,&nbsp;description:&nbsp;&quot;create&nbsp;a&nbsp;jar&nbsp;archive&nbsp;of&nbsp;the&nbsp;native&nbsp;libs&quot;)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;destinationDir&nbsp;file(&quot;$projectDir/libs&quot;)\r\n&nbsp;&nbsp;&nbsp;&nbsp;baseName&nbsp;&quot;mcubase&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;extension&nbsp;&quot;jar&quot;\r\n&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;fileTree(dir:&nbsp;&quot;libs&quot;,&nbsp;include:&nbsp;&quot;**/*.so&quot;)\r\n&nbsp;&nbsp;&nbsp;&nbsp;into&nbsp;&quot;lib&quot;\r\n}\r\n\r\ntasks.withType(JavaCompile)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;compileTask&nbsp;-&gt;&nbsp;compileTask.dependsOn(nativeLibsToJar)\r\n}</pre><p><br/></p>','2017-08-22 10:03:50','2017-08-22 18:42:27'),(847,'27.44.86.88',5,'NDK转换类型','<p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; line-height: normal; font-family: Menlo; color: rgb(0, 132, 0);\"><br/></p><p><span style=\"font-family: Menlo; font-size: 11px;\">void ---- V</span></p><p><span style=\"font-family: Menlo; font-size: 11px;\">jint---- I</span></p><p><span style=\"font-family: Menlo; font-size: 11px;\"><span style=\"font-family: Menlo; font-size: 11px;\">jintArray---- &nbsp;[I</span></span></p><p><span style=\"font-family: Menlo; font-size: 11px;\"><span style=\"font-family: Menlo; font-size: 11px;\">jbyte -------- B</span></span></p><p><span style=\"font-family: Menlo; font-size: 11px;\"><span style=\"font-family: Menlo; font-size: 11px;\"><span style=\"font-family: Menlo; font-size: 11px;\">jbyteArray----- &nbsp;[B</span></span></span></p><p><span style=\"font-family: Menlo; font-size: 11px;\"><span style=\"font-family: Menlo; font-size: 11px;\"><span style=\"font-family: Menlo; font-size: 11px;\"><span style=\"font-family: Menlo; font-size: 11px;\">jboolean------ &nbsp; Z</span></span></span></span></p><p><span style=\"font-family: Menlo; font-size: 11px;\">jshort------ &nbsp; S</span></p><p><span style=\"font-family: Menlo; font-size: 11px;\"><span style=\"font-family: Menlo; font-size: 11px;\">jchar--------- &nbsp;C</span></span></p><p><span style=\"font-family: Menlo; font-size: 11px;\"><span style=\"font-family: Menlo; font-size: 11px;\"><span style=\"font-family: Menlo; font-size: 11px;\">jcharArray---- &nbsp;[C</span></span></span></p><p><span style=\"font-family: Menlo; font-size: 11px;\"><span style=\"font-family: Menlo; font-size: 11px;\"><span style=\"font-family: Menlo; font-size: 11px;\"><span style=\"font-family: Menlo; font-size: 11px;\">jstring------ &nbsp;&nbsp;Ljava/lang/String;</span></span></span></span></p><p><span style=\"font-family: Menlo; font-size: 11px;\"><span style=\"font-family: Menlo; font-size: 11px;\"><span style=\"font-family: Menlo; font-size: 11px;\"><span style=\"font-family: Menlo; font-size: 11px;\"><br/></span></span></span></span></p><p><span style=\"font-family: Menlo; font-size: 11px;\"><span style=\"font-family: Menlo; font-size: 11px;\"><span style=\"font-family: Menlo; font-size: 11px;\"><span style=\"font-family: Menlo; font-size: 11px;\"><a href=\"http://blog.csdn.net/vblittleboy/article/details/11763409\" style=\"color: rgb(0, 0, 0); text-decoration: none; font-family: &#39;Microsoft YaHei&#39;; font-size: 20px; white-space: normal;\">用JNI从C传递结构体到JAVA</a></span></span></span></span></p><pre class=\"brush:java;toolbar:false\">直接上C的实现\r\ntypedef&nbsp;struct&nbsp;Foo&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;len;\r\n&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;name[100];\r\n&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;parameter[10];\r\n}&nbsp;Foo_t;\r\n\r\nJNIEXPORT&nbsp;jint&nbsp;JNICALL\r\nJava_TestJNI_foo(JNIEnv&nbsp;*env,&nbsp;jobject&nbsp;obj,&nbsp;jobject&nbsp;fooObj)&nbsp;{\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;Foo_t&nbsp;*&nbsp;bar&nbsp;=&nbsp;malloc(sizeof(Foo_t));\r\n&nbsp;&nbsp;&nbsp;&nbsp;jclass&nbsp;clazz;\r\n&nbsp;&nbsp;&nbsp;&nbsp;jfieldID&nbsp;fid;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;//init&nbsp;the&nbsp;bar&nbsp;data&nbsp;of&nbsp;C\r\n&nbsp;&nbsp;&nbsp;&nbsp;strcpy(bar-&gt;name,&nbsp;&quot;Yachun&nbsp;Miao&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;bar-&gt;len&nbsp;=&nbsp;strlen(bar-&gt;name);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;mapping&nbsp;bar&nbsp;of&nbsp;C&nbsp;to&nbsp;foo\r\n&nbsp;&nbsp;&nbsp;&nbsp;clazz&nbsp;=&nbsp;(*env)-&gt;GetObjectClass(env,&nbsp;fooObj);\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(0&nbsp;==&nbsp;clazz)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(&quot;GetObjectClass&nbsp;returned&nbsp;0[#ue_pole#n]&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(-1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;fid&nbsp;=&nbsp;(*env)-&gt;GetFieldID(env,&nbsp;clazz,&nbsp;&quot;len&quot;,&nbsp;&quot;I&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;(*env)-&gt;SetLongField(env,&nbsp;fooObj,&nbsp;fid,&nbsp;bar-&gt;len);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;fid&nbsp;=&nbsp;(*env)-&gt;GetFieldID(env,&nbsp;clazz,&nbsp;&quot;name&quot;,&nbsp;&quot;Ljava/lang/String;&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;jstring&nbsp;name&nbsp;=&nbsp;(*env)-&gt;NewStringUTF(env,&nbsp;bar-&gt;name);\r\n&nbsp;&nbsp;&nbsp;&nbsp;(*env)-&gt;SetObjectField(env,&nbsp;fooObj,&nbsp;fid,&nbsp;name);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;fid&nbsp;=&nbsp;(*env)-&gt;GetFieldID(env,&nbsp;clazz,&nbsp;&quot;parameter&quot;,&nbsp;&quot;[B&quot;);\r\njbyteArray&nbsp;tmpBt=&nbsp;(*env)-&gt;NewByteArray(env,&nbsp;3);\r\n(*env)-&gt;SetByteArrayRegion(env,&nbsp;tmpBt,&nbsp;0,&nbsp;3,&nbsp;(jbyte&nbsp;*)&nbsp;&quot;abc&quot;);\r\n(*env)-&gt;SetObjectField(env,&nbsp;fooObj,&nbsp;fid,&nbsp;tmpBt);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;free(bar);\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;0;\r\n}\r\n\r\n\r\n\r\n对应的Java调用\r\npublic&nbsp;class&nbsp;Foo&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;len;\r\n&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;name;\r\n&nbsp;&nbsp;&nbsp;&nbsp;byte[]&nbsp;parameter;\r\n}\r\n\r\n\r\nprivate&nbsp;static&nbsp;native&nbsp;int&nbsp;foo(Foo&nbsp;fooObj);\r\n\r\npublic&nbsp;static&nbsp;void&nbsp;main(String&nbsp;args[])&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;System.loadLibrary(&quot;mylib&quot;);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;Foo&nbsp;foo&nbsp;=&nbsp;new&nbsp;Foo();\r\n&nbsp;&nbsp;&nbsp;&nbsp;foo(foo);\r\n&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(foo.name);\r\n&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(foo.len);\r\n}</pre><p><span style=\"font-family: Menlo; font-size: 11px;\"><span style=\"font-family: Menlo; font-size: 11px;\"><span style=\"font-family: Menlo; font-size: 11px;\"></span></span></span><br/></p>','2017-08-23 11:46:13','2017-08-24 01:59:32'),(848,'27.44.11.225',27,'getStringByByteArray在二进制里面获取字节串','<pre class=\"brush:java;toolbar:false\">/*\r\n*&nbsp;在二进制里面获取asccii或者UTF-8的数据字节,以&quot;�&quot;结果\r\n*&nbsp;例子:\r\n*&nbsp;String&nbsp;k&nbsp;=&nbsp;getStringByByteArray(g_ocCmd.parameter,1,g_ocCmd.parameter_len);\r\n*&nbsp;*/\r\npublic&nbsp;String&nbsp;getStringByByteArray(byte[]&nbsp;byAry,int&nbsp;aryStartPos,int&nbsp;aryLen)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;sfstrlen&nbsp;=&nbsp;1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(0x00&nbsp;!=&nbsp;byAry[sfstrlen]&nbsp;&amp;&amp;&nbsp;sfstrlen&nbsp;&lt;&nbsp;aryLen)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sfstrlen++;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;//uuidlen的长度,命令占一个字节,0x00结束符占节一个字节,抵消了\r\n&nbsp;&nbsp;&nbsp;&nbsp;sfstrlen--;\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(0==sfstrlen)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{return&nbsp;&quot;&quot;;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;char[]&nbsp;kbyte&nbsp;=&nbsp;new&nbsp;char[sfstrlen];\r\n&nbsp;&nbsp;&nbsp;&nbsp;for(int&nbsp;i=0;i&lt;sfstrlen;i++)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;kbyte[i]=&nbsp;(char)&nbsp;byAry[i+1];\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;String.valueOf(kbyte);\r\n}</pre><p><br/></p>','2017-08-24 08:44:17','2017-08-24 17:21:14'),(849,'27.44.24.101',38,'8引脚25系列Flash闪存芯片的引脚定义','<p><img src=\"https://gss0.baidu.com/-Po3dSag_xI4khGko9WTAnF6hhy/zhidao/pic/item/eaf81a4c510fd9f90c4b0e5e202dd42a2834a4ad.jpg\" width=\"1080\" height=\"608\"/></p>','2017-08-27 12:50:04','2017-08-27 20:50:31'),(850,'101.247.241.79',5,'快速切换到主线程更新UI的几种方法','<h3 id=\"方法一-viewpostrunnable-action\" style=\"margin: 0.8em 0px; padding: 0px; box-sizing: border-box; font-weight: 100; line-height: 1.3em; font-size: 1.73em; color: rgb(63, 63, 63); font-family: &quot;microsoft yahei&quot;; white-space: normal; background-color: rgb(255, 255, 255);\"><strong style=\"box-sizing: border-box;\">方法一：</strong>&nbsp;view.post(Runnable action)</h3><p style=\"margin-top: 0px; margin-bottom: 1.1em; padding: 0px; box-sizing: border-box; color: rgb(63, 63, 63); font-family: &quot;microsoft yahei&quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);\">假如该方法是在子线程中</p><pre class=\"brush:java;toolbar:false\">contextView.post(new&nbsp;Runnable()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;run()&nbsp;{\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AssertAlert.show(context,&nbsp;R.string.alert,&nbsp;R.string.signin_empty_password);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n});</pre><p><br/></p><p style=\"margin-top: 0px; margin-bottom: 1.1em; padding: 0px; box-sizing: border-box; color: rgb(63, 63, 63); font-family: &quot;microsoft yahei&quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);\">这是view自带的方法，比较简单，如果你的子线程里可以得到要更新的view的话，可以用此方法进行更新。</p><p style=\"margin-top: 0px; margin-bottom: 1.1em; padding: 0px; box-sizing: border-box; color: rgb(63, 63, 63); font-family: &quot;microsoft yahei&quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);\">view还有一个方法view.postDelayed(Runnable action, long delayMillis)用来延迟发送。</p><hr style=\"box-sizing: border-box; margin: 2em 0px; border-right: 0px; border-bottom: 0px; border-left: 0px; border-image: initial; border-top-style: solid; border-top-color: rgba(128, 128, 128, 0.1); color: rgb(63, 63, 63); font-family: &quot;microsoft yahei&quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);\"/><h3 id=\"方法二-activityrunonuithreadrunnable-action\" style=\"margin: 0.8em 0px; padding: 0px; box-sizing: border-box; font-weight: 100; line-height: 1.3em; font-size: 1.73em; color: rgb(63, 63, 63); font-family: &quot;microsoft yahei&quot;; white-space: normal; background-color: rgb(255, 255, 255);\"><strong style=\"box-sizing: border-box;\">方法二：</strong>&nbsp;activity.runOnUiThread(Runnable action)</h3><p style=\"margin-top: 0px; margin-bottom: 1.1em; padding: 0px; box-sizing: border-box; color: rgb(63, 63, 63); font-family: &quot;microsoft yahei&quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);\">假如该方法是在子线程中</p><p style=\"margin-top: 0px; margin-bottom: 1.1em; padding: 0px; box-sizing: border-box; color: rgb(63, 63, 63); font-family: &quot;microsoft yahei&quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);\">注意：context 对象要是 主线程中的MainActivity，这样强转才可以。</p><pre class=\"brush:java;toolbar:false\">public&nbsp;void&nbsp;updateUI(final&nbsp;Context&nbsp;context)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;((MainActivity)&nbsp;context).runOnUiThread(new&nbsp;Runnable()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;run()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//此时已在主线程中，可以更新UI了\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;});\r\n}</pre><p><br/></p><p><span style=\"background-color: rgb(255, 255, 255); color: rgb(63, 63, 63); font-family: &quot;microsoft yahei&quot;; font-size: 15px;\">如果没有上下文（context），试试下面的方法：&nbsp;</span><br/></p><p style=\"margin-top: 0px; margin-bottom: 1.1em; padding: 0px; box-sizing: border-box; color: rgb(63, 63, 63); font-family: &quot;microsoft yahei&quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);\">1.用view.getContext()可以得到上下文。&nbsp;<br style=\"box-sizing: border-box;\"/>2.跳过context直接用new Activity().runOnUiThread(Runnable action)来切换到主线程。</p><h3 id=\"方法三-handler机制\" style=\"margin: 0.8em 0px; padding: 0px; box-sizing: border-box; font-weight: 100; line-height: 1.3em; font-size: 1.73em; color: rgb(63, 63, 63); font-family: &quot;microsoft yahei&quot;; white-space: normal; background-color: rgb(255, 255, 255);\"><strong style=\"box-sizing: border-box;\"><br/></strong></h3><h3 id=\"方法三-handler机制\" style=\"margin: 0.8em 0px; padding: 0px; box-sizing: border-box; font-weight: 100; line-height: 1.3em; font-size: 1.73em; color: rgb(63, 63, 63); font-family: &quot;microsoft yahei&quot;; white-space: normal; background-color: rgb(255, 255, 255);\"><strong style=\"box-sizing: border-box;\">方法三：</strong>&nbsp;Handler机制</h3><p style=\"margin-top: 0px; margin-bottom: 1.1em; padding: 0px; box-sizing: border-box; color: rgb(63, 63, 63); font-family: &quot;microsoft yahei&quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);\">首先在主线程中定义Handler，Handler mainHandler = new Handler();（必须要在主线程中定义才能操作主线程，如果想在其他地方定义声明时要这样写Handler mainHandler = new Handler(Looper.getMainLooper())，来获取主线程的 Looper 和 Queue ）</p><p style=\"margin-top: 0px; margin-bottom: 1.1em; padding: 0px; box-sizing: border-box; color: rgb(63, 63, 63); font-family: &quot;microsoft yahei&quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);\">获取到 Handler 后就很简单了，用handler.post(Runnable r)方法把消息处理放在该 handler 依附的消息队列中（也就是主线程消息队列）。</p><p style=\"margin-top: 0px; margin-bottom: 1.1em; padding: 0px; box-sizing: border-box; color: rgb(63, 63, 63); font-family: &quot;microsoft yahei&quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);\">（1）：假如该方法是在子线程中</p><pre class=\"brush:java;toolbar:false\">&nbsp;&nbsp;&nbsp;&nbsp;Handler&nbsp;mainHandler&nbsp;=&nbsp;new&nbsp;Handler(Looper.getMainLooper());\r\n&nbsp;&nbsp;&nbsp;&nbsp;mainHandler.post(new&nbsp;Runnable()&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;run()&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//已在主线程中，可以更新UI\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;});</pre><p><br/></p><p><br/></p><p style=\"margin-top: 0px; margin-bottom: 1.1em; padding: 0px; box-sizing: border-box; color: rgb(63, 63, 63); font-family: &quot;microsoft yahei&quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);\">Handler还有下面的方法：&nbsp;<br style=\"box-sizing: border-box;\"/>1.postAtTime(Runnable r, long uptimeMillis); //在某一时刻发送消息&nbsp;<br style=\"box-sizing: border-box;\"/>2.postAtDelayed(Runnable r, long delayMillis); //延迟delayMillis毫秒再发送消息</p><p style=\"margin-top: 0px; margin-bottom: 1.1em; padding: 0px; box-sizing: border-box; color: rgb(63, 63, 63); font-family: &quot;microsoft yahei&quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);\">（2）: 假设在主线程中</p><pre class=\"brush:java;toolbar:false\">&nbsp;&nbsp;Handler&nbsp;myHandler&nbsp;=&nbsp;new&nbsp;Handler()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;handleMessage(Message&nbsp;msg)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;switch(msg.what)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;0:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//更新UI等\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;1:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//更新UI等\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;default:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}</pre><p><br/></p><p><br/></p><p><br/></p><p style=\"margin-top: 0px; margin-bottom: 1.1em; padding: 0px; box-sizing: border-box; color: rgb(63, 63, 63); font-family: &quot;microsoft yahei&quot;; font-size: 15px; white-space: normal; background-color: rgb(255, 255, 255);\"><br/></p>','2017-08-28 14:43:54','2017-08-28 22:55:11'),(851,'27.44.9.28',5,'android删除文件','<pre class=\"brush:java;toolbar:false\">/**\r\n&nbsp;*&nbsp;删除文件夹以及目录下的文件\r\n&nbsp;*&nbsp;@param&nbsp;&nbsp;&nbsp;filePath&nbsp;被删除目录的文件路径\r\n&nbsp;*&nbsp;@return&nbsp;&nbsp;目录删除成功返回true，否则返回false\r\n&nbsp;*/\r\n&nbsp;static&nbsp;public&nbsp;boolean&nbsp;deleteDirectory(String&nbsp;filePath)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;boolean&nbsp;flag&nbsp;=&nbsp;false;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//如果filePath不以文件分隔符结尾，自动添加文件分隔符\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!filePath.endsWith(File.separator))&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filePath&nbsp;=&nbsp;filePath&nbsp;+&nbsp;File.separator;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;File&nbsp;dirFile&nbsp;=&nbsp;new&nbsp;File(filePath);\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!dirFile.exists()&nbsp;||&nbsp;!dirFile.isDirectory())&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;false;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;flag&nbsp;=&nbsp;true;\r\n&nbsp;&nbsp;&nbsp;&nbsp;File[]&nbsp;files&nbsp;=&nbsp;dirFile.listFiles();\r\n&nbsp;&nbsp;&nbsp;&nbsp;//遍历删除文件夹下的所有文件(包括子目录)\r\n&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;files.length;&nbsp;i++)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(files[i].isFile())&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//删除子文件\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;flag&nbsp;=&nbsp;deleteFile(files[i].getAbsolutePath());\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!flag)&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//删除子目录\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;flag&nbsp;=&nbsp;deleteDirectory(files[i].getAbsolutePath());\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!flag)&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!flag)&nbsp;return&nbsp;false;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//删除当前空目录\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;dirFile.delete();\r\n}\r\n\r\n/**\r\n&nbsp;*&nbsp;&nbsp;根据路径删除指定的目录或文件，无论存在与否\r\n&nbsp;*@param&nbsp;filePath&nbsp;&nbsp;要删除的目录或文件\r\n&nbsp;*@return&nbsp;删除成功返回&nbsp;true，否则返回&nbsp;false。\r\n&nbsp;*/\r\nstatic&nbsp;public&nbsp;boolean&nbsp;deleteFile(String&nbsp;filePath)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;File&nbsp;file&nbsp;=&nbsp;new&nbsp;File(filePath);\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!file.exists())&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;false;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(file.isFile())&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file.delete();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;为目录时调用删除目录方法\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;deleteDirectory(filePath);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}</pre><p><br/></p>','2017-08-30 10:43:07','2017-08-31 02:28:44'),(852,'27.44.10.110',5,'http下载','<p><span style=\"font-size: 24px;\"><strong>DownloadPic类</strong></span></p><pre class=\"brush:java;toolbar:false\">package&nbsp;ext.magr;\r\n\r\nimport&nbsp;android.graphics.Bitmap;\r\nimport&nbsp;android.graphics.BitmapFactory;\r\nimport&nbsp;android.os.Environment;\r\nimport&nbsp;android.os.Looper;\r\nimport&nbsp;android.os.Message;\r\n\r\nimport&nbsp;java.io.BufferedOutputStream;\r\nimport&nbsp;java.io.ByteArrayOutputStream;\r\nimport&nbsp;java.io.DataInputStream;\r\nimport&nbsp;java.io.File;\r\nimport&nbsp;java.io.FileOutputStream;\r\nimport&nbsp;java.io.IOException;\r\nimport&nbsp;java.io.InputStream;\r\nimport&nbsp;java.net.HttpURLConnection;\r\nimport&nbsp;java.net.MalformedURLException;\r\nimport&nbsp;java.net.URL;\r\nimport&nbsp;java.util.Iterator;\r\nimport&nbsp;java.util.Vector;\r\n\r\nimport&nbsp;android.os.Handler;\r\n\r\n/**\r\n&nbsp;*&nbsp;Created&nbsp;by&nbsp;hzh&nbsp;on&nbsp;2017/8/29.\r\n&nbsp;*/\r\n\r\npublic&nbsp;class&nbsp;DownloadPic&nbsp;{\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;Vector&nbsp;eventListener&nbsp;=&nbsp;new&nbsp;Vector();\r\n&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;static&nbsp;String&nbsp;ALBUM_PATH&nbsp;=&nbsp;null;&nbsp;//保存路径\r\n&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;static&nbsp;String&nbsp;pic_url&nbsp;=&nbsp;null;&nbsp;//图片路径\r\n&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;String&nbsp;mFileName;\r\n&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;Handler&nbsp;connectHanlder&nbsp;=&nbsp;null;\r\n\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;addListener(Object&nbsp;listener)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eventListener.add(listener);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;//下载图片\r\n&nbsp;&nbsp;&nbsp;&nbsp;/*\r\n&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;return&nbsp;0=成功\r\n&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1=图片保存失败\r\n&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2=无效图片\r\n&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3=网络连接失败\r\n&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;*/\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;download(String&nbsp;str_url,&nbsp;String&nbsp;saveFolder,String&nbsp;saveFilename)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ALBUM_PATH&nbsp;=&nbsp;Environment.getExternalStorageDirectory()&nbsp;+&nbsp;&quot;/&quot;&nbsp;+&nbsp;saveFolder&nbsp;+&nbsp;&quot;/&quot;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pic_url&nbsp;=&nbsp;str_url;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mFileName=saveFilename;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;Thread(connectNet).start();\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;/**\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Get&nbsp;image&nbsp;from&nbsp;newwork\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;path&nbsp;The&nbsp;path&nbsp;of&nbsp;image\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;byte[]\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@throws&nbsp;Exception\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;byte[]&nbsp;getImage(String&nbsp;path)&nbsp;throws&nbsp;Exception&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;URL&nbsp;url&nbsp;=&nbsp;new&nbsp;URL(path);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HttpURLConnection&nbsp;conn&nbsp;=&nbsp;(HttpURLConnection)&nbsp;url.openConnection();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conn.setConnectTimeout(5&nbsp;*&nbsp;1000);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conn.setRequestMethod(&quot;GET&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;InputStream&nbsp;inStream&nbsp;=&nbsp;conn.getInputStream();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(conn.getResponseCode()&nbsp;==&nbsp;HttpURLConnection.HTTP_OK)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;readStream(inStream);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;null;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;/**\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Get&nbsp;image&nbsp;from&nbsp;newwork\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;path&nbsp;The&nbsp;path&nbsp;of&nbsp;image\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;InputStream\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@throws&nbsp;Exception\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;InputStream&nbsp;getImageStream(String&nbsp;path)&nbsp;throws&nbsp;Exception&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;URL&nbsp;url&nbsp;=&nbsp;new&nbsp;URL(path);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HttpURLConnection&nbsp;conn&nbsp;=&nbsp;(HttpURLConnection)&nbsp;url.openConnection();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conn.setConnectTimeout(5&nbsp;*&nbsp;1000);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conn.setRequestMethod(&quot;GET&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(conn.getResponseCode()&nbsp;==&nbsp;HttpURLConnection.HTTP_OK)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;conn.getInputStream();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;null;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;/**\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Get&nbsp;data&nbsp;from&nbsp;stream\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;inStream\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;byte[]\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@throws&nbsp;Exception\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;byte[]&nbsp;readStream(InputStream&nbsp;inStream)&nbsp;throws&nbsp;Exception&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ByteArrayOutputStream&nbsp;outStream&nbsp;=&nbsp;new&nbsp;ByteArrayOutputStream();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;byte[]&nbsp;buffer&nbsp;=&nbsp;new&nbsp;byte[1024];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;len&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;((len&nbsp;=&nbsp;inStream.read(buffer))&nbsp;!=&nbsp;-1)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outStream.write(buffer,&nbsp;0,&nbsp;len);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outStream.close();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inStream.close();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;outStream.toByteArray();\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;/**\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;保存文件\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;fileName\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@throws&nbsp;IOException\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;saveFile(byte[]&nbsp;data,&nbsp;String&nbsp;fileName)&nbsp;throws&nbsp;IOException&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;File&nbsp;dirFile&nbsp;=&nbsp;new&nbsp;File(ALBUM_PATH);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!dirFile.exists())&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dirFile.mkdir();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;File&nbsp;myCaptureFile&nbsp;=&nbsp;new&nbsp;File(ALBUM_PATH&nbsp;+&nbsp;fileName);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BufferedOutputStream&nbsp;bos&nbsp;=&nbsp;new&nbsp;BufferedOutputStream(new&nbsp;FileOutputStream(myCaptureFile));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bos.write(data);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bos.flush();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bos.close();\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;/*\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;连接网络\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;由于在4.0中不允许在主线程中访问网络，所以需要在子线程中访问\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/\r\n&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;Runnable&nbsp;connectNet&nbsp;=&nbsp;new&nbsp;Runnable()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;run()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//以下是取得图片的两种方法\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;////////////////&nbsp;方法1：取得的是byte数组,&nbsp;从byte数组生成bitmap\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;byte[]&nbsp;data&nbsp;=&nbsp;getImage(pic_url);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(data&nbsp;!=&nbsp;null)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;saveFile(data,&nbsp;mFileName);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;succ();\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;catch&nbsp;(IOException&nbsp;e)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;save_fail();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Message&nbsp;msg&nbsp;=&nbsp;Message.obtain();//减少消息创建的数量\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;msg.obj&nbsp;=&nbsp;&quot;Image&nbsp;error!&quot;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;msg.what&nbsp;=&nbsp;2;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connectHanlder.sendMessage(msg);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;////////////////////////////////////////////////////////\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;catch&nbsp;(Exception&nbsp;e)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.printStackTrace();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conn_fail();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;};\r\n\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;void&nbsp;succ()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Handler&nbsp;mainHandler&nbsp;=&nbsp;new&nbsp;Handler(Looper.getMainLooper());\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mainHandler.post(new&nbsp;Runnable()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;run()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Iterator&nbsp;iterator&nbsp;=&nbsp;eventListener.iterator();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(iterator.hasNext())&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DownloadPicListener&nbsp;sl&nbsp;=&nbsp;(DownloadPicListener)&nbsp;iterator.next();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sl.success(pic_url);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;void&nbsp;conn_fail()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Handler&nbsp;mainHandler&nbsp;=&nbsp;new&nbsp;Handler(Looper.getMainLooper());\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mainHandler.post(new&nbsp;Runnable()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;run()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Iterator&nbsp;iterator&nbsp;=&nbsp;eventListener.iterator();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(iterator.hasNext())&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DownloadPicListener&nbsp;sl&nbsp;=&nbsp;(DownloadPicListener)&nbsp;iterator.next();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sl.connect_fail(pic_url);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;void&nbsp;save_fail()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Handler&nbsp;mainHandler&nbsp;=&nbsp;new&nbsp;Handler(Looper.getMainLooper());\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mainHandler.post(new&nbsp;Runnable()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;run()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Iterator&nbsp;iterator&nbsp;=&nbsp;eventListener.iterator();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(iterator.hasNext())&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DownloadPicListener&nbsp;sl&nbsp;=&nbsp;(DownloadPicListener)&nbsp;iterator.next();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sl.save_pic_fail(pic_url);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}</pre><p><br/></p><p><span style=\"font-size: 24px;\"><strong>DownloadPicListener类</strong></span></p><pre class=\"brush:java;toolbar:false\">package&nbsp;ext.magr;\r\n\r\nimport&nbsp;java.util.EventListener;\r\n\r\n/**\r\n&nbsp;*&nbsp;Created&nbsp;by&nbsp;hzh&nbsp;on&nbsp;2017/8/28.\r\n&nbsp;*\r\n&nbsp;*/\r\npublic&nbsp;interface&nbsp;DownloadPicListener&nbsp;extends&nbsp;EventListener&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;success(String&nbsp;url);\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;connect_fail(String&nbsp;url);\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;save_pic_fail(String&nbsp;url);\r\n}</pre><p><br/></p>','2017-08-30 11:06:11','2017-09-09 18:22:07'),(853,'101.247.204.129',5,'WebView使用','<pre class=\"brush:java;toolbar:false\">//WEBView浏览器\r\nWebView&nbsp;webView&nbsp;=&nbsp;null;\r\nwebView&nbsp;=&nbsp;(WebView)&nbsp;findViewById(R.id.webView);\r\nwebView.loadUrl(&quot;http://baidu.com&quot;);\r\n//webView.loadUrl(&quot;file://本地路径&nbsp;&quot;);\r\n//覆盖WebView默认使用第三方或系统默认浏览器打开网页的行为，使网页用WebView打开\r\nwebView.setWebViewClient(new&nbsp;WebViewClient(){\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;boolean&nbsp;shouldOverrideUrlLoading(WebView&nbsp;view,&nbsp;WebResourceRequest&nbsp;request)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;super.shouldOverrideUrlLoading(view,&nbsp;request);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;onPageStarted(WebView&nbsp;view,&nbsp;String&nbsp;url,&nbsp;Bitmap&nbsp;favicon)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super.onPageStarted(view,&nbsp;url,&nbsp;favicon);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;onPageFinished(WebView&nbsp;view,&nbsp;String&nbsp;url)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super.onPageFinished(view,&nbsp;url);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n});</pre><p><br/></p>','2017-08-31 14:45:15','2017-08-31 22:47:23'),(854,'27.44.25.93',76,'CentOS 7 安装Git','<p style=\"margin: 10px auto; padding: 0px; line-height: 1.5; font-size: 13px; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal; background-color: rgb(254, 254, 242);\"><strong style=\"margin: 0px; padding: 0px;\"><span style=\"margin: 0px; padding: 0px; line-height: 1.5; font-size: 18px;\">服务器端</span></strong></p><p style=\"margin: 10px auto; padding: 0px; line-height: 1.5; font-size: 13px; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal; background-color: rgb(254, 254, 242);\">1.先从yum安装git</p><pre style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: &quot;Courier New&quot; !important;\">yum&nbsp;–y&nbsp;install&nbsp;git</pre><p style=\"margin: 10px auto; padding: 0px; line-height: 1.5; font-size: 13px; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal; background-color: rgb(254, 254, 242);\">2.在需要的位置创建一个裸仓库（最后以.git结尾）</p><pre style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: &quot;Courier New&quot; !important;\">cd&nbsp;/usr/</pre><p style=\"margin: 10px auto; padding: 0px; line-height: 1.5; font-size: 13px; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal; background-color: rgb(254, 254, 242);\">3.创建一个git用户并赋予密码</p><pre style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: &quot;Courier New&quot; !important;\">useradd&nbsp;git\r\npasswd&nbsp;git</pre><p style=\"margin: 10px auto; padding: 0px; line-height: 1.5; font-size: 13px; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal; background-color: rgb(254, 254, 242);\">4.赋予git用户权限</p><pre style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: &quot;Courier New&quot; !important;\">chown&nbsp;-R&nbsp;git:git&nbsp;learngit.git</pre><p style=\"margin: 10px auto; padding: 0px; line-height: 1.5; font-size: 13px; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal; background-color: rgb(254, 254, 242);\">5.禁用git用户shell登录（一定要禁用）</p><pre style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: &quot;Courier New&quot; !important;\">vi&nbsp;/etc/passwd</pre><p style=\"margin: 10px auto; padding: 0px; line-height: 1.5; font-size: 13px; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal; background-color: rgb(254, 254, 242);\">将git用户修改为如下（一般在最后一行）</p><pre style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: &quot;Courier New&quot; !important;\">git:x:1000:1000::/home/git:/usr/bin/git-shell</pre><p style=\"margin: 10px auto; padding: 0px; line-height: 1.5; font-size: 13px; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal; background-color: rgb(254, 254, 242);\">其他的不用改。服务端完成。</p><p style=\"margin: 10px auto; padding: 0px; line-height: 1.5; font-size: 13px; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal; background-color: rgb(254, 254, 242);\"><span style=\"margin: 0px; padding: 0px; line-height: 1.5; font-size: 18px;\"><strong style=\"margin: 0px; padding: 0px;\">&nbsp;客户端</strong></span></p><p style=\"margin: 10px auto; padding: 0px; line-height: 1.5; font-size: 13px; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal; background-color: rgb(254, 254, 242);\">我使用的客户端为git for windows</p><p style=\"margin: 10px auto; padding: 0px; line-height: 1.5; font-size: 13px; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal; background-color: rgb(254, 254, 242);\">1.安装，略...</p><p style=\"margin: 10px auto; padding: 0px; line-height: 1.5; font-size: 13px; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal; background-color: rgb(254, 254, 242);\">2.进入想要将项目放置的目录</p><p style=\"margin: 10px auto; padding: 0px; line-height: 1.5; font-size: 13px; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal; background-color: rgb(254, 254, 242);\">3.创建用户</p><pre style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: &quot;Courier New&quot; !important;\">git&nbsp;config&nbsp;--global&nbsp;user.name&nbsp;&quot;你的名字&quot;git&nbsp;config&nbsp;--global&nbsp;user.email&nbsp;&quot;你的邮箱&quot;</pre><p style=\"margin: 10px auto; padding: 0px; line-height: 1.5; font-size: 13px; font-family: Verdana, Arial, Helvetica, sans-serif; white-space: normal; background-color: rgb(254, 254, 242);\">4.创建秘钥（用来防止每次commit或push都需要密码）</p><pre style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: pre-wrap; word-wrap: break-word; font-family: &quot;Courier New&quot; !important;\">ssh-keygen&nbsp;-t&nbsp;rsa&nbsp;-C&nbsp;&quot;你的邮箱&quot;</pre><p><br/></p>','2017-09-01 18:10:27','2017-09-02 02:10:27'),(855,'27.44.11.81',5,'jpg文件上传到HTTP服务器','<p>服务器代码</p><pre class=\"brush:java;toolbar:false\">&lt;?php\r\n/**************************************\r\nAuthor:Han.zhihong\r\n***************************************/\r\n//文件格式为&lt;UserID&gt;.jpg\r\n//-------------------------------------------------\r\n$file&nbsp;=&nbsp;$_FILES[&#39;1&#39;];//得到传输的数据\r\n//得到文件名称\r\n$name&nbsp;=&nbsp;$file[&#39;name&#39;];\r\n$type&nbsp;=&nbsp;strtolower(substr($name,strrpos($name,&#39;.&#39;)+1));&nbsp;//得到文件类型，并且都转化成小写\r\n$allow_type&nbsp;=&nbsp;array(&#39;jpg&#39;,&#39;jpeg&#39;,&#39;gif&#39;,&#39;png&#39;);&nbsp;//定义允许上传的类型\r\n//判断文件类型是否被允许上传\r\nif(!in_array($type,&nbsp;$allow_type)){\r\n&nbsp;&nbsp;//如果不被允许，则直接停止程序运行\r\n&nbsp;&nbsp;return&nbsp;;\r\n}\r\n//判断是否是通过HTTP&nbsp;POST上传的\r\nif(!is_uploaded_file($file[&#39;tmp_name&#39;])){\r\n&nbsp;&nbsp;//如果不是通过HTTP&nbsp;POST上传的\r\n&nbsp;&nbsp;return&nbsp;;\r\n}\r\n$upload_filename&nbsp;=&nbsp;&#39;./u_icon/&#39;.$name;&nbsp;//上传文件的存放路径\r\n//开始移动文件到相应的文件夹\r\nif(move_uploaded_file($file[&#39;tmp_name&#39;],$upload_filename)){\r\n&nbsp;&nbsp;echo&nbsp;&quot;Successfully!&nbsp;name=&quot;$name&quot;&quot;;\r\n}else{\r\n&nbsp;&nbsp;echo&nbsp;&#39;fail&#39;;\r\n}\r\n?&gt;</pre><p><br/></p><p>///////////////////////////////////////////////////////////////</p><p>JAVA代码<br/></p><pre class=\"brush:java;toolbar:false\">//new&nbsp;Thread(uploadTh).start();\r\nprivate&nbsp;Runnable&nbsp;uploadTh=new&nbsp;Runnable(){\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;run(){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;stricon&nbsp;=&nbsp;LoginInfo.getUserIconLocalPath(&quot;12888&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;File&nbsp;fp&nbsp;=&nbsp;new&nbsp;File(stricon);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(fp.exists())&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//已在主线程中，可以更新UI\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uploadFile(&nbsp;HTTPData.sUserUrl&nbsp;+&nbsp;&quot;/up_icon.i.php&quot;,&nbsp;&quot;12888&quot;,stricon);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n};\r\n\r\n/**\r\n&nbsp;*&nbsp;userid&nbsp;文件名(不带后缀)\r\n&nbsp;*&nbsp;filePath&nbsp;文件的本地路径&nbsp;(xxx&nbsp;/&nbsp;xx&nbsp;/&nbsp;test.jpg)\r\n&nbsp;*/\r\npublic&nbsp;void&nbsp;uploadFile(String&nbsp;up_url,String&nbsp;userid&nbsp;,&nbsp;String&nbsp;filePath)&nbsp;{\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;HttpURLConnection&nbsp;conn&nbsp;=&nbsp;null;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;///&nbsp;boundary就是request头和上传文件内容的分隔符(可自定义任意一组字符串)\r\n&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;BOUNDARY&nbsp;=&nbsp;&quot;----WebKitFormBoundaryHGQJ0LPEEPxZeL5p&quot;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;用来标识payLoad+文件流的起始位置和终止位置(相当于一个协议,告诉你从哪开始,从哪结束)\r\n&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;&nbsp;preFix&nbsp;=&nbsp;(&quot;\r\n[#ue_pole#n]--&quot;&nbsp;+&nbsp;BOUNDARY&nbsp;+&nbsp;&quot;\r\n[#ue_pole#n]&quot;);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;try&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;(HttpConst.uploadImage&nbsp;上传到服务器的地址\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;URL&nbsp;url&nbsp;=&nbsp;new&nbsp;URL(up_url);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conn&nbsp;=&nbsp;(HttpURLConnection)&nbsp;url.openConnection();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conn.setConnectTimeout(5000);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conn.setReadTimeout(30000);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conn.setDoOutput(true);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conn.setDoInput(true);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conn.setUseCaches(false);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;设置请求方法\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conn.setRequestMethod(&quot;POST&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;设置header\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conn.setRequestProperty(&quot;Accept&quot;,&quot;*/*&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conn.setRequestProperty(&quot;Connection&quot;,&nbsp;&quot;keep-alive&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conn.setRequestProperty(&quot;Content-Type&quot;,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;multipart/form-data;&nbsp;boundary=&quot;&nbsp;+&nbsp;BOUNDARY);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;获取写输入流\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OutputStream&nbsp;out&nbsp;=&nbsp;new&nbsp;DataOutputStream(conn.getOutputStream());\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;获取上传文件\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;File&nbsp;file&nbsp;=&nbsp;new&nbsp;File(filePath);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(!file.exists())\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log.v(&quot;ModifyIcon&quot;,&quot;找不到上传的文件&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;要上传的数据\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StringBuffer&nbsp;strBuf&nbsp;=&nbsp;new&nbsp;StringBuffer();\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;标识payLoad&nbsp;+&nbsp;文件流的起始位置\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strBuf.append(preFix);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;下面这三行代码,用来标识服务器表单接收文件的name和filename的格式\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;在这里,我们是file和filename.后缀[后缀是必须的]。\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;这里的fileName必须加个.jpg,因为后台会判断这个东西。\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;这里的Content-Type的类型,必须与fileName的后缀一致。\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;如果不太明白,可以问一下后台同事,反正这里的name和fileName得与后台协定！\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;这里只要把.jpg改成.txt，把Content-Type改成上传文本的类型，就能上传txt文件了。\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strBuf.append(&quot;Content-Disposition:&nbsp;form-data;&nbsp;name=&quot;1&quot;;&nbsp;filename=&quot;&quot;&nbsp;+&nbsp;userid+&quot;.jpg&quot;&nbsp;+&nbsp;&quot;&quot;\r\n[#ue_pole#n]&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strBuf.append(&quot;Content-Type:&nbsp;image/jpeg&quot;&nbsp;&nbsp;+&nbsp;&quot;\r\n[#ue_pole#n]\r\n[#ue_pole#n]&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out.write(strBuf.toString().getBytes());\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;获取文件流\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileInputStream&nbsp;fileInputStream&nbsp;=&nbsp;new&nbsp;FileInputStream(file);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DataInputStream&nbsp;inputStream&nbsp;=&nbsp;new&nbsp;DataInputStream(fileInputStream);\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;每次上传文件的大小(文件会被拆成几份上传)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;bytes&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;计算上传进度\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;float&nbsp;count&nbsp;=&nbsp;0;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;获取文件总大小\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;fileSize&nbsp;=&nbsp;fileInputStream.available();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;每次上传的大小\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;byte[]&nbsp;bufferOut&nbsp;=&nbsp;new&nbsp;byte[1024];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;上传文件\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;((bytes&nbsp;=&nbsp;inputStream.read(bufferOut))&nbsp;!=&nbsp;-1)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;上传文件(一份)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out.write(bufferOut,&nbsp;0,&nbsp;bytes);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;计算当前已上传的大小\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count&nbsp;+=&nbsp;bytes;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;打印上传文件进度(已上传除以总大*100就是进度)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log.v(&quot;ModifyIcon&quot;,&quot;progress:&quot;&nbsp;+(count&nbsp;/&nbsp;fileSize&nbsp;*&nbsp;100)&nbsp;+&quot;%&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;关闭文件流\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputStream.close();\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;标识payLoad&nbsp;+&nbsp;文件流的结尾位置\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out.write(preFix.getBytes());\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;至此上传代码完毕\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;总结上传数据的流程：preFix&nbsp;+&nbsp;payLoad(标识服务器表单接收文件的格式)&nbsp;+&nbsp;文件(以流的形式)&nbsp;+&nbsp;preFix\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;文本与图片的不同,仅仅只在payLoad那一处的后缀的不同而已。\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;输出所有数据到服务器\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out.flush();\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;关闭网络输出流\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out.close();\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;重新构造一个StringBuffer,用来存放从服务器获取到的数据\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strBuf&nbsp;=&nbsp;new&nbsp;StringBuffer();\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;打开输入流&nbsp;,&nbsp;读取服务器返回的数据\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BufferedReader&nbsp;reader&nbsp;=&nbsp;new&nbsp;BufferedReader(new\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;InputStreamReader(conn.getInputStream()));\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;line;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;一行一行的读取服务器返回的数据\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;((line&nbsp;=&nbsp;reader.readLine())&nbsp;!=&nbsp;null)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strBuf.append(line).append(&quot;[#ue_pole#n]&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;关闭输入流\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reader.close();\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;打印服务器返回的数据\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log.v(&quot;ModifyIcon&quot;,&quot;上传成功:&quot;+strBuf.toString());\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;catch&nbsp;(Exception&nbsp;e)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log.v(&quot;ModifyIcon&quot;,&quot;上传图片出错:&quot;+e.toString());\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AssertAlert.show(context,R.string.alert,R.string.upload_file_fail);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;finally&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(conn&nbsp;!=&nbsp;null)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conn.disconnect();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n}</pre><p><br/></p>','2017-09-02 17:21:54','2017-09-03 01:24:56'),(856,'27.44.11.81',5,'常用对话框代码','<h4 style=\"margin: 0px 0px 12px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid Sans&#39;, sans-serif; font-weight: 400; line-height: 24px; word-wrap: break-word; color: rgb(51, 51, 51); text-transform: uppercase; white-space: normal;\">1、几秒消失的提示</h4><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\">可以使用</p><pre class=\"prettyprint lang-js prettyprinted\" style=\"margin-top: 1em; margin-bottom: 1em; padding: 0.5em; border-width: 0px 0px 0px 3px; border-left-style: solid; border-left-color: rgb(204, 204, 204); outline: 0px; font-family: Consolas, Monaco, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace; font-size: 13.199999809265137px; line-height: inherit; word-wrap: break-word; word-break: break-all; overflow: auto; color: rgb(102, 102, 102);\">Toast.makeText(v.getContext(),&nbsp;“这是一个提示”,&nbsp;Toast.LENGTH_SHORT).show();</pre><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\">这个提示会几秒钟后消失</p><pre class=\"prettyprint lang-js prettyprinted\" style=\"margin-top: 1em; margin-bottom: 1em; padding: 0.5em; border-width: 0px 0px 0px 3px; border-left-style: solid; border-left-color: rgb(204, 204, 204); outline: 0px; font-family: Consolas, Monaco, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace; font-size: 13.199999809265137px; line-height: inherit; word-wrap: break-word; word-break: break-all; overflow: auto; color: rgb(102, 102, 102);\">//从资源文件string.xml&nbsp;里面取提示信息Toast.makeText(this,&nbsp;getString(R.string.welcome),&nbsp;Toast.LENGTH_SHORT).show();</pre><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\"><br/></p><h4 style=\"margin: 0px 0px 12px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid Sans&#39;, sans-serif; font-weight: 400; line-height: 24px; word-wrap: break-word; color: rgb(51, 51, 51); text-transform: uppercase; white-space: normal;\">2、ALERTDIALOG、就是弹出一个消息框、在ANDROID中可以这样实现</h4><pre class=\"prettyprint lang-java prettyprinted\" style=\"margin-top: 1em; margin-bottom: 1em; padding: 0.5em; border-width: 0px 0px 0px 3px; border-left-style: solid; border-left-color: rgb(204, 204, 204); outline: 0px; font-family: Consolas, Monaco, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace; font-size: 13.199999809265137px; line-height: inherit; word-wrap: break-word; word-break: break-all; overflow: auto; color: rgb(102, 102, 102);\">new&nbsp;&nbsp;AlertDialog.Builder(self)&nbsp;&nbsp;&nbsp;&nbsp;.setTitle(&quot;标题&quot;&nbsp;)&nbsp;&nbsp;.setMessage(&quot;简单消息框&quot;&nbsp;)&nbsp;&nbsp;.setPositiveButton(&quot;确定&quot;&nbsp;,&nbsp;&nbsp;null&nbsp;)&nbsp;&nbsp;.show();</pre><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\">效果如下：</p><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\"><img src=\"http://images.dwtedx.com/20140505164824_87498.jpg\" alt=\"消息框\" style=\"margin: 0px; padding: 4px; border: 0px; outline: 0px; font-family: inherit; font-size: inherit; font-style: inherit; font-variant-caps: inherit; line-height: inherit; word-wrap: break-word; background-color: rgb(251, 251, 251); width: 330px;\"/></p><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\">上面的代码中我们新建了一个AlertDialog、并用Builder方法形成了一个对象链</p><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\">通过一系列的设置方法、构造出我们需要的对话框、然后调用 show方法显示出来</p><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\">注意到Builder方法的参数 self、这个其实是Activity对象的引用、根据你所处的上下文来传入相应的引用就可以了</p><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\">例如在onCreate方法中调用、只需传入this即可</p><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\"><br/></p><h4 style=\"margin: 0px 0px 12px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid Sans&#39;, sans-serif; font-weight: 400; line-height: 24px; word-wrap: break-word; color: rgb(51, 51, 51); text-transform: uppercase; white-space: normal;\">3、带确认和取消按钮的对话框</h4><pre class=\"prettyprint lang-java prettyprinted\" style=\"margin-top: 1em; margin-bottom: 1em; padding: 0.5em; border-width: 0px 0px 0px 3px; border-left-style: solid; border-left-color: rgb(204, 204, 204); outline: 0px; font-family: Consolas, Monaco, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace; font-size: 13.199999809265137px; line-height: inherit; word-wrap: break-word; word-break: break-all; overflow: auto; color: rgb(102, 102, 102);\">new&nbsp;&nbsp;AlertDialog.Builder(self)&nbsp;&nbsp;&nbsp;.setTitle(&quot;确认&quot;&nbsp;)&nbsp;&nbsp;.setMessage(&quot;确定吗？&quot;&nbsp;)&nbsp;&nbsp;.setPositiveButton(&quot;是&quot;&nbsp;,&nbsp;&nbsp;null&nbsp;)&nbsp;&nbsp;.setNegativeButton(&quot;否&quot;&nbsp;,&nbsp;null)&nbsp;&nbsp;.show();</pre><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\">效果如下：</p><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\"><img src=\"http://images.dwtedx.com/20140505165230_48961.jpg\" alt=\"确认取消按钮对话框\" style=\"margin: 0px; padding: 4px; border: 0px; outline: 0px; font-family: inherit; font-size: inherit; font-style: inherit; font-variant-caps: inherit; line-height: inherit; word-wrap: break-word; background-color: rgb(251, 251, 251); width: 330px;\"/></p><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\">注意到、这里有两个null参数、这里要放的其实是这两个按钮点击的监听程序、由于我们这里不需要监听这些动作、所以传入null值简单忽略掉</p><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\">但是实际开发的时候一般都是需要传入监听器的、用来响应用户的操作</p><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\"><br/></p><h4 style=\"margin: 0px 0px 12px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid Sans&#39;, sans-serif; font-weight: 400; line-height: 24px; word-wrap: break-word; color: rgb(51, 51, 51); text-transform: uppercase; white-space: normal;\">4、可以输入文本的对话框</h4><pre class=\"prettyprint lang-java prettyprinted\" style=\"margin-top: 1em; margin-bottom: 1em; padding: 0.5em; border-width: 0px 0px 0px 3px; border-left-style: solid; border-left-color: rgb(204, 204, 204); outline: 0px; font-family: Consolas, Monaco, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace; font-size: 13.199999809265137px; line-height: inherit; word-wrap: break-word; word-break: break-all; overflow: auto; color: rgb(102, 102, 102);\">new&nbsp;&nbsp;AlertDialog.Builder(self)&nbsp;&nbsp;.setTitle(&quot;请输入&quot;&nbsp;)&nbsp;&nbsp;.setIcon(android.R.drawable.ic_dialog_info)&nbsp;&nbsp;.setView(new&nbsp;&nbsp;EditText(self))&nbsp;&nbsp;.setPositiveButton(&quot;确定&quot;&nbsp;,&nbsp;null)&nbsp;&nbsp;.setNegativeButton(&quot;取消&quot;&nbsp;,&nbsp;&nbsp;null&nbsp;)&nbsp;&nbsp;.show();</pre><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\">效果如下：</p><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\"><img src=\"http://images.dwtedx.com/20140505165528_93334.jpg\" alt=\"文本框对话框\" style=\"margin: 0px; padding: 4px; border: 0px; outline: 0px; font-family: inherit; font-size: inherit; font-style: inherit; font-variant-caps: inherit; line-height: inherit; word-wrap: break-word; background-color: rgb(251, 251, 251); width: 330px;\"/></p><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\">如上代码、我们用setView方法、为我们的对话框传入了一个文本编辑框、当然、你可以传入任何的视图对象、比如图片框、WebView等、尽情发挥你的想象力吧</p><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\"><br/></p><h4 style=\"margin: 0px 0px 12px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid Sans&#39;, sans-serif; font-weight: 400; line-height: 24px; word-wrap: break-word; color: rgb(51, 51, 51); text-transform: uppercase; white-space: normal;\">5、单选框、也是非常有用的一种对话框</h4><pre class=\"prettyprint lang-java prettyprinted\" style=\"margin-top: 1em; margin-bottom: 1em; padding: 0.5em; border-width: 0px 0px 0px 3px; border-left-style: solid; border-left-color: rgb(204, 204, 204); outline: 0px; font-family: Consolas, Monaco, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace; font-size: 13.199999809265137px; line-height: inherit; word-wrap: break-word; word-break: break-all; overflow: auto; color: rgb(102, 102, 102);\">new&nbsp;&nbsp;AlertDialog.Builder(self)&nbsp;&nbsp;.setTitle(&quot;请选择&quot;&nbsp;)&nbsp;&nbsp;.setIcon(android.R.drawable.ic_dialog_info)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.setSingleChoiceItems(new&nbsp;&nbsp;String[]&nbsp;{&quot;选项1&quot;,&nbsp;&quot;选项2&quot;,&nbsp;&quot;选项3&quot;&nbsp;,&nbsp;&quot;选项4&quot;&nbsp;},&nbsp;&nbsp;0&nbsp;,\r\n&nbsp;&nbsp;new&nbsp;&nbsp;DialogInterface.OnClickListener()&nbsp;{&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;&nbsp;&nbsp;void&nbsp;&nbsp;onClick(DialogInterface&nbsp;dialog,&nbsp;&nbsp;int&nbsp;&nbsp;which)&nbsp;{&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dialog.dismiss();&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;\r\n&nbsp;&nbsp;}&nbsp;&nbsp;)&nbsp;&nbsp;.setNegativeButton(&quot;取消&quot;&nbsp;,&nbsp;&nbsp;null&nbsp;)&nbsp;&nbsp;.show();</pre><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\">效果如下：</p><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\"><img src=\"http://images.dwtedx.com/20140505165757_28105.jpg\" alt=\"单选框对话框\" style=\"margin: 0px; padding: 4px; border: 0px; outline: 0px; font-family: inherit; font-size: inherit; font-style: inherit; font-variant-caps: inherit; line-height: inherit; word-wrap: break-word; background-color: rgb(251, 251, 251); width: 330px;\"/></p><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\"><br/></p><h4 style=\"margin: 0px 0px 12px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid Sans&#39;, sans-serif; font-weight: 400; line-height: 24px; word-wrap: break-word; color: rgb(51, 51, 51); text-transform: uppercase; white-space: normal;\">6、多选框、也是非常有用的一种对话框</h4><pre class=\"prettyprint lang-java prettyprinted\" style=\"margin-top: 1em; margin-bottom: 1em; padding: 0.5em; border-width: 0px 0px 0px 3px; border-left-style: solid; border-left-color: rgb(204, 204, 204); outline: 0px; font-family: Consolas, Monaco, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace; font-size: 13.199999809265137px; line-height: inherit; word-wrap: break-word; word-break: break-all; overflow: auto; color: rgb(102, 102, 102);\">new&nbsp;&nbsp;AlertDialog.Builder(self)&nbsp;&nbsp;.setTitle(&quot;多选框&quot;&nbsp;)&nbsp;&nbsp;.setMultiChoiceItems(new&nbsp;&nbsp;String[]&nbsp;{&quot;选项1&quot;,&nbsp;&quot;选项2&quot;,&nbsp;&quot;选项3&quot;&nbsp;,&nbsp;&quot;选项4&quot;&nbsp;},&nbsp;&nbsp;null&nbsp;,&nbsp;&nbsp;null&nbsp;)&nbsp;.setPositiveButton(&quot;确定&quot;&nbsp;,&nbsp;null)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.setNegativeButton(&quot;取消&quot;&nbsp;,&nbsp;&nbsp;null&nbsp;)&nbsp;&nbsp;.show();</pre><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\">效果如下：</p><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\"><img src=\"http://images.dwtedx.com/20140505170017_32768.jpg\" alt=\"多选框对话框\" style=\"margin: 0px; padding: 4px; border: 0px; outline: 0px; font-family: inherit; font-size: inherit; font-style: inherit; font-variant-caps: inherit; line-height: inherit; word-wrap: break-word; background-color: rgb(251, 251, 251); width: 330px;\"/></p><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\"><br/></p><h4 style=\"margin: 0px 0px 12px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid Sans&#39;, sans-serif; font-weight: 400; line-height: 24px; word-wrap: break-word; color: rgb(51, 51, 51); text-transform: uppercase; white-space: normal;\">7、列表对话框</h4><pre class=\"brush:java;toolbar:false\">//弹出选择框\r\nnew&nbsp;AlertDialog.Builder(context)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.setTitle(&quot;列表框&quot;).setItems(new&nbsp;String[]{&quot;数据1&quot;,&nbsp;&quot;数据2&quot;,&nbsp;&quot;数据3&quot;},&nbsp;dol)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.show();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n//为列表添加监听事件\r\nDialogInterface.OnClickListener&nbsp;dol&nbsp;=&nbsp;new&nbsp;DialogInterface.OnClickListener()&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;@Override\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;onClick(DialogInterface&nbsp;dialog,&nbsp;int&nbsp;which)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log.v(&quot;DialogInterface&quot;,&nbsp;&quot;which=&quot;&nbsp;+&nbsp;which);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dialog.cancel();&nbsp;&nbsp;//用户选择后，关闭对话框\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n};</pre><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\">效果如下：</p><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\"><img src=\"http://images.dwtedx.com/20140505170144_77637.jpg\" alt=\"列表对话框\" style=\"margin: 0px; padding: 4px; border: 0px; outline: 0px; font-family: inherit; font-size: inherit; font-style: inherit; font-variant-caps: inherit; line-height: inherit; word-wrap: break-word; background-color: rgb(251, 251, 251); width: 330px;\"/></p><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\"><br/></p><h4 style=\"margin: 0px 0px 12px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid Sans&#39;, sans-serif; font-weight: 400; line-height: 24px; word-wrap: break-word; color: rgb(51, 51, 51); text-transform: uppercase; white-space: normal;\">8.对话框中显示图片</h4><pre class=\"prettyprint lang-java prettyprinted\" style=\"margin-top: 1em; margin-bottom: 1em; padding: 0.5em; border-width: 0px 0px 0px 3px; border-left-style: solid; border-left-color: rgb(204, 204, 204); outline: 0px; font-family: Consolas, Monaco, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace; font-size: 13.199999809265137px; line-height: inherit; word-wrap: break-word; word-break: break-all; overflow: auto; color: rgb(102, 102, 102);\">ImageView&nbsp;img&nbsp;=&nbsp;&nbsp;new&nbsp;ImageView(self);&nbsp;&nbsp;img.setImageResource(R.drawable.icon);&nbsp;&nbsp;new&nbsp;&nbsp;AlertDialog.Builder(self)&nbsp;&nbsp;.setTitle(&quot;图片框&quot;&nbsp;)&nbsp;&nbsp;.setView(img)&nbsp;&nbsp;.setPositiveButton(&quot;确定&quot;&nbsp;,&nbsp;&nbsp;null&nbsp;)&nbsp;&nbsp;.show();</pre><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\">效果如下：</p><p style=\"margin-top: 0px; margin-bottom: 4px; padding: 0px; border: 0px; outline: 0px; font-family: &#39;Droid serif&#39;, serif; font-size: 14px; line-height: 24px; word-wrap: break-word; clear: both; color: rgb(102, 102, 102); white-space: normal;\"><img src=\"http://images.dwtedx.com/20140505170257_35213.jpg\" alt=\"图片对话框\" style=\"margin: 0px; padding: 4px; border: 0px; outline: 0px; font-family: inherit; font-size: inherit; font-style: inherit; font-variant-caps: inherit; line-height: inherit; word-wrap: break-word; background-color: rgb(251, 251, 251); width: 330px;\"/></p><p><br/></p>','2017-09-02 17:58:32','2017-09-03 02:23:17'),(857,'27.44.10.110',5,'安卓MD5','<pre class=\"brush:java;toolbar:false\">package&nbsp;ext.file;\r\n\r\nimport&nbsp;android.util.Log;\r\n\r\nimport&nbsp;java.io.File;\r\nimport&nbsp;java.io.FileInputStream;\r\nimport&nbsp;java.io.IOException;\r\nimport&nbsp;java.nio.MappedByteBuffer;\r\nimport&nbsp;java.nio.channels.FileChannel;\r\nimport&nbsp;java.security.MessageDigest;\r\nimport&nbsp;java.security.NoSuchAlgorithmException;\r\n\r\npublic&nbsp;class&nbsp;MD5File&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;static&nbsp;char&nbsp;hexDigits[]&nbsp;=&nbsp;{&nbsp;&#39;0&#39;,&nbsp;&#39;1&#39;,&nbsp;&#39;2&#39;,&nbsp;&#39;3&#39;,&nbsp;&#39;4&#39;,&nbsp;&#39;5&#39;,&nbsp;&#39;6&#39;,&#39;7&#39;,&nbsp;&#39;8&#39;,&nbsp;&#39;9&#39;,&nbsp;&#39;a&#39;,&nbsp;&#39;b&#39;,&nbsp;&#39;c&#39;,&nbsp;&#39;d&#39;,&nbsp;&#39;e&#39;,&nbsp;&#39;f&#39;&nbsp;};\r\n&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;static&nbsp;MessageDigest&nbsp;messagedigest&nbsp;=&nbsp;null;\r\n&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;messagedigest&nbsp;=&nbsp;MessageDigest.getInstance(&quot;MD5&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;catch&nbsp;(NoSuchAlgorithmException&nbsp;e)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log.v(&quot;MD5FileUtil&nbsp;messagedigest初始化失败&quot;,&nbsp;e.getMessage());\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;String&nbsp;getFileMD5String(File&nbsp;file)&nbsp;throws&nbsp;IOException&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileInputStream&nbsp;in&nbsp;=&nbsp;new&nbsp;FileInputStream(file);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileChannel&nbsp;ch&nbsp;=&nbsp;in.getChannel();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MappedByteBuffer&nbsp;byteBuffer&nbsp;=&nbsp;ch.map(FileChannel.MapMode.READ_ONLY,&nbsp;0,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.length());\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;messagedigest.update(byteBuffer);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;bufferToHex(messagedigest.digest());\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;String&nbsp;getMD5String(String&nbsp;s)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;getMD5String(s.getBytes());\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;String&nbsp;getMD5String(byte[]&nbsp;bytes)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;messagedigest.update(bytes);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;bufferToHex(messagedigest.digest());\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;static&nbsp;String&nbsp;bufferToHex(byte&nbsp;bytes[])&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;bufferToHex(bytes,&nbsp;0,&nbsp;bytes.length);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;static&nbsp;String&nbsp;bufferToHex(byte&nbsp;bytes[],&nbsp;int&nbsp;m,&nbsp;int&nbsp;n)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StringBuffer&nbsp;stringbuffer&nbsp;=&nbsp;new&nbsp;StringBuffer(2&nbsp;*&nbsp;n);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;k&nbsp;=&nbsp;m&nbsp;+&nbsp;n;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;l&nbsp;=&nbsp;m;&nbsp;l&nbsp;&lt;&nbsp;k;&nbsp;l++)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;appendHexPair(bytes[l],&nbsp;stringbuffer);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;stringbuffer.toString();\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;static&nbsp;void&nbsp;appendHexPair(byte&nbsp;bt,&nbsp;StringBuffer&nbsp;stringbuffer)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;c0&nbsp;=&nbsp;hexDigits[(bt&nbsp;&amp;&nbsp;0xf0)&nbsp;&gt;&gt;&nbsp;4];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;c1&nbsp;=&nbsp;hexDigits[bt&nbsp;&amp;&nbsp;0xf];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stringbuffer.append(c0);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stringbuffer.append(c1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;boolean&nbsp;checkPassword(String&nbsp;password,&nbsp;String&nbsp;md5PwdStr)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;s&nbsp;=&nbsp;getMD5String(password);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;s.equals(md5PwdStr);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}</pre><p><br/></p>','2017-09-09 10:23:14','2017-09-09 18:23:14'),(858,'27.44.10.110',34,'安装Homebrew','<pre style=\"margin-top: 0px; margin-bottom: 0.9em; background-color: rgba(0, 0, 0, 0.298039); color: rgb(255, 255, 255); padding: 8px 10px; border-top-left-radius: 0.4em; border-top-right-radius: 0.4em; border-bottom-right-radius: 0.4em; border-bottom-left-radius: 0.4em; overflow-x: auto; clear: both; text-align: center;\">/usr/bin/ruby&nbsp;-e&nbsp;&quot;$(curl&nbsp;-fsSL&nbsp;https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;</pre><p><br/></p>','2017-09-09 21:39:44','2017-09-10 05:39:44'),(859,'27.44.10.110',34,'安装ADB工具','<h1 style=\"margin: 0px 0px 1em; padding: 0px; border: 0px; font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif; font-size: 21px; line-height: 1.3; vertical-align: baseline; word-wrap: break-word; color: rgb(36, 39, 41); white-space: normal;\">Option 1 - Using Homebrew</h1><p style=\"margin-top: 0px; margin-bottom: 1em; padding: 0px; border: 0px; font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif; font-size: 15px; line-height: inherit; vertical-align: baseline; clear: both; color: rgb(36, 39, 41); white-space: normal;\">This is the easiest way and will provide automatic updates.</p><ol style=\"margin-bottom: 1em; margin-left: 30px; padding: 0px; border: 0px; font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif; font-size: 15px; line-height: inherit; vertical-align: baseline; list-style-position: initial; list-style-image: initial; color: rgb(36, 39, 41); white-space: normal;\" class=\" list-paddingleft-2\"><li><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; border: 0px; font-family: inherit; font-size: inherit; font-style: inherit; font-variant-caps: inherit; line-height: inherit; vertical-align: baseline; clear: both;\">Install&nbsp;<a href=\"http://brew.sh/\" rel=\"noreferrer\" style=\"margin: 0px; padding: 0px; border: 0px; font-family: inherit; font-size: inherit; font-style: inherit; font-variant-caps: inherit; line-height: inherit; vertical-align: baseline; color: rgb(0, 89, 153); text-decoration: none; cursor: pointer;\">homebrew</a></p><pre style=\"margin-bottom: 1em; padding: 5px; border: 0px; font-family: Consolas, Menlo, Monaco, &#39;Lucida Console&#39;, &#39;Liberation Mono&#39;, &#39;DejaVu Sans Mono&#39;, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, monospace, sans-serif; font-size: 13px; font-style: inherit; font-variant-caps: inherit; line-height: inherit; vertical-align: baseline; width: auto; max-height: 600px; overflow: auto; background-color: rgb(239, 240, 241); word-wrap: normal;\">ruby&nbsp;-e&nbsp;&quot;$(curl&nbsp;-fsSL&nbsp;https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;</pre></li><li><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; border: 0px; font-family: inherit; font-size: inherit; font-style: inherit; font-variant-caps: inherit; line-height: inherit; vertical-align: baseline; clear: both;\">Install adb&nbsp;</p><pre style=\"margin-bottom: 1em; padding: 5px; border: 0px; font-family: Consolas, Menlo, Monaco, &#39;Lucida Console&#39;, &#39;Liberation Mono&#39;, &#39;DejaVu Sans Mono&#39;, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, monospace, sans-serif; font-size: 13px; font-style: inherit; font-variant-caps: inherit; line-height: inherit; vertical-align: baseline; width: auto; max-height: 600px; overflow: auto; background-color: rgb(239, 240, 241); word-wrap: normal;\">brew&nbsp;install&nbsp;android-sdk</pre></li><li><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; border: 0px; font-family: inherit; font-size: inherit; font-style: inherit; font-variant-caps: inherit; line-height: inherit; vertical-align: baseline; clear: both;\">Start using adb</p><pre style=\"margin-bottom: 1em; padding: 5px; border: 0px; font-family: Consolas, Menlo, Monaco, &#39;Lucida Console&#39;, &#39;Liberation Mono&#39;, &#39;DejaVu Sans Mono&#39;, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, monospace, sans-serif; font-size: 13px; font-style: inherit; font-variant-caps: inherit; line-height: inherit; vertical-align: baseline; width: auto; max-height: 600px; overflow: auto; background-color: rgb(239, 240, 241); word-wrap: normal;\">adb&nbsp;devices</pre><p><code style=\"margin: 0px; padding: 0px; border: 0px; font-family: Consolas, Menlo, Monaco, &#39;Lucida Console&#39;, &#39;Liberation Mono&#39;, &#39;DejaVu Sans Mono&#39;, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, monospace, sans-serif; font-style: inherit; font-variant-caps: inherit; line-height: inherit; vertical-align: baseline; white-space: inherit;\"><br/></code></p></li></ol><p><br/></p>','2017-09-09 21:43:14','2017-09-10 06:03:26'),(860,'27.44.202.78',3,'获取文件MD5值','<p>头文件<br/></p><pre class=\"brush:cpp;toolbar:false\">//\r\n//&nbsp;&nbsp;MD5File.m\r\n//&nbsp;&nbsp;home\r\n//\r\n//&nbsp;&nbsp;Created&nbsp;by&nbsp;Han.zh&nbsp;on&nbsp;2017/9/11.\r\n//&nbsp;&nbsp;Copyright&nbsp;©&nbsp;2017年&nbsp;Han.zhihong.&nbsp;All&nbsp;rights&nbsp;reserved.\r\n//\r\n\r\n#import&nbsp;&lt;Foundation/Foundation.h&gt;\r\n\r\n#define&nbsp;FileHashDefaultChunkSizeForReadingData&nbsp;1024*8\r\n#include&nbsp;&lt;CommonCrypto/CommonDigest.h&gt;\r\n\r\n@interface&nbsp;MD5File&nbsp;:&nbsp;NSObject\r\n\r\n+(NSString*)getFileMD5WithPath:(NSString*)path;\r\n\r\n@end</pre><p><br/></p><p>代码</p><pre class=\"brush:cpp;toolbar:false\">//\r\n//&nbsp;&nbsp;MD5File.m\r\n//\r\n\r\n#import&nbsp;&quot;MD5File.h&quot;\r\n\r\n@implementation&nbsp;MD5File\r\n\r\n+(NSString*)getFileMD5WithPath:(NSString*)path\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(__bridge_transfer&nbsp;NSString&nbsp;*)FileMD5HashCreateWithPath((__bridge&nbsp;CFStringRef)path,&nbsp;FileHashDefaultChunkSizeForReadingData);\r\n}\r\n\r\nCFStringRef&nbsp;FileMD5HashCreateWithPath(CFStringRef&nbsp;filePath,size_t&nbsp;chunkSizeForReadingData)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Declare&nbsp;needed&nbsp;variables\r\n&nbsp;&nbsp;&nbsp;&nbsp;CFStringRef&nbsp;result&nbsp;=&nbsp;NULL;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CFReadStreamRef&nbsp;readStream&nbsp;=&nbsp;NULL;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Get&nbsp;the&nbsp;file&nbsp;URL\r\n&nbsp;&nbsp;&nbsp;&nbsp;CFURLRef&nbsp;fileURL&nbsp;=\r\n&nbsp;&nbsp;&nbsp;&nbsp;CFURLCreateWithFileSystemPath(kCFAllocatorDefault,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(CFStringRef)filePath,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;kCFURLPOSIXPathStyle,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Boolean)false);\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!fileURL)&nbsp;goto&nbsp;done;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Create&nbsp;and&nbsp;open&nbsp;the&nbsp;read&nbsp;stream\r\n&nbsp;&nbsp;&nbsp;&nbsp;readStream&nbsp;=&nbsp;CFReadStreamCreateWithFile(kCFAllocatorDefault,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(CFURLRef)fileURL);\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!readStream)&nbsp;goto&nbsp;done;\r\n&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;didSucceed&nbsp;=&nbsp;(bool)CFReadStreamOpen(readStream);\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!didSucceed)&nbsp;goto&nbsp;done;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Initialize&nbsp;the&nbsp;hash&nbsp;object\r\n&nbsp;&nbsp;&nbsp;&nbsp;CC_MD5_CTX&nbsp;hashObject;\r\n&nbsp;&nbsp;&nbsp;&nbsp;CC_MD5_Init(&amp;hashObject);\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Make&nbsp;sure&nbsp;chunkSizeForReadingData&nbsp;is&nbsp;valid\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!chunkSizeForReadingData)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chunkSizeForReadingData&nbsp;=&nbsp;FileHashDefaultChunkSizeForReadingData;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Feed&nbsp;the&nbsp;data&nbsp;to&nbsp;the&nbsp;hash&nbsp;object\r\n&nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;hasMoreData&nbsp;=&nbsp;true;\r\n&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(hasMoreData)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint8_t&nbsp;buffer[chunkSizeForReadingData];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CFIndex&nbsp;readBytesCount&nbsp;=&nbsp;CFReadStreamRead(readStream,(UInt8&nbsp;*)buffer,(CFIndex)sizeof(buffer));\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(readBytesCount&nbsp;==&nbsp;-1)&nbsp;break;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(readBytesCount&nbsp;==&nbsp;0)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hasMoreData&nbsp;=&nbsp;false;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CC_MD5_Update(&amp;hashObject,(const&nbsp;void&nbsp;*)buffer,(CC_LONG)readBytesCount);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Check&nbsp;if&nbsp;the&nbsp;read&nbsp;operation&nbsp;succeeded\r\n&nbsp;&nbsp;&nbsp;&nbsp;didSucceed&nbsp;=&nbsp;!hasMoreData;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Compute&nbsp;the&nbsp;hash&nbsp;digest\r\n&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;char&nbsp;digest[CC_MD5_DIGEST_LENGTH];\r\n&nbsp;&nbsp;&nbsp;&nbsp;CC_MD5_Final(digest,&nbsp;&amp;hashObject);\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Abort&nbsp;if&nbsp;the&nbsp;read&nbsp;operation&nbsp;failed\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!didSucceed)&nbsp;goto&nbsp;done;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Compute&nbsp;the&nbsp;string&nbsp;result\r\n&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;hash[2&nbsp;*&nbsp;sizeof(digest)&nbsp;+&nbsp;1];\r\n&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(size_t&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;sizeof(digest);&nbsp;++i)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;snprintf(hash&nbsp;+&nbsp;(2&nbsp;*&nbsp;i),&nbsp;3,&nbsp;&quot;%02x&quot;,&nbsp;(int)(digest[i]));\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;CFStringCreateWithCString(kCFAllocatorDefault,(const&nbsp;char&nbsp;*)hash,kCFStringEncodingUTF8);\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\ndone:\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(readStream)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CFReadStreamClose(readStream);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CFRelease(readStream);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(fileURL)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CFRelease(fileURL);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result;\r\n}\r\n\r\n@end</pre><p><br/></p>','2017-09-10 21:32:16','2017-09-11 05:32:16'),(861,'27.44.200.112',0,'下载网络图片','<pre class=\"brush:cpp;toolbar:false\">NSMutableData*&nbsp;imageData;\r\nimageData=[[NSMutableData&nbsp;alloc]&nbsp;init];\r\n\r\n\r\n//--------------------------------------\r\n//下载图片\r\n-&nbsp;(void)loadImage:(NSString*)url_str\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;NSURL&nbsp;*url&nbsp;=&nbsp;[NSURL&nbsp;URLWithString:url_str];\r\n&nbsp;&nbsp;&nbsp;&nbsp;NSMutableURLRequest&nbsp;*request&nbsp;=&nbsp;[[NSMutableURLRequest&nbsp;alloc]&nbsp;init];\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;[request&nbsp;setURL:url];\r\n&nbsp;&nbsp;&nbsp;&nbsp;[request&nbsp;setHTTPMethod:@&quot;GET&quot;];&nbsp;//设置请求方式\r\n&nbsp;&nbsp;&nbsp;&nbsp;[request&nbsp;setTimeoutInterval:60];//设置超时时间\r\n&nbsp;&nbsp;&nbsp;&nbsp;[NSURLConnection&nbsp;connectionWithRequest:request&nbsp;delegate:self];//发送一个异步请求\r\n&nbsp;&nbsp;&nbsp;&nbsp;[imageData&nbsp;resetBytesInRange:NSMakeRange(0,&nbsp;[imageData&nbsp;length])];\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n}\r\n\r\n\r\n#pragma&nbsp;mark&nbsp;-&nbsp;NSURLConnection&nbsp;delegate\r\n\r\n//数据加载过程中调用,获取数据\r\n-&nbsp;(void)connection:(NSURLConnection&nbsp;*)connection&nbsp;didReceiveData:(NSData&nbsp;*)data&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;[imageData&nbsp;appendData:data];\r\n}\r\n\r\n//数据加载完成后调用\r\n-&nbsp;(void)connectionDidFinishLoading:(NSURLConnection&nbsp;*)connection&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;//图片数据\r\n&nbsp;&nbsp;&nbsp;&nbsp;NSString*&nbsp;userid=[LoginInfo&nbsp;get:@&quot;userid&quot;];\r\n&nbsp;&nbsp;&nbsp;&nbsp;if(userid)\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//判断是否为图片数据\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UIImage*img=[UIImage&nbsp;imageWithData:imageData];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(img)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//写入到文件\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//NSString*stricon=[GlobalParameter&nbsp;createUserIconLocalPath:userid];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//[imageData&nbsp;writeToFile:stricon&nbsp;atomically:YES];\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;imgIcon.image=img;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}\r\n-&nbsp;(void)connection:(NSURLConnection&nbsp;*)connection&nbsp;didFailWithError:(NSError&nbsp;*)error&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;NSLog(@&quot;请求网络失败:%@&quot;,error);\r\n&nbsp;&nbsp;&nbsp;&nbsp;\r\n}</pre><p><br/></p>','2017-09-18 05:45:21','2017-09-18 13:45:21'),(862,'27.44.26.5',5,'真机输出日志','<p style=\"padding: 0px; font-family: Arial; font-size: 14px; white-space: normal; line-height: 21px;\">//-----------------------------</p><p style=\"padding: 0px; font-family: Arial; font-size: 14px; white-space: normal; line-height: 21px;\"><span style=\"font-size: 20px;\"><strong><span style=\"font-family: Arial;\">华为手机</span></strong></span></p><p style=\"padding: 0px; font-family: Arial; font-size: 14px; white-space: normal; line-height: 21px;\">需要打开华为手机的相关Log开关，具体步骤如下：</p><p>1. &nbsp; 进入拨号界面输入：*#*#2846579#*#*<br/>2. &nbsp; 依次选择ProjectMenu---后台设置----LOG设置---LOG开关 点击打开, 然后在LOG级别选VERBOSE<br/>3、 重新启动手机</p><p><br/></p>','2017-09-20 11:07:45','2017-09-20 19:07:45'),(863,'27.44.26.5',5,'Android图片二进制与Bitmap、Drawable之间的转换','<pre class=\"brush:java;toolbar:false\">public&nbsp;byte[]&nbsp;getBitmapByte(Bitmap&nbsp;bitmap){&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;ByteArrayOutputStream&nbsp;out&nbsp;=&nbsp;new&nbsp;ByteArrayOutputStream();&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;bitmap.compress(Bitmap.CompressFormat.JPEG,&nbsp;100,&nbsp;out);&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;try&nbsp;{&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out.flush();&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out.close();&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;}&nbsp;catch&nbsp;(IOException&nbsp;e)&nbsp;{&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.printStackTrace();&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;return&nbsp;out.toByteArray();&nbsp;&nbsp;&nbsp;\r\n}&nbsp;&nbsp;&nbsp;\r\n\r\n\r\npublic&nbsp;Bitmap&nbsp;getBitmapFromByte(byte[]&nbsp;temp){&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;if(temp&nbsp;!=&nbsp;null){&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Bitmap&nbsp;bitmap&nbsp;=&nbsp;BitmapFactory.decodeByteArray(temp,&nbsp;0,&nbsp;temp.length);&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;bitmap;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;}else{&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;null;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;\r\n}&nbsp;&nbsp;\r\n\r\n\r\npublic&nbsp;static&nbsp;Bitmap&nbsp;drawableToBitmap(Drawable&nbsp;drawable){&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;width&nbsp;=&nbsp;drawable.getIntrinsicWidth();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;height&nbsp;=&nbsp;drawable.getIntrinsicHeight();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Bitmap&nbsp;bitmap&nbsp;=&nbsp;Bitmap.createBitmap(width,&nbsp;height,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;drawable.getOpacity()&nbsp;!=&nbsp;PixelFormat.OPAQUE&nbsp;?&nbsp;Bitmap.Config.ARGB_8888&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;Bitmap.Config.RGB_565);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Canvas&nbsp;canvas&nbsp;=&nbsp;new&nbsp;Canvas(bitmap);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;drawable.setBounds(0,0,width,height);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;drawable.draw(canvas);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;bitmap;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</pre><p><br/></p>','2017-09-21 06:42:21','2017-09-21 14:42:21');
/*!40000 ALTER TABLE `tbnote` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `typeone`
--

DROP TABLE IF EXISTS `typeone`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `typeone` (
  `autoid` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `type_text` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`autoid`)
) ENGINE=InnoDB AUTO_INCREMENT=44 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `typeone`
--

LOCK TABLES `typeone` WRITE;
/*!40000 ALTER TABLE `typeone` DISABLE KEYS */;
INSERT INTO `typeone` VALUES (1,'软件'),(18,'硬件'),(32,'技术文章'),(38,'医学'),(42,'材料学'),(43,'数据库');
/*!40000 ALTER TABLE `typeone` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `typetwo`
--

DROP TABLE IF EXISTS `typetwo`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `typetwo` (
  `autoid` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `typeone_id` bigint(20) DEFAULT NULL,
  `type_text` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`autoid`)
) ENGINE=InnoDB AUTO_INCREMENT=79 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `typetwo`
--

LOCK TABLES `typetwo` WRITE;
/*!40000 ALTER TABLE `typetwo` DISABLE KEYS */;
INSERT INTO `typetwo` VALUES (1,1,'MFC'),(2,1,'C/C++'),(3,1,'iPhone'),(5,1,'Android'),(18,1,'php'),(19,32,'unix/linux嵌入式'),(20,1,'vbs'),(21,43,'mysql'),(22,1,'opengl'),(23,1,'html/js'),(24,1,'协议/公式算法'),(25,18,'stm32'),(26,18,'stm8s'),(27,1,'java'),(28,18,'常用芯片'),(29,18,'外设器件'),(31,32,'电脑相关'),(34,1,'Mac'),(35,1,'ada'),(36,38,'普通病'),(38,18,'封装资料'),(41,18,'模电基础'),(42,42,'塑胶'),(64,18,'Erc32'),(65,32,'ubuntu系统'),(66,1,'webapp'),(67,1,'ios越狱开发'),(68,32,'安卓系统'),(69,18,'ESP8266'),(70,32,'Mac系统'),(71,1,'iphone-swift'),(72,32,'弱电工程'),(73,18,'stm8L'),(74,42,'种植'),(75,1,'黑客'),(76,32,'CentOS'),(77,43,'sqlite'),(78,1,'android-Root开发');
/*!40000 ALTER TABLE `typetwo` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2017-09-23  2:32:23
